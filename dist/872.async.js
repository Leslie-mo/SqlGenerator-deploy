(self.webpackChunk=self.webpackChunk||[]).push([[872],{31285:function(){"use strict"},60812:function(){"use strict"},5520:function(){"use strict"},49288:function(Ot,Te,i){"use strict";var w=i(87462),r=i(71002),O=i(29439),V=i(94184),D=i.n(V),$=i(50344),M=i(98423),P=i(62435),A=i(53124),L=i(34041),c=i(96159),p=L.Z.Option;function l(g){return g&&g.type&&(g.type.isSelectOption||g.type.isSelectOptGroup)}var n=function(f,u){var C=f.prefixCls,y=f.className,b=f.popupClassName,_=f.dropdownClassName,E=f.children,I=f.dataSource,R=(0,$.Z)(E),J;if(R.length===1&&(0,c.l$)(R[0])&&!l(R[0])){var Q=(0,O.Z)(R,1);J=Q[0]}var U=J?function(){return J}:void 0,K;return R.length&&l(R[0])?K=E:K=I?I.map(function(H){if((0,c.l$)(H))return H;switch((0,r.Z)(H)){case"string":return P.createElement(p,{key:H,value:H},H);case"object":{var X=H.value;return P.createElement(p,{key:X,value:X},H.text)}default:return}}):[],P.createElement(A.C,null,function(H){var X=H.getPrefixCls,j=X("select",C);return P.createElement(L.Z,(0,w.Z)({ref:u},(0,M.Z)(f,["dataSource"]),{prefixCls:j,dropdownClassName:b||_,className:D()("".concat(j,"-auto-complete"),y),mode:L.Z.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:U}),K)})},a=P.forwardRef(n);a.Option=p,Te.Z=a},44057:function(Ot,Te,i){"use strict";var w=i(87462),r=i(4942),O=i(29439),V=i(55934),D=i(94184),$=i.n(D),M=i(63441),P=i(64019),A=i(21770),L=i(98423),c=i(62435),p=i(53124),l=i(66367),n=i(96159),a=i(66148),g=i(48783),f=function(y){var b=y.prefixCls,_=y.rootPrefixCls,E=y.children,I=y.visible,R=c.createElement("div",{className:"".concat(b,"-content")},c.createElement("div",{className:"".concat(b,"-icon")},c.createElement(V.Z,null)));return c.createElement(M.Z,{visible:I,motionName:"".concat(_,"-fade")},function(J){var Q=J.className;return(0,n.Tm)(E||R,function(U){var K=U.className;return{className:$()(Q,K)}})})},u=function(y){var b=(0,A.Z)(!1,{value:y.visible}),_=(0,O.Z)(b,2),E=_[0],I=_[1],R=c.createRef(),J=c.useRef(),Q=function(){return R.current&&R.current.ownerDocument?R.current.ownerDocument:window},U=(0,g.t)(function(Ce){var ge=y.visibilityHeight,pe=ge===void 0?400:ge,ee=(0,l.Z)(Ce.target,!0);I(ee>pe)}),K=function(){var ge=y.target,pe=ge||Q,ee=pe();J.current=(0,P.Z)(ee,"scroll",function(se){U(se)}),U({target:ee})};c.useEffect(function(){return K(),function(){J.current&&J.current.remove(),U.cancel()}},[y.target]);var H=function(ge){var pe=y.onClick,ee=y.target,se=y.duration,ne=se===void 0?450:se;(0,a.Z)(0,{getContainer:ee||Q,duration:ne}),typeof pe=="function"&&pe(ge)},X=c.useContext(p.E_),j=X.getPrefixCls,x=X.direction,Z=y.prefixCls,T=y.className,z=T===void 0?"":T,G=j("back-top",Z),re=j(),S=$()(G,(0,r.Z)({},"".concat(G,"-rtl"),x==="rtl"),z),he=(0,L.Z)(y,["prefixCls","className","children","visibilityHeight","target","visible"]);return c.createElement("div",(0,w.Z)({},he,{className:S,onClick:H,ref:R}),c.createElement(f,{prefixCls:G,rootPrefixCls:re,visible:E},y.children))};Te.Z=c.memo(u)},27279:function(Ot,Te,i){"use strict";i.d(Te,{Z:function(){return T}});var w=i(87462),r=i(4942),O=i(8812),V=i(94184),D=i.n(V),$=i(93433),M=i(15671),P=i(43144),A=i(79340),L=i(98557),c=i(71002),p=i(62435),l=i(96774),n=i.n(l),a=i(50344),g=i(63441),f=i(29439),u=p.forwardRef(function(z,G){var re,S=z.prefixCls,he=z.forceRender,Ce=z.className,ge=z.style,pe=z.children,ee=z.isActive,se=z.role,ne=p.useState(ee||he),oe=(0,f.Z)(ne,2),Se=oe[0],Ee=oe[1];return p.useEffect(function(){(he||ee)&&Ee(!0)},[he,ee]),Se?p.createElement("div",{ref:G,className:D()("".concat(S,"-content"),(re={},(0,r.Z)(re,"".concat(S,"-content-active"),ee),(0,r.Z)(re,"".concat(S,"-content-inactive"),!ee),re),Ce),style:ge,role:se},p.createElement("div",{className:"".concat(S,"-content-box")},pe)):null});u.displayName="PanelContent";var C=u,y=function(z){(0,A.Z)(re,z);var G=(0,L.Z)(re);function re(){var S;(0,M.Z)(this,re);for(var he=arguments.length,Ce=new Array(he),ge=0;ge<he;ge++)Ce[ge]=arguments[ge];return S=G.call.apply(G,[this].concat(Ce)),S.onItemClick=function(){var pe=S.props,ee=pe.onItemClick,se=pe.panelKey;typeof ee=="function"&&ee(se)},S.handleKeyPress=function(pe){(pe.key==="Enter"||pe.keyCode===13||pe.which===13)&&S.onItemClick()},S.renderIcon=function(){var pe=S.props,ee=pe.showArrow,se=pe.expandIcon,ne=pe.prefixCls,oe=pe.collapsible;if(!ee)return null;var Se=typeof se=="function"?se(S.props):p.createElement("i",{className:"arrow"});return Se&&p.createElement("div",{className:"".concat(ne,"-expand-icon"),onClick:oe==="header"?S.onItemClick:null},Se)},S.renderTitle=function(){var pe=S.props,ee=pe.header,se=pe.prefixCls,ne=pe.collapsible;return p.createElement("span",{className:"".concat(se,"-header-text"),onClick:ne==="header"?S.onItemClick:null},ee)},S}return(0,P.Z)(re,[{key:"shouldComponentUpdate",value:function(he){return!n()(this.props,he)}},{key:"render",value:function(){var he,Ce,ge=this.props,pe=ge.className,ee=ge.id,se=ge.style,ne=ge.prefixCls,oe=ge.headerClass,Se=ge.children,Ee=ge.isActive,Me=ge.destroyInactivePanel,ye=ge.accordion,le=ge.forceRender,ie=ge.openMotion,ve=ge.extra,xe=ge.collapsible,Ye=xe==="disabled",at=xe==="header",qe=D()((he={},(0,r.Z)(he,"".concat(ne,"-item"),!0),(0,r.Z)(he,"".concat(ne,"-item-active"),Ee),(0,r.Z)(he,"".concat(ne,"-item-disabled"),Ye),he),pe),Re=D()("".concat(ne,"-header"),(Ce={},(0,r.Z)(Ce,oe,oe),(0,r.Z)(Ce,"".concat(ne,"-header-collapsible-only"),at),Ce)),Je={className:Re,"aria-expanded":Ee,"aria-disabled":Ye,onKeyPress:this.handleKeyPress};at||(Je.onClick=this.onItemClick,Je.role=ye?"tab":"button",Je.tabIndex=Ye?-1:0);var st=ve!=null&&typeof ve!="boolean";return p.createElement("div",{className:qe,style:se,id:ee},p.createElement("div",Je,this.renderIcon(),this.renderTitle(),st&&p.createElement("div",{className:"".concat(ne,"-extra")},ve)),p.createElement(g.Z,(0,w.Z)({visible:Ee,leavedClassName:"".concat(ne,"-content-hidden")},ie,{forceRender:le,removeOnLeave:Me}),function(et,we){var Ne=et.className,de=et.style;return p.createElement(C,{ref:we,prefixCls:ne,className:Ne,style:de,isActive:Ee,forceRender:le,role:ye?"tabpanel":null},Se)}))}}]),re}(p.Component);y.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var b=y;function _(z){var G=z;if(!Array.isArray(G)){var re=(0,c.Z)(G);G=re==="number"||re==="string"?[G]:[]}return G.map(function(S){return String(S)})}var E=function(z){(0,A.Z)(re,z);var G=(0,L.Z)(re);function re(S){var he;(0,M.Z)(this,re),he=G.call(this,S),he.onClickItem=function(ee){var se=he.state.activeKey;if(he.props.accordion)se=se[0]===ee?[]:[ee];else{se=(0,$.Z)(se);var ne=se.indexOf(ee),oe=ne>-1;oe?se.splice(ne,1):se.push(ee)}he.setActiveKey(se)},he.getNewChild=function(ee,se){if(!ee)return null;var ne=he.state.activeKey,oe=he.props,Se=oe.prefixCls,Ee=oe.openMotion,Me=oe.accordion,ye=oe.destroyInactivePanel,le=oe.expandIcon,ie=oe.collapsible,ve=ee.key||String(se),xe=ee.props,Ye=xe.header,at=xe.headerClass,qe=xe.destroyInactivePanel,Re=xe.collapsible,Je=!1;Me?Je=ne[0]===ve:Je=ne.indexOf(ve)>-1;var st=Re??ie,et={key:ve,panelKey:ve,header:Ye,headerClass:at,isActive:Je,prefixCls:Se,destroyInactivePanel:qe??ye,openMotion:Ee,accordion:Me,children:ee.props.children,onItemClick:st==="disabled"?null:he.onClickItem,expandIcon:le,collapsible:st};return typeof ee.type=="string"?ee:(Object.keys(et).forEach(function(we){typeof et[we]>"u"&&delete et[we]}),p.cloneElement(ee,et))},he.getItems=function(){var ee=he.props.children;return(0,a.Z)(ee).map(he.getNewChild)},he.setActiveKey=function(ee){"activeKey"in he.props||he.setState({activeKey:ee}),he.props.onChange(he.props.accordion?ee[0]:ee)};var Ce=S.activeKey,ge=S.defaultActiveKey,pe=ge;return"activeKey"in S&&(pe=Ce),he.state={activeKey:_(pe)},he}return(0,P.Z)(re,[{key:"shouldComponentUpdate",value:function(he,Ce){return!n()(this.props,he)||!n()(this.state,Ce)}},{key:"render",value:function(){var he,Ce=this.props,ge=Ce.prefixCls,pe=Ce.className,ee=Ce.style,se=Ce.accordion,ne=D()((he={},(0,r.Z)(he,ge,!0),(0,r.Z)(he,pe,!!pe),he));return p.createElement("div",{className:ne,style:ee,role:se?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(he){var Ce={};return"activeKey"in he&&(Ce.activeKey=_(he.activeKey)),Ce}}]),re}(p.Component);E.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},E.Panel=b;var I=E,R=I,J=I.Panel,Q=i(98423),U=i(53124),K=i(33603),H=i(96159),X=function(G){var re=p.useContext(U.E_),S=re.getPrefixCls,he=G.prefixCls,Ce=G.className,ge=Ce===void 0?"":Ce,pe=G.showArrow,ee=pe===void 0?!0:pe,se=S("collapse",he),ne=D()((0,r.Z)({},"".concat(se,"-no-arrow"),!ee),ge);return p.createElement(R.Panel,(0,w.Z)({},G,{prefixCls:se,className:ne}))},j=X,x=function(G){var re,S=p.useContext(U.E_),he=S.getPrefixCls,Ce=S.direction,ge=G.prefixCls,pe=G.className,ee=pe===void 0?"":pe,se=G.bordered,ne=se===void 0?!0:se,oe=G.ghost,Se=G.expandIconPosition,Ee=Se===void 0?"start":Se,Me=he("collapse",ge),ye=p.useMemo(function(){return Ee==="left"?"start":Ee==="right"?"end":Ee},[Ee]),le=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},qe=G.expandIcon,Re=qe?qe(at):p.createElement(O.Z,{rotate:at.isActive?90:void 0});return(0,H.Tm)(Re,function(){return{className:D()(Re.props.className,"".concat(Me,"-arrow"))}})},ie=D()("".concat(Me,"-icon-position-").concat(ye),(re={},(0,r.Z)(re,"".concat(Me,"-borderless"),!ne),(0,r.Z)(re,"".concat(Me,"-rtl"),Ce==="rtl"),(0,r.Z)(re,"".concat(Me,"-ghost"),!!oe),re),ee),ve=(0,w.Z)((0,w.Z)({},K.ZP),{motionAppear:!1,leavedClassName:"".concat(Me,"-content-hidden")}),xe=function(){var at=G.children;return(0,a.Z)(at).map(function(qe,Re){var Je;if(!((Je=qe.props)===null||Je===void 0)&&Je.disabled){var st=qe.key||String(Re),et=qe.props,we=et.disabled,Ne=et.collapsible,de=(0,w.Z)((0,w.Z)({},(0,Q.Z)(qe.props,["disabled"])),{key:st,collapsible:Ne??(we?"disabled":void 0)});return(0,H.Tm)(qe,de)}return qe})};return p.createElement(R,(0,w.Z)({openMotion:ve},G,{expandIcon:le,prefixCls:Me,className:ie}),xe())};x.Panel=j;var Z=x,T=Z},38272:function(Ot,Te,i){"use strict";i.d(Te,{ZM:function(){return I},ZP:function(){return Q}});var w=i(93433),r=i(87462),O=i(4942),V=i(29439),D=i(71002),$=i(94184),M=i.n($),P=i(62435),A=i(53124),L=i(88258),c=i(92820),p=i(25378),l=i(23492),n=i(11382),a=i(24308),g=i(21584),f=i(96159),u=function(U,K){var H={};for(var X in U)Object.prototype.hasOwnProperty.call(U,X)&&K.indexOf(X)<0&&(H[X]=U[X]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,X=Object.getOwnPropertySymbols(U);j<X.length;j++)K.indexOf(X[j])<0&&Object.prototype.propertyIsEnumerable.call(U,X[j])&&(H[X[j]]=U[X[j]]);return H},C=function(K){var H=K.prefixCls,X=K.className,j=K.avatar,x=K.title,Z=K.description,T=u(K,["prefixCls","className","avatar","title","description"]),z=(0,P.useContext)(A.E_),G=z.getPrefixCls,re=G("list",H),S=M()("".concat(re,"-item-meta"),X),he=P.createElement("div",{className:"".concat(re,"-item-meta-content")},x&&P.createElement("h4",{className:"".concat(re,"-item-meta-title")},x),Z&&P.createElement("div",{className:"".concat(re,"-item-meta-description")},Z));return P.createElement("div",(0,r.Z)({},T,{className:S}),j&&P.createElement("div",{className:"".concat(re,"-item-meta-avatar")},j),(x||Z)&&he)},y=function(K,H){var X=K.prefixCls,j=K.children,x=K.actions,Z=K.extra,T=K.className,z=K.colStyle,G=u(K,["prefixCls","children","actions","extra","className","colStyle"]),re=(0,P.useContext)(I),S=re.grid,he=re.itemLayout,Ce=(0,P.useContext)(A.E_),ge=Ce.getPrefixCls,pe=function(){var Me;return P.Children.forEach(j,function(ye){typeof ye=="string"&&(Me=!0)}),Me&&P.Children.count(j)>1},ee=function(){return he==="vertical"?!!Z:!pe()},se=ge("list",X),ne=x&&x.length>0&&P.createElement("ul",{className:"".concat(se,"-item-action"),key:"actions"},x.map(function(Ee,Me){return P.createElement("li",{key:"".concat(se,"-item-action-").concat(Me)},Ee,Me!==x.length-1&&P.createElement("em",{className:"".concat(se,"-item-action-split")}))})),oe=S?"div":"li",Se=P.createElement(oe,(0,r.Z)({},G,S?{}:{ref:H},{className:M()("".concat(se,"-item"),(0,O.Z)({},"".concat(se,"-item-no-flex"),!ee()),T)}),he==="vertical"&&Z?[P.createElement("div",{className:"".concat(se,"-item-main"),key:"content"},j,ne),P.createElement("div",{className:"".concat(se,"-item-extra"),key:"extra"},Z)]:[j,ne,(0,f.Tm)(Z,{key:"extra"})]);return S?P.createElement(g.Z,{ref:H,flex:1,style:z},Se):Se},b=(0,P.forwardRef)(y);b.Meta=C;var _=b,E=function(U,K){var H={};for(var X in U)Object.prototype.hasOwnProperty.call(U,X)&&K.indexOf(X)<0&&(H[X]=U[X]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,X=Object.getOwnPropertySymbols(U);j<X.length;j++)K.indexOf(X[j])<0&&Object.prototype.propertyIsEnumerable.call(U,X[j])&&(H[X[j]]=U[X[j]]);return H},I=P.createContext({}),R=I.Consumer;function J(U){var K,H=U.pagination,X=H===void 0?!1:H,j=U.prefixCls,x=U.bordered,Z=x===void 0?!1:x,T=U.split,z=T===void 0?!0:T,G=U.className,re=U.children,S=U.itemLayout,he=U.loadMore,Ce=U.grid,ge=U.dataSource,pe=ge===void 0?[]:ge,ee=U.size,se=U.header,ne=U.footer,oe=U.loading,Se=oe===void 0?!1:oe,Ee=U.rowKey,Me=U.renderItem,ye=U.locale,le=E(U,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),ie=X&&(0,D.Z)(X)==="object"?X:{},ve=P.useState(ie.defaultCurrent||1),xe=(0,V.Z)(ve,2),Ye=xe[0],at=xe[1],qe=P.useState(ie.defaultPageSize||10),Re=(0,V.Z)(qe,2),Je=Re[0],st=Re[1],et=P.useContext(A.E_),we=et.getPrefixCls,Ne=et.renderEmpty,de=et.direction,Pe={current:1,total:0},He={},$e=function(nt){return function(be,Le){at(be),st(Le),X&&X[nt]&&X[nt](be,Le)}},me=$e("onChange"),Ie=$e("onShowSizeChange"),Ge=function(nt,be){if(!Me)return null;var Le;return typeof Ee=="function"?Le=Ee(nt):Ee?Le=nt[Ee]:Le=nt.key,Le||(Le="list-item-".concat(be)),He[be]=Le,Me(nt,be)},ft=function(){return!!(he||X||ne)},ze=function(nt,be){return P.createElement("div",{className:"".concat(nt,"-empty-text")},ye&&ye.emptyText||be("List"))},mt=we("list",j),wt=Se;typeof wt=="boolean"&&(wt={spinning:wt});var Oe=wt&&wt.spinning,lt="";switch(ee){case"large":lt="lg";break;case"small":lt="sm";break;default:break}var Bt=M()(mt,(K={},(0,O.Z)(K,"".concat(mt,"-vertical"),S==="vertical"),(0,O.Z)(K,"".concat(mt,"-").concat(lt),lt),(0,O.Z)(K,"".concat(mt,"-split"),z),(0,O.Z)(K,"".concat(mt,"-bordered"),Z),(0,O.Z)(K,"".concat(mt,"-loading"),Oe),(0,O.Z)(K,"".concat(mt,"-grid"),!!Ce),(0,O.Z)(K,"".concat(mt,"-something-after-last-item"),ft()),(0,O.Z)(K,"".concat(mt,"-rtl"),de==="rtl"),K),G),Zt=(0,r.Z)((0,r.Z)((0,r.Z)({},Pe),{total:pe.length,current:Ye,pageSize:Je}),X||{}),pi=Math.ceil(Zt.total/Zt.pageSize);Zt.current>pi&&(Zt.current=pi);var Li=X?P.createElement("div",{className:"".concat(mt,"-pagination")},P.createElement(l.Z,(0,r.Z)({},Zt,{onChange:me,onShowSizeChange:Ie}))):null,ot=(0,w.Z)(pe);X&&pe.length>(Zt.current-1)*Zt.pageSize&&(ot=(0,w.Z)(pe).splice((Zt.current-1)*Zt.pageSize,Zt.pageSize));var Ft=Object.keys(Ce||{}).some(function(_t){return["xs","sm","md","lg","xl","xxl"].includes(_t)}),Yt=(0,p.Z)(Ft),_i=P.useMemo(function(){for(var _t=0;_t<a.c4.length;_t+=1){var nt=a.c4[_t];if(Yt[nt])return nt}},[Yt]),Ci=P.useMemo(function(){if(!!Ce){var _t=_i&&Ce[_i]?Ce[_i]:Ce.column;if(_t)return{width:"".concat(100/_t,"%"),maxWidth:"".concat(100/_t,"%")}}},[Ce==null?void 0:Ce.column,_i]),bi=Oe&&P.createElement("div",{style:{minHeight:53}});if(ot.length>0){var ai=ot.map(function(_t,nt){return Ge(_t,nt)}),Mt=P.Children.map(ai,function(_t,nt){return P.createElement("div",{key:He[nt],style:Ci},_t)});bi=Ce?P.createElement(c.Z,{gutter:Ce.gutter},Mt):P.createElement("ul",{className:"".concat(mt,"-items")},ai)}else!re&&!Oe&&(bi=ze(mt,Ne||L.Z));var Ut=Zt.position||"bottom",vt=P.useMemo(function(){return{grid:Ce,itemLayout:S}},[JSON.stringify(Ce),S]);return P.createElement(I.Provider,{value:vt},P.createElement("div",(0,r.Z)({className:Bt},le),(Ut==="top"||Ut==="both")&&Li,se&&P.createElement("div",{className:"".concat(mt,"-header")},se),P.createElement(n.Z,(0,r.Z)({},wt),bi,re),ne&&P.createElement("div",{className:"".concat(mt,"-footer")},ne),he||(Ut==="bottom"||Ut==="both")&&Li))}J.Item=_;var Q=J},26565:function(Ot,Te,i){self.MonacoEnvironment=function(w){function r(O){return O.replace(/\/$/,"")}return{globalAPI:!1,getWorkerUrl:function(O,V){var D=i.p,$=(D?r(D)+"/":"")+w[V];if(/^((http:)|(https:)|(file:)|(\/\/))/.test($)){var M=String(window.location),P=M.substr(0,M.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if($.substring(0,P.length)!==P){/^(\/\/)/.test($)&&($=window.location.protocol+$);var A="/*"+V+'*/importScripts("'+$+'");',L=new Blob([A],{type:"application/javascript"});return URL.createObjectURL(L)}}return $}}}({editorWorkerService:"editor.worker.js",json:"json.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js"}),i(93922),i(42463),i(5796),i(69317),i(54367),i(72102),i(55833),i(37885),i(55403),i(36295),i(23365),i(93740),i(14907),i(41895),i(73623),i(76917),i(22482),i(1266),i(56824),i(44125),i(61097),i(73523),i(43588),i(60628),i(12004),i(34231),i(29225),i(56353),i(84602),i(8782),i(87009),i(33556),i(97615),i(65766),i(76),i(7094),i(77061),i(20465),i(38956),i(78944),i(48766),i(73945),i(45048),i(7128),i(102),i(98762),i(61984),i(1053),i(88088),i(15662),i(64662),i(52614),i(59370),i(79607),i(61271),i(70943),i(37181),i(86709),Ot.exports=i(84938),i(96337),i(72323),i(16745),i(88307),i(39585)},30747:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{PixelRatio:function(){return P},addMatchMediaChangeListener:function(){return M},getZoomFactor:function(){return A},isAndroid:function(){return f},isChrome:function(){return l},isElectron:function(){return g},isFirefox:function(){return c},isSafari:function(){return n},isStandalone:function(){return C},isWebKit:function(){return p},isWebkitWebView:function(){return a}});var w=i(4669),r=i(9917);class O{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}O.INSTANCE=new O;class V extends r.JT{constructor(){super(),this._onDidChange=this._register(new w.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(b){var _;(_=this._mediaQueryList)===null||_===void 0||_.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),b&&this._onDidChange.fire()}}class D extends r.JT{constructor(){super(),this._onDidChange=this._register(new w.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const b=this._register(new V);this._register(b.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const b=document.createElement("canvas").getContext("2d"),_=window.devicePixelRatio||1,E=b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1;return _/E}}class ${constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,r.dk)(new D)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function M(y,b){typeof y=="string"&&(y=window.matchMedia(y)),y.addEventListener("change",b)}const P=new $;function A(){return O.INSTANCE.getZoomFactor()}const L=navigator.userAgent,c=L.indexOf("Firefox")>=0,p=L.indexOf("AppleWebKit")>=0,l=L.indexOf("Chrome")>=0,n=!l&&L.indexOf("Safari")>=0,a=!l&&!n&&p,g=L.indexOf("Electron/")>=0,f=L.indexOf("Android")>=0;let u=!1;if(window.matchMedia){const y=window.matchMedia("(display-mode: standalone)");u=y.matches,M(y,({matches:b})=>{u=b})}function C(){return u}},10161:function(Ot,Te,i){"use strict";i.d(Te,{D:function(){return O}});var w=i(30747),r=i(1432);const O={clipboard:{writeText:r.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:r.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>r.tY||w.isStandalone()?0:navigator.keyboard||w.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},23547:function(Ot,Te,i){"use strict";i.d(Te,{P:function(){return O},g:function(){return r}});var w=i(81170);const r={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:w.v.text},O={CurrentDragAndDropData:void 0}},65321:function(Ot,Te,i){"use strict";i.d(Te,{$:function(){return He},$Z:function(){return $e},Ay:function(){return ne},Ce:function(){return et},Cp:function(){return me},D6:function(){return K},DI:function(){return z},Dx:function(){return U},FK:function(){return re},Fx:function(){return ge},GQ:function(){return u},H$:function(){return Ie},I8:function(){return T},IC:function(){return _},If:function(){return S},OO:function(){return se},PO:function(){return c},R3:function(){return st},Re:function(){return ve},Ro:function(){return X},Uh:function(){return Ge},Uw:function(){return p},V3:function(){return ft},_0:function(){return qe},_F:function(){return Oe},_h:function(){return wt},_q:function(){return lt},dS:function(){return Se},dp:function(){return x},eg:function(){return Bt},fk:function(){return le},go:function(){return Je},i:function(){return Z},jL:function(){return J},jg:function(){return Ce},jt:function(){return ze},lI:function(){return R},mc:function(){return we},mu:function(){return f},nm:function(){return n},tw:function(){return xe},uN:function(){return ie},uU:function(){return pe},vL:function(){return at},vY:function(){return oe},w:function(){return G},wY:function(){return mt},wn:function(){return he},xQ:function(){return j},zB:function(){return Ye}});var w=i(30747),r=i(10161),O=i(59069),V=i(7448),D=i(17301),$=i(4669),M=i(70921),P=i(9917),A=i(66663),L=i(1432);function c(ot){for(;ot.firstChild;)ot.firstChild.remove()}function p(ot){var Ft;return(Ft=ot==null?void 0:ot.isConnected)!==null&&Ft!==void 0?Ft:!1}class l{constructor(Ft,Yt,_i,Ci){this._node=Ft,this._type=Yt,this._handler=_i,this._options=Ci||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function n(ot,Ft,Yt,_i){return new l(ot,Ft,Yt,_i)}function a(ot){return function(Ft){return ot(new V.n(Ft))}}function g(ot){return function(Ft){return ot(new O.y(Ft))}}const f=function(Ft,Yt,_i,Ci){let bi=_i;return Yt==="click"||Yt==="mousedown"?bi=a(_i):(Yt==="keydown"||Yt==="keypress"||Yt==="keyup")&&(bi=g(_i)),n(Ft,Yt,bi,Ci)},u=function(Ft,Yt,_i){const Ci=a(Yt);return y(Ft,Ci,_i)},C=function(Ft,Yt,_i){const Ci=a(Yt);return b(Ft,Ci,_i)};function y(ot,Ft,Yt){return n(ot,L.gn&&r.D.pointerEvents?xe.POINTER_DOWN:xe.MOUSE_DOWN,Ft,Yt)}function b(ot,Ft,Yt){return n(ot,platform.isIOS&&BrowserFeatures.pointerEvents?xe.POINTER_UP:xe.MOUSE_UP,Ft,Yt)}function _(ot,Ft,Yt){let _i=null;const Ci=Ut=>Mt.fire(Ut),bi=()=>{_i||(_i=new l(ot,Ft,Ci,Yt))},ai=()=>{_i&&(_i.dispose(),_i=null)},Mt=new $.Q5({onFirstListenerAdd:bi,onLastListenerRemove:ai});return Mt}let E=null;function I(ot){if(!E){const Ft=Yt=>setTimeout(()=>Yt(new Date().getTime()),0);E=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||Ft}return E.call(self,ot)}let R,J;class Q{constructor(Ft,Yt=0){this._runner=Ft,this.priority=Yt,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Ft){(0,D.dL)(Ft)}}static sort(Ft,Yt){return Yt.priority-Ft.priority}}(function(){let ot=[],Ft=null,Yt=!1,_i=!1;const Ci=()=>{for(Yt=!1,Ft=ot,ot=[],_i=!0;Ft.length>0;)Ft.sort(Q.sort),Ft.shift().execute();_i=!1};J=(bi,ai=0)=>{const Mt=new Q(bi,ai);return ot.push(Mt),Yt||(Yt=!0,I(Ci)),Mt},R=(bi,ai)=>{if(_i){const Mt=new Q(bi,ai);return Ft.push(Mt),Mt}else return J(bi,ai)}})();function U(ot){return document.defaultView.getComputedStyle(ot,null)}function K(ot){if(ot!==document.body)return new X(ot.clientWidth,ot.clientHeight);if(L.gn&&window.visualViewport)return new X(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new X(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new X(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new X(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class H{static convertToPixels(Ft,Yt){return parseFloat(Yt)||0}static getDimension(Ft,Yt,_i){const Ci=U(Ft);let bi="0";return Ci&&(Ci.getPropertyValue?bi=Ci.getPropertyValue(Yt):bi=Ci.getAttribute(_i)),H.convertToPixels(Ft,bi)}static getBorderLeftWidth(Ft){return H.getDimension(Ft,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Ft){return H.getDimension(Ft,"border-right-width","borderRightWidth")}static getBorderTopWidth(Ft){return H.getDimension(Ft,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Ft){return H.getDimension(Ft,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Ft){return H.getDimension(Ft,"padding-left","paddingLeft")}static getPaddingRight(Ft){return H.getDimension(Ft,"padding-right","paddingRight")}static getPaddingTop(Ft){return H.getDimension(Ft,"padding-top","paddingTop")}static getPaddingBottom(Ft){return H.getDimension(Ft,"padding-bottom","paddingBottom")}static getMarginLeft(Ft){return H.getDimension(Ft,"margin-left","marginLeft")}static getMarginTop(Ft){return H.getDimension(Ft,"margin-top","marginTop")}static getMarginRight(Ft){return H.getDimension(Ft,"margin-right","marginRight")}static getMarginBottom(Ft){return H.getDimension(Ft,"margin-bottom","marginBottom")}}class X{constructor(Ft,Yt){this.width=Ft,this.height=Yt}with(Ft=this.width,Yt=this.height){return Ft!==this.width||Yt!==this.height?new X(Ft,Yt):this}static is(Ft){return typeof Ft=="object"&&typeof Ft.height=="number"&&typeof Ft.width=="number"}static lift(Ft){return Ft instanceof X?Ft:new X(Ft.width,Ft.height)}static equals(Ft,Yt){return Ft===Yt?!0:!Ft||!Yt?!1:Ft.width===Yt.width&&Ft.height===Yt.height}}X.None=new X(0,0);function j(ot){let Ft=ot.offsetParent,Yt=ot.offsetTop,_i=ot.offsetLeft;for(;(ot=ot.parentNode)!==null&&ot!==document.body&&ot!==document.documentElement;){Yt-=ot.scrollTop;const Ci=ee(ot)?null:U(ot);Ci&&(_i-=Ci.direction!=="rtl"?ot.scrollLeft:-ot.scrollLeft),ot===Ft&&(_i+=H.getBorderLeftWidth(ot),Yt+=H.getBorderTopWidth(ot),Yt+=ot.offsetTop,_i+=ot.offsetLeft,Ft=ot.offsetParent)}return{left:_i,top:Yt}}function x(ot,Ft,Yt){typeof Ft=="number"&&(ot.style.width=`${Ft}px`),typeof Yt=="number"&&(ot.style.height=`${Yt}px`)}function Z(ot){const Ft=ot.getBoundingClientRect();return{left:Ft.left+z.scrollX,top:Ft.top+z.scrollY,width:Ft.width,height:Ft.height}}function T(ot){let Ft=ot,Yt=1;do{const _i=U(Ft).zoom;_i!=null&&_i!=="1"&&(Yt*=_i),Ft=Ft.parentElement}while(Ft!==null&&Ft!==document.documentElement);return Yt}const z=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function G(ot){const Ft=H.getMarginLeft(ot)+H.getMarginRight(ot);return ot.offsetWidth+Ft}function re(ot){const Ft=H.getBorderLeftWidth(ot)+H.getBorderRightWidth(ot),Yt=H.getPaddingLeft(ot)+H.getPaddingRight(ot);return ot.offsetWidth-Ft-Yt}function S(ot){const Ft=H.getBorderTopWidth(ot)+H.getBorderBottomWidth(ot),Yt=H.getPaddingTop(ot)+H.getPaddingBottom(ot);return ot.offsetHeight-Ft-Yt}function he(ot){const Ft=H.getMarginTop(ot)+H.getMarginBottom(ot);return ot.offsetHeight+Ft}function Ce(ot,Ft){for(;ot;){if(ot===Ft)return!0;ot=ot.parentNode}return!1}function ge(ot,Ft,Yt){for(;ot&&ot.nodeType===ot.ELEMENT_NODE;){if(ot.classList.contains(Ft))return ot;if(Yt){if(typeof Yt=="string"){if(ot.classList.contains(Yt))return null}else if(ot===Yt)return null}ot=ot.parentNode}return null}function pe(ot,Ft,Yt){return!!ge(ot,Ft,Yt)}function ee(ot){return ot&&!!ot.host&&!!ot.mode}function se(ot){return!!ne(ot)}function ne(ot){for(;ot.parentNode;){if(ot===document.body)return null;ot=ot.parentNode}return ee(ot)?ot:null}function oe(){let ot=document.activeElement;for(;ot!=null&&ot.shadowRoot;)ot=ot.shadowRoot.activeElement;return ot}function Se(ot=document.getElementsByTagName("head")[0]){const Ft=document.createElement("style");return Ft.type="text/css",Ft.media="screen",ot.appendChild(Ft),Ft}let Ee=null;function Me(){return Ee||(Ee=Se()),Ee}function ye(ot){var Ft,Yt;return!((Ft=ot==null?void 0:ot.sheet)===null||Ft===void 0)&&Ft.rules?ot.sheet.rules:!((Yt=ot==null?void 0:ot.sheet)===null||Yt===void 0)&&Yt.cssRules?ot.sheet.cssRules:[]}function le(ot,Ft,Yt=Me()){!Yt||!Ft||Yt.sheet.insertRule(ot+"{"+Ft+"}",0)}function ie(ot,Ft=Me()){if(!Ft)return;const Yt=ye(Ft),_i=[];for(let Ci=0;Ci<Yt.length;Ci++)Yt[Ci].selectorText.indexOf(ot)!==-1&&_i.push(Ci);for(let Ci=_i.length-1;Ci>=0;Ci--)Ft.sheet.deleteRule(_i[Ci])}function ve(ot){return typeof HTMLElement=="object"?ot instanceof HTMLElement:ot&&typeof ot=="object"&&ot.nodeType===1&&typeof ot.nodeName=="string"}const xe={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:w.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:w.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:w.isWebKit?"webkitAnimationIteration":"animationiteration"},Ye={stop:function(ot,Ft){ot.preventDefault?ot.preventDefault():ot.returnValue=!1,Ft&&(ot.stopPropagation?ot.stopPropagation():ot.cancelBubble=!0)}};function at(ot){const Ft=[];for(let Yt=0;ot&&ot.nodeType===ot.ELEMENT_NODE;Yt++)Ft[Yt]=ot.scrollTop,ot=ot.parentNode;return Ft}function qe(ot,Ft){for(let Yt=0;ot&&ot.nodeType===ot.ELEMENT_NODE;Yt++)ot.scrollTop!==Ft[Yt]&&(ot.scrollTop=Ft[Yt]),ot=ot.parentNode}class Re extends P.JT{constructor(Ft){super(),this._onDidFocus=this._register(new $.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new $.Q5),this.onDidBlur=this._onDidBlur.event;let Yt=Re.hasFocusWithin(Ft),_i=!1;const Ci=()=>{_i=!1,Yt||(Yt=!0,this._onDidFocus.fire())},bi=()=>{Yt&&(_i=!0,window.setTimeout(()=>{_i&&(_i=!1,Yt=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Re.hasFocusWithin(Ft)!==Yt&&(Yt?bi():Ci())},this._register(n(Ft,xe.FOCUS,Ci,!0)),this._register(n(Ft,xe.BLUR,bi,!0)),this._register(n(Ft,xe.FOCUS_IN,()=>this._refreshStateHandler())),this._register(n(Ft,xe.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(Ft){const Yt=ne(Ft),_i=Yt?Yt.activeElement:document.activeElement;return Ce(_i,Ft)}}function Je(ot){return new Re(ot)}function st(ot,...Ft){if(ot.append(...Ft),Ft.length===1&&typeof Ft[0]!="string")return Ft[0]}function et(ot,Ft){return ot.insertBefore(Ft,ot.firstChild),Ft}function we(ot,...Ft){ot.innerText="",st(ot,...Ft)}const Ne=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var de;(function(ot){ot.HTML="http://www.w3.org/1999/xhtml",ot.SVG="http://www.w3.org/2000/svg"})(de||(de={}));function Pe(ot,Ft,Yt,..._i){const Ci=Ne.exec(Ft);if(!Ci)throw new Error("Bad use of emmet");Yt=Object.assign({},Yt||{});const bi=Ci[1]||"div";let ai;return ot!==de.HTML?ai=document.createElementNS(ot,bi):ai=document.createElement(bi),Ci[3]&&(ai.id=Ci[3]),Ci[4]&&(ai.className=Ci[4].replace(/\./g," ").trim()),Object.keys(Yt).forEach(Mt=>{const Ut=Yt[Mt];typeof Ut>"u"||(/^on\w+$/.test(Mt)?ai[Mt]=Ut:Mt==="selected"?Ut&&ai.setAttribute(Mt,"true"):ai.setAttribute(Mt,Ut))}),ai.append(..._i),ai}function He(ot,Ft,...Yt){return Pe(de.HTML,ot,Ft,...Yt)}He.SVG=function(ot,Ft,...Yt){return Pe(de.SVG,ot,Ft,...Yt)};function $e(...ot){for(const Ft of ot)Ft.style.display="",Ft.removeAttribute("aria-hidden")}function me(...ot){for(const Ft of ot)Ft.style.display="none",Ft.setAttribute("aria-hidden","true")}function Ie(ot){return Array.prototype.slice.call(document.getElementsByTagName(ot),0)}function Ge(ot){const Ft=window.devicePixelRatio*ot;return Math.max(1,Math.floor(Ft))/window.devicePixelRatio}function ft(ot){window.open(ot,"_blank","noopener")}function ze(ot){const Ft=()=>{ot(),Yt=J(Ft)};let Yt=J(Ft);return(0,P.OF)(()=>Yt.dispose())}A.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function mt(ot){return ot?`url('${A.Gi.asBrowserUri(ot).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function wt(ot){return`'${ot.replace(/'/g,"%27")}'`}function Oe(ot,Ft=!1){const Yt=document.createElement("a");return M.v5("afterSanitizeAttributes",_i=>{for(const Ci of["href","src"])if(_i.hasAttribute(Ci)){const bi=_i.getAttribute(Ci);if(Ci==="href"&&bi.startsWith("#"))continue;if(Yt.href=bi,!ot.includes(Yt.protocol.replace(/:$/,""))){if(Ft&&Ci==="src"&&Yt.href.startsWith("data:"))continue;_i.removeAttribute(Ci)}}}),(0,P.OF)(()=>{M.ok("afterSanitizeAttributes")})}class lt extends $.Q5{constructor(){super(),this._subscriptions=new P.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(n(window,"keydown",Ft=>{if(Ft.defaultPrevented)return;const Yt=new O.y(Ft);if(!(Yt.keyCode===6&&Ft.repeat)){if(Ft.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Ft.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Ft.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Ft.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Yt.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=Ft.altKey,this._keyStatus.ctrlKey=Ft.ctrlKey,this._keyStatus.metaKey=Ft.metaKey,this._keyStatus.shiftKey=Ft.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Ft,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(n(window,"keyup",Ft=>{Ft.defaultPrevented||(!Ft.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!Ft.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!Ft.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!Ft.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Ft.altKey,this._keyStatus.ctrlKey=Ft.ctrlKey,this._keyStatus.metaKey=Ft.metaKey,this._keyStatus.shiftKey=Ft.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Ft,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(n(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(n(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(n(document.body,"mousemove",Ft=>{Ft.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(n(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return lt.instance||(lt.instance=new lt),lt.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class Bt extends P.JT{constructor(Ft,Yt){super(),this.element=Ft,this.callbacks=Yt,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(n(this.element,xe.DRAG_ENTER,Ft=>{this.counter++,this.dragStartTime=Ft.timeStamp,this.callbacks.onDragEnter(Ft)})),this._register(n(this.element,xe.DRAG_OVER,Ft=>{var Yt,_i;Ft.preventDefault(),(_i=(Yt=this.callbacks).onDragOver)===null||_i===void 0||_i.call(Yt,Ft,Ft.timeStamp-this.dragStartTime)})),this._register(n(this.element,xe.DRAG_LEAVE,Ft=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(Ft))})),this._register(n(this.element,xe.DRAG_END,Ft=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(Ft)})),this._register(n(this.element,xe.DROP,Ft=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(Ft)}))}}const Zt=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function pi(ot,...Ft){let Yt,_i;Array.isArray(Ft[0])?(Yt={},_i=Ft[0]):(Yt=Ft[0]||{},_i=Ft[1]);const Ci=Zt.exec(ot);if(!Ci||!Ci.groups)throw new Error("Bad use of h");const bi=Ci.groups.tag||"div",ai=document.createElement(bi);Ci.groups.id&&(ai.id=Ci.groups.id),Ci.groups.class&&(ai.className=Ci.groups.class.replace(/\./g," ").trim());const Mt={};if(Ci.groups.name&&(Mt[Ci.groups.name]=ai),_i)for(const Ut of _i)Ut instanceof HTMLElement?ai.appendChild(Ut):typeof Ut=="string"?ai.append(Ut):(Object.assign(Mt,Ut),ai.appendChild(Ut.root));for(const[Ut,vt]of Object.entries(Yt))if(Ut==="style")for(const[_t,nt]of Object.entries(vt))ai.style.setProperty(Li(_t),typeof nt=="number"?nt+"px":""+nt);else Ut==="tabIndex"?ai.tabIndex=vt:ai.setAttribute(Li(Ut),vt.toString());return Mt.root=ai,Mt}function Li(ot){return ot.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},70921:function(Ot,Te,i){"use strict";i.d(Te,{Nw:function(){return xe},ok:function(){return Je},v5:function(){return Re}});function w(we){if(Array.isArray(we)){for(var Ne=0,de=Array(we.length);Ne<we.length;Ne++)de[Ne]=we[Ne];return de}else return Array.from(we)}var r=Object.hasOwnProperty,O=Object.setPrototypeOf,V=Object.isFrozen,D=Object.getPrototypeOf,$=Object.getOwnPropertyDescriptor,M=Object.freeze,P=Object.seal,A=Object.create,L=typeof Reflect<"u"&&Reflect,c=L.apply,p=L.construct;c||(c=function(Ne,de,Pe){return Ne.apply(de,Pe)}),M||(M=function(Ne){return Ne}),P||(P=function(Ne){return Ne}),p||(p=function(Ne,de){return new(Function.prototype.bind.apply(Ne,[null].concat(w(de))))});var l=E(Array.prototype.forEach),n=E(Array.prototype.pop),a=E(Array.prototype.push),g=E(String.prototype.toLowerCase),f=E(String.prototype.match),u=E(String.prototype.replace),C=E(String.prototype.indexOf),y=E(String.prototype.trim),b=E(RegExp.prototype.test),_=I(TypeError);function E(we){return function(Ne){for(var de=arguments.length,Pe=Array(de>1?de-1:0),He=1;He<de;He++)Pe[He-1]=arguments[He];return c(we,Ne,Pe)}}function I(we){return function(){for(var Ne=arguments.length,de=Array(Ne),Pe=0;Pe<Ne;Pe++)de[Pe]=arguments[Pe];return p(we,de)}}function R(we,Ne){O&&O(we,null);for(var de=Ne.length;de--;){var Pe=Ne[de];if(typeof Pe=="string"){var He=g(Pe);He!==Pe&&(V(Ne)||(Ne[de]=He),Pe=He)}we[Pe]=!0}return we}function J(we){var Ne=A(null),de=void 0;for(de in we)c(r,we,[de])&&(Ne[de]=we[de]);return Ne}function Q(we,Ne){for(;we!==null;){var de=$(we,Ne);if(de){if(de.get)return E(de.get);if(typeof de.value=="function")return E(de.value)}we=D(we)}function Pe(He){return console.warn("fallback value for",He),null}return Pe}var U=M(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),K=M(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),H=M(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),X=M(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),j=M(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),x=M(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Z=M(["#text"]),T=M(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),z=M(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=M(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),re=M(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),S=P(/\{\{[\s\S]*|[\s\S]*\}\}/gm),he=P(/<%[\s\S]*|[\s\S]*%>/gm),Ce=P(/^data-[\-\w.\u00B7-\uFFFF]/),ge=P(/^aria-[\-\w]+$/),pe=P(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ee=P(/^(?:\w+script|data):/i),se=P(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we};function oe(we){if(Array.isArray(we)){for(var Ne=0,de=Array(we.length);Ne<we.length;Ne++)de[Ne]=we[Ne];return de}else return Array.from(we)}var Se=function(){return typeof window>"u"?null:window},Ee=function(Ne,de){if((typeof Ne>"u"?"undefined":ne(Ne))!=="object"||typeof Ne.createPolicy!="function")return null;var Pe=null,He="data-tt-policy-suffix";de.currentScript&&de.currentScript.hasAttribute(He)&&(Pe=de.currentScript.getAttribute(He));var $e="dompurify"+(Pe?"#"+Pe:"");try{return Ne.createPolicy($e,{createHTML:function(Ie){return Ie}})}catch{return console.warn("TrustedTypes policy "+$e+" could not be created."),null}};function Me(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Se(),Ne=function(oi){return Me(oi)};if(Ne.version="2.3.1",Ne.removed=[],!we||!we.document||we.document.nodeType!==9)return Ne.isSupported=!1,Ne;var de=we.document,Pe=we.document,He=we.DocumentFragment,$e=we.HTMLTemplateElement,me=we.Node,Ie=we.Element,Ge=we.NodeFilter,ft=we.NamedNodeMap,ze=ft===void 0?we.NamedNodeMap||we.MozNamedAttrMap:ft,mt=we.Text,wt=we.Comment,Oe=we.DOMParser,lt=we.trustedTypes,Bt=Ie.prototype,Zt=Q(Bt,"cloneNode"),pi=Q(Bt,"nextSibling"),Li=Q(Bt,"childNodes"),ot=Q(Bt,"parentNode");if(typeof $e=="function"){var Ft=Pe.createElement("template");Ft.content&&Ft.content.ownerDocument&&(Pe=Ft.content.ownerDocument)}var Yt=Ee(lt,de),_i=Yt&&wn?Yt.createHTML(""):"",Ci=Pe,bi=Ci.implementation,ai=Ci.createNodeIterator,Mt=Ci.createDocumentFragment,Ut=Ci.getElementsByTagName,vt=de.importNode,_t={};try{_t=J(Pe).documentMode?Pe.documentMode:{}}catch{}var nt={};Ne.isSupported=typeof ot=="function"&&bi&&typeof bi.createHTMLDocument<"u"&&_t!==9;var be=S,Le=he,Qe=Ce,je=ge,ht=ee,bt=se,Dt=pe,Ht=null,ei=R({},[].concat(oe(U),oe(K),oe(H),oe(j),oe(Z))),ui=null,xi=R({},[].concat(oe(T),oe(z),oe(G),oe(re))),Si=null,mi=null,mn=!0,Mi=!0,fn=!1,Fi=!1,Ni=!1,Dn=!1,Tn=!1,$i=!1,pn=!1,Sn=!0,wn=!1,li=!0,Ke=!0,Rt=!1,At={},ni=null,ii=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),xt=null,Ve=R({},["audio","video","img","source","image","track"]),dt=null,Tt=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),jt="http://www.w3.org/1998/Math/MathML",$t="http://www.w3.org/2000/svg",Wt="http://www.w3.org/1999/xhtml",We=Wt,Xe=!1,ut=null,pt=Pe.createElement("form"),kt=function(oi){ut&&ut===oi||((!oi||(typeof oi>"u"?"undefined":ne(oi))!=="object")&&(oi={}),oi=J(oi),Ht="ALLOWED_TAGS"in oi?R({},oi.ALLOWED_TAGS):ei,ui="ALLOWED_ATTR"in oi?R({},oi.ALLOWED_ATTR):xi,dt="ADD_URI_SAFE_ATTR"in oi?R(J(Tt),oi.ADD_URI_SAFE_ATTR):Tt,xt="ADD_DATA_URI_TAGS"in oi?R(J(Ve),oi.ADD_DATA_URI_TAGS):Ve,ni="FORBID_CONTENTS"in oi?R({},oi.FORBID_CONTENTS):ii,Si="FORBID_TAGS"in oi?R({},oi.FORBID_TAGS):{},mi="FORBID_ATTR"in oi?R({},oi.FORBID_ATTR):{},At="USE_PROFILES"in oi?oi.USE_PROFILES:!1,mn=oi.ALLOW_ARIA_ATTR!==!1,Mi=oi.ALLOW_DATA_ATTR!==!1,fn=oi.ALLOW_UNKNOWN_PROTOCOLS||!1,Fi=oi.SAFE_FOR_TEMPLATES||!1,Ni=oi.WHOLE_DOCUMENT||!1,$i=oi.RETURN_DOM||!1,pn=oi.RETURN_DOM_FRAGMENT||!1,Sn=oi.RETURN_DOM_IMPORT!==!1,wn=oi.RETURN_TRUSTED_TYPE||!1,Tn=oi.FORCE_BODY||!1,li=oi.SANITIZE_DOM!==!1,Ke=oi.KEEP_CONTENT!==!1,Rt=oi.IN_PLACE||!1,Dt=oi.ALLOWED_URI_REGEXP||Dt,We=oi.NAMESPACE||Wt,Fi&&(Mi=!1),pn&&($i=!0),At&&(Ht=R({},[].concat(oe(Z))),ui=[],At.html===!0&&(R(Ht,U),R(ui,T)),At.svg===!0&&(R(Ht,K),R(ui,z),R(ui,re)),At.svgFilters===!0&&(R(Ht,H),R(ui,z),R(ui,re)),At.mathMl===!0&&(R(Ht,j),R(ui,G),R(ui,re))),oi.ADD_TAGS&&(Ht===ei&&(Ht=J(Ht)),R(Ht,oi.ADD_TAGS)),oi.ADD_ATTR&&(ui===xi&&(ui=J(ui)),R(ui,oi.ADD_ATTR)),oi.ADD_URI_SAFE_ATTR&&R(dt,oi.ADD_URI_SAFE_ATTR),oi.FORBID_CONTENTS&&(ni===ii&&(ni=J(ni)),R(ni,oi.FORBID_CONTENTS)),Ke&&(Ht["#text"]=!0),Ni&&R(Ht,["html","head","body"]),Ht.table&&(R(Ht,["tbody"]),delete Si.tbody),M&&M(oi),ut=oi)},Kt=R({},["mi","mo","mn","ms","mtext"]),Gt=R({},["foreignobject","desc","title","annotation-xml"]),Ei=R({},K);R(Ei,H),R(Ei,X);var Oi=R({},j);R(Oi,x);var wi=function(oi){var Ii=ot(oi);(!Ii||!Ii.tagName)&&(Ii={namespaceURI:Wt,tagName:"template"});var Vi=g(oi.tagName),yn=g(Ii.tagName);if(oi.namespaceURI===$t)return Ii.namespaceURI===Wt?Vi==="svg":Ii.namespaceURI===jt?Vi==="svg"&&(yn==="annotation-xml"||Kt[yn]):Boolean(Ei[Vi]);if(oi.namespaceURI===jt)return Ii.namespaceURI===Wt?Vi==="math":Ii.namespaceURI===$t?Vi==="math"&&Gt[yn]:Boolean(Oi[Vi]);if(oi.namespaceURI===Wt){if(Ii.namespaceURI===$t&&!Gt[yn]||Ii.namespaceURI===jt&&!Kt[yn])return!1;var zn=R({},["title","style","font","a","script"]);return!Oi[Vi]&&(zn[Vi]||!Ei[Vi])}return!1},Pt=function(oi){a(Ne.removed,{element:oi});try{oi.parentNode.removeChild(oi)}catch{try{oi.outerHTML=_i}catch{oi.remove()}}},Pi=function(oi,Ii){try{a(Ne.removed,{attribute:Ii.getAttributeNode(oi),from:Ii})}catch{a(Ne.removed,{attribute:null,from:Ii})}if(Ii.removeAttribute(oi),oi==="is"&&!ui[oi])if($i||pn)try{Pt(Ii)}catch{}else try{Ii.setAttribute(oi,"")}catch{}},en=function(oi){var Ii=void 0,Vi=void 0;if(Tn)oi="<remove></remove>"+oi;else{var yn=f(oi,/^[\r\n\t ]+/);Vi=yn&&yn[0]}var zn=Yt?Yt.createHTML(oi):oi;if(We===Wt)try{Ii=new Oe().parseFromString(zn,"text/html")}catch{}if(!Ii||!Ii.documentElement){Ii=bi.createDocument(We,"template",null);try{Ii.documentElement.innerHTML=Xe?"":zn}catch{}}var Bn=Ii.body||Ii.documentElement;return oi&&Vi&&Bn.insertBefore(Pe.createTextNode(Vi),Bn.childNodes[0]||null),We===Wt?Ut.call(Ii,Ni?"html":"body")[0]:Ni?Ii.documentElement:Bn},un=function(oi){return ai.call(oi.ownerDocument||oi,oi,Ge.SHOW_ELEMENT|Ge.SHOW_COMMENT|Ge.SHOW_TEXT,null,!1)},hn=function(oi){return oi instanceof mt||oi instanceof wt?!1:typeof oi.nodeName!="string"||typeof oi.textContent!="string"||typeof oi.removeChild!="function"||!(oi.attributes instanceof ze)||typeof oi.removeAttribute!="function"||typeof oi.setAttribute!="function"||typeof oi.namespaceURI!="string"||typeof oi.insertBefore!="function"},Gi=function(oi){return(typeof me>"u"?"undefined":ne(me))==="object"?oi instanceof me:oi&&(typeof oi>"u"?"undefined":ne(oi))==="object"&&typeof oi.nodeType=="number"&&typeof oi.nodeName=="string"},_n=function(oi,Ii,Vi){!nt[oi]||l(nt[oi],function(yn){yn.call(Ne,Ii,Vi,ut)})},an=function(oi){var Ii=void 0;if(_n("beforeSanitizeElements",oi,null),hn(oi)||f(oi.nodeName,/[\u0080-\uFFFF]/))return Pt(oi),!0;var Vi=g(oi.nodeName);if(_n("uponSanitizeElement",oi,{tagName:Vi,allowedTags:Ht}),!Gi(oi.firstElementChild)&&(!Gi(oi.content)||!Gi(oi.content.firstElementChild))&&b(/<[/\w]/g,oi.innerHTML)&&b(/<[/\w]/g,oi.textContent)||Vi==="select"&&b(/<template/i,oi.innerHTML))return Pt(oi),!0;if(!Ht[Vi]||Si[Vi]){if(Ke&&!ni[Vi]){var yn=ot(oi)||oi.parentNode,zn=Li(oi)||oi.childNodes;if(zn&&yn)for(var Bn=zn.length,St=Bn-1;St>=0;--St)yn.insertBefore(Zt(zn[St],!0),pi(oi))}return Pt(oi),!0}return oi instanceof Ie&&!wi(oi)||(Vi==="noscript"||Vi==="noembed")&&b(/<\/no(script|embed)/i,oi.innerHTML)?(Pt(oi),!0):(Fi&&oi.nodeType===3&&(Ii=oi.textContent,Ii=u(Ii,be," "),Ii=u(Ii,Le," "),oi.textContent!==Ii&&(a(Ne.removed,{element:oi.cloneNode()}),oi.textContent=Ii)),_n("afterSanitizeElements",oi,null),!1)},tn=function(oi,Ii,Vi){if(li&&(Ii==="id"||Ii==="name")&&(Vi in Pe||Vi in pt))return!1;if(!(Mi&&!mi[Ii]&&b(Qe,Ii))){if(!(mn&&b(je,Ii))){if(!ui[Ii]||mi[Ii])return!1;if(!dt[Ii]){if(!b(Dt,u(Vi,bt,""))){if(!((Ii==="src"||Ii==="xlink:href"||Ii==="href")&&oi!=="script"&&C(Vi,"data:")===0&&xt[oi])){if(!(fn&&!b(ht,u(Vi,bt,"")))){if(Vi)return!1}}}}}}return!0},En=function(oi){var Ii=void 0,Vi=void 0,yn=void 0,zn=void 0;_n("beforeSanitizeAttributes",oi,null);var Bn=oi.attributes;if(!!Bn){var St={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ui};for(zn=Bn.length;zn--;){Ii=Bn[zn];var N=Ii,F=N.name,d=N.namespaceURI;if(Vi=y(Ii.value),yn=g(F),St.attrName=yn,St.attrValue=Vi,St.keepAttr=!0,St.forceKeepAttr=void 0,_n("uponSanitizeAttribute",oi,St),Vi=St.attrValue,!St.forceKeepAttr&&(Pi(F,oi),!!St.keepAttr)){if(b(/\/>/i,Vi)){Pi(F,oi);continue}Fi&&(Vi=u(Vi,be," "),Vi=u(Vi,Le," "));var k=oi.nodeName.toLowerCase();if(!!tn(k,yn,Vi))try{d?oi.setAttributeNS(d,F,Vi):oi.setAttribute(F,Vi),n(Ne.removed)}catch{}}}_n("afterSanitizeAttributes",oi,null)}},nn=function yi(oi){var Ii=void 0,Vi=un(oi);for(_n("beforeSanitizeShadowDOM",oi,null);Ii=Vi.nextNode();)_n("uponSanitizeShadowNode",Ii,null),!an(Ii)&&(Ii.content instanceof He&&yi(Ii.content),En(Ii));_n("afterSanitizeShadowDOM",oi,null)};return Ne.sanitize=function(yi,oi){var Ii=void 0,Vi=void 0,yn=void 0,zn=void 0,Bn=void 0;if(Xe=!yi,Xe&&(yi="<!-->"),typeof yi!="string"&&!Gi(yi)){if(typeof yi.toString!="function")throw _("toString is not a function");if(yi=yi.toString(),typeof yi!="string")throw _("dirty is not a string, aborting")}if(!Ne.isSupported){if(ne(we.toStaticHTML)==="object"||typeof we.toStaticHTML=="function"){if(typeof yi=="string")return we.toStaticHTML(yi);if(Gi(yi))return we.toStaticHTML(yi.outerHTML)}return yi}if(Dn||kt(oi),Ne.removed=[],typeof yi=="string"&&(Rt=!1),!Rt)if(yi instanceof me)Ii=en("<!---->"),Vi=Ii.ownerDocument.importNode(yi,!0),Vi.nodeType===1&&Vi.nodeName==="BODY"||Vi.nodeName==="HTML"?Ii=Vi:Ii.appendChild(Vi);else{if(!$i&&!Fi&&!Ni&&yi.indexOf("<")===-1)return Yt&&wn?Yt.createHTML(yi):yi;if(Ii=en(yi),!Ii)return $i?null:_i}Ii&&Tn&&Pt(Ii.firstChild);for(var St=un(Rt?yi:Ii);yn=St.nextNode();)yn.nodeType===3&&yn===zn||an(yn)||(yn.content instanceof He&&nn(yn.content),En(yn),zn=yn);if(zn=null,Rt)return yi;if($i){if(pn)for(Bn=Mt.call(Ii.ownerDocument);Ii.firstChild;)Bn.appendChild(Ii.firstChild);else Bn=Ii;return Sn&&(Bn=vt.call(de,Bn,!0)),Bn}var N=Ni?Ii.outerHTML:Ii.innerHTML;return Fi&&(N=u(N,be," "),N=u(N,Le," ")),Yt&&wn?Yt.createHTML(N):N},Ne.setConfig=function(yi){kt(yi),Dn=!0},Ne.clearConfig=function(){ut=null,Dn=!1},Ne.isValidAttribute=function(yi,oi,Ii){ut||kt({});var Vi=g(yi),yn=g(oi);return tn(Vi,yn,Ii)},Ne.addHook=function(yi,oi){typeof oi=="function"&&(nt[yi]=nt[yi]||[],a(nt[yi],oi))},Ne.removeHook=function(yi){nt[yi]&&n(nt[yi])},Ne.removeHooks=function(yi){nt[yi]&&(nt[yi]=[])},Ne.removeAllHooks=function(){nt={}},Ne}var ye=Me(),le=null;const ie=ye.version,ve=ye.isSupported,xe=ye.sanitize,Ye=ye.setConfig,at=ye.clearConfig,qe=ye.isValidAttribute,Re=ye.addHook,Je=ye.removeHook,st=ye.removeHooks,et=ye.removeAllHooks},4850:function(Ot,Te,i){"use strict";i.d(Te,{Y:function(){return r},p:function(){return O}});var w=i(4669);class r{constructor(D,$,M){const P=A=>this.emitter.fire(A);this.emitter=new w.Q5({onFirstListenerAdd:()=>D.addEventListener($,P,M),onLastListenerRemove:()=>D.removeEventListener($,P,M)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function O(V){return V.preventDefault(),V.stopPropagation(),V}},38626:function(Ot,Te,i){"use strict";i.d(Te,{X:function(){return O},Z:function(){return w}});class w{constructor(D){this.domNode=D,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(D){const $=r(D);this._maxWidth!==$&&(this._maxWidth=$,this.domNode.style.maxWidth=this._maxWidth)}setWidth(D){const $=r(D);this._width!==$&&(this._width=$,this.domNode.style.width=this._width)}setHeight(D){const $=r(D);this._height!==$&&(this._height=$,this.domNode.style.height=this._height)}setTop(D){const $=r(D);this._top!==$&&(this._top=$,this.domNode.style.top=this._top)}setLeft(D){const $=r(D);this._left!==$&&(this._left=$,this.domNode.style.left=this._left)}setBottom(D){const $=r(D);this._bottom!==$&&(this._bottom=$,this.domNode.style.bottom=this._bottom)}setRight(D){const $=r(D);this._right!==$&&(this._right=$,this.domNode.style.right=this._right)}setFontFamily(D){this._fontFamily!==D&&(this._fontFamily=D,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(D){this._fontWeight!==D&&(this._fontWeight=D,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(D){const $=r(D);this._fontSize!==$&&(this._fontSize=$,this.domNode.style.fontSize=this._fontSize)}setFontStyle(D){this._fontStyle!==D&&(this._fontStyle=D,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(D){this._fontFeatureSettings!==D&&(this._fontFeatureSettings=D,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(D){this._textDecoration!==D&&(this._textDecoration=D,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(D){const $=r(D);this._lineHeight!==$&&(this._lineHeight=$,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(D){const $=r(D);this._letterSpacing!==$&&(this._letterSpacing=$,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(D){this._className!==D&&(this._className=D,this.domNode.className=this._className)}toggleClassName(D,$){this.domNode.classList.toggle(D,$),this._className=this.domNode.className}setDisplay(D){this._display!==D&&(this._display=D,this.domNode.style.display=this._display)}setPosition(D){this._position!==D&&(this._position=D,this.domNode.style.position=this._position)}setVisibility(D){this._visibility!==D&&(this._visibility=D,this.domNode.style.visibility=this._visibility)}setColor(D){this._color!==D&&(this._color=D,this.domNode.style.color=this._color)}setBackgroundColor(D){this._backgroundColor!==D&&(this._backgroundColor=D,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(D){this._layerHint!==D&&(this._layerHint=D,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(D){this._boxShadow!==D&&(this._boxShadow=D,this.domNode.style.boxShadow=D)}setContain(D){this._contain!==D&&(this._contain=D,this.domNode.style.contain=this._contain)}setAttribute(D,$){this.domNode.setAttribute(D,$)}removeAttribute(D){this.domNode.removeAttribute(D)}appendChild(D){this.domNode.appendChild(D.domNode)}removeChild(D){this.domNode.removeChild(D.domNode)}}function r(V){return typeof V=="number"?`${V}px`:V}function O(V){return new w(V)}},94079:function(Ot,Te,i){"use strict";i.d(Te,{BO:function(){return O},IY:function(){return r},az:function(){return V}});var w=i(65321);function r(L,c={}){const p=V(c);return p.textContent=L,p}function O(L,c={}){const p=V(c);return $(p,M(L,!!c.renderCodeSegments),c.actionHandler,c.renderCodeSegments),p}function V(L){const c=L.inline?"span":"div",p=document.createElement(c);return L.className&&(p.className=L.className),p}class D{constructor(c){this.source=c,this.index=0}eos(){return this.index>=this.source.length}next(){const c=this.peek();return this.advance(),c}peek(){return this.source[this.index]}advance(){this.index++}}function $(L,c,p,l){let n;if(c.type===2)n=document.createTextNode(c.content||"");else if(c.type===3)n=document.createElement("b");else if(c.type===4)n=document.createElement("i");else if(c.type===7&&l)n=document.createElement("code");else if(c.type===5&&p){const a=document.createElement("a");p.disposables.add(w.mu(a,"click",g=>{p.callback(String(c.index),g)})),n=a}else c.type===8?n=document.createElement("br"):c.type===1&&(n=L);n&&L!==n&&L.appendChild(n),n&&Array.isArray(c.children)&&c.children.forEach(a=>{$(n,a,p,l)})}function M(L,c){const p={type:1,children:[]};let l=0,n=p;const a=[],g=new D(L);for(;!g.eos();){let f=g.next();const u=f==="\\"&&A(g.peek(),c)!==0;if(u&&(f=g.next()),!u&&P(f,c)&&f===g.peek()){g.advance(),n.type===2&&(n=a.pop());const C=A(f,c);if(n.type===C||n.type===5&&C===6)n=a.pop();else{const y={type:C,children:[]};C===5&&(y.index=l,l++),n.children.push(y),a.push(n),n=y}}else if(f===`
`)n.type===2&&(n=a.pop()),n.children.push({type:8});else if(n.type!==2){const C={type:2,content:f};n.children.push(C),a.push(n),n=C}else n.content+=f}return n.type===2&&(n=a.pop()),a.length,p}function P(L,c){return A(L,c)!==0}function A(L,c){switch(L){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return c?7:0;default:return 0}}},93911:function(Ot,Te,i){"use strict";i.d(Te,{C:function(){return O}});var w=i(65321),r=i(9917);class O{constructor(){this._hooks=new r.SL,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(D,$){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const M=this._onStopCallback;this._onStopCallback=null,D&&M&&M($)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(D,$,M,P,A){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=P,this._onStopCallback=A;let L=D;try{D.setPointerCapture($),this._hooks.add((0,r.OF)(()=>{D.releasePointerCapture($)}))}catch{L=window}this._hooks.add(w.nm(L,w.tw.POINTER_MOVE,c=>{if(c.buttons!==M){this.stopMonitoring(!0);return}c.preventDefault(),this._pointerMoveCallback(c)})),this._hooks.add(w.nm(L,w.tw.POINTER_UP,c=>this.stopMonitoring(!0)))}}},59069:function(Ot,Te,i){"use strict";i.d(Te,{y:function(){return L}});var w=i(30747),r=i(22258),O=i(8313),V=i(1432);function D(c){if(c.charCode){const l=String.fromCharCode(c.charCode).toUpperCase();return r.kL.fromString(l)}const p=c.keyCode;if(p===3)return 7;if(w.isFirefox){if(p===59)return 80;if(p===107)return 81;if(p===109)return 83;if(V.dz&&p===224)return 57}else if(w.isWebKit){if(p===91)return 57;if(V.dz&&p===93)return 57;if(!V.dz&&p===92)return 57}return r.H_[p]||0}const $=V.dz?256:2048,M=512,P=1024,A=V.dz?2048:256;class L{constructor(p){this._standardKeyboardEventBrand=!0;const l=p;this.browserEvent=l,this.target=l.target,this.ctrlKey=l.ctrlKey,this.shiftKey=l.shiftKey,this.altKey=l.altKey,this.metaKey=l.metaKey,this.keyCode=D(l),this.code=l.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(p){return this._asKeybinding===p}_computeKeybinding(){let p=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(p=this.keyCode);let l=0;return this.ctrlKey&&(l|=$),this.altKey&&(l|=M),this.shiftKey&&(l|=P),this.metaKey&&(l|=A),l|=p,l}_computeRuntimeKeybinding(){let p=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(p=this.keyCode),new O.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,p)}}},7448:function(Ot,Te,i){"use strict";i.d(Te,{n:function(){return M},q:function(){return P}});var w=i(30747);let r=!1,O=null;function V(A){if(!A.parent||A.parent===A)return null;try{const L=A.location,c=A.parent.location;if(L.origin!=="null"&&c.origin!=="null"&&L.origin!==c.origin)return r=!0,null}catch{return r=!0,null}return A.parent}class D{static getSameOriginWindowChain(){if(!O){O=[];let L=window,c;do c=V(L),c?O.push({window:L,iframeElement:L.frameElement||null}):O.push({window:L,iframeElement:null}),L=c;while(L)}return O.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(L,c){if(!c||L===c)return{top:0,left:0};let p=0,l=0;const n=this.getSameOriginWindowChain();for(const a of n){if(p+=a.window.scrollY,l+=a.window.scrollX,a.window===c||!a.iframeElement)break;const g=a.iframeElement.getBoundingClientRect();p+=g.top,l+=g.left}return{top:p,left:l}}}var $=i(1432);class M{constructor(L){this.timestamp=Date.now(),this.browserEvent=L,this.leftButton=L.button===0,this.middleButton=L.button===1,this.rightButton=L.button===2,this.buttons=L.buttons,this.target=L.target,this.detail=L.detail||1,L.type==="dblclick"&&(this.detail=2),this.ctrlKey=L.ctrlKey,this.shiftKey=L.shiftKey,this.altKey=L.altKey,this.metaKey=L.metaKey,typeof L.pageX=="number"?(this.posx=L.pageX,this.posy=L.pageY):(this.posx=L.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=L.clientY+document.body.scrollTop+document.documentElement.scrollTop);const c=D.getPositionOfChildWindowRelativeToAncestorWindow(self,L.view);this.posx-=c.left,this.posy-=c.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class P{constructor(L,c=0,p=0){if(this.browserEvent=L||null,this.target=L?L.target||L.targetNode||L.srcElement:null,this.deltaY=p,this.deltaX=c,L){const l=L,n=L;if(typeof l.wheelDeltaY<"u")this.deltaY=l.wheelDeltaY/120;else if(typeof n.VERTICAL_AXIS<"u"&&n.axis===n.VERTICAL_AXIS)this.deltaY=-n.detail/3;else if(L.type==="wheel"){const a=L;a.deltaMode===a.DOM_DELTA_LINE?w.isFirefox&&!$.dz?this.deltaY=-L.deltaY/3:this.deltaY=-L.deltaY:this.deltaY=-L.deltaY/40}if(typeof l.wheelDeltaX<"u")w.isSafari&&$.ED?this.deltaX=-(l.wheelDeltaX/120):this.deltaX=l.wheelDeltaX/120;else if(typeof n.HORIZONTAL_AXIS<"u"&&n.axis===n.HORIZONTAL_AXIS)this.deltaX=-L.detail/3;else if(L.type==="wheel"){const a=L;a.deltaMode===a.DOM_DELTA_LINE?w.isFirefox&&!$.dz?this.deltaX=-L.deltaX/3:this.deltaX=-L.deltaX:this.deltaX=-L.deltaX/40}this.deltaY===0&&this.deltaX===0&&L.wheelDelta&&(this.deltaY=L.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},10553:function(Ot,Te,i){"use strict";i.d(Te,{o:function(){return M},t:function(){return $}});var w=i(65321),r=i(9488),O=i(49898),V=i(9917),D=function(P,A,L,c){var p=arguments.length,l=p<3?A:c===null?c=Object.getOwnPropertyDescriptor(A,L):c,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(P,A,L,c);else for(var a=P.length-1;a>=0;a--)(n=P[a])&&(l=(p<3?n(l):p>3?n(A,L,l):n(A,L))||l);return p>3&&l&&Object.defineProperty(A,L,l),l},$;(function(P){P.Tap="-monaco-gesturetap",P.Change="-monaco-gesturechange",P.Start="-monaco-gesturestart",P.End="-monaco-gesturesend",P.Contextmenu="-monaco-gesturecontextmenu"})($||($={}));class M extends V.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(w.nm(document,"touchstart",A=>this.onTouchStart(A),{passive:!1})),this._register(w.nm(document,"touchend",A=>this.onTouchEnd(A))),this._register(w.nm(document,"touchmove",A=>this.onTouchMove(A),{passive:!1}))}static addTarget(A){return M.isTouchDevice()?(M.INSTANCE||(M.INSTANCE=new M),M.INSTANCE.targets.push(A),{dispose:()=>{M.INSTANCE.targets=M.INSTANCE.targets.filter(L=>L!==A)}}):V.JT.None}static ignoreTarget(A){return M.isTouchDevice()?(M.INSTANCE||(M.INSTANCE=new M),M.INSTANCE.ignoreTargets.push(A),{dispose:()=>{M.INSTANCE.ignoreTargets=M.INSTANCE.ignoreTargets.filter(L=>L!==A)}}):V.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(A){const L=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let c=0,p=A.targetTouches.length;c<p;c++){const l=A.targetTouches.item(c);this.activeTouches[l.identifier]={id:l.identifier,initialTarget:l.target,initialTimeStamp:L,initialPageX:l.pageX,initialPageY:l.pageY,rollingTimestamps:[L],rollingPageX:[l.pageX],rollingPageY:[l.pageY]};const n=this.newGestureEvent($.Start,l.target);n.pageX=l.pageX,n.pageY=l.pageY,this.dispatchEvent(n)}this.dispatched&&(A.preventDefault(),A.stopPropagation(),this.dispatched=!1)}onTouchEnd(A){const L=Date.now(),c=Object.keys(this.activeTouches).length;for(let p=0,l=A.changedTouches.length;p<l;p++){const n=A.changedTouches.item(p);if(!this.activeTouches.hasOwnProperty(String(n.identifier))){console.warn("move of an UNKNOWN touch",n);continue}const a=this.activeTouches[n.identifier],g=Date.now()-a.initialTimeStamp;if(g<M.HOLD_DELAY&&Math.abs(a.initialPageX-r.Gb(a.rollingPageX))<30&&Math.abs(a.initialPageY-r.Gb(a.rollingPageY))<30){const f=this.newGestureEvent($.Tap,a.initialTarget);f.pageX=r.Gb(a.rollingPageX),f.pageY=r.Gb(a.rollingPageY),this.dispatchEvent(f)}else if(g>=M.HOLD_DELAY&&Math.abs(a.initialPageX-r.Gb(a.rollingPageX))<30&&Math.abs(a.initialPageY-r.Gb(a.rollingPageY))<30){const f=this.newGestureEvent($.Contextmenu,a.initialTarget);f.pageX=r.Gb(a.rollingPageX),f.pageY=r.Gb(a.rollingPageY),this.dispatchEvent(f)}else if(c===1){const f=r.Gb(a.rollingPageX),u=r.Gb(a.rollingPageY),C=r.Gb(a.rollingTimestamps)-a.rollingTimestamps[0],y=f-a.rollingPageX[0],b=u-a.rollingPageY[0],_=this.targets.filter(E=>a.initialTarget instanceof Node&&E.contains(a.initialTarget));this.inertia(_,L,Math.abs(y)/C,y>0?1:-1,f,Math.abs(b)/C,b>0?1:-1,u)}this.dispatchEvent(this.newGestureEvent($.End,a.initialTarget)),delete this.activeTouches[n.identifier]}this.dispatched&&(A.preventDefault(),A.stopPropagation(),this.dispatched=!1)}newGestureEvent(A,L){const c=document.createEvent("CustomEvent");return c.initEvent(A,!1,!0),c.initialTarget=L,c.tapCount=0,c}dispatchEvent(A){if(A.type===$.Tap){const L=new Date().getTime();let c=0;L-this._lastSetTapCountTime>M.CLEAR_TAP_COUNT_TIME?c=1:c=2,this._lastSetTapCountTime=L,A.tapCount=c}else(A.type===$.Change||A.type===$.Contextmenu)&&(this._lastSetTapCountTime=0);for(let L=0;L<this.ignoreTargets.length;L++)if(A.initialTarget instanceof Node&&this.ignoreTargets[L].contains(A.initialTarget))return;this.targets.forEach(L=>{A.initialTarget instanceof Node&&L.contains(A.initialTarget)&&(L.dispatchEvent(A),this.dispatched=!0)})}inertia(A,L,c,p,l,n,a,g){this.handle=w.jL(()=>{const f=Date.now(),u=f-L;let C=0,y=0,b=!0;c+=M.SCROLL_FRICTION*u,n+=M.SCROLL_FRICTION*u,c>0&&(b=!1,C=p*c*u),n>0&&(b=!1,y=a*n*u);const _=this.newGestureEvent($.Change);_.translationX=C,_.translationY=y,A.forEach(E=>E.dispatchEvent(_)),b||this.inertia(A,f,c,p,l+C,n,a,g+y)})}onTouchMove(A){const L=Date.now();for(let c=0,p=A.changedTouches.length;c<p;c++){const l=A.changedTouches.item(c);if(!this.activeTouches.hasOwnProperty(String(l.identifier))){console.warn("end of an UNKNOWN touch",l);continue}const n=this.activeTouches[l.identifier],a=this.newGestureEvent($.Change,n.initialTarget);a.translationX=l.pageX-r.Gb(n.rollingPageX),a.translationY=l.pageY-r.Gb(n.rollingPageY),a.pageX=l.pageX,a.pageY=l.pageY,this.dispatchEvent(a),n.rollingPageX.length>3&&(n.rollingPageX.shift(),n.rollingPageY.shift(),n.rollingTimestamps.shift()),n.rollingPageX.push(l.pageX),n.rollingPageY.push(l.pageY),n.rollingTimestamps.push(L)}this.dispatched&&(A.preventDefault(),A.stopPropagation(),this.dispatched=!1)}}M.SCROLL_FRICTION=-.005,M.HOLD_DELAY=700,M.CLEAR_TAP_COUNT_TIME=400,D([O.H],M,"isTouchDevice",null)},76033:function(Ot,Te,i){"use strict";i.d(Te,{Y:function(){return p},g:function(){return l}});var w=i(30747),r=i(23547),O=i(65321),V=i(10553),D=i(51433),$=i(74741),M=i(9917),P=i(1432),A=i(98401),L=i(31285),c=i(63580);class p extends M.JT{constructor(a,g,f={}){super(),this.options=f,this._context=a||this,this._action=g,g instanceof $.aU&&this._register(g.onDidChange(u=>{!this.element||this.handleActionChangeEvent(u)}))}get action(){return this._action}handleActionChangeEvent(a){a.enabled!==void 0&&this.updateEnabled(),a.checked!==void 0&&this.updateChecked(),a.class!==void 0&&this.updateClass(),a.label!==void 0&&(this.updateLabel(),this.updateTooltip()),a.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new $.Wi)),this._actionRunner}set actionRunner(a){this._actionRunner=a}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(a){this._context=a}render(a){const g=this.element=a;this._register(V.o.addTarget(a));const f=this.options&&this.options.draggable;f&&(a.draggable=!0,w.isFirefox&&this._register((0,O.nm)(a,O.tw.DRAG_START,u=>{var C;return(C=u.dataTransfer)===null||C===void 0?void 0:C.setData(r.g.TEXT,this._action.label)}))),this._register((0,O.nm)(g,V.t.Tap,u=>this.onClick(u,!0))),this._register((0,O.nm)(g,O.tw.MOUSE_DOWN,u=>{f||O.zB.stop(u,!0),this._action.enabled&&u.button===0&&g.classList.add("active")})),P.dz&&this._register((0,O.nm)(g,O.tw.CONTEXT_MENU,u=>{u.button===0&&u.ctrlKey===!0&&this.onClick(u)})),this._register((0,O.nm)(g,O.tw.CLICK,u=>{O.zB.stop(u,!0),this.options&&this.options.isMenu||this.onClick(u)})),this._register((0,O.nm)(g,O.tw.DBLCLICK,u=>{O.zB.stop(u,!0)})),[O.tw.MOUSE_UP,O.tw.MOUSE_OUT].forEach(u=>{this._register((0,O.nm)(g,u,C=>{O.zB.stop(C),g.classList.remove("active")}))})}onClick(a,g=!1){var f;O.zB.stop(a,!0);const u=A.Jp(this._context)?!((f=this.options)===null||f===void 0)&&f.useEventAsContext?a:{preserveFocus:g}:this._context;this.actionRunner.run(this._action,u)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(a){this.element&&(this.element.tabIndex=a?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.getAction().tooltip}updateTooltip(){var a;if(!this.element)return;const g=(a=this.getTooltip())!==null&&a!==void 0?a:"";this.element.setAttribute("aria-label",g),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(g):(this.customHover=(0,D.g)(this.options.hoverDelegate,this.element,g),this._store.add(this.customHover))):this.element.title=g}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class l extends p{constructor(a,g,f={}){super(a,g,f),this.options=f,this.options.icon=f.icon!==void 0?f.icon:!1,this.options.label=f.label!==void 0?f.label:!0,this.cssClass=""}render(a){super.render(a),this.element&&(this.label=(0,O.R3)(this.element,(0,O.$)("a.action-label"))),this.label&&(this._action.id===$.Z0.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,O.R3)(this.element,(0,O.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(a){this.label&&(this.label.tabIndex=a?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}getTooltip(){let a=null;return this.getAction().tooltip?a=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(a=this.getAction().label,this.options.keybinding&&(a=c.NC({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",a,this.options.keybinding))),a??void 0}updateClass(){var a;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(a=this.label)===null||a===void 0||a.classList.remove("codicon")}updateEnabled(){var a,g;this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(a=this.element)===null||a===void 0||a.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(g=this.element)===null||g===void 0||g.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},90317:function(Ot,Te,i){"use strict";i.d(Te,{o:function(){return L}});var w=i(65321),r=i(59069),O=i(76033),V=i(74741),D=i(4669),$=i(9917),M=i(98401),P=i(31285),A=function(c,p,l,n){function a(g){return g instanceof l?g:new l(function(f){f(g)})}return new(l||(l=Promise))(function(g,f){function u(b){try{y(n.next(b))}catch(_){f(_)}}function C(b){try{y(n.throw(b))}catch(_){f(_)}}function y(b){b.done?g(b.value):a(b.value).then(u,C)}y((n=n.apply(c,p||[])).next())})};class L extends $.JT{constructor(p,l={}){var n,a,g,f,u,C;super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new D.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new D.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new D.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new D.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=l,this._context=(n=l.context)!==null&&n!==void 0?n:null,this._orientation=(a=this.options.orientation)!==null&&a!==void 0?a:0,this._triggerKeys={keyDown:(f=(g=this.options.triggerKeys)===null||g===void 0?void 0:g.keyDown)!==null&&f!==void 0?f:!1,keys:(C=(u=this.options.triggerKeys)===null||u===void 0?void 0:u.keys)!==null&&C!==void 0?C:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new V.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(_=>this._onDidRun.fire(_))),this._register(this._actionRunner.onBeforeRun(_=>this._onBeforeRun.fire(_))),this._actionIds=[],this.viewItems=[],this.viewItemDisposables=new Map,this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",l.animated!==!1&&this.domNode.classList.add("animated");let y,b;switch(this._orientation){case 0:y=[15],b=[17];break;case 1:y=[16],b=[18],this.domNode.className+=" vertical";break}this._register(w.nm(this.domNode,w.tw.KEY_DOWN,_=>{const E=new r.y(_);let I=!0;const R=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;y&&(E.equals(y[0])||E.equals(y[1]))?I=this.focusPrevious():b&&(E.equals(b[0])||E.equals(b[1]))?I=this.focusNext():E.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():E.equals(14)?I=this.focusFirst():E.equals(13)?I=this.focusLast():E.equals(2)&&R instanceof O.Y&&R.trapsArrowNavigation?I=this.focusNext():this.isTriggerKeyEvent(E)?this._triggerKeys.keyDown?this.doTrigger(E):this.triggerKeyDown=!0:I=!1,I&&(E.preventDefault(),E.stopPropagation())})),this._register(w.nm(this.domNode,w.tw.KEY_UP,_=>{const E=new r.y(_);this.isTriggerKeyEvent(E)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(E)),E.preventDefault(),E.stopPropagation()):(E.equals(2)||E.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(w.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(w.vY()===this.domNode||!w.jg(w.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),p.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(p){if(this.focusable=p,this.focusable){const l=this.viewItems.find(n=>n instanceof O.Y&&n.isEnabled());l instanceof O.Y&&l.setFocusable(!0)}else this.viewItems.forEach(l=>{l instanceof O.Y&&l.setFocusable(!1)})}isTriggerKeyEvent(p){let l=!1;return this._triggerKeys.keys.forEach(n=>{l=l||p.equals(n)}),l}updateFocusedItem(){for(let p=0;p<this.actionsList.children.length;p++){const l=this.actionsList.children[p];if(w.jg(w.vY(),l)){this.focusedItem=p;break}}}get context(){return this._context}set context(p){this._context=p,this.viewItems.forEach(l=>l.setActionContext(p))}get actionRunner(){return this._actionRunner}set actionRunner(p){p&&(this._actionRunner=p,this.viewItems.forEach(l=>l.actionRunner=p))}getContainer(){return this.domNode}push(p,l={}){const n=Array.isArray(p)?p:[p];let a=M.hj(l.index)?l.index:null;n.forEach(g=>{const f=document.createElement("li");f.className="action-item",f.setAttribute("role","presentation");let u;this.options.actionViewItemProvider&&(u=this.options.actionViewItemProvider(g)),u||(u=new O.g(this.context,g,Object.assign({hoverDelegate:this.options.hoverDelegate},l))),this.options.allowContextMenu||this.viewItemDisposables.set(u,w.nm(f,w.tw.CONTEXT_MENU,C=>{w.zB.stop(C,!0)})),u.actionRunner=this._actionRunner,u.setActionContext(this.context),u.render(f),this.focusable&&u instanceof O.Y&&this.viewItems.length===0&&u.setFocusable(!0),a===null||a<0||a>=this.actionsList.children.length?(this.actionsList.appendChild(f),this.viewItems.push(u),this._actionIds.push(g.id)):(this.actionsList.insertBefore(f,this.actionsList.children[a]),this.viewItems.splice(a,0,u),this._actionIds.splice(a,0,g.id),a++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,$.B9)(this.viewItems),this.viewItemDisposables.forEach(p=>p.dispose()),this.viewItemDisposables.clear(),this.viewItems=[],this._actionIds=[],w.PO(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(p){let l=!1,n;if(p===void 0?l=!0:typeof p=="number"?n=p:typeof p=="boolean"&&(l=p),l&&typeof this.focusedItem>"u"){const a=this.viewItems.findIndex(g=>g.isEnabled());this.focusedItem=a===-1?void 0:a,this.updateFocus(void 0,void 0,!0)}else n!==void 0&&(this.focusedItem=n),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(p){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const l=this.focusedItem;let n;do{if(!p&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=l,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,n=this.viewItems[this.focusedItem]}while(this.focusedItem!==l&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===V.Z0.ID));return this.updateFocus(),!0}focusPrevious(p){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const l=this.focusedItem;let n;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!p&&this.options.preventLoopNavigation)return this.focusedItem=l,!1;this.focusedItem=this.viewItems.length-1}n=this.viewItems[this.focusedItem]}while(this.focusedItem!==l&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===V.Z0.ID));return this.updateFocus(!0),!0}updateFocus(p,l,n=!1){var a;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:l}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((a=this.viewItems[this.previouslyFocusedItem])===null||a===void 0||a.blur());const g=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(g){let f=!0;M.mf(g.focus)||(f=!1),this.options.focusOnlyEnabledItems&&M.mf(g.isEnabled)&&!g.isEnabled()&&(f=!1),g.action.id===V.Z0.ID&&(f=!1),f?(n||this.previouslyFocusedItem!==this.focusedItem)&&(g.focus(p),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:l}),this.previouslyFocusedItem=void 0)}}doTrigger(p){if(typeof this.focusedItem>"u")return;const l=this.viewItems[this.focusedItem];if(l instanceof O.Y){const n=l._context===null||l._context===void 0?p:l._context;this.run(l._action,n)}}run(p,l){return A(this,void 0,void 0,function*(){yield this._actionRunner.run(p,l)})}dispose(){(0,$.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},57924:function(Ot,Te,i){"use strict";i.d(Te,{Z9:function(){return L},wW:function(){return A},i7:function(){return c}});var w=i(65321),r=i(1432);const O=2e4;let V,D,$,M,P;function A(l){V=document.createElement("div"),V.className="monaco-aria-container";const n=()=>{const g=document.createElement("div");return g.className="monaco-alert",g.setAttribute("role","alert"),g.setAttribute("aria-atomic","true"),V.appendChild(g),g};D=n(),$=n();const a=()=>{const g=document.createElement("div");return g.className="monaco-status",g.setAttribute("role","complementary"),g.setAttribute("aria-live","polite"),g.setAttribute("aria-atomic","true"),V.appendChild(g),g};M=a(),P=a(),l.appendChild(V)}function L(l){!V||(D.textContent!==l?(w.PO($),p(D,l)):(w.PO(D),p($,l)))}function c(l){!V||(r.dz?L(l):M.textContent!==l?(w.PO(P),p(M,l)):(w.PO(M),p(P,l)))}function p(l,n){w.PO(l),n.length>O&&(n=n.substr(0,O)),l.textContent=n,l.style.visibility="hidden",l.style.visibility="visible"}},11287:function(Ot,Te,i){"use strict";i.d(Te,{a:function(){return r}});var w=i(73046);function r(O){let V=O.definition;for(;V instanceof w.lA;)V=V.definition;return`.codicon-${O.id}:before { content: '${V.fontCharacter}'; }`}},4451:function(Ot,Te,i){"use strict";i.d(Te,{Z:function(){return $}});var w=i(65321),r=i(41264),O=i(36248),V=i(97295);const D={badgeBackground:r.Il.fromHex("#4D4D4D"),badgeForeground:r.Il.fromHex("#FFFFFF")};class ${constructor(P,A){this.count=0,this.options=A||Object.create(null),(0,O.jB)(this.options,D,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,w.R3)(P,(0,w.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(P){this.count=P,this.render()}setTitleFormat(P){this.titleFormat=P,this.render()}render(){this.element.textContent=(0,V.WU)(this.countFormat,this.count),this.element.title=(0,V.WU)(this.titleFormat,this.count),this.applyStyles()}style(P){this.badgeBackground=P.badgeBackground,this.badgeForeground=P.badgeForeground,this.badgeBorder=P.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const P=this.badgeBackground?this.badgeBackground.toString():"",A=this.badgeForeground?this.badgeForeground.toString():"",L=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=P,this.element.style.color=A,this.element.style.borderWidth=L?"1px":"",this.element.style.borderStyle=L?"solid":"",this.element.style.borderColor=L}}}},50153:function(Ot,Te,i){"use strict";i.d(Te,{V:function(){return A}});var w=i(65321),r=i(51307),O=i(41519),V=i(93794),D=i(4669),$=i(60812),M=i(63580);const P=M.NC("defaultLabel","input");class A extends V.${constructor(c,p,l,n){var a;super(),this._showOptionButtons=l,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalToggles=[],this._onDidOptionChange=this._register(new D.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new D.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new D.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new D.Q5),this._onKeyUp=this._register(new D.Q5),this._onCaseSensitiveKeyDown=this._register(new D.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new D.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=p,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||P,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const g=n.appendCaseSensitiveLabel||"",f=n.appendWholeWordsLabel||"",u=n.appendRegexLabel||"",C=n.history||[],y=!!n.flexibleHeight,b=!!n.flexibleWidth,_=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new O.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:C,showHistoryHint:n.showHistoryHint,flexibleHeight:y,flexibleWidth:b,flexibleMaxHeight:_})),this.regex=this._register(new r.eH({appendTitle:u,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(I=>{this._onDidOptionChange.fire(I),!I&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(I=>{this._onRegexKeyDown.fire(I)})),this.wholeWords=this._register(new r.Qx({appendTitle:f,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(I=>{this._onDidOptionChange.fire(I),!I&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new r.rk({appendTitle:g,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(I=>{this._onDidOptionChange.fire(I),!I&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(I=>{this._onCaseSensitiveKeyDown.fire(I)}));const E=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,I=>{if(I.equals(15)||I.equals(17)||I.equals(9)){const R=E.indexOf(document.activeElement);if(R>=0){let J=-1;I.equals(17)?J=(R+1)%E.length:I.equals(15)&&(R===0?J=E.length-1:J=R-1),I.equals(9)?(E[R].blur(),this.inputBox.focus()):J>=0&&E[J].focus(),w.zB.stop(I,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this._showOptionButtons||(this.caseSensitive.domNode.style.display="none",this.wholeWords.domNode.style.display="none",this.regex.domNode.style.display="none");for(const I of(a=n==null?void 0:n.additionalToggles)!==null&&a!==void 0?a:[])this._register(I),this.controls.appendChild(I.domNode),this._register(I.onChange(R=>{this._onDidOptionChange.fire(R),!R&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(I);this.additionalToggles.length>0&&(this.controls.style.display="block"),this.inputBox.paddingRight=(this._showOptionButtons?this.caseSensitive.width()+this.wholeWords.width()+this.regex.width():0)+this.additionalToggles.reduce((I,R)=>I+R.width(),0),this.domNode.appendChild(this.controls),c==null||c.appendChild(this.domNode),this._register(w.nm(this.inputBox.inputElement,"compositionstart",I=>{this.imeSessionInProgress=!0})),this._register(w.nm(this.inputBox.inputElement,"compositionend",I=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,I=>this._onKeyDown.fire(I)),this.onkeyup(this.inputBox.inputElement,I=>this._onKeyUp.fire(I)),this.oninput(this.inputBox.inputElement,I=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,I=>this._onMouseDown.fire(I))}get onDidChange(){return this.inputBox.onDidChange}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable();for(const c of this.additionalToggles)c.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable();for(const c of this.additionalToggles)c.disable()}setFocusInputOnOptionClick(c){this.fixFocusOnOptionClickEnabled=c}setEnabled(c){c?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(c){this.inputBox.value!==c&&(this.inputBox.value=c)}style(c){this.inputActiveOptionBorder=c.inputActiveOptionBorder,this.inputActiveOptionForeground=c.inputActiveOptionForeground,this.inputActiveOptionBackground=c.inputActiveOptionBackground,this.inputBackground=c.inputBackground,this.inputForeground=c.inputForeground,this.inputBorder=c.inputBorder,this.inputValidationInfoBackground=c.inputValidationInfoBackground,this.inputValidationInfoForeground=c.inputValidationInfoForeground,this.inputValidationInfoBorder=c.inputValidationInfoBorder,this.inputValidationWarningBackground=c.inputValidationWarningBackground,this.inputValidationWarningForeground=c.inputValidationWarningForeground,this.inputValidationWarningBorder=c.inputValidationWarningBorder,this.inputValidationErrorBackground=c.inputValidationErrorBackground,this.inputValidationErrorForeground=c.inputValidationErrorForeground,this.inputValidationErrorBorder=c.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const c={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(c),this.wholeWords.style(c),this.caseSensitive.style(c);for(const l of this.additionalToggles)l.style(c);const p={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(p)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(c){this.caseSensitive.checked=c}getWholeWords(){return this.wholeWords.checked}setWholeWords(c){this.wholeWords.checked=c}getRegex(){return this.regex.checked}setRegex(c){this.regex.checked=c,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(c){this.inputBox.showMessage(c)}clearMessage(){this.inputBox.hideMessage()}}},51307:function(Ot,Te,i){"use strict";i.d(Te,{Qx:function(){return P},eH:function(){return A},rk:function(){return M}});var w=i(76661),r=i(73046),O=i(63580);const V=O.NC("caseDescription","Match Case"),D=O.NC("wordsDescription","Match Whole Word"),$=O.NC("regexDescription","Use Regular Expression");class M extends w.Z{constructor(c){super({icon:r.lA.caseSensitive,title:V+c.appendTitle,isChecked:c.isChecked,inputActiveOptionBorder:c.inputActiveOptionBorder,inputActiveOptionForeground:c.inputActiveOptionForeground,inputActiveOptionBackground:c.inputActiveOptionBackground})}}class P extends w.Z{constructor(c){super({icon:r.lA.wholeWord,title:D+c.appendTitle,isChecked:c.isChecked,inputActiveOptionBorder:c.inputActiveOptionBorder,inputActiveOptionForeground:c.inputActiveOptionForeground,inputActiveOptionBackground:c.inputActiveOptionBackground})}}class A extends w.Z{constructor(c){super({icon:r.lA.regex,title:$+c.appendTitle,isChecked:c.isChecked,inputActiveOptionBorder:c.inputActiveOptionBorder,inputActiveOptionForeground:c.inputActiveOptionForeground,inputActiveOptionBackground:c.inputActiveOptionBackground})}}},34650:function(Ot,Te,i){"use strict";i.d(Te,{q:function(){return V}});var w=i(65321),r=i(56811),O=i(36248);class V{constructor($,M){var P;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(P=M==null?void 0:M.supportIcons)!==null&&P!==void 0?P:!1,this.domNode=w.R3($,w.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set($,M=[],P="",A){$||($=""),A&&($=V.escapeNewLines($,M)),!(this.didEverRender&&this.text===$&&this.title===P&&O.fS(this.highlights,M))&&(this.text=$,this.title=P,this.highlights=M,this.render())}render(){const $=[];let M=0;for(const P of this.highlights){if(P.end===P.start)continue;if(M<P.start){const c=this.text.substring(M,P.start);$.push(w.$("span",void 0,...this.supportIcons?(0,r.T)(c):[c])),M=P.end}const A=this.text.substring(P.start,P.end),L=w.$("span.highlight",void 0,...this.supportIcons?(0,r.T)(A):[A]);P.extraClasses&&L.classList.add(...P.extraClasses),$.push(L),M=P.end}if(M<this.text.length){const P=this.text.substring(M);$.push(w.$("span",void 0,...this.supportIcons?(0,r.T)(P):[P]))}w.mc(this.domNode,...$),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines($,M){let P=0,A=0;return $.replace(/\r\n|\r|\n/g,(L,c)=>{A=L===`\r
`?-1:0,c+=P;for(const p of M)p.end<=c||(p.start>=c&&(p.start+=A),p.end>=c&&(p.end+=A));return P+=A,"\u23CE"})}}},11069:function(Ot,Te,i){"use strict";i.d(Te,{g:function(){return P}});var w=i(65321),r=i(34650),O=i(51433),V=i(9917),D=i(36248),$=i(61134);class M{constructor(l){this._element=l}get element(){return this._element}set textContent(l){this.disposed||l===this._textContent||(this._textContent=l,this._element.textContent=l)}set className(l){this.disposed||l===this._className||(this._className=l,this._element.className=l)}set empty(l){this.disposed||l===this._empty||(this._empty=l,this._element.style.marginLeft=l?"0":"")}dispose(){this.disposed=!0}}class P extends V.JT{constructor(l,n){super(),this.customHovers=new Map,this.domNode=this._register(new M(w.R3(l,w.$(".monaco-icon-label")))),this.labelContainer=w.R3(this.domNode.element,w.$(".monaco-icon-label-container"));const a=w.R3(this.labelContainer,w.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new M(w.R3(this.labelContainer,w.$("span.monaco-icon-description-container")))),(n==null?void 0:n.supportHighlights)||(n==null?void 0:n.supportIcons)?this.nameNode=new c(a,!!n.supportIcons):this.nameNode=new A(a),n!=null&&n.supportDescriptionHighlights?this.descriptionNodeFactory=()=>new r.q(w.R3(this.descriptionContainer.element,w.$("span.label-description")),{supportIcons:!!n.supportIcons}):this.descriptionNodeFactory=()=>this._register(new M(w.R3(this.descriptionContainer.element,w.$("span.label-description")))),this.hoverDelegate=n==null?void 0:n.hoverDelegate}get element(){return this.domNode.element}setLabel(l,n,a){const g=["monaco-icon-label"];a&&(a.extraClasses&&g.push(...a.extraClasses),a.italic&&g.push("italic"),a.strikethrough&&g.push("strikethrough")),this.domNode.className=g.join(" "),this.setupHover(a!=null&&a.descriptionTitle?this.labelContainer:this.element,a==null?void 0:a.title),this.nameNode.setLabel(l,a),(n||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof r.q?(this.descriptionNode.set(n||"",a?a.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,a==null?void 0:a.descriptionTitle)):(this.descriptionNode.textContent=n||"",this.setupHover(this.descriptionNode.element,(a==null?void 0:a.descriptionTitle)||""),this.descriptionNode.empty=!n))}setupHover(l,n){const a=this.customHovers.get(l);if(a&&(a.dispose(),this.customHovers.delete(l)),!n){l.removeAttribute("title");return}if(!this.hoverDelegate)(0,O.O)(l,n);else{const g=(0,O.g)(this.hoverDelegate,l,n);g&&this.customHovers.set(l,g)}}dispose(){super.dispose();for(const l of this.customHovers.values())l.dispose();this.customHovers.clear()}}class A{constructor(l){this.container=l,this.label=void 0,this.singleLabel=void 0}setLabel(l,n){if(!(this.label===l&&(0,D.fS)(this.options,n)))if(this.label=l,this.options=n,typeof l=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=w.R3(this.container,w.$("a.label-name",{id:n==null?void 0:n.domId}))),this.singleLabel.textContent=l;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let a=0;a<l.length;a++){const g=l[a],f=(n==null?void 0:n.domId)&&`${n==null?void 0:n.domId}_${a}`;w.R3(this.container,w.$("a.label-name",{id:f,"data-icon-label-count":l.length,"data-icon-label-index":a,role:"treeitem"},g)),a<l.length-1&&w.R3(this.container,w.$("span.label-separator",void 0,(n==null?void 0:n.separator)||"/"))}}}}function L(p,l,n){if(!n)return;let a=0;return p.map(g=>{const f={start:a,end:a+g.length},u=n.map(C=>$.e.intersect(f,C)).filter(C=>!$.e.isEmpty(C)).map(({start:C,end:y})=>({start:C-a,end:y-a}));return a=f.end+l.length,u})}class c{constructor(l,n){this.container=l,this.supportIcons=n,this.label=void 0,this.singleLabel=void 0}setLabel(l,n){if(!(this.label===l&&(0,D.fS)(this.options,n)))if(this.label=l,this.options=n,typeof l=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new r.q(w.R3(this.container,w.$("a.label-name",{id:n==null?void 0:n.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(l,n==null?void 0:n.matches,void 0,n==null?void 0:n.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const a=(n==null?void 0:n.separator)||"/",g=L(l,a,n==null?void 0:n.matches);for(let f=0;f<l.length;f++){const u=l[f],C=g?g[f]:void 0,y=(n==null?void 0:n.domId)&&`${n==null?void 0:n.domId}_${f}`,b=w.$("a.label-name",{id:y,"data-icon-label-count":l.length,"data-icon-label-index":f,role:"treeitem"});new r.q(w.R3(this.container,b),{supportIcons:this.supportIcons}).set(u,C,void 0,n==null?void 0:n.labelEscapeNewLines),f<l.length-1&&w.R3(b,w.$("span.label-separator",void 0,a))}}}}},51433:function(Ot,Te,i){"use strict";i.d(Te,{O:function(){return L},g:function(){return p}});var w=i(65321),r=i(15393),O=i(71050),V=i(59365),D=i(21212),$=i(9917),M=i(98401),P=i(63580),A=function(l,n,a,g){function f(u){return u instanceof a?u:new a(function(C){C(u)})}return new(a||(a=Promise))(function(u,C){function y(E){try{_(g.next(E))}catch(I){C(I)}}function b(E){try{_(g.throw(E))}catch(I){C(I)}}function _(E){E.done?u(E.value):f(E.value).then(y,b)}_((g=g.apply(l,n||[])).next())})};function L(l,n){(0,M.HD)(n)?l.title=(0,D.x$)(n):n!=null&&n.markdownNotSupportedFallback?l.title=n.markdownNotSupportedFallback:l.removeAttribute("title")}class c{constructor(n,a,g){this.hoverDelegate=n,this.target=a,this.fadeInAnimation=g}update(n,a,g){var f;return A(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let u;if(n===void 0||(0,M.HD)(n)||n instanceof HTMLElement)u=n;else if(!(0,M.mf)(n.markdown))u=(f=n.markdown)!==null&&f!==void 0?f:n.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,P.NC)("iconLabel.loading","Loading..."),a),this._cancellationTokenSource=new O.A;const C=this._cancellationTokenSource.token;if(u=yield n.markdown(C),u===void 0&&(u=n.markdownNotSupportedFallback),this.isDisposed||C.isCancellationRequested)return}this.show(u,a,g)})}show(n,a,g){const f=this._hoverWidget;if(this.hasContent(n)){const u=Object.assign({content:n,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!f},g);this._hoverWidget=this.hoverDelegate.showHover(u,a)}f==null||f.dispose()}hasContent(n){return n?(0,V.Fr)(n)?!!n.value:!0:!1}get isDisposed(){var n;return(n=this._hoverWidget)===null||n===void 0?void 0:n.isDisposed}dispose(){var n,a;(n=this._hoverWidget)===null||n===void 0||n.dispose(),(a=this._cancellationTokenSource)===null||a===void 0||a.dispose(!0),this._cancellationTokenSource=void 0}}function p(l,n,a,g){let f,u;const C=(I,R)=>{var J;I&&(u==null||u.dispose(),u=void 0),R&&(f==null||f.dispose(),f=void 0),(J=l.onDidHideHover)===null||J===void 0||J.call(l)},y=(I,R,J)=>new r._F(()=>A(this,void 0,void 0,function*(){(!u||u.isDisposed)&&(u=new c(l,J||n,I>0),yield u.update(a,R,g))}),I),b=()=>{if(f)return;const I=new $.SL,R=U=>C(!1,U.fromElement===n);I.add(w.nm(n,w.tw.MOUSE_LEAVE,R,!0));const J=()=>C(!0,!0);I.add(w.nm(n,w.tw.MOUSE_DOWN,J,!0));const Q={targetElements:[n],dispose:()=>{}};if(l.placement===void 0||l.placement==="mouse"){const U=K=>{Q.x=K.x+10,K.target instanceof HTMLElement&&K.target.classList.contains("action-label")&&C(!0,!0)};I.add(w.nm(n,w.tw.MOUSE_MOVE,U,!0))}I.add(y(l.delay,!1,Q)),f=I},_=w.nm(n,w.tw.MOUSE_OVER,b,!0);return{show:I=>{C(!1,!0),y(0,I)},hide:()=>{C(!0,!0)},update:(I,R)=>A(this,void 0,void 0,function*(){a=I,yield u==null?void 0:u.update(a,void 0,R)}),dispose:()=>{_.dispose(),C(!0,!0)}}}},56811:function(Ot,Te,i){"use strict";i.d(Te,{T:function(){return V}});var w=i(65321),r=i(73046);const O=new RegExp(`(\\\\)?\\$\\((${r.dT.iconNameExpression}(?:${r.dT.iconModifierExpression})?)\\)`,"g");function V($){const M=new Array;let P,A=0,L=0;for(;(P=O.exec($))!==null;){L=P.index||0,M.push($.substring(A,L)),A=(P.index||0)+P[0].length;const[,c,p]=P;M.push(c?`$(${p})`:D({id:p}))}return A<$.length&&M.push($.substring(A)),M}function D($){const M=w.$("span");return M.classList.add(...r.dT.asClassNameArray($)),M}},41519:function(Ot,Te,i){"use strict";i.d(Te,{p:function(){return f},W:function(){return g}});var w=i(65321),r=i(4850),O=i(94079),V=i(90317),D=i(57924),$=i(41416),M=i(93794),P=i(41264),A=i(4669);class L{constructor(C,y=0,b=C.length,_=y-1){this.items=C,this.start=y,this.end=b,this.index=_}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class c{constructor(C=[],y=10){this._initialize(C),this._limit=y,this._onChange()}getHistory(){return this._elements}add(C){this._history.delete(C),this._history.add(C),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(C){return this._history.has(C)}_onChange(){this._reduceToLimit();const C=this._elements;this._navigator=new L(C,0,C.length,C.length)}_reduceToLimit(){const C=this._elements;C.length>this._limit&&this._initialize(C.slice(C.length-this._limit))}_currentPosition(){const C=this._navigator.current();return C?this._elements.indexOf(C):-1}_initialize(C){this._history=new Set;for(const y of C)this._history.add(y)}get _elements(){const C=[];return this._history.forEach(y=>C.push(y)),C}}var p=i(36248),l=i(63580);const n=w.$,a={inputBackground:P.Il.fromHex("#3C3C3C"),inputForeground:P.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:P.Il.fromHex("#55AAFF"),inputValidationInfoBackground:P.Il.fromHex("#063B49"),inputValidationWarningBorder:P.Il.fromHex("#B89500"),inputValidationWarningBackground:P.Il.fromHex("#352A05"),inputValidationErrorBorder:P.Il.fromHex("#BE1100"),inputValidationErrorBackground:P.Il.fromHex("#5A1D1D")};class g extends M.${constructor(C,y,b){var _;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new A.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new A.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=y,this.options=b||Object.create(null),(0,p.jB)(this.options,a,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(_=this.options.tooltip)!==null&&_!==void 0?_:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=w.R3(C,n(".monaco-inputbox.idle"));const E=this.options.flexibleHeight?"textarea":"input",I=w.R3(this.element,n(".ibwrapper"));if(this.input=w.R3(I,n(E+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=w.R3(I,n("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new $.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),w.R3(C,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(Q=>this.input.scrollTop=Q.scrollTop));const R=this._register(new r.Y(document,"selectionchange")),J=A.ju.filter(R.event,()=>{const Q=document.getSelection();return(Q==null?void 0:Q.anchorNode)===I});this._register(J(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new V.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(C){this.placeholder=C,this.input.setAttribute("placeholder",C)}setTooltip(C){this.tooltip=C,this.input.title=C}setAriaLabel(C){this.ariaLabel=C,C?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(C){this.input.value!==C&&(this.input.value=C,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:w.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(C=null){this.input.select(),C&&(this.input.setSelectionRange(C.start,C.end),C.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return w.w(this.input)}set width(C){if(this.options.flexibleHeight&&this.options.flexibleWidth){let y=0;if(this.mirror){const b=parseFloat(this.mirror.style.paddingLeft||"")||0,_=parseFloat(this.mirror.style.paddingRight||"")||0;y=b+_}this.input.style.width=C-y+"px"}else this.input.style.width=C+"px";this.mirror&&(this.mirror.style.width=C+"px")}set paddingRight(C){this.input.style.width=`calc(100% - ${C}px)`,this.mirror&&(this.mirror.style.paddingRight=C+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const C=this.cachedContentHeight,y=this.cachedHeight,b=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:C,height:y}),this.scrollableElement.setScrollPosition({scrollTop:b})}showMessage(C,y){this.message=C,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(C.type));const b=this.stylesForType(this.message.type);this.element.style.border=b.border?`1px solid ${b.border}`:"",(this.hasFocus()||y)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let C=null;return this.validation&&(C=this.validation(this.value),C?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(C)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),C==null?void 0:C.type}stylesForType(C){switch(C){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(C){switch(C){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let C;const y=()=>C.style.width=w.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:_=>{if(!this.message)return null;C=w.R3(_,n(".monaco-inputbox-container")),y();const E={inline:!0,className:"monaco-inputbox-message"},I=this.message.formatContent?(0,O.BO)(this.message.content,E):(0,O.IY)(this.message.content,E);I.classList.add(this.classForType(this.message.type));const R=this.stylesForType(this.message.type);return I.style.backgroundColor=R.background?R.background.toString():"",I.style.color=R.foreground?R.foreground.toString():"",I.style.border=R.border?`1px solid ${R.border}`:"",w.R3(C,I),null},onHide:()=>{this.state="closed"},layout:y});let b;this.message.type===3?b=l.NC("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?b=l.NC("alertWarningMessage","Warning: {0}",this.message.content):b=l.NC("alertInfoMessage","Info: {0}",this.message.content),D.Z9(b),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const C=this.value,b=C.charCodeAt(C.length-1)===10?" ":"";(C+b).replace(/\u000c/g,"")?this.mirror.textContent=C+b:this.mirror.innerText="\xA0",this.layout()}style(C){this.inputBackground=C.inputBackground,this.inputForeground=C.inputForeground,this.inputBorder=C.inputBorder,this.inputValidationInfoBackground=C.inputValidationInfoBackground,this.inputValidationInfoForeground=C.inputValidationInfoForeground,this.inputValidationInfoBorder=C.inputValidationInfoBorder,this.inputValidationWarningBackground=C.inputValidationWarningBackground,this.inputValidationWarningForeground=C.inputValidationWarningForeground,this.inputValidationWarningBorder=C.inputValidationWarningBorder,this.inputValidationErrorBackground=C.inputValidationErrorBackground,this.inputValidationErrorForeground=C.inputValidationErrorForeground,this.inputValidationErrorBorder=C.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const C=this.inputBackground?this.inputBackground.toString():"",y=this.inputForeground?this.inputForeground.toString():"",b=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=C,this.element.style.color=y,this.input.style.backgroundColor="inherit",this.input.style.color=y,this.element.style.borderWidth=b?"1px":"",this.element.style.borderStyle=b?"solid":"",this.element.style.borderColor=b}layout(){if(!this.mirror)return;const C=this.cachedContentHeight;this.cachedContentHeight=w.wn(this.mirror),C!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(C){const y=this.inputElement,b=y.selectionStart,_=y.selectionEnd,E=y.value;b!==null&&_!==null&&(this.value=E.substr(0,b)+C+E.substr(_),y.setSelectionRange(b+1,b+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class f extends g{constructor(C,y,b){const _=l.NC({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),E=` or \u21C5 ${_}`,I=` (\u21C5 ${_})`;super(C,y,b),this._onDidFocus=this._register(new A.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new A.Q5),this.onDidBlur=this._onDidBlur.event,this.history=new c(b.history,100);const R=()=>{if(b.showHistoryHint&&b.showHistoryHint()&&!this.placeholder.endsWith(E)&&!this.placeholder.endsWith(I)&&this.history.getHistory().length){const J=this.placeholder.endsWith(")")?E:I,Q=this.placeholder+J;b.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=Q:this.setPlaceHolder(Q)}};this.observer=new MutationObserver((J,Q)=>{J.forEach(U=>{U.target.textContent||R()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>R()),this.onblur(this.input,()=>{const J=Q=>{if(this.placeholder.endsWith(Q)){const U=this.placeholder.slice(0,this.placeholder.length-Q.length);return b.showPlaceholderOnFocus?this.placeholder=U:this.setPlaceHolder(U),!0}else return!1};J(I)||J(E)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let C=this.getNextValue();C&&(C=C===this.value?this.getNextValue():C),C&&(this.value=C,D.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let C=this.getPreviousValue();C&&(C=C===this.value?this.getPreviousValue():C),C&&(this.value=C,D.i7(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let C=this.history.current();return C||(C=this.history.last(),this.history.next()),C}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},25707:function(Ot,Te,i){"use strict";i.d(Te,{kX:function(){return E},Bv:function(){return U}});var w=i(30747),r=i(23547),O=i(65321),V=i(4850),D=i(10553),$=i(41416),M=i(9488),P=i(15393),A=i(49898),L=i(4669),c=i(9917),p=i(61134),l=i(76633);function n(K,H){const X=[];for(const j of H){if(K.start>=j.range.end)continue;if(K.end<j.range.start)break;const x=p.e.intersect(K,j.range);p.e.isEmpty(x)||X.push({range:x,size:j.size})}return X}function a({start:K,end:H},X){return{start:K+X,end:H+X}}function g(K){const H=[];let X=null;for(const j of K){const x=j.range.start,Z=j.range.end,T=j.size;if(X&&T===X.size){X.range.end=Z;continue}X={range:{start:x,end:Z},size:T},H.push(X)}return H}function f(...K){return g(K.reduce((H,X)=>H.concat(X),[]))}class u{constructor(){this.groups=[],this._size=0}splice(H,X,j=[]){const x=j.length-X,Z=n({start:0,end:H},this.groups),T=n({start:H+X,end:Number.POSITIVE_INFINITY},this.groups).map(G=>({range:a(G.range,x),size:G.size})),z=j.map((G,re)=>({range:{start:H+re,end:H+re+1},size:G.size}));this.groups=f(Z,z,T),this._size=this.groups.reduce((G,re)=>G+re.size*(re.range.end-re.range.start),0)}get count(){const H=this.groups.length;return H?this.groups[H-1].range.end:0}get size(){return this._size}indexAt(H){if(H<0)return-1;let X=0,j=0;for(const x of this.groups){const Z=x.range.end-x.range.start,T=j+Z*x.size;if(H<T)return X+Math.floor((H-j)/x.size);X+=Z,j=T}return X}indexAfter(H){return Math.min(this.indexAt(H)+1,this.count)}positionAt(H){if(H<0)return-1;let X=0,j=0;for(const x of this.groups){const Z=x.range.end-x.range.start,T=j+Z;if(H<T)return X+(H-j)*x.size;X+=Z*x.size,j=T}return-1}}function C(K){var H;try{(H=K.parentElement)===null||H===void 0||H.removeChild(K)}catch{}}class y{constructor(H){this.renderers=H,this.cache=new Map}alloc(H){let X=this.getTemplateCache(H).pop();if(!X){const j=(0,O.$)(".monaco-list-row"),Z=this.getRenderer(H).renderTemplate(j);X={domNode:j,templateId:H,templateData:Z}}return X}release(H){!H||this.releaseRow(H)}releaseRow(H){const{domNode:X,templateId:j}=H;X&&(X.classList.remove("scrolling"),C(X)),this.getTemplateCache(j).push(H)}getTemplateCache(H){let X=this.cache.get(H);return X||(X=[],this.cache.set(H,X)),X}dispose(){this.cache.forEach((H,X)=>{for(const j of H)this.getRenderer(X).disposeTemplate(j.templateData),j.templateData=null}),this.cache.clear()}getRenderer(H){const X=this.renderers.get(H);if(!X)throw new Error(`No renderer found for ${H}`);return X}}var b=function(K,H,X,j){var x=arguments.length,Z=x<3?H:j===null?j=Object.getOwnPropertyDescriptor(H,X):j,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(K,H,X,j);else for(var z=K.length-1;z>=0;z--)(T=K[z])&&(Z=(x<3?T(Z):x>3?T(H,X,Z):T(H,X))||Z);return x>3&&Z&&Object.defineProperty(H,X,Z),Z};const _={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(K){return[K]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class E{constructor(H){this.elements=H}update(){}getData(){return this.elements}}class I{constructor(H){this.elements=H}update(){}getData(){return this.elements}}class R{constructor(){this.types=[],this.files=[]}update(H){if(H.types&&this.types.splice(0,this.types.length,...H.types),H.files){this.files.splice(0,this.files.length);for(let X=0;X<H.files.length;X++){const j=H.files.item(X);j&&(j.size||j.type)&&this.files.push(j)}}}getData(){return{types:this.types,files:this.files}}}function J(K,H){return Array.isArray(K)&&Array.isArray(H)?(0,M.fS)(K,H):K===H}class Q{constructor(H){H!=null&&H.getSetSize?this.getSetSize=H.getSetSize.bind(H):this.getSetSize=(X,j,x)=>x,H!=null&&H.getPosInSet?this.getPosInSet=H.getPosInSet.bind(H):this.getPosInSet=(X,j)=>j+1,H!=null&&H.getRole?this.getRole=H.getRole.bind(H):this.getRole=X=>"listitem",H!=null&&H.isChecked?this.isChecked=H.isChecked.bind(H):this.isChecked=X=>{}}}class U{constructor(H,X,j,x=_){var Z,T,z,G,re,S,he,Ce,ge,pe;if(this.virtualDelegate=X,this.domId=`list_id_${++U.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new P.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=c.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=c.JT.None,this.onDragLeaveTimeout=c.JT.None,this.disposables=new c.SL,this._onDidChangeContentHeight=new L.Q5,this._horizontalScrolling=!1,x.horizontalScrolling&&x.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new u;for(const se of j)this.renderers.set(se.templateId,se);this.cache=this.disposables.add(new y(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof x.mouseSupport=="boolean"?x.mouseSupport:!0),this._horizontalScrolling=(Z=x.horizontalScrolling)!==null&&Z!==void 0?Z:_.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof x.additionalScrollHeight>"u"?0:x.additionalScrollHeight,this.accessibilityProvider=new Q(x.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((T=x.transformOptimization)!==null&&T!==void 0?T:_.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(D.o.addTarget(this.rowsContainer)),this.scrollable=new l.Rm({forceIntegerValues:!0,smoothScrollDuration:(z=x.smoothScrolling)!==null&&z!==void 0&&z?125:0,scheduleAtNextAnimationFrame:se=>(0,O.jL)(se)}),this.scrollableElement=this.disposables.add(new $.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(G=x.alwaysConsumeMouseWheel)!==null&&G!==void 0?G:_.alwaysConsumeMouseWheel,horizontal:1,vertical:(re=x.verticalScrollMode)!==null&&re!==void 0?re:_.verticalScrollMode,useShadows:(S=x.useShadows)!==null&&S!==void 0?S:_.useShadows,mouseWheelScrollSensitivity:x.mouseWheelScrollSensitivity,fastScrollSensitivity:x.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),H.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,O.nm)(this.rowsContainer,D.t.Change,se=>this.onTouchChange(se))),this.disposables.add((0,O.nm)(this.scrollableElement.getDomNode(),"scroll",se=>se.target.scrollTop=0)),this.disposables.add((0,O.nm)(this.domNode,"dragover",se=>this.onDragOver(this.toDragEvent(se)))),this.disposables.add((0,O.nm)(this.domNode,"drop",se=>this.onDrop(this.toDragEvent(se)))),this.disposables.add((0,O.nm)(this.domNode,"dragleave",se=>this.onDragLeave(this.toDragEvent(se)))),this.disposables.add((0,O.nm)(this.domNode,"dragend",se=>this.onDragEnd(se))),this.setRowLineHeight=(he=x.setRowLineHeight)!==null&&he!==void 0?he:_.setRowLineHeight,this.setRowHeight=(Ce=x.setRowHeight)!==null&&Ce!==void 0?Ce:_.setRowHeight,this.supportDynamicHeights=(ge=x.supportDynamicHeights)!==null&&ge!==void 0?ge:_.supportDynamicHeights,this.dnd=(pe=x.dnd)!==null&&pe!==void 0?pe:_.dnd,this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(H){if(H!==this._horizontalScrolling){if(H&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=H,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const X of this.items)this.measureItemWidth(X);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,O.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(H){H.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=H.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),H.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(H.smoothScrolling?125:0),H.horizontalScrolling!==void 0&&(this.horizontalScrolling=H.horizontalScrolling),H.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:H.mouseWheelScrollSensitivity}),H.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:H.fastScrollSensitivity})}splice(H,X,j=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(H,X,j)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(H,X,j=[]){const x=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),Z={start:H,end:H+X},T=p.e.intersect(x,Z),z=new Map;for(let ye=T.end-1;ye>=T.start;ye--){const le=this.items[ye];if(le.dragStartDisposable.dispose(),le.checkedDisposable.dispose(),le.row){let ie=z.get(le.templateId);ie||(ie=[],z.set(le.templateId,ie));const ve=this.renderers.get(le.templateId);ve&&ve.disposeElement&&ve.disposeElement(le.element,ye,le.row.templateData,le.size),ie.push(le.row)}le.row=null}const G={start:H+X,end:this.items.length},re=p.e.intersect(G,x),S=p.e.relativeComplement(G,x),he=j.map(ye=>({id:String(this.itemId++),element:ye,templateId:this.virtualDelegate.getTemplateId(ye),size:this.virtualDelegate.getHeight(ye),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(ye),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:c.JT.None,checkedDisposable:c.JT.None}));let Ce;H===0&&X>=this.items.length?(this.rangeMap=new u,this.rangeMap.splice(0,0,he),Ce=this.items,this.items=he):(this.rangeMap.splice(H,X,he),Ce=this.items.splice(H,X,...he));const ge=j.length-X,pe=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),ee=a(re,ge),se=p.e.intersect(pe,ee);for(let ye=se.start;ye<se.end;ye++)this.updateItemInDOM(this.items[ye],ye);const ne=p.e.relativeComplement(ee,pe);for(const ye of ne)for(let le=ye.start;le<ye.end;le++)this.removeItemFromDOM(le);const oe=S.map(ye=>a(ye,ge)),Ee=[{start:H,end:H+j.length},...oe].map(ye=>p.e.intersect(pe,ye)),Me=this.getNextToLastElement(Ee);for(const ye of Ee)for(let le=ye.start;le<ye.end;le++){const ie=this.items[le],ve=z.get(ie.templateId),xe=ve==null?void 0:ve.pop();this.insertItemInDOM(le,Me,xe)}for(const ye of z.values())for(const le of ye)this.cache.release(le);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),Ce.map(ye=>ye.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,O.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let H=0;for(const X of this.items)typeof X.width<"u"&&(H=Math.max(H,X.width));this.scrollWidth=H,this.scrollableElement.setScrollDimensions({scrollWidth:H===0?0:H+10})}rerender(){if(!!this.supportDynamicHeights){for(const H of this.items)H.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(H){return this.items[H].element}domElement(H){const X=this.items[H].row;return X&&X.domNode}elementHeight(H){return this.items[H].size}elementTop(H){return this.rangeMap.positionAt(H)}indexAt(H){return this.rangeMap.indexAt(H)}indexAfter(H){return this.rangeMap.indexAfter(H)}layout(H,X){const j={height:typeof H=="number"?H:(0,O.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,j.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(j),typeof X<"u"&&(this.renderWidth=X,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof X=="number"?X:(0,O.FK)(this.domNode)})}render(H,X,j,x,Z,T=!1){const z=this.getRenderRange(X,j),G=p.e.relativeComplement(z,H),re=p.e.relativeComplement(H,z),S=this.getNextToLastElement(G);if(T){const he=p.e.intersect(H,z);for(let Ce=he.start;Ce<he.end;Ce++)this.updateItemInDOM(this.items[Ce],Ce)}for(const he of G)for(let Ce=he.start;Ce<he.end;Ce++)this.insertItemInDOM(Ce,S);for(const he of re)for(let Ce=he.start;Ce<he.end;Ce++)this.removeItemFromDOM(Ce);x!==void 0&&(this.rowsContainer.style.left=`-${x}px`),this.rowsContainer.style.top=`-${X}px`,this.horizontalScrolling&&Z!==void 0&&(this.rowsContainer.style.width=`${Math.max(Z,this.renderWidth)}px`),this.lastRenderTop=X,this.lastRenderHeight=j}insertItemInDOM(H,X,j){const x=this.items[H];x.row||(x.row=j??this.cache.alloc(x.templateId));const Z=this.accessibilityProvider.getRole(x.element)||"listitem";x.row.domNode.setAttribute("role",Z);const T=this.accessibilityProvider.isChecked(x.element);if(typeof T=="boolean")x.row.domNode.setAttribute("aria-checked",String(!!T));else if(T){const re=S=>x.row.domNode.setAttribute("aria-checked",String(!!S));re(T.value),x.checkedDisposable=T.onDidChange(re)}x.row.domNode.parentElement||(X?this.rowsContainer.insertBefore(x.row.domNode,X):this.rowsContainer.appendChild(x.row.domNode)),this.updateItemInDOM(x,H);const z=this.renderers.get(x.templateId);if(!z)throw new Error(`No renderer found for template id ${x.templateId}`);z==null||z.renderElement(x.element,H,x.row.templateData,x.size);const G=this.dnd.getDragURI(x.element);x.dragStartDisposable.dispose(),x.row.domNode.draggable=!!G,G&&(x.dragStartDisposable=(0,O.nm)(x.row.domNode,"dragstart",re=>this.onDragStart(x.element,G,re))),this.horizontalScrolling&&(this.measureItemWidth(x),this.eventuallyUpdateScrollWidth())}measureItemWidth(H){if(!H.row||!H.row.domNode)return;H.row.domNode.style.width=w.isFirefox?"-moz-fit-content":"fit-content",H.width=(0,O.FK)(H.row.domNode);const X=window.getComputedStyle(H.row.domNode);X.paddingLeft&&(H.width+=parseFloat(X.paddingLeft)),X.paddingRight&&(H.width+=parseFloat(X.paddingRight)),H.row.domNode.style.width=""}updateItemInDOM(H,X){H.row.domNode.style.top=`${this.elementTop(X)}px`,this.setRowHeight&&(H.row.domNode.style.height=`${H.size}px`),this.setRowLineHeight&&(H.row.domNode.style.lineHeight=`${H.size}px`),H.row.domNode.setAttribute("data-index",`${X}`),H.row.domNode.setAttribute("data-last-element",X===this.length-1?"true":"false"),H.row.domNode.setAttribute("data-parity",X%2===0?"even":"odd"),H.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(H.element,X,this.length))),H.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(H.element,X))),H.row.domNode.setAttribute("id",this.getElementDomId(X)),H.row.domNode.classList.toggle("drop-target",H.dropTarget)}removeItemFromDOM(H){const X=this.items[H];if(X.dragStartDisposable.dispose(),X.checkedDisposable.dispose(),X.row){const j=this.renderers.get(X.templateId);j&&j.disposeElement&&j.disposeElement(X.element,H,X.row.templateData,X.size),this.cache.release(X.row),X.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(H,X){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:H,reuseAnimation:X})}get scrollTop(){return this.getScrollTop()}set scrollTop(H){this.setScrollTop(H)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return L.ju.map(this.disposables.add(new V.Y(this.domNode,"click")).event,H=>this.toMouseEvent(H),this.disposables)}get onMouseDblClick(){return L.ju.map(this.disposables.add(new V.Y(this.domNode,"dblclick")).event,H=>this.toMouseEvent(H),this.disposables)}get onMouseMiddleClick(){return L.ju.filter(L.ju.map(this.disposables.add(new V.Y(this.domNode,"auxclick")).event,H=>this.toMouseEvent(H),this.disposables),H=>H.browserEvent.button===1,this.disposables)}get onMouseDown(){return L.ju.map(this.disposables.add(new V.Y(this.domNode,"mousedown")).event,H=>this.toMouseEvent(H),this.disposables)}get onMouseOver(){return L.ju.map(this.disposables.add(new V.Y(this.domNode,"mouseover")).event,H=>this.toMouseEvent(H),this.disposables)}get onContextMenu(){return L.ju.any(L.ju.map(this.disposables.add(new V.Y(this.domNode,"contextmenu")).event,H=>this.toMouseEvent(H),this.disposables),L.ju.map(this.disposables.add(new V.Y(this.domNode,D.t.Contextmenu)).event,H=>this.toGestureEvent(H),this.disposables))}get onTouchStart(){return L.ju.map(this.disposables.add(new V.Y(this.domNode,"touchstart")).event,H=>this.toTouchEvent(H),this.disposables)}get onTap(){return L.ju.map(this.disposables.add(new V.Y(this.rowsContainer,D.t.Tap)).event,H=>this.toGestureEvent(H),this.disposables)}toMouseEvent(H){const X=this.getItemIndexFromEventTarget(H.target||null),j=typeof X>"u"?void 0:this.items[X],x=j&&j.element;return{browserEvent:H,index:X,element:x}}toTouchEvent(H){const X=this.getItemIndexFromEventTarget(H.target||null),j=typeof X>"u"?void 0:this.items[X],x=j&&j.element;return{browserEvent:H,index:X,element:x}}toGestureEvent(H){const X=this.getItemIndexFromEventTarget(H.initialTarget||null),j=typeof X>"u"?void 0:this.items[X],x=j&&j.element;return{browserEvent:H,index:X,element:x}}toDragEvent(H){const X=this.getItemIndexFromEventTarget(H.target||null),j=typeof X>"u"?void 0:this.items[X],x=j&&j.element;return{browserEvent:H,index:X,element:x}}onScroll(H){try{const X=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(X,H.scrollTop,H.height,H.scrollLeft,H.scrollWidth),this.supportDynamicHeights&&this._rerender(H.scrollTop,H.height,H.inSmoothScrolling)}catch(X){throw console.error("Got bad scroll event:",H),X}}onTouchChange(H){H.preventDefault(),H.stopPropagation(),this.scrollTop-=H.translationY}onDragStart(H,X,j){var x,Z;if(!j.dataTransfer)return;const T=this.dnd.getDragElements(H);if(j.dataTransfer.effectAllowed="copyMove",j.dataTransfer.setData(r.g.TEXT,X),j.dataTransfer.setDragImage){let z;this.dnd.getDragLabel&&(z=this.dnd.getDragLabel(T,j)),typeof z>"u"&&(z=String(T.length));const G=(0,O.$)(".monaco-drag-image");G.textContent=z,document.body.appendChild(G),j.dataTransfer.setDragImage(G,-10,-10),setTimeout(()=>document.body.removeChild(G),0)}this.currentDragData=new E(T),r.P.CurrentDragAndDropData=new I(T),(Z=(x=this.dnd).onDragStart)===null||Z===void 0||Z.call(x,this.currentDragData,j)}onDragOver(H){var X;if(H.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),r.P.CurrentDragAndDropData&&r.P.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(H.browserEvent),!H.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(r.P.CurrentDragAndDropData)this.currentDragData=r.P.CurrentDragAndDropData;else{if(!H.browserEvent.dataTransfer.types)return!1;this.currentDragData=new R}const j=this.dnd.onDragOver(this.currentDragData,H.element,H.index,H.browserEvent);if(this.canDrop=typeof j=="boolean"?j:j.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;H.browserEvent.dataTransfer.dropEffect=typeof j!="boolean"&&j.effect===0?"copy":"move";let x;if(typeof j!="boolean"&&j.feedback?x=j.feedback:typeof H.index>"u"?x=[-1]:x=[H.index],x=(0,M.EB)(x).filter(Z=>Z>=-1&&Z<this.length).sort((Z,T)=>Z-T),x=x[0]===-1?[-1]:x,J(this.currentDragFeedback,x))return!0;if(this.currentDragFeedback=x,this.currentDragFeedbackDisposable.dispose(),x[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,c.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const Z of x){const T=this.items[Z];T.dropTarget=!0,(X=T.row)===null||X===void 0||X.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,c.OF)(()=>{var Z;for(const T of x){const z=this.items[T];z.dropTarget=!1,(Z=z.row)===null||Z===void 0||Z.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(H){var X,j;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,P.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((j=(X=this.dnd).onDragLeave)===null||j===void 0||j.call(X,this.currentDragData,H.element,H.index,H.browserEvent))}onDrop(H){if(!this.canDrop)return;const X=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,r.P.CurrentDragAndDropData=void 0,!(!X||!H.browserEvent.dataTransfer)&&(H.browserEvent.preventDefault(),X.update(H.browserEvent.dataTransfer),this.dnd.drop(X,H.element,H.index,H.browserEvent))}onDragEnd(H){var X,j;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,r.P.CurrentDragAndDropData=void 0,(j=(X=this.dnd).onDragEnd)===null||j===void 0||j.call(X,H)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=c.JT.None}setupDragAndDropScrollTopAnimation(H){if(!this.dragOverAnimationDisposable){const X=(0,O.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,O.jt)(this.animateDragAndDropScrollTop.bind(this,X))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,P.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=H.pageY}animateDragAndDropScrollTop(H){if(this.dragOverMouseY===void 0)return;const X=this.dragOverMouseY-H,j=this.renderHeight-35;X<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(X-35))):X>j&&(this.scrollTop+=Math.min(14,Math.floor(.3*(X-j))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(H){const X=this.scrollableElement.getDomNode();let j=H;for(;j instanceof HTMLElement&&j!==this.rowsContainer&&X.contains(j);){const x=j.getAttribute("data-index");if(x){const Z=Number(x);if(!isNaN(Z))return Z}j=j.parentElement}}getRenderRange(H,X){return{start:this.rangeMap.indexAt(H),end:this.rangeMap.indexAfter(H+X-1)}}_rerender(H,X,j){const x=this.getRenderRange(H,X);let Z,T;H===this.elementTop(x.start)?(Z=x.start,T=0):x.end-x.start>1&&(Z=x.start+1,T=this.elementTop(Z)-H);let z=0;for(;;){const G=this.getRenderRange(H,X);let re=!1;for(let S=G.start;S<G.end;S++){const he=this.probeDynamicHeight(S);he!==0&&this.rangeMap.splice(S,1,[this.items[S]]),z+=he,re=re||he!==0}if(!re){z!==0&&this.eventuallyUpdateScrollDimensions();const S=p.e.relativeComplement(x,G);for(const Ce of S)for(let ge=Ce.start;ge<Ce.end;ge++)this.items[ge].row&&this.removeItemFromDOM(ge);const he=p.e.relativeComplement(G,x);for(const Ce of he)for(let ge=Ce.start;ge<Ce.end;ge++){const pe=ge+1,ee=pe<this.items.length?this.items[pe].row:null,se=ee?ee.domNode:null;this.insertItemInDOM(ge,se)}for(let Ce=G.start;Ce<G.end;Ce++)this.items[Ce].row&&this.updateItemInDOM(this.items[Ce],Ce);if(typeof Z=="number"){const Ce=this.scrollable.getFutureScrollPosition().scrollTop-H,ge=this.elementTop(Z)-T+Ce;this.setScrollTop(ge,j)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(H){var X,j,x;const Z=this.items[H];if(this.virtualDelegate.getDynamicHeight){const re=this.virtualDelegate.getDynamicHeight(Z.element);if(re!==null){const S=Z.size;return Z.size=re,Z.lastDynamicHeightWidth=this.renderWidth,re-S}}if(!Z.hasDynamicHeight||Z.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(Z.element))return 0;const T=Z.size;if(!this.setRowHeight&&Z.row){const re=Z.row.domNode.offsetHeight;return Z.size=re,Z.lastDynamicHeightWidth=this.renderWidth,re-T}const z=this.cache.alloc(Z.templateId);z.domNode.style.height="",this.rowsContainer.appendChild(z.domNode);const G=this.renderers.get(Z.templateId);return G&&(G.renderElement(Z.element,H,z.templateData,void 0),(X=G.disposeElement)===null||X===void 0||X.call(G,Z.element,H,z.templateData,void 0)),Z.size=z.domNode.offsetHeight,(x=(j=this.virtualDelegate).setDynamicHeight)===null||x===void 0||x.call(j,Z.element,Z.size),Z.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(z.domNode),this.cache.release(z),Z.size-T}getNextToLastElement(H){const X=H[H.length-1];if(!X)return null;const j=this.items[X.end];return!j||!j.row?null:j.row.domNode}getElementDomId(H){return`${this.domId}_${H}`}dispose(){var H;if(this.items){for(const X of this.items)if(X.row){const j=this.renderers.get(X.row.templateId);j&&((H=j.disposeElement)===null||H===void 0||H.call(j,X.element,-1,X.row.templateData,void 0),j.disposeTemplate(X.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,c.B9)(this.disposables)}}U.InstanceCount=0,b([A.H],U.prototype,"onMouseClick",null),b([A.H],U.prototype,"onMouseDblClick",null),b([A.H],U.prototype,"onMouseMiddleClick",null),b([A.H],U.prototype,"onMouseDown",null),b([A.H],U.prototype,"onMouseOver",null),b([A.H],U.prototype,"onContextMenu",null),b([A.H],U.prototype,"onTouchStart",null),b([A.H],U.prototype,"onTap",null)},43799:function(Ot,Te,i){"use strict";i.d(Te,{wD:function(){return Ce},aV:function(){return ye},sx:function(){return he},AA:function(){return X},iK:function(){return K},cK:function(){return Q},hD:function(){return U},wn:function(){return G},Zo:function(){return z}});var w=i(65321),r=i(4850),O=i(59069),V=i(10553),D=i(57924);class ${constructor(ie){this.spliceables=ie}splice(ie,ve,xe){this.spliceables.forEach(Ye=>Ye.splice(ie,ve,xe))}}var M=i(9488),P=i(15393),A=i(41264),L=i(49898),c=i(4669),p=i(75392),l=i(9917),n=i(59870),a=i(36248),g=i(1432),f=i(98401),u=i(5520);class C extends Error{constructor(ie,ve){super(`ListError [${ie}] ${ve}`)}}var y=i(25707),b=function(le,ie,ve,xe){var Ye=arguments.length,at=Ye<3?ie:xe===null?xe=Object.getOwnPropertyDescriptor(ie,ve):xe,qe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")at=Reflect.decorate(le,ie,ve,xe);else for(var Re=le.length-1;Re>=0;Re--)(qe=le[Re])&&(at=(Ye<3?qe(at):Ye>3?qe(ie,ve,at):qe(ie,ve))||at);return Ye>3&&at&&Object.defineProperty(ie,ve,at),at},_=function(le,ie,ve,xe){function Ye(at){return at instanceof ve?at:new ve(function(qe){qe(at)})}return new(ve||(ve=Promise))(function(at,qe){function Re(et){try{st(xe.next(et))}catch(we){qe(we)}}function Je(et){try{st(xe.throw(et))}catch(we){qe(we)}}function st(et){et.done?at(et.value):Ye(et.value).then(Re,Je)}st((xe=xe.apply(le,ie||[])).next())})};class E{constructor(ie){this.trait=ie,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(ie){return ie}renderElement(ie,ve,xe){const Ye=this.renderedElements.findIndex(at=>at.templateData===xe);if(Ye>=0){const at=this.renderedElements[Ye];this.trait.unrender(xe),at.index=ve}else{const at={index:ve,templateData:xe};this.renderedElements.push(at)}this.trait.renderIndex(ve,xe)}splice(ie,ve,xe){const Ye=[];for(const at of this.renderedElements)at.index<ie?Ye.push(at):at.index>=ie+ve&&Ye.push({index:at.index+xe-ve,templateData:at.templateData});this.renderedElements=Ye}renderIndexes(ie){for(const{index:ve,templateData:xe}of this.renderedElements)ie.indexOf(ve)>-1&&this.trait.renderIndex(ve,xe)}disposeTemplate(ie){const ve=this.renderedElements.findIndex(xe=>xe.templateData===ie);ve<0||this.renderedElements.splice(ve,1)}}class I{constructor(ie){this._trait=ie,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new c.Q5,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new E(this)}splice(ie,ve,xe){var Ye;ve=Math.max(0,Math.min(ve,this.length-ie));const at=xe.length-ve,qe=ie+ve,Re=[...this.sortedIndexes.filter(st=>st<ie),...xe.map((st,et)=>st?et+ie:-1).filter(st=>st!==-1),...this.sortedIndexes.filter(st=>st>=qe).map(st=>st+at)],Je=this.length+at;if(this.sortedIndexes.length>0&&Re.length===0&&Je>0){const st=(Ye=this.sortedIndexes.find(et=>et>=ie))!==null&&Ye!==void 0?Ye:Je-1;Re.push(Math.min(st,Je-1))}this.renderer.splice(ie,ve,xe.length),this._set(Re,Re),this.length=Je}renderIndex(ie,ve){ve.classList.toggle(this._trait,this.contains(ie))}unrender(ie){ie.classList.remove(this._trait)}set(ie,ve){return this._set(ie,[...ie].sort(oe),ve)}_set(ie,ve,xe){const Ye=this.indexes,at=this.sortedIndexes;this.indexes=ie,this.sortedIndexes=ve;const qe=se(at,ie);return this.renderer.renderIndexes(qe),this._onChange.fire({indexes:ie,browserEvent:xe}),Ye}get(){return this.indexes}contains(ie){return(0,M.ry)(this.sortedIndexes,ie,oe)>=0}dispose(){(0,l.B9)(this._onChange)}}b([L.H],I.prototype,"renderer",null);class R extends I{constructor(ie){super("selected"),this.setAriaSelected=ie}renderIndex(ie,ve){super.renderIndex(ie,ve),this.setAriaSelected&&(this.contains(ie)?ve.setAttribute("aria-selected","true"):ve.setAttribute("aria-selected","false"))}}class J{constructor(ie,ve,xe){this.trait=ie,this.view=ve,this.identityProvider=xe}splice(ie,ve,xe){if(!this.identityProvider)return this.trait.splice(ie,ve,xe.map(()=>!1));const Ye=this.trait.get().map(qe=>this.identityProvider.getId(this.view.element(qe)).toString()),at=xe.map(qe=>Ye.indexOf(this.identityProvider.getId(qe).toString())>-1);this.trait.splice(ie,ve,at)}}function Q(le){return le.tagName==="INPUT"||le.tagName==="TEXTAREA"}function U(le){return le.classList.contains("monaco-editor")?!0:le.classList.contains("monaco-list")||!le.parentElement?!1:U(le.parentElement)}function K(le){return le.tagName==="A"&&le.classList.contains("monaco-button")||le.tagName==="DIV"&&le.classList.contains("monaco-button-dropdown")?!0:le.classList.contains("monaco-list")||!le.parentElement?!1:K(le.parentElement)}class H{constructor(ie,ve,xe){this.list=ie,this.view=ve,this.disposables=new l.SL,this.multipleSelectionDisposables=new l.SL,this.onKeyDown.filter(Ye=>Ye.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(Ye=>Ye.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(Ye=>Ye.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(Ye=>Ye.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(Ye=>Ye.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(Ye=>Ye.keyCode===9).on(this.onEscape,this,this.disposables),xe.multipleSelectionSupport!==!1&&this.onKeyDown.filter(Ye=>(g.dz?Ye.metaKey:Ye.ctrlKey)&&Ye.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(c.ju.chain(this.disposables.add(new r.Y(this.view.domNode,"keydown")).event).filter(ie=>!Q(ie.target)).map(ie=>new O.y(ie)))}updateOptions(ie){ie.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),ie.multipleSelectionSupport&&this.onKeyDown.filter(ve=>(g.dz?ve.metaKey:ve.ctrlKey)&&ve.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(ie){ie.preventDefault(),ie.stopPropagation(),this.list.setSelection(this.list.getFocus(),ie.browserEvent)}onUpArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusPrevious(1,!1,ie.browserEvent);const ve=this.list.getFocus()[0];this.list.setAnchor(ve),this.list.reveal(ve),this.view.domNode.focus()}onDownArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusNext(1,!1,ie.browserEvent);const ve=this.list.getFocus()[0];this.list.setAnchor(ve),this.list.reveal(ve),this.view.domNode.focus()}onPageUpArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusPreviousPage(ie.browserEvent);const ve=this.list.getFocus()[0];this.list.setAnchor(ve),this.list.reveal(ve),this.view.domNode.focus()}onPageDownArrow(ie){ie.preventDefault(),ie.stopPropagation(),this.list.focusNextPage(ie.browserEvent);const ve=this.list.getFocus()[0];this.list.setAnchor(ve),this.list.reveal(ve),this.view.domNode.focus()}onCtrlA(ie){ie.preventDefault(),ie.stopPropagation(),this.list.setSelection((0,M.w6)(this.list.length),ie.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(ie){this.list.getSelection().length&&(ie.preventDefault(),ie.stopPropagation(),this.list.setSelection([],ie.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}b([L.H],H.prototype,"onKeyDown",null);var X;(function(le){le[le.Automatic=0]="Automatic",le[le.Trigger=1]="Trigger"})(X||(X={}));var j;(function(le){le[le.Idle=0]="Idle",le[le.Typing=1]="Typing"})(j||(j={}));const x=new class{mightProducePrintableCharacter(le){return le.ctrlKey||le.metaKey||le.altKey?!1:le.keyCode>=31&&le.keyCode<=56||le.keyCode>=21&&le.keyCode<=30||le.keyCode>=93&&le.keyCode<=102||le.keyCode>=80&&le.keyCode<=90}};class Z{constructor(ie,ve,xe,Ye,at){this.list=ie,this.view=ve,this.keyboardNavigationLabelProvider=xe,this.keyboardNavigationEventFilter=Ye,this.delegate=at,this.enabled=!1,this.state=j.Idle,this.mode=X.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new l.SL,this.disposables=new l.SL,this.updateOptions(ie.options)}updateOptions(ie){var ve,xe;!((ve=ie.typeNavigationEnabled)!==null&&ve!==void 0)||ve?this.enable():this.disable(),this.mode=(xe=ie.typeNavigationMode)!==null&&xe!==void 0?xe:X.Automatic}enable(){if(this.enabled)return;let ie=!1;const ve=this.enabledDisposables.add(c.ju.chain(this.enabledDisposables.add(new r.Y(this.view.domNode,"keydown")).event)).filter(at=>!Q(at.target)).filter(()=>this.mode===X.Automatic||this.triggered).map(at=>new O.y(at)).filter(at=>ie||this.keyboardNavigationEventFilter(at)).filter(at=>this.delegate.mightProducePrintableCharacter(at)).forEach(r.p).map(at=>at.browserEvent.key).event,xe=c.ju.debounce(ve,()=>null,800,void 0,void 0,this.enabledDisposables);c.ju.reduce(c.ju.any(ve,xe),(at,qe)=>qe===null?null:(at||"")+qe,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),xe(this.onClear,this,this.enabledDisposables),ve(()=>ie=!0,void 0,this.enabledDisposables),xe(()=>ie=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var ie;const ve=this.list.getFocus();if(ve.length>0&&ve[0]===this.previouslyFocused){const xe=(ie=this.list.options.accessibilityProvider)===null||ie===void 0?void 0:ie.getAriaLabel(this.list.element(ve[0]));xe&&(0,D.Z9)(xe)}this.previouslyFocused=-1}onInput(ie){if(!ie){this.state=j.Idle,this.triggered=!1;return}const ve=this.list.getFocus(),xe=ve.length>0?ve[0]:0,Ye=this.state===j.Idle?1:0;this.state=j.Typing;for(let at=0;at<this.list.length;at++){const qe=(xe+at+Ye)%this.list.length,Re=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(qe)),Je=Re&&Re.toString();if(typeof Je>"u"||(0,p.Ji)(ie,Je)){this.previouslyFocused=xe,this.list.setFocus([qe]),this.list.reveal(qe);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class T{constructor(ie,ve){this.list=ie,this.view=ve,this.disposables=new l.SL,this.disposables.add(c.ju.chain(this.disposables.add(new r.Y(ve.domNode,"keydown")).event)).filter(Ye=>!Q(Ye.target)).map(Ye=>new O.y(Ye)).filter(Ye=>Ye.keyCode===2&&!Ye.ctrlKey&&!Ye.metaKey&&!Ye.shiftKey&&!Ye.altKey).on(this.onTab,this,this.disposables)}onTab(ie){if(ie.target!==this.view.domNode)return;const ve=this.list.getFocus();if(ve.length===0)return;const xe=this.view.domElement(ve[0]);if(!xe)return;const Ye=xe.querySelector("[tabIndex]");if(!Ye||!(Ye instanceof HTMLElement)||Ye.tabIndex===-1)return;const at=window.getComputedStyle(Ye);at.visibility==="hidden"||at.display==="none"||(ie.preventDefault(),ie.stopPropagation(),Ye.focus())}dispose(){this.disposables.dispose()}}function z(le){return g.dz?le.browserEvent.metaKey:le.browserEvent.ctrlKey}function G(le){return le.browserEvent.shiftKey}function re(le){return le instanceof MouseEvent&&le.button===2}const S={isSelectionSingleChangeEvent:z,isSelectionRangeChangeEvent:G};class he{constructor(ie){this.list=ie,this.disposables=new l.SL,this._onPointer=new c.Q5,this.onPointer=this._onPointer.event,ie.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||S),this.mouseSupport=typeof ie.options.mouseSupport>"u"||!!ie.options.mouseSupport,this.mouseSupport&&(ie.onMouseDown(this.onMouseDown,this,this.disposables),ie.onContextMenu(this.onContextMenu,this,this.disposables),ie.onMouseDblClick(this.onDoubleClick,this,this.disposables),ie.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(V.o.addTarget(ie.getHTMLElement()))),c.ju.any(ie.onMouseClick,ie.onMouseMiddleClick,ie.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(ie){ie.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,ie.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||S))}isSelectionSingleChangeEvent(ie){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(ie):!1}isSelectionRangeChangeEvent(ie){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(ie):!1}isSelectionChangeEvent(ie){return this.isSelectionSingleChangeEvent(ie)||this.isSelectionRangeChangeEvent(ie)}onMouseDown(ie){U(ie.browserEvent.target)||document.activeElement!==ie.browserEvent.target&&this.list.domFocus()}onContextMenu(ie){if(U(ie.browserEvent.target))return;const ve=typeof ie.index>"u"?[]:[ie.index];this.list.setFocus(ve,ie.browserEvent)}onViewPointer(ie){if(!this.mouseSupport||Q(ie.browserEvent.target)||U(ie.browserEvent.target))return;const ve=ie.index;if(typeof ve>"u"){this.list.setFocus([],ie.browserEvent),this.list.setSelection([],ie.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(ie))return this.changeSelection(ie);if(this.isSelectionChangeEvent(ie))return this.changeSelection(ie);this.list.setFocus([ve],ie.browserEvent),this.list.setAnchor(ve),re(ie.browserEvent)||this.list.setSelection([ve],ie.browserEvent),this._onPointer.fire(ie)}onDoubleClick(ie){if(Q(ie.browserEvent.target)||U(ie.browserEvent.target)||this.isSelectionChangeEvent(ie))return;const ve=this.list.getFocus();this.list.setSelection(ve,ie.browserEvent)}changeSelection(ie){const ve=ie.index;let xe=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(ie)){if(typeof xe>"u"){const et=this.list.getFocus()[0];xe=et??ve,this.list.setAnchor(xe)}const Ye=Math.min(xe,ve),at=Math.max(xe,ve),qe=(0,M.w6)(Ye,at+1),Re=this.list.getSelection(),Je=ee(se(Re,[xe]),xe);if(Je.length===0)return;const st=se(qe,ne(Re,Je));this.list.setSelection(st,ie.browserEvent),this.list.setFocus([ve],ie.browserEvent)}else if(this.isSelectionSingleChangeEvent(ie)){const Ye=this.list.getSelection(),at=Ye.filter(qe=>qe!==ve);this.list.setFocus([ve]),this.list.setAnchor(ve),Ye.length===at.length?this.list.setSelection([...at,ve],ie.browserEvent):this.list.setSelection(at,ie.browserEvent)}}dispose(){this.disposables.dispose()}}class Ce{constructor(ie,ve){this.styleElement=ie,this.selectorSuffix=ve}style(ie){const ve=this.selectorSuffix&&`.${this.selectorSuffix}`,xe=[];ie.listBackground&&(ie.listBackground.isOpaque()?xe.push(`.monaco-list${ve} .monaco-list-rows { background: ${ie.listBackground}; }`):g.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),ie.listFocusBackground&&(xe.push(`.monaco-list${ve}:focus .monaco-list-row.focused { background-color: ${ie.listFocusBackground}; }`),xe.push(`.monaco-list${ve}:focus .monaco-list-row.focused:hover { background-color: ${ie.listFocusBackground}; }`)),ie.listFocusForeground&&xe.push(`.monaco-list${ve}:focus .monaco-list-row.focused { color: ${ie.listFocusForeground}; }`),ie.listActiveSelectionBackground&&(xe.push(`.monaco-list${ve}:focus .monaco-list-row.selected { background-color: ${ie.listActiveSelectionBackground}; }`),xe.push(`.monaco-list${ve}:focus .monaco-list-row.selected:hover { background-color: ${ie.listActiveSelectionBackground}; }`)),ie.listActiveSelectionForeground&&xe.push(`.monaco-list${ve}:focus .monaco-list-row.selected { color: ${ie.listActiveSelectionForeground}; }`),ie.listActiveSelectionIconForeground&&xe.push(`.monaco-list${ve}:focus .monaco-list-row.selected .codicon { color: ${ie.listActiveSelectionIconForeground}; }`),ie.listFocusAndSelectionOutline&&xe.push(`.monaco-list${ve}:focus .monaco-list-row.selected { outline-color: ${ie.listFocusAndSelectionOutline} !important; }`),ie.listFocusAndSelectionBackground&&xe.push(`
				.monaco-drag-image,
				.monaco-list${ve}:focus .monaco-list-row.selected.focused { background-color: ${ie.listFocusAndSelectionBackground}; }
			`),ie.listFocusAndSelectionForeground&&xe.push(`
				.monaco-drag-image,
				.monaco-list${ve}:focus .monaco-list-row.selected.focused { color: ${ie.listFocusAndSelectionForeground}; }
			`),ie.listInactiveFocusForeground&&(xe.push(`.monaco-list${ve} .monaco-list-row.focused { color:  ${ie.listInactiveFocusForeground}; }`),xe.push(`.monaco-list${ve} .monaco-list-row.focused:hover { color:  ${ie.listInactiveFocusForeground}; }`)),ie.listInactiveSelectionIconForeground&&xe.push(`.monaco-list${ve} .monaco-list-row.focused .codicon { color:  ${ie.listInactiveSelectionIconForeground}; }`),ie.listInactiveFocusBackground&&(xe.push(`.monaco-list${ve} .monaco-list-row.focused { background-color:  ${ie.listInactiveFocusBackground}; }`),xe.push(`.monaco-list${ve} .monaco-list-row.focused:hover { background-color:  ${ie.listInactiveFocusBackground}; }`)),ie.listInactiveSelectionBackground&&(xe.push(`.monaco-list${ve} .monaco-list-row.selected { background-color:  ${ie.listInactiveSelectionBackground}; }`),xe.push(`.monaco-list${ve} .monaco-list-row.selected:hover { background-color:  ${ie.listInactiveSelectionBackground}; }`)),ie.listInactiveSelectionForeground&&xe.push(`.monaco-list${ve} .monaco-list-row.selected { color: ${ie.listInactiveSelectionForeground}; }`),ie.listHoverBackground&&xe.push(`.monaco-list${ve}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${ie.listHoverBackground}; }`),ie.listHoverForeground&&xe.push(`.monaco-list${ve} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${ie.listHoverForeground}; }`),ie.listSelectionOutline&&xe.push(`.monaco-list${ve} .monaco-list-row.selected { outline: 1px dotted ${ie.listSelectionOutline}; outline-offset: -1px; }`),ie.listFocusOutline&&xe.push(`
				.monaco-drag-image,
				.monaco-list${ve}:focus .monaco-list-row.focused { outline: 1px solid ${ie.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${ve}.last-focused .monaco-list-row.focused { outline: 1px solid ${ie.listFocusOutline}; outline-offset: -1px; }
			`),ie.listInactiveFocusOutline&&xe.push(`.monaco-list${ve} .monaco-list-row.focused { outline: 1px dotted ${ie.listInactiveFocusOutline}; outline-offset: -1px; }`),ie.listHoverOutline&&xe.push(`.monaco-list${ve} .monaco-list-row:hover { outline: 1px dashed ${ie.listHoverOutline}; outline-offset: -1px; }`),ie.listDropBackground&&xe.push(`
				.monaco-list${ve}.drop-target,
				.monaco-list${ve} .monaco-list-rows.drop-target,
				.monaco-list${ve} .monaco-list-row.drop-target { background-color: ${ie.listDropBackground} !important; color: inherit !important; }
			`),ie.tableColumnsBorder&&xe.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${ie.tableColumnsBorder};
			}`),ie.tableOddRowsBackgroundColor&&xe.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${ie.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=xe.join(`
`)}}const ge={listFocusBackground:A.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:A.Il.fromHex("#0E639C"),listActiveSelectionForeground:A.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:A.Il.fromHex("#FFFFFF"),listFocusAndSelectionOutline:A.Il.fromHex("#90C2F9"),listFocusAndSelectionBackground:A.Il.fromHex("#094771"),listFocusAndSelectionForeground:A.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:A.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:A.Il.fromHex("#FFFFFF"),listHoverBackground:A.Il.fromHex("#2A2D2E"),listDropBackground:A.Il.fromHex("#383B3D"),treeIndentGuidesStroke:A.Il.fromHex("#a9a9a9"),tableColumnsBorder:A.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:A.Il.fromHex("#cccccc").transparent(.04)},pe={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function ee(le,ie){const ve=le.indexOf(ie);if(ve===-1)return[];const xe=[];let Ye=ve-1;for(;Ye>=0&&le[Ye]===ie-(ve-Ye);)xe.push(le[Ye--]);for(xe.reverse(),Ye=ve;Ye<le.length&&le[Ye]===ie+(Ye-ve);)xe.push(le[Ye++]);return xe}function se(le,ie){const ve=[];let xe=0,Ye=0;for(;xe<le.length||Ye<ie.length;)if(xe>=le.length)ve.push(ie[Ye++]);else if(Ye>=ie.length)ve.push(le[xe++]);else if(le[xe]===ie[Ye]){ve.push(le[xe]),xe++,Ye++;continue}else le[xe]<ie[Ye]?ve.push(le[xe++]):ve.push(ie[Ye++]);return ve}function ne(le,ie){const ve=[];let xe=0,Ye=0;for(;xe<le.length||Ye<ie.length;)if(xe>=le.length)ve.push(ie[Ye++]);else if(Ye>=ie.length)ve.push(le[xe++]);else if(le[xe]===ie[Ye]){xe++,Ye++;continue}else le[xe]<ie[Ye]?ve.push(le[xe++]):Ye++;return ve}const oe=(le,ie)=>le-ie;class Se{constructor(ie,ve){this._templateId=ie,this.renderers=ve}get templateId(){return this._templateId}renderTemplate(ie){return this.renderers.map(ve=>ve.renderTemplate(ie))}renderElement(ie,ve,xe,Ye){let at=0;for(const qe of this.renderers)qe.renderElement(ie,ve,xe[at++],Ye)}disposeElement(ie,ve,xe,Ye){var at;let qe=0;for(const Re of this.renderers)(at=Re.disposeElement)===null||at===void 0||at.call(Re,ie,ve,xe[qe],Ye),qe+=1}disposeTemplate(ie){let ve=0;for(const xe of this.renderers)xe.disposeTemplate(ie[ve++])}}class Ee{constructor(ie){this.accessibilityProvider=ie,this.templateId="a18n"}renderTemplate(ie){return ie}renderElement(ie,ve,xe){const Ye=this.accessibilityProvider.getAriaLabel(ie);Ye?xe.setAttribute("aria-label",Ye):xe.removeAttribute("aria-label");const at=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(ie);typeof at=="number"?xe.setAttribute("aria-level",`${at}`):xe.removeAttribute("aria-level")}disposeTemplate(ie){}}class Me{constructor(ie,ve){this.list=ie,this.dnd=ve}getDragElements(ie){const ve=this.list.getSelectedElements();return ve.indexOf(ie)>-1?ve:[ie]}getDragURI(ie){return this.dnd.getDragURI(ie)}getDragLabel(ie,ve){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(ie,ve)}onDragStart(ie,ve){var xe,Ye;(Ye=(xe=this.dnd).onDragStart)===null||Ye===void 0||Ye.call(xe,ie,ve)}onDragOver(ie,ve,xe,Ye){return this.dnd.onDragOver(ie,ve,xe,Ye)}onDragLeave(ie,ve,xe,Ye){var at,qe;(qe=(at=this.dnd).onDragLeave)===null||qe===void 0||qe.call(at,ie,ve,xe,Ye)}onDragEnd(ie){var ve,xe;(xe=(ve=this.dnd).onDragEnd)===null||xe===void 0||xe.call(ve,ie)}drop(ie,ve,xe,Ye){this.dnd.drop(ie,ve,xe,Ye)}}class ye{constructor(ie,ve,xe,Ye,at=pe){var qe,Re,Je,st;this.user=ie,this._options=at,this.focus=new I("focused"),this.anchor=new I("anchor"),this.eventBufferer=new c.E7,this._ariaLabel="",this.disposables=new l.SL,this._onDidDispose=new c.Q5,this.onDidDispose=this._onDidDispose.event;const et=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(qe=this._options.accessibilityProvider)===null||qe===void 0?void 0:qe.getWidgetRole():"list";this.selection=new R(et!=="listbox"),(0,a.jB)(at,ge,!1);const we=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=at.accessibilityProvider,this.accessibilityProvider&&(we.push(new Ee(this.accessibilityProvider)),(Je=(Re=this.accessibilityProvider).onDidChangeActiveDescendant)===null||Je===void 0||Je.call(Re,this.onDidChangeActiveDescendant,this,this.disposables)),Ye=Ye.map(de=>new Se(de.templateId,[...we,de]));const Ne=Object.assign(Object.assign({},at),{dnd:at.dnd&&new Me(this,at.dnd)});if(this.view=new y.Bv(ve,xe,Ye,Ne),this.view.domNode.setAttribute("role",et),at.styleController)this.styleController=at.styleController(this.view.domId);else{const de=(0,w.dS)(this.view.domNode);this.styleController=new Ce(de,this.view.domId)}if(this.spliceable=new $([new J(this.focus,this.view,at.identityProvider),new J(this.selection,this.view,at.identityProvider),new J(this.anchor,this.view,at.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new T(this,this.view)),(typeof at.keyboardSupport!="boolean"||at.keyboardSupport)&&(this.keyboardController=new H(this,this.view,at),this.disposables.add(this.keyboardController)),at.keyboardNavigationLabelProvider){const de=at.keyboardNavigationDelegate||x;this.typeNavigationController=new Z(this,this.view,at.keyboardNavigationLabelProvider,(st=at.keyboardNavigationEventFilter)!==null&&st!==void 0?st:()=>!0,de),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(at),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return c.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),ie=>this.toListEvent(ie),this.disposables)}get onDidChangeSelection(){return c.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),ie=>this.toListEvent(ie),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let ie=!1;const ve=this.disposables.add(c.ju.chain(this.disposables.add(new r.Y(this.view.domNode,"keydown")).event)).map(at=>new O.y(at)).filter(at=>ie=at.keyCode===58||at.shiftKey&&at.keyCode===68).map(r.p).filter(()=>!1).event,xe=this.disposables.add(c.ju.chain(this.disposables.add(new r.Y(this.view.domNode,"keyup")).event)).forEach(()=>ie=!1).map(at=>new O.y(at)).filter(at=>at.keyCode===58||at.shiftKey&&at.keyCode===68).map(r.p).map(({browserEvent:at})=>{const qe=this.getFocus(),Re=qe.length?qe[0]:void 0,Je=typeof Re<"u"?this.view.element(Re):void 0,st=typeof Re<"u"?this.view.domElement(Re):this.view.domNode;return{index:Re,element:Je,anchor:st,browserEvent:at}}).event,Ye=this.disposables.add(c.ju.chain(this.view.onContextMenu)).filter(at=>!ie).map(({element:at,index:qe,browserEvent:Re})=>({element:at,index:qe,anchor:{x:Re.pageX+1,y:Re.pageY},browserEvent:Re})).event;return c.ju.any(ve,xe,Ye)}get onKeyDown(){return this.disposables.add(new r.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return c.ju.signal(this.disposables.add(new r.Y(this.view.domNode,"focus",!0)).event)}createMouseController(ie){return new he(this)}updateOptions(ie={}){var ve,xe;this._options=Object.assign(Object.assign({},this._options),ie),(ve=this.typeNavigationController)===null||ve===void 0||ve.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(ie),(xe=this.keyboardController)===null||xe===void 0||xe.updateOptions(ie),this.view.updateOptions(ie)}get options(){return this._options}splice(ie,ve,xe=[]){if(ie<0||ie>this.view.length)throw new C(this.user,`Invalid start index: ${ie}`);if(ve<0)throw new C(this.user,`Invalid delete count: ${ve}`);ve===0&&xe.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(ie,ve,xe))}rerender(){this.view.rerender()}element(ie){return this.view.element(ie)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(ie){this.view.setScrollTop(ie)}get ariaLabel(){return this._ariaLabel}set ariaLabel(ie){this._ariaLabel=ie,this.view.domNode.setAttribute("aria-label",ie)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(ie,ve){this.view.layout(ie,ve)}setSelection(ie,ve){for(const xe of ie)if(xe<0||xe>=this.length)throw new C(this.user,`Invalid index ${xe}`);this.selection.set(ie,ve)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(ie=>this.view.element(ie))}setAnchor(ie){if(typeof ie>"u"){this.anchor.set([]);return}if(ie<0||ie>=this.length)throw new C(this.user,`Invalid index ${ie}`);this.anchor.set([ie])}getAnchor(){return(0,M.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const ie=this.getAnchor();return typeof ie>"u"?void 0:this.element(ie)}setFocus(ie,ve){for(const xe of ie)if(xe<0||xe>=this.length)throw new C(this.user,`Invalid index ${xe}`);this.focus.set(ie,ve)}focusNext(ie=1,ve=!1,xe,Ye){if(this.length===0)return;const at=this.focus.get(),qe=this.findNextIndex(at.length>0?at[0]+ie:0,ve,Ye);qe>-1&&this.setFocus([qe],xe)}focusPrevious(ie=1,ve=!1,xe,Ye){if(this.length===0)return;const at=this.focus.get(),qe=this.findPreviousIndex(at.length>0?at[0]-ie:0,ve,Ye);qe>-1&&this.setFocus([qe],xe)}focusNextPage(ie,ve){return _(this,void 0,void 0,function*(){let xe=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);xe=xe===0?0:xe-1;const Ye=this.getFocus()[0];if(Ye!==xe&&(Ye===void 0||xe>Ye)){const at=this.findPreviousIndex(xe,!1,ve);at>-1&&Ye!==at?this.setFocus([at],ie):this.setFocus([xe],ie)}else{const at=this.view.getScrollTop();let qe=at+this.view.renderHeight;xe>Ye&&(qe-=this.view.elementHeight(xe)),this.view.setScrollTop(qe),this.view.getScrollTop()!==at&&(this.setFocus([]),yield(0,P.Vs)(0),yield this.focusNextPage(ie,ve))}})}focusPreviousPage(ie,ve){return _(this,void 0,void 0,function*(){let xe;const Ye=this.view.getScrollTop();Ye===0?xe=this.view.indexAt(Ye):xe=this.view.indexAfter(Ye-1);const at=this.getFocus()[0];if(at!==xe&&(at===void 0||at>=xe)){const qe=this.findNextIndex(xe,!1,ve);qe>-1&&at!==qe?this.setFocus([qe],ie):this.setFocus([xe],ie)}else{const qe=Ye;this.view.setScrollTop(Ye-this.view.renderHeight),this.view.getScrollTop()!==qe&&(this.setFocus([]),yield(0,P.Vs)(0),yield this.focusPreviousPage(ie,ve))}})}focusLast(ie,ve){if(this.length===0)return;const xe=this.findPreviousIndex(this.length-1,!1,ve);xe>-1&&this.setFocus([xe],ie)}focusFirst(ie,ve){this.focusNth(0,ie,ve)}focusNth(ie,ve,xe){if(this.length===0)return;const Ye=this.findNextIndex(ie,!1,xe);Ye>-1&&this.setFocus([Ye],ve)}findNextIndex(ie,ve=!1,xe){for(let Ye=0;Ye<this.length;Ye++){if(ie>=this.length&&!ve)return-1;if(ie=ie%this.length,!xe||xe(this.element(ie)))return ie;ie++}return-1}findPreviousIndex(ie,ve=!1,xe){for(let Ye=0;Ye<this.length;Ye++){if(ie<0&&!ve)return-1;if(ie=(this.length+ie%this.length)%this.length,!xe||xe(this.element(ie)))return ie;ie--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(ie=>this.view.element(ie))}reveal(ie,ve){if(ie<0||ie>=this.length)throw new C(this.user,`Invalid index ${ie}`);const xe=this.view.getScrollTop(),Ye=this.view.elementTop(ie),at=this.view.elementHeight(ie);if((0,f.hj)(ve)){const qe=at-this.view.renderHeight;this.view.setScrollTop(qe*(0,n.uZ)(ve,0,1)+Ye)}else{const qe=Ye+at,Re=xe+this.view.renderHeight;Ye<xe&&qe>=Re||(Ye<xe||qe>=Re&&at>=this.view.renderHeight?this.view.setScrollTop(Ye):qe>=Re&&this.view.setScrollTop(qe-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(ie){return this.view.getElementDomId(ie)}style(ie){this.styleController.style(ie)}toListEvent({indexes:ie,browserEvent:ve}){return{indexes:ie,elements:ie.map(xe=>this.view.element(xe)),browserEvent:ve}}_onFocusChange(){const ie=this.focus.get();this.view.domNode.classList.toggle("element-focused",ie.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var ie;const ve=this.focus.get();if(ve.length>0){let xe;!((ie=this.accessibilityProvider)===null||ie===void 0)&&ie.getActiveDescendantId&&(xe=this.accessibilityProvider.getActiveDescendantId(this.view.element(ve[0]))),this.view.domNode.setAttribute("aria-activedescendant",xe||this.view.getElementDomId(ve[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const ie=this.selection.get();this.view.domNode.classList.toggle("selection-none",ie.length===0),this.view.domNode.classList.toggle("selection-single",ie.length===1),this.view.domNode.classList.toggle("selection-multiple",ie.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}b([L.H],ye.prototype,"onDidChangeFocus",null),b([L.H],ye.prototype,"onDidChangeSelection",null),b([L.H],ye.prototype,"onContextMenu",null),b([L.H],ye.prototype,"onKeyDown",null),b([L.H],ye.prototype,"onDidFocus",null)},58020:function(Ot,Te,i){"use strict";i.d(Te,{S:function(){return w}});const w="monaco-mouse-cursor-text"},39218:function(Ot,Te,i){"use strict";i.d(Te,{l:function(){return c},g:function(){return y}});var w=i(65321),r=i(4850),O=i(10553),V=i(15393),D=i(49898),$=i(4669),M=i(9917),P=i(1432),A=function(b,_,E,I){var R=arguments.length,J=R<3?_:I===null?I=Object.getOwnPropertyDescriptor(_,E):I,Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(b,_,E,I);else for(var U=b.length-1;U>=0;U--)(Q=b[U])&&(J=(R<3?Q(J):R>3?Q(_,E,J):Q(_,E))||J);return R>3&&J&&Object.defineProperty(_,E,J),J};const L=!1;var c;(function(b){b.North="north",b.South="south",b.East="east",b.West="west"})(c||(c={}));let p=4;const l=new $.Q5;let n=300;const a=new $.Q5;class g{constructor(){this.disposables=new M.SL}get onPointerMove(){return this.disposables.add(new r.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new r.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}A([D.H],g.prototype,"onPointerMove",null),A([D.H],g.prototype,"onPointerUp",null);class f{constructor(_){this.el=_,this.disposables=new M.SL}get onPointerMove(){return this.disposables.add(new r.Y(this.el,O.t.Change)).event}get onPointerUp(){return this.disposables.add(new r.Y(this.el,O.t.End)).event}dispose(){this.disposables.dispose()}}A([D.H],f.prototype,"onPointerMove",null),A([D.H],f.prototype,"onPointerUp",null);class u{constructor(_){this.factory=_}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}A([D.H],u.prototype,"onPointerMove",null),A([D.H],u.prototype,"onPointerUp",null);const C="pointer-events-disabled";class y extends M.JT{constructor(_,E,I){super(),this.hoverDelay=n,this.hoverDelayer=this._register(new V.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new $.Q5),this._onDidStart=this._register(new $.Q5),this._onDidChange=this._register(new $.Q5),this._onDidReset=this._register(new $.Q5),this._onDidEnd=this._register(new $.Q5),this.orthogonalStartSashDisposables=this._register(new M.SL),this.orthogonalStartDragHandleDisposables=this._register(new M.SL),this.orthogonalEndSashDisposables=this._register(new M.SL),this.orthogonalEndDragHandleDisposables=this._register(new M.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,w.R3)(_,(0,w.$)(".monaco-sash")),I.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${I.orthogonalEdge}`),P.dz&&this.el.classList.add("mac");const R=this._register(new r.Y(this.el,"mousedown")).event;this._register(R(j=>this.onPointerStart(j,new g),this));const J=this._register(new r.Y(this.el,"dblclick")).event;this._register(J(this.onPointerDoublePress,this));const Q=this._register(new r.Y(this.el,"mouseenter")).event;this._register(Q(()=>y.onMouseEnter(this)));const U=this._register(new r.Y(this.el,"mouseleave")).event;this._register(U(()=>y.onMouseLeave(this))),this._register(O.o.addTarget(this.el));const K=$.ju.map(this._register(new r.Y(this.el,O.t.Start)).event,j=>{var x;return Object.assign(Object.assign({},j),{target:(x=j.initialTarget)!==null&&x!==void 0?x:null})});this._register(K(j=>this.onPointerStart(j,new f(this.el)),this));const H=this._register(new r.Y(this.el,O.t.Tap)).event,X=$.ju.map($.ju.filter($.ju.debounce(H,(j,x)=>{var Z;return{event:x,count:((Z=j==null?void 0:j.count)!==null&&Z!==void 0?Z:0)+1}},250),({count:j})=>j===2),({event:j})=>{var x;return Object.assign(Object.assign({},j),{target:(x=j.initialTarget)!==null&&x!==void 0?x:null})});this._register(X(this.onPointerDoublePress,this)),typeof I.size=="number"?(this.size=I.size,I.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=p,this._register(l.event(j=>{this.size=j,this.layout()}))),this._register(a.event(j=>this.hoverDelay=j)),this.layoutProvider=E,this.orthogonalStartSash=I.orthogonalStartSash,this.orthogonalEndSash=I.orthogonalEndSash,this.orientation=I.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",L),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(_){this._state!==_&&(this.el.classList.toggle("disabled",_===0),this.el.classList.toggle("minimum",_===1),this.el.classList.toggle("maximum",_===2),this._state=_,this.onDidEnablementChange.fire(_))}set orthogonalStartSash(_){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),_){const E=I=>{this.orthogonalStartDragHandleDisposables.clear(),I!==0&&(this._orthogonalStartDragHandle=(0,w.R3)(this.el,(0,w.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,M.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new r.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>y.onMouseEnter(_),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new r.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>y.onMouseLeave(_),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(_.onDidEnablementChange.event(E,this)),E(_.state)}this._orthogonalStartSash=_}set orthogonalEndSash(_){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),_){const E=I=>{this.orthogonalEndDragHandleDisposables.clear(),I!==0&&(this._orthogonalEndDragHandle=(0,w.R3)(this.el,(0,w.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,M.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new r.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>y.onMouseEnter(_),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new r.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>y.onMouseLeave(_),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(_.onDidEnablementChange.event(E,this)),E(_.state)}this._orthogonalEndSash=_}onPointerStart(_,E){w.zB.stop(_);let I=!1;if(!_.__orthogonalSashEvent){const T=this.getOrthogonalSash(_);T&&(I=!0,_.__orthogonalSashEvent=!0,T.onPointerStart(_,new u(E)))}if(this.linkedSash&&!_.__linkedSashEvent&&(_.__linkedSashEvent=!0,this.linkedSash.onPointerStart(_,new u(E))),!this.state)return;const R=(0,w.H$)("iframe");for(const T of R)T.classList.add(C);const J=_.pageX,Q=_.pageY,U=_.altKey,K={startX:J,currentX:J,startY:Q,currentY:Q,altKey:U};this.el.classList.add("active"),this._onDidStart.fire(K);const H=(0,w.dS)(this.el),X=()=>{let T="";I?T="all-scroll":this.orientation===1?this.state===1?T="s-resize":this.state===2?T="n-resize":T=P.dz?"row-resize":"ns-resize":this.state===1?T="e-resize":this.state===2?T="w-resize":T=P.dz?"col-resize":"ew-resize",H.textContent=`* { cursor: ${T} !important; }`},j=new M.SL;X(),I||this.onDidEnablementChange.event(X,null,j);const x=T=>{w.zB.stop(T,!1);const z={startX:J,currentX:T.pageX,startY:Q,currentY:T.pageY,altKey:U};this._onDidChange.fire(z)},Z=T=>{w.zB.stop(T,!1),this.el.removeChild(H),this.el.classList.remove("active"),this._onDidEnd.fire(),j.dispose();for(const z of R)z.classList.remove(C)};E.onPointerMove(x,null,j),E.onPointerUp(Z,null,j),j.add(E)}onPointerDoublePress(_){const E=this.getOrthogonalSash(_);E&&E._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(_,E=!1){_.el.classList.contains("active")?(_.hoverDelayer.cancel(),_.el.classList.add("hover")):_.hoverDelayer.trigger(()=>_.el.classList.add("hover"),_.hoverDelay).then(void 0,()=>{}),!E&&_.linkedSash&&y.onMouseEnter(_.linkedSash,!0)}static onMouseLeave(_,E=!1){_.hoverDelayer.cancel(),_.el.classList.remove("hover"),!E&&_.linkedSash&&y.onMouseLeave(_.linkedSash,!0)}clearSashHoverState(){y.onMouseLeave(this)}layout(){if(this.orientation===0){const _=this.layoutProvider;this.el.style.left=_.getVerticalSashLeft(this)-this.size/2+"px",_.getVerticalSashTop&&(this.el.style.top=_.getVerticalSashTop(this)+"px"),_.getVerticalSashHeight&&(this.el.style.height=_.getVerticalSashHeight(this)+"px")}else{const _=this.layoutProvider;this.el.style.top=_.getHorizontalSashTop(this)-this.size/2+"px",_.getHorizontalSashLeft&&(this.el.style.left=_.getHorizontalSashLeft(this)+"px"),_.getHorizontalSashWidth&&(this.el.style.width=_.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(_){if(!(!_.target||!(_.target instanceof HTMLElement))&&_.target.classList.contains("orthogonal-drag-handle"))return _.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},41416:function(Ot,Te,i){"use strict";i.d(Te,{s$:function(){return H},NB:function(){return U},$Z:function(){return K}});var w=i(30747),r=i(65321),O=i(38626),V=i(7448),D=i(93911),$=i(93794),M=i(15393);const P=11;class A extends $.${constructor(x){super(),this._onActivate=x.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=x.bgWidth+"px",this.bgDomNode.style.height=x.bgHeight+"px",typeof x.top<"u"&&(this.bgDomNode.style.top="0px"),typeof x.left<"u"&&(this.bgDomNode.style.left="0px"),typeof x.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof x.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=x.className,this.domNode.classList.add(...x.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=P+"px",this.domNode.style.height=P+"px",typeof x.top<"u"&&(this.domNode.style.top=x.top+"px"),typeof x.left<"u"&&(this.domNode.style.left=x.left+"px"),typeof x.bottom<"u"&&(this.domNode.style.bottom=x.bottom+"px"),typeof x.right<"u"&&(this.domNode.style.right=x.right+"px"),this._pointerMoveMonitor=this._register(new D.C),this._register(r.mu(this.bgDomNode,r.tw.POINTER_DOWN,Z=>this._arrowPointerDown(Z))),this._register(r.mu(this.domNode,r.tw.POINTER_DOWN,Z=>this._arrowPointerDown(Z))),this._pointerdownRepeatTimer=this._register(new M.zh),this._pointerdownScheduleRepeatTimer=this._register(new M._F)}_arrowPointerDown(x){if(!x.target||!(x.target instanceof Element))return;const Z=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(Z,200),this._pointerMoveMonitor.startMonitoring(x.target,x.pointerId,x.buttons,T=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),x.preventDefault()}}var L=i(9917);class c extends L.JT{constructor(x,Z,T){super(),this._visibility=x,this._visibleClassName=Z,this._invisibleClassName=T,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new M._F)}setVisibility(x){this._visibility!==x&&(this._visibility=x,this._updateShouldBeVisible())}setShouldBeVisible(x){this._rawShouldBeVisible=x,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const x=this._applyVisibilitySetting();this._shouldBeVisible!==x&&(this._shouldBeVisible=x,this.ensureVisibility())}setIsNeeded(x){this._isNeeded!==x&&(this._isNeeded=x,this.ensureVisibility())}setDomNode(x){this._domNode=x,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var x;(x=this._domNode)===null||x===void 0||x.setClassName(this._visibleClassName)},0))}_hide(x){var Z;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(Z=this._domNode)===null||Z===void 0||Z.setClassName(this._invisibleClassName+(x?" fade":"")))}}var p=i(1432);const l=140;class n extends $.${constructor(x){super(),this._lazyRender=x.lazyRender,this._host=x.host,this._scrollable=x.scrollable,this._scrollByPage=x.scrollByPage,this._scrollbarState=x.scrollbarState,this._visibilityController=this._register(new c(x.visibility,"visible scrollbar "+x.extraScrollbarClassName,"invisible scrollbar "+x.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new D.C),this._shouldRender=!0,this.domNode=(0,O.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(r.nm(this.domNode.domNode,r.tw.POINTER_DOWN,Z=>this._domNodePointerDown(Z)))}_createArrow(x){const Z=this._register(new A(x));this.domNode.domNode.appendChild(Z.bgDomNode),this.domNode.domNode.appendChild(Z.domNode)}_createSlider(x,Z,T,z){this.slider=(0,O.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(x),this.slider.setLeft(Z),typeof T=="number"&&this.slider.setWidth(T),typeof z=="number"&&this.slider.setHeight(z),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(r.nm(this.slider.domNode,r.tw.POINTER_DOWN,G=>{G.button===0&&(G.preventDefault(),this._sliderPointerDown(G))})),this.onclick(this.slider.domNode,G=>{G.leftButton&&G.stopPropagation()})}_onElementSize(x){return this._scrollbarState.setVisibleSize(x)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(x){return this._scrollbarState.setScrollSize(x)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(x){return this._scrollbarState.setScrollPosition(x)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(x){x.target===this.domNode.domNode&&this._onPointerDown(x)}delegatePointerDown(x){const Z=this.domNode.domNode.getClientRects()[0].top,T=Z+this._scrollbarState.getSliderPosition(),z=Z+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),G=this._sliderPointerPosition(x);T<=G&&G<=z?x.button===0&&(x.preventDefault(),this._sliderPointerDown(x)):this._onPointerDown(x)}_onPointerDown(x){let Z,T;if(x.target===this.domNode.domNode&&typeof x.offsetX=="number"&&typeof x.offsetY=="number")Z=x.offsetX,T=x.offsetY;else{const G=r.i(this.domNode.domNode);Z=x.pageX-G.left,T=x.pageY-G.top}const z=this._pointerDownRelativePosition(Z,T);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(z):this._scrollbarState.getDesiredScrollPositionFromOffset(z)),x.button===0&&(x.preventDefault(),this._sliderPointerDown(x))}_sliderPointerDown(x){if(!x.target||!(x.target instanceof Element))return;const Z=this._sliderPointerPosition(x),T=this._sliderOrthogonalPointerPosition(x),z=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(x.target,x.pointerId,x.buttons,G=>{const re=this._sliderOrthogonalPointerPosition(G),S=Math.abs(re-T);if(p.ED&&S>l){this._setDesiredScrollPositionNow(z.getScrollPosition());return}const Ce=this._sliderPointerPosition(G)-Z;this._setDesiredScrollPositionNow(z.getDesiredScrollPositionFromDelta(Ce))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(x){const Z={};this.writeScrollPosition(Z,x),this._scrollable.setScrollPositionNow(Z)}updateScrollbarSize(x){this._updateScrollbarSize(x),this._scrollbarState.setScrollbarSize(x),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const a=20;class g{constructor(x,Z,T,z,G,re){this._scrollbarSize=Math.round(Z),this._oppositeScrollbarSize=Math.round(T),this._arrowSize=Math.round(x),this._visibleSize=z,this._scrollSize=G,this._scrollPosition=re,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new g(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(x){const Z=Math.round(x);return this._visibleSize!==Z?(this._visibleSize=Z,this._refreshComputedValues(),!0):!1}setScrollSize(x){const Z=Math.round(x);return this._scrollSize!==Z?(this._scrollSize=Z,this._refreshComputedValues(),!0):!1}setScrollPosition(x){const Z=Math.round(x);return this._scrollPosition!==Z?(this._scrollPosition=Z,this._refreshComputedValues(),!0):!1}setScrollbarSize(x){this._scrollbarSize=Math.round(x)}setOppositeScrollbarSize(x){this._oppositeScrollbarSize=Math.round(x)}static _computeValues(x,Z,T,z,G){const re=Math.max(0,T-x),S=Math.max(0,re-2*Z),he=z>0&&z>T;if(!he)return{computedAvailableSize:Math.round(re),computedIsNeeded:he,computedSliderSize:Math.round(S),computedSliderRatio:0,computedSliderPosition:0};const Ce=Math.round(Math.max(a,Math.floor(T*S/z))),ge=(S-Ce)/(z-T),pe=G*ge;return{computedAvailableSize:Math.round(re),computedIsNeeded:he,computedSliderSize:Math.round(Ce),computedSliderRatio:ge,computedSliderPosition:Math.round(pe)}}_refreshComputedValues(){const x=g._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=x.computedAvailableSize,this._computedIsNeeded=x.computedIsNeeded,this._computedSliderSize=x.computedSliderSize,this._computedSliderRatio=x.computedSliderRatio,this._computedSliderPosition=x.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(x){if(!this._computedIsNeeded)return 0;const Z=x-this._arrowSize-this._computedSliderSize/2;return Math.round(Z/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(x){if(!this._computedIsNeeded)return 0;const Z=x-this._arrowSize;let T=this._scrollPosition;return Z<this._computedSliderPosition?T-=this._visibleSize:T+=this._visibleSize,T}getDesiredScrollPositionFromDelta(x){if(!this._computedIsNeeded)return 0;const Z=this._computedSliderPosition+x;return Math.round(Z/this._computedSliderRatio)}}var f=i(73046);class u extends n{constructor(x,Z,T){const z=x.getScrollDimensions(),G=x.getCurrentScrollPosition();if(super({lazyRender:Z.lazyRender,host:T,scrollbarState:new g(Z.horizontalHasArrows?Z.arrowSize:0,Z.horizontal===2?0:Z.horizontalScrollbarSize,Z.vertical===2?0:Z.verticalScrollbarSize,z.width,z.scrollWidth,G.scrollLeft),visibility:Z.horizontal,extraScrollbarClassName:"horizontal",scrollable:x,scrollByPage:Z.scrollByPage}),Z.horizontalHasArrows){const re=(Z.arrowSize-P)/2,S=(Z.horizontalScrollbarSize-P)/2;this._createArrow({className:"scra",icon:f.lA.scrollbarButtonLeft,top:S,left:re,bottom:void 0,right:void 0,bgWidth:Z.arrowSize,bgHeight:Z.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new V.q(null,1,0))}),this._createArrow({className:"scra",icon:f.lA.scrollbarButtonRight,top:S,left:void 0,bottom:void 0,right:re,bgWidth:Z.arrowSize,bgHeight:Z.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new V.q(null,-1,0))})}this._createSlider(Math.floor((Z.horizontalScrollbarSize-Z.horizontalSliderSize)/2),0,void 0,Z.horizontalSliderSize)}_updateSlider(x,Z){this.slider.setWidth(x),this.slider.setLeft(Z)}_renderDomNode(x,Z){this.domNode.setWidth(x),this.domNode.setHeight(Z),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(x){return this._shouldRender=this._onElementScrollSize(x.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(x.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(x.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(x,Z){return x}_sliderPointerPosition(x){return x.pageX}_sliderOrthogonalPointerPosition(x){return x.pageY}_updateScrollbarSize(x){this.slider.setHeight(x)}writeScrollPosition(x,Z){x.scrollLeft=Z}updateOptions(x){this.updateScrollbarSize(x.horizontal===2?0:x.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(x.vertical===2?0:x.verticalScrollbarSize),this._visibilityController.setVisibility(x.horizontal),this._scrollByPage=x.scrollByPage}}class C extends n{constructor(x,Z,T){const z=x.getScrollDimensions(),G=x.getCurrentScrollPosition();if(super({lazyRender:Z.lazyRender,host:T,scrollbarState:new g(Z.verticalHasArrows?Z.arrowSize:0,Z.vertical===2?0:Z.verticalScrollbarSize,0,z.height,z.scrollHeight,G.scrollTop),visibility:Z.vertical,extraScrollbarClassName:"vertical",scrollable:x,scrollByPage:Z.scrollByPage}),Z.verticalHasArrows){const re=(Z.arrowSize-P)/2,S=(Z.verticalScrollbarSize-P)/2;this._createArrow({className:"scra",icon:f.lA.scrollbarButtonUp,top:re,left:S,bottom:void 0,right:void 0,bgWidth:Z.verticalScrollbarSize,bgHeight:Z.arrowSize,onActivate:()=>this._host.onMouseWheel(new V.q(null,0,1))}),this._createArrow({className:"scra",icon:f.lA.scrollbarButtonDown,top:void 0,left:S,bottom:re,right:void 0,bgWidth:Z.verticalScrollbarSize,bgHeight:Z.arrowSize,onActivate:()=>this._host.onMouseWheel(new V.q(null,0,-1))})}this._createSlider(0,Math.floor((Z.verticalScrollbarSize-Z.verticalSliderSize)/2),Z.verticalSliderSize,void 0)}_updateSlider(x,Z){this.slider.setHeight(x),this.slider.setTop(Z)}_renderDomNode(x,Z){this.domNode.setWidth(Z),this.domNode.setHeight(x),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(x){return this._shouldRender=this._onElementScrollSize(x.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(x.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(x.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(x,Z){return Z}_sliderPointerPosition(x){return x.pageY}_sliderOrthogonalPointerPosition(x){return x.pageX}_updateScrollbarSize(x){this.slider.setWidth(x)}writeScrollPosition(x,Z){x.scrollTop=Z}updateOptions(x){this.updateScrollbarSize(x.vertical===2?0:x.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(x.vertical),this._scrollByPage=x.scrollByPage}}var y=i(4669),b=i(76633);const _=500,E=50,I=!0;class R{constructor(x,Z,T){this.timestamp=x,this.deltaX=Z,this.deltaY=T,this.score=0}}class J{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let x=1,Z=0,T=1,z=this._rear;do{const G=z===this._front?x:Math.pow(2,-T);if(x-=G,Z+=this._memory[z].score*G,z===this._front)break;z=(this._capacity+z-1)%this._capacity,T++}while(!0);return Z<=.5}accept(x,Z,T){const z=new R(x,Z,T);z.score=this._computeScore(z),this._front===-1&&this._rear===-1?(this._memory[0]=z,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=z)}_computeScore(x){if(Math.abs(x.deltaX)>0&&Math.abs(x.deltaY)>0)return 1;let Z=.5;const T=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(x.deltaX)||!this._isAlmostInt(x.deltaY))&&(Z+=.25),Math.min(Math.max(Z,0),1)}_isAlmostInt(x){return Math.abs(Math.round(x)-x)<.01}}J.INSTANCE=new J;class Q extends $.${constructor(x,Z,T){super(),this._onScroll=this._register(new y.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new y.Q5),x.style.overflow="hidden",this._options=X(Z),this._scrollable=T,this._register(this._scrollable.onScroll(G=>{this._onWillScroll.fire(G),this._onDidScroll(G),this._onScroll.fire(G)}));const z={onMouseWheel:G=>this._onMouseWheel(G),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new C(this._scrollable,this._options,z)),this._horizontalScrollbar=this._register(new u(this._scrollable,this._options,z)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(x),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,O.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,O.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,O.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,G=>this._onMouseOver(G)),this.onmouseleave(this._listenOnDomNode,G=>this._onMouseLeave(G)),this._hideTimeout=this._register(new M._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,L.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(x){this._verticalScrollbar.delegatePointerDown(x)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(x){this._scrollable.setScrollDimensions(x,!1)}updateClassName(x){this._options.className=x,p.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(x){typeof x.handleMouseWheel<"u"&&(this._options.handleMouseWheel=x.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof x.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=x.mouseWheelScrollSensitivity),typeof x.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=x.fastScrollSensitivity),typeof x.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=x.scrollPredominantAxis),typeof x.horizontal<"u"&&(this._options.horizontal=x.horizontal),typeof x.vertical<"u"&&(this._options.vertical=x.vertical),typeof x.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=x.horizontalScrollbarSize),typeof x.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=x.verticalScrollbarSize),typeof x.scrollByPage<"u"&&(this._options.scrollByPage=x.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(x){if(this._mouseWheelToDispose.length>0!==x&&(this._mouseWheelToDispose=(0,L.B9)(this._mouseWheelToDispose),x)){const T=z=>{this._onMouseWheel(new V.q(z))};this._mouseWheelToDispose.push(r.nm(this._listenOnDomNode,r.tw.MOUSE_WHEEL,T,{passive:!1}))}}_onMouseWheel(x){const Z=J.INSTANCE;if(I){const G=window.devicePixelRatio/(0,w.getZoomFactor)();p.ED||p.IJ?Z.accept(Date.now(),x.deltaX/G,x.deltaY/G):Z.accept(Date.now(),x.deltaX,x.deltaY)}let T=!1;if(x.deltaY||x.deltaX){let G=x.deltaY*this._options.mouseWheelScrollSensitivity,re=x.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(G)>=Math.abs(re)?re=0:G=0),this._options.flipAxes&&([G,re]=[re,G]);const S=!p.dz&&x.browserEvent&&x.browserEvent.shiftKey;(this._options.scrollYToX||S)&&!re&&(re=G,G=0),x.browserEvent&&x.browserEvent.altKey&&(re=re*this._options.fastScrollSensitivity,G=G*this._options.fastScrollSensitivity);const he=this._scrollable.getFutureScrollPosition();let Ce={};if(G){const ge=E*G,pe=he.scrollTop-(ge<0?Math.floor(ge):Math.ceil(ge));this._verticalScrollbar.writeScrollPosition(Ce,pe)}if(re){const ge=E*re,pe=he.scrollLeft-(ge<0?Math.floor(ge):Math.ceil(ge));this._horizontalScrollbar.writeScrollPosition(Ce,pe)}Ce=this._scrollable.validateScrollPosition(Ce),(he.scrollLeft!==Ce.scrollLeft||he.scrollTop!==Ce.scrollTop)&&(I&&this._options.mouseWheelSmoothScroll&&Z.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(Ce):this._scrollable.setScrollPositionNow(Ce),T=!0)}let z=T;!z&&this._options.alwaysConsumeMouseWheel&&(z=!0),!z&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(z=!0),z&&(x.preventDefault(),x.stopPropagation())}_onDidScroll(x){this._shouldRender=this._horizontalScrollbar.onDidScroll(x)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(x)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const x=this._scrollable.getCurrentScrollPosition(),Z=x.scrollTop>0,T=x.scrollLeft>0,z=T?" left":"",G=Z?" top":"",re=T||Z?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${z}`),this._topShadowDomNode.setClassName(`shadow${G}`),this._topLeftShadowDomNode.setClassName(`shadow${re}${G}${z}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(x){this._mouseIsOver=!1,this._hide()}_onMouseOver(x){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),_)}}class U extends Q{constructor(x,Z){Z=Z||{},Z.mouseWheelSmoothScroll=!1;const T=new b.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:z=>r.jL(z)});super(x,Z,T),this._register(T)}setScrollPosition(x){this._scrollable.setScrollPositionNow(x)}}class K extends Q{constructor(x,Z,T){super(x,Z,T)}setScrollPosition(x){x.reuseAnimation?this._scrollable.setScrollPositionSmooth(x,x.reuseAnimation):this._scrollable.setScrollPositionNow(x)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class H extends Q{constructor(x,Z){Z=Z||{},Z.mouseWheelSmoothScroll=!1;const T=new b.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:z=>r.jL(z)});super(x,Z,T),this._register(T),this._element=x,this.onScroll(z=>{z.scrollTopChanged&&(this._element.scrollTop=z.scrollTop),z.scrollLeftChanged&&(this._element.scrollLeft=z.scrollLeft)}),this.scanDomNode()}setScrollPosition(x){this._scrollable.setScrollPositionNow(x)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function X(j){const x={lazyRender:typeof j.lazyRender<"u"?j.lazyRender:!1,className:typeof j.className<"u"?j.className:"",useShadows:typeof j.useShadows<"u"?j.useShadows:!0,handleMouseWheel:typeof j.handleMouseWheel<"u"?j.handleMouseWheel:!0,flipAxes:typeof j.flipAxes<"u"?j.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof j.consumeMouseWheelIfScrollbarIsNeeded<"u"?j.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof j.alwaysConsumeMouseWheel<"u"?j.alwaysConsumeMouseWheel:!1,scrollYToX:typeof j.scrollYToX<"u"?j.scrollYToX:!1,mouseWheelScrollSensitivity:typeof j.mouseWheelScrollSensitivity<"u"?j.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof j.fastScrollSensitivity<"u"?j.fastScrollSensitivity:5,scrollPredominantAxis:typeof j.scrollPredominantAxis<"u"?j.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof j.mouseWheelSmoothScroll<"u"?j.mouseWheelSmoothScroll:!0,arrowSize:typeof j.arrowSize<"u"?j.arrowSize:11,listenOnDomNode:typeof j.listenOnDomNode<"u"?j.listenOnDomNode:null,horizontal:typeof j.horizontal<"u"?j.horizontal:1,horizontalScrollbarSize:typeof j.horizontalScrollbarSize<"u"?j.horizontalScrollbarSize:10,horizontalSliderSize:typeof j.horizontalSliderSize<"u"?j.horizontalSliderSize:0,horizontalHasArrows:typeof j.horizontalHasArrows<"u"?j.horizontalHasArrows:!1,vertical:typeof j.vertical<"u"?j.vertical:1,verticalScrollbarSize:typeof j.verticalScrollbarSize<"u"?j.verticalScrollbarSize:10,verticalHasArrows:typeof j.verticalHasArrows<"u"?j.verticalHasArrows:!1,verticalSliderSize:typeof j.verticalSliderSize<"u"?j.verticalSliderSize:0,scrollByPage:typeof j.scrollByPage<"u"?j.scrollByPage:!1};return x.horizontalSliderSize=typeof j.horizontalSliderSize<"u"?j.horizontalSliderSize:x.horizontalScrollbarSize,x.verticalSliderSize=typeof j.verticalSliderSize<"u"?j.verticalSliderSize:x.verticalScrollbarSize,p.dz&&(x.className+=" mac"),x}},13017:function(Ot,Te,i){"use strict";i.d(Te,{M:function(){return g},z:function(){return f}});var w=i(65321),r=i(39218),O=i(41416),V=i(9488),D=i(41264),$=i(4669),M=i(9917),P=i(59870),A=i(76633),L=i(98401);const c={separatorBorder:D.Il.transparent};class p{constructor(C,y,b,_){this.container=C,this.view=y,this.disposable=_,this._cachedVisibleSize=void 0,typeof b=="number"?(this._size=b,this._cachedVisibleSize=void 0,C.classList.add("visible")):(this._size=0,this._cachedVisibleSize=b.cachedVisibleSize)}set size(C){this._size=C}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(C,y){var b,_;C!==this.visible&&(C?(this.size=(0,P.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof y=="number"?y:this.size,this.size=0),this.container.classList.toggle("visible",C),(_=(b=this.view).setVisible)===null||_===void 0||_.call(b,C))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(C){this.container.style.pointerEvents=C?"":"none"}layout(C,y){this.layoutContainer(C),this.view.layout(this.size,C,y)}dispose(){return this.disposable.dispose(),this.view}}class l extends p{layoutContainer(C){this.container.style.top=`${C}px`,this.container.style.height=`${this.size}px`}}class n extends p{layoutContainer(C){this.container.style.left=`${C}px`,this.container.style.width=`${this.size}px`}}var a;(function(u){u[u.Idle=0]="Idle",u[u.Busy=1]="Busy"})(a||(a={}));var g;(function(u){u.Distribute={type:"distribute"};function C(b){return{type:"split",index:b}}u.Split=C;function y(b){return{type:"invisible",cachedVisibleSize:b}}u.Invisible=y})(g||(g={}));class f extends M.JT{constructor(C,y={}){var b,_,E,I,R;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=a.Idle,this._onDidSashChange=this._register(new $.Q5),this._onDidSashReset=this._register(new $.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(b=y.orientation)!==null&&b!==void 0?b:0,this.inverseAltBehavior=(_=y.inverseAltBehavior)!==null&&_!==void 0?_:!1,this.proportionalLayout=(E=y.proportionalLayout)!==null&&E!==void 0?E:!0,this.getSashOrthogonalSize=y.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),C.appendChild(this.el),this.sashContainer=(0,w.R3)(this.el,(0,w.$)(".sash-container")),this.viewContainer=(0,w.$)(".split-view-container"),this.scrollable=new A.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:w.jL}),this.scrollableElement=this._register(new O.$Z(this.viewContainer,{vertical:this.orientation===0?(I=y.scrollbarVisibility)!==null&&I!==void 0?I:1:2,horizontal:this.orientation===1?(R=y.scrollbarVisibility)!==null&&R!==void 0?R:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(J=>{this.viewContainer.scrollTop=J.scrollTop,this.viewContainer.scrollLeft=J.scrollLeft})),(0,w.R3)(this.el,this.scrollableElement.getDomNode()),this.style(y.styles||c),y.descriptor&&(this.size=y.descriptor.size,y.descriptor.views.forEach((J,Q)=>{const U=L.o8(J.visible)||J.visible?J.size:{type:"invisible",cachedVisibleSize:J.size},K=J.view;this.doAddView(K,U,Q,!0)}),this.contentSize=this.viewItems.reduce((J,Q)=>J+Q.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(C){for(const y of this.sashItems)y.sash.orthogonalStartSash=C;this._orthogonalStartSash=C}set orthogonalEndSash(C){for(const y of this.sashItems)y.sash.orthogonalEndSash=C;this._orthogonalEndSash=C}set startSnappingEnabled(C){this._startSnappingEnabled!==C&&(this._startSnappingEnabled=C,this.updateSashEnablement())}set endSnappingEnabled(C){this._endSnappingEnabled!==C&&(this._endSnappingEnabled=C,this.updateSashEnablement())}style(C){C.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",C.separatorBorder.toString()))}addView(C,y,b=this.viewItems.length,_){this.doAddView(C,y,b,_)}layout(C,y){const b=Math.max(this.size,this.contentSize);if(this.size=C,this.layoutContext=y,this.proportions)for(let _=0;_<this.viewItems.length;_++){const E=this.viewItems[_];E.size=(0,P.uZ)(Math.round(this.proportions[_]*C),E.minimumSize,E.maximumSize)}else{const _=(0,V.w6)(this.viewItems.length),E=_.filter(R=>this.viewItems[R].priority===1),I=_.filter(R=>this.viewItems[R].priority===2);this.resize(this.viewItems.length-1,C-b,void 0,E,I)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(C=>C.size/this.contentSize))}onSashStart({sash:C,start:y,alt:b}){for(const R of this.viewItems)R.enabled=!1;const _=this.sashItems.findIndex(R=>R.sash===C),E=(0,M.F8)((0,w.nm)(document.body,"keydown",R=>I(this.sashDragState.current,R.altKey)),(0,w.nm)(document.body,"keyup",()=>I(this.sashDragState.current,!1))),I=(R,J)=>{const Q=this.viewItems.map(j=>j.size);let U=Number.NEGATIVE_INFINITY,K=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(J=!J),J)if(_===this.sashItems.length-1){const x=this.viewItems[_];U=(x.minimumSize-x.size)/2,K=(x.maximumSize-x.size)/2}else{const x=this.viewItems[_+1];U=(x.size-x.maximumSize)/2,K=(x.size-x.minimumSize)/2}let H,X;if(!J){const j=(0,V.w6)(_,-1),x=(0,V.w6)(_+1,this.viewItems.length),Z=j.reduce((ge,pe)=>ge+(this.viewItems[pe].minimumSize-Q[pe]),0),T=j.reduce((ge,pe)=>ge+(this.viewItems[pe].viewMaximumSize-Q[pe]),0),z=x.length===0?Number.POSITIVE_INFINITY:x.reduce((ge,pe)=>ge+(Q[pe]-this.viewItems[pe].minimumSize),0),G=x.length===0?Number.NEGATIVE_INFINITY:x.reduce((ge,pe)=>ge+(Q[pe]-this.viewItems[pe].viewMaximumSize),0),re=Math.max(Z,G),S=Math.min(z,T),he=this.findFirstSnapIndex(j),Ce=this.findFirstSnapIndex(x);if(typeof he=="number"){const ge=this.viewItems[he],pe=Math.floor(ge.viewMinimumSize/2);H={index:he,limitDelta:ge.visible?re-pe:re+pe,size:ge.size}}if(typeof Ce=="number"){const ge=this.viewItems[Ce],pe=Math.floor(ge.viewMinimumSize/2);X={index:Ce,limitDelta:ge.visible?S+pe:S-pe,size:ge.size}}}this.sashDragState={start:R,current:R,index:_,sizes:Q,minDelta:U,maxDelta:K,alt:J,snapBefore:H,snapAfter:X,disposable:E}};I(y,b)}onSashChange({current:C}){const{index:y,start:b,sizes:_,alt:E,minDelta:I,maxDelta:R,snapBefore:J,snapAfter:Q}=this.sashDragState;this.sashDragState.current=C;const U=C-b,K=this.resize(y,U,_,void 0,void 0,I,R,J,Q);if(E){const H=y===this.sashItems.length-1,X=this.viewItems.map(G=>G.size),j=H?y:y+1,x=this.viewItems[j],Z=x.size-x.maximumSize,T=x.size-x.minimumSize,z=H?y-1:y+1;this.resize(z,-K,X,void 0,void 0,Z,T)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(C){this._onDidSashChange.fire(C),this.sashDragState.disposable.dispose(),this.saveProportions();for(const y of this.viewItems)y.enabled=!0}onViewChange(C,y){const b=this.viewItems.indexOf(C);b<0||b>=this.viewItems.length||(y=typeof y=="number"?y:C.size,y=(0,P.uZ)(y,C.minimumSize,C.maximumSize),this.inverseAltBehavior&&b>0?(this.resize(b-1,Math.floor((C.size-y)/2)),this.distributeEmptySpace(),this.layoutViews()):(C.size=y,this.relayout([b],void 0)))}resizeView(C,y){if(this.state!==a.Idle)throw new Error("Cant modify splitview");if(this.state=a.Busy,C<0||C>=this.viewItems.length)return;const b=(0,V.w6)(this.viewItems.length).filter(R=>R!==C),_=[...b.filter(R=>this.viewItems[R].priority===1),C],E=b.filter(R=>this.viewItems[R].priority===2),I=this.viewItems[C];y=Math.round(y),y=(0,P.uZ)(y,I.minimumSize,Math.min(I.maximumSize,this.size)),I.size=y,this.relayout(_,E),this.state=a.Idle}distributeViewSizes(){const C=[];let y=0;for(const R of this.viewItems)R.maximumSize-R.minimumSize>0&&(C.push(R),y+=R.size);const b=Math.floor(y/C.length);for(const R of C)R.size=(0,P.uZ)(b,R.minimumSize,R.maximumSize);const _=(0,V.w6)(this.viewItems.length),E=_.filter(R=>this.viewItems[R].priority===1),I=_.filter(R=>this.viewItems[R].priority===2);this.relayout(E,I)}getViewSize(C){return C<0||C>=this.viewItems.length?-1:this.viewItems[C].size}doAddView(C,y,b=this.viewItems.length,_){if(this.state!==a.Idle)throw new Error("Cant modify splitview");this.state=a.Busy;const E=(0,w.$)(".split-view-view");b===this.viewItems.length?this.viewContainer.appendChild(E):this.viewContainer.insertBefore(E,this.viewContainer.children.item(b));const I=C.onDidChange(H=>this.onViewChange(U,H)),R=(0,M.OF)(()=>this.viewContainer.removeChild(E)),J=(0,M.F8)(I,R);let Q;typeof y=="number"?Q=y:y.type==="split"?Q=this.getViewSize(y.index)/2:y.type==="invisible"?Q={cachedVisibleSize:y.cachedVisibleSize}:Q=C.minimumSize;const U=this.orientation===0?new l(E,C,Q,J):new n(E,C,Q,J);if(this.viewItems.splice(b,0,U),this.viewItems.length>1){const H={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},X=this.orientation===0?new r.g(this.sashContainer,{getHorizontalSashTop:ge=>this.getSashPosition(ge),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},H),{orientation:1})):new r.g(this.sashContainer,{getVerticalSashLeft:ge=>this.getSashPosition(ge),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},H),{orientation:0})),j=this.orientation===0?ge=>({sash:X,start:ge.startY,current:ge.currentY,alt:ge.altKey}):ge=>({sash:X,start:ge.startX,current:ge.currentX,alt:ge.altKey}),Z=$.ju.map(X.onDidStart,j)(this.onSashStart,this),z=$.ju.map(X.onDidChange,j)(this.onSashChange,this),re=$.ju.map(X.onDidEnd,()=>this.sashItems.findIndex(ge=>ge.sash===X))(this.onSashEnd,this),S=X.onDidReset(()=>{const ge=this.sashItems.findIndex(oe=>oe.sash===X),pe=(0,V.w6)(ge,-1),ee=(0,V.w6)(ge+1,this.viewItems.length),se=this.findFirstSnapIndex(pe),ne=this.findFirstSnapIndex(ee);typeof se=="number"&&!this.viewItems[se].visible||typeof ne=="number"&&!this.viewItems[ne].visible||this._onDidSashReset.fire(ge)}),he=(0,M.F8)(Z,z,re,S,X),Ce={sash:X,disposable:he};this.sashItems.splice(b-1,0,Ce)}E.appendChild(C.element);let K;typeof y!="number"&&y.type==="split"&&(K=[y.index]),_||this.relayout([b],K),this.state=a.Idle,!_&&typeof y!="number"&&y.type==="distribute"&&this.distributeViewSizes()}relayout(C,y){const b=this.viewItems.reduce((_,E)=>_+E.size,0);this.resize(this.viewItems.length-1,this.size-b,void 0,C,y),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(C,y,b=this.viewItems.map(U=>U.size),_,E,I=Number.NEGATIVE_INFINITY,R=Number.POSITIVE_INFINITY,J,Q){if(C<0||C>=this.viewItems.length)return 0;const U=(0,V.w6)(C,-1),K=(0,V.w6)(C+1,this.viewItems.length);if(E)for(const Ce of E)(0,V.zI)(U,Ce),(0,V.zI)(K,Ce);if(_)for(const Ce of _)(0,V.al)(U,Ce),(0,V.al)(K,Ce);const H=U.map(Ce=>this.viewItems[Ce]),X=U.map(Ce=>b[Ce]),j=K.map(Ce=>this.viewItems[Ce]),x=K.map(Ce=>b[Ce]),Z=U.reduce((Ce,ge)=>Ce+(this.viewItems[ge].minimumSize-b[ge]),0),T=U.reduce((Ce,ge)=>Ce+(this.viewItems[ge].maximumSize-b[ge]),0),z=K.length===0?Number.POSITIVE_INFINITY:K.reduce((Ce,ge)=>Ce+(b[ge]-this.viewItems[ge].minimumSize),0),G=K.length===0?Number.NEGATIVE_INFINITY:K.reduce((Ce,ge)=>Ce+(b[ge]-this.viewItems[ge].maximumSize),0),re=Math.max(Z,G,I),S=Math.min(z,T,R);let he=!1;if(J){const Ce=this.viewItems[J.index],ge=y>=J.limitDelta;he=ge!==Ce.visible,Ce.setVisible(ge,J.size)}if(!he&&Q){const Ce=this.viewItems[Q.index],ge=y<Q.limitDelta;he=ge!==Ce.visible,Ce.setVisible(ge,Q.size)}if(he)return this.resize(C,y,b,_,E,I,R);y=(0,P.uZ)(y,re,S);for(let Ce=0,ge=y;Ce<H.length;Ce++){const pe=H[Ce],ee=(0,P.uZ)(X[Ce]+ge,pe.minimumSize,pe.maximumSize);ge-=ee-X[Ce],pe.size=ee}for(let Ce=0,ge=y;Ce<j.length;Ce++){const pe=j[Ce],ee=(0,P.uZ)(x[Ce]-ge,pe.minimumSize,pe.maximumSize);ge+=ee-x[Ce],pe.size=ee}return y}distributeEmptySpace(C){const y=this.viewItems.reduce((R,J)=>R+J.size,0);let b=this.size-y;const _=(0,V.w6)(this.viewItems.length-1,-1),E=_.filter(R=>this.viewItems[R].priority===1),I=_.filter(R=>this.viewItems[R].priority===2);for(const R of I)(0,V.zI)(_,R);for(const R of E)(0,V.al)(_,R);typeof C=="number"&&(0,V.al)(_,C);for(let R=0;b!==0&&R<_.length;R++){const J=this.viewItems[_[R]],Q=(0,P.uZ)(J.size+b,J.minimumSize,J.maximumSize);b-=Q-J.size,J.size=Q}}layoutViews(){this.contentSize=this.viewItems.reduce((y,b)=>y+b.size,0);let C=0;for(const y of this.viewItems)y.layout(C,this.layoutContext),C+=y.size;this.sashItems.forEach(y=>y.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let C=!1;const y=this.viewItems.map(J=>C=J.size-J.minimumSize>0||C);C=!1;const b=this.viewItems.map(J=>C=J.maximumSize-J.size>0||C),_=[...this.viewItems].reverse();C=!1;const E=_.map(J=>C=J.size-J.minimumSize>0||C).reverse();C=!1;const I=_.map(J=>C=J.maximumSize-J.size>0||C).reverse();let R=0;for(let J=0;J<this.sashItems.length;J++){const{sash:Q}=this.sashItems[J];R+=this.viewItems[J].size;const K=!(y[J]&&I[J+1]),H=!(b[J]&&E[J+1]);if(K&&H){const X=(0,V.w6)(J,-1),j=(0,V.w6)(J+1,this.viewItems.length),x=this.findFirstSnapIndex(X),Z=this.findFirstSnapIndex(j),T=typeof x=="number"&&!this.viewItems[x].visible,z=typeof Z=="number"&&!this.viewItems[Z].visible;T&&E[J]&&(R>0||this.startSnappingEnabled)?Q.state=1:z&&y[J]&&(R<this.contentSize||this.endSnappingEnabled)?Q.state=2:Q.state=0}else K&&!H?Q.state=1:!K&&H?Q.state=2:Q.state=3}}getSashPosition(C){let y=0;for(let b=0;b<this.sashItems.length;b++)if(y+=this.viewItems[b].size,this.sashItems[b].sash===C)return y;return 0}findFirstSnapIndex(C){for(const y of C){const b=this.viewItems[y];if(!!b.visible&&b.snap)return y}for(const y of C){const b=this.viewItems[y];if(b.visible&&b.maximumSize-b.minimumSize>0)return;if(!b.visible&&b.snap)return y}}dispose(){super.dispose(),(0,M.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(C=>C.disposable.dispose()),this.sashItems=[]}}},76661:function(Ot,Te,i){"use strict";i.d(Te,{Z:function(){return $}});var w=i(93794),r=i(73046),O=i(41264),V=i(4669);const D={inputActiveOptionBorder:O.Il.fromHex("#007ACC00"),inputActiveOptionForeground:O.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:O.Il.fromHex("#0E639C50")};class $ extends w.${constructor(P){super(),this._onChange=this._register(new V.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new V.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},D),P),this._checked=this._opts.isChecked;const A=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,A.push(...r.dT.asClassNameArray(this._icon))),this._opts.actionClassName&&A.push(...this._opts.actionClassName.split(" ")),this._checked&&A.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...A),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,L=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),L.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,L=>{if(L.keyCode===10||L.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),L.preventDefault(),L.stopPropagation();return}this._onKeyDown.fire(L)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(P){this._checked=P,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(P){P.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=P.inputActiveOptionBorder),P.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=P.inputActiveOptionForeground),P.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=P.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},93794:function(Ot,Te,i){"use strict";i.d(Te,{$:function(){return $}});var w=i(65321),r=i(59069),O=i(7448),V=i(10553),D=i(9917);class $ extends D.JT{onclick(P,A){this._register(w.nm(P,w.tw.CLICK,L=>A(new O.n(L))))}onmousedown(P,A){this._register(w.nm(P,w.tw.MOUSE_DOWN,L=>A(new O.n(L))))}onmouseover(P,A){this._register(w.nm(P,w.tw.MOUSE_OVER,L=>A(new O.n(L))))}onmouseleave(P,A){this._register(w.nm(P,w.tw.MOUSE_LEAVE,L=>A(new O.n(L))))}onkeydown(P,A){this._register(w.nm(P,w.tw.KEY_DOWN,L=>A(new r.y(L))))}onkeyup(P,A){this._register(w.nm(P,w.tw.KEY_UP,L=>A(new r.y(L))))}oninput(P,A){this._register(w.nm(P,w.tw.INPUT,A))}onblur(P,A){this._register(w.nm(P,w.tw.BLUR,A))}onfocus(P,A){this._register(w.nm(P,w.tw.FOCUS,A))}ignoreGesture(P){V.o.ignoreTarget(P)}}},74741:function(Ot,Te,i){"use strict";i.d(Te,{Wi:function(){return $},Z0:function(){return M},aU:function(){return D},eZ:function(){return A},wY:function(){return P},xw:function(){return L}});var w=i(4669),r=i(9917),O=i(63580),V=function(c,p,l,n){function a(g){return g instanceof l?g:new l(function(f){f(g)})}return new(l||(l=Promise))(function(g,f){function u(b){try{y(n.next(b))}catch(_){f(_)}}function C(b){try{y(n.throw(b))}catch(_){f(_)}}function y(b){b.done?g(b.value):a(b.value).then(u,C)}y((n=n.apply(c,p||[])).next())})};class D extends r.JT{constructor(p,l="",n="",a=!0,g){super(),this._onDidChange=this._register(new w.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=p,this._label=l,this._cssClass=n,this._enabled=a,this._actionCallback=g}get id(){return this._id}get label(){return this._label}set label(p){this._setLabel(p)}_setLabel(p){this._label!==p&&(this._label=p,this._onDidChange.fire({label:p}))}get tooltip(){return this._tooltip||""}set tooltip(p){this._setTooltip(p)}_setTooltip(p){this._tooltip!==p&&(this._tooltip=p,this._onDidChange.fire({tooltip:p}))}get class(){return this._cssClass}set class(p){this._setClass(p)}_setClass(p){this._cssClass!==p&&(this._cssClass=p,this._onDidChange.fire({class:p}))}get enabled(){return this._enabled}set enabled(p){this._setEnabled(p)}_setEnabled(p){this._enabled!==p&&(this._enabled=p,this._onDidChange.fire({enabled:p}))}get checked(){return this._checked}set checked(p){this._setChecked(p)}_setChecked(p){this._checked!==p&&(this._checked=p,this._onDidChange.fire({checked:p}))}run(p,l){return V(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(p))})}}class $ extends r.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new w.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new w.Q5),this.onDidRun=this._onDidRun.event}run(p,l){return V(this,void 0,void 0,function*(){if(!p.enabled)return;this._onBeforeRun.fire({action:p});let n;try{yield this.runAction(p,l)}catch(a){n=a}this._onDidRun.fire({action:p,error:n})})}runAction(p,l){return V(this,void 0,void 0,function*(){yield p.run(l)})}}class M extends D{constructor(p){super(M.ID,p,p?"separator text":"separator"),this.checked=!1,this.enabled=!1}}M.ID="vs.actions.separator";class P{constructor(p,l,n,a){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=p,this.label=l,this.class=a,this._actions=n}get actions(){return this._actions}dispose(){}run(){return V(this,void 0,void 0,function*(){})}}class A extends D{constructor(){super(A.ID,O.NC("submenu.empty","(empty)"),void 0,!1)}}A.ID="vs.actions.empty";function L(c){var p,l;return{id:c.id,label:c.label,class:void 0,enabled:(p=c.enabled)!==null&&p!==void 0?p:!0,checked:(l=c.checked)!==null&&l!==void 0?l:!1,run:()=>V(this,void 0,void 0,function*(){return c.run()}),tooltip:c.label,dispose:()=>{}}}},9488:function(Ot,Te,i){"use strict";i.d(Te,{Dc:function(){return K},EB:function(){return l},Gb:function(){return w},H9:function(){return j},HW:function(){return P},JH:function(){return r},LS:function(){return V},Of:function(){return p},VJ:function(){return X},XY:function(){return c},Xh:function(){return g},Zv:function(){return u},_2:function(){return _},al:function(){return y},dF:function(){return n},db:function(){return I},fS:function(){return O},fv:function(){return U},jV:function(){return H},kX:function(){return L},lG:function(){return M},ry:function(){return D},tT:function(){return Q},vA:function(){return b},vM:function(){return A},w6:function(){return f},zI:function(){return C}});function w(x,Z=0){return x[x.length-(1+Z)]}function r(x){if(x.length===0)throw new Error("Invalid tail call");return[x.slice(0,x.length-1),x[x.length-1]]}function O(x,Z,T=(z,G)=>z===G){if(x===Z)return!0;if(!x||!Z||x.length!==Z.length)return!1;for(let z=0,G=x.length;z<G;z++)if(!T(x[z],Z[z]))return!1;return!0}function V(x,Z){const T=x.length-1;Z<T&&(x[Z]=x[T]),x.pop()}function D(x,Z,T){return $(x.length,z=>T(x[z],Z))}function $(x,Z){let T=0,z=x-1;for(;T<=z;){const G=(T+z)/2|0,re=Z(G);if(re<0)T=G+1;else if(re>0)z=G-1;else return G}return-(T+1)}function M(x,Z){let T=0,z=x.length;if(z===0)return 0;for(;T<z;){const G=Math.floor((T+z)/2);Z(x[G])?z=G:T=G+1}return T}function P(x,Z,T){if(x=x|0,x>=Z.length)throw new TypeError("invalid index");const z=Z[Math.floor(Z.length*Math.random())],G=[],re=[],S=[];for(const he of Z){const Ce=T(he,z);Ce<0?G.push(he):Ce>0?re.push(he):S.push(he)}return x<G.length?P(x,G,T):x<G.length+S.length?S[0]:P(x-(G.length+S.length),re,T)}function A(x,Z){const T=[];let z;for(const G of x.slice(0).sort(Z))!z||Z(z[0],G)!==0?(z=[G],T.push(z)):z.push(G);return T}function L(x){return x.filter(Z=>!!Z)}function c(x){return!Array.isArray(x)||x.length===0}function p(x){return Array.isArray(x)&&x.length>0}function l(x,Z=T=>T){const T=new Set;return x.filter(z=>{const G=Z(z);return T.has(G)?!1:(T.add(G),!0)})}function n(x,Z){const T=a(x,Z);if(T!==-1)return x[T]}function a(x,Z){for(let T=x.length-1;T>=0;T--){const z=x[T];if(Z(z))return T}return-1}function g(x,Z){return x.length>0?x[0]:Z}function f(x,Z){let T=typeof Z=="number"?x:0;typeof Z=="number"?T=x:(T=0,Z=x);const z=[];if(T<=Z)for(let G=T;G<Z;G++)z.push(G);else for(let G=T;G>Z;G--)z.push(G);return z}function u(x,Z,T){const z=x.slice(0,Z),G=x.slice(Z);return z.concat(T,G)}function C(x,Z){const T=x.indexOf(Z);T>-1&&(x.splice(T,1),x.unshift(Z))}function y(x,Z){const T=x.indexOf(Z);T>-1&&(x.splice(T,1),x.push(Z))}function b(x,Z){for(const T of Z)x.push(T)}function _(x){return Array.isArray(x)?x:[x]}function E(x,Z,T){const z=R(x,Z),G=x.length,re=T.length;x.length=G+re;for(let S=G-1;S>=z;S--)x[S+re]=x[S];for(let S=0;S<re;S++)x[S+z]=T[S]}function I(x,Z,T,z){const G=R(x,Z),re=x.splice(G,T);return E(x,G,z),re}function R(x,Z){return Z<0?Math.max(Z+x.length,0):Math.min(Z,x.length)}var J;(function(x){function Z(G){return G<0}x.isLessThan=Z;function T(G){return G>0}x.isGreaterThan=T;function z(G){return G===0}x.isNeitherLessOrGreaterThan=z,x.greaterThan=1,x.lessThan=-1,x.neitherLessOrGreaterThan=0})(J||(J={}));function Q(x,Z){return(T,z)=>Z(x(T),x(z))}const U=(x,Z)=>x-Z;function K(x,Z){if(x.length===0)return;let T=x[0];for(let z=1;z<x.length;z++){const G=x[z];Z(G,T)>0&&(T=G)}return T}function H(x,Z){if(x.length===0)return;let T=x[0];for(let z=1;z<x.length;z++){const G=x[z];Z(G,T)>=0&&(T=G)}return T}function X(x,Z){return K(x,(T,z)=>-Z(T,z))}class j{constructor(Z){this.items=Z,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(Z){let T=this.firstIdx;for(;T<this.items.length&&Z(this.items[T]);)T++;const z=T===this.firstIdx?null:this.items.slice(this.firstIdx,T);return this.firstIdx=T,z}takeFromEndWhile(Z){let T=this.lastIdx;for(;T>=0&&Z(this.items[T]);)T--;const z=T===this.lastIdx?null:this.items.slice(T+1,this.lastIdx+1);return this.lastIdx=T,z}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const Z=this.items[this.firstIdx];return this.firstIdx++,Z}takeCount(Z){const T=this.items.slice(this.firstIdx,this.firstIdx+Z);return this.firstIdx+=Z,T}}},35146:function(Ot,Te,i){"use strict";i.d(Te,{ok:function(){return w}});function w(r,O){if(!r)throw new Error(O?`Assertion failed (${O})`:"Assertion Failed")}},15393:function(Ot,Te,i){"use strict";i.d(Te,{Aq:function(){return Q},CR:function(){return R},J8:function(){return P},PG:function(){return A},Ps:function(){return C},To:function(){return E},Ue:function(){return I},Vg:function(){return u},Vs:function(){return f},_F:function(){return y},eP:function(){return L},jT:function(){return J},ne:function(){return n},pY:function(){return _},rH:function(){return g},vp:function(){return a},zS:function(){return K},zh:function(){return b}});var w=i(71050),r=i(17301),O=i(4669),V=i(9917),D=i(1432),$=function(H,X,j,x){function Z(T){return T instanceof j?T:new j(function(z){z(T)})}return new(j||(j=Promise))(function(T,z){function G(he){try{S(x.next(he))}catch(Ce){z(Ce)}}function re(he){try{S(x.throw(he))}catch(Ce){z(Ce)}}function S(he){he.done?T(he.value):Z(he.value).then(G,re)}S((x=x.apply(H,X||[])).next())})},M=function(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X=H[Symbol.asyncIterator],j;return X?X.call(H):(H=typeof __values=="function"?__values(H):H[Symbol.iterator](),j={},x("next"),x("throw"),x("return"),j[Symbol.asyncIterator]=function(){return this},j);function x(T){j[T]=H[T]&&function(z){return new Promise(function(G,re){z=H[T](z),Z(G,re,z.done,z.value)})}}function Z(T,z,G,re){Promise.resolve(re).then(function(S){T({value:S,done:G})},z)}};function P(H){return!!H&&typeof H.then=="function"}function A(H){const X=new w.A,j=H(X.token),x=new Promise((Z,T)=>{const z=X.token.onCancellationRequested(()=>{z.dispose(),X.dispose(),T(new r.FU)});Promise.resolve(j).then(G=>{z.dispose(),X.dispose(),Z(G)},G=>{z.dispose(),X.dispose(),T(G)})});return new class{cancel(){X.cancel()}then(Z,T){return x.then(Z,T)}catch(Z){return this.then(void 0,Z)}finally(Z){return x.finally(Z)}}}function L(H,X,j){return new Promise((x,Z)=>{const T=X.onCancellationRequested(()=>{T.dispose(),x(j)});H.then(x,Z).finally(()=>T.dispose())})}class c{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(X){if(this.activePromise){if(this.queuedPromiseFactory=X,!this.queuedPromise){const j=()=>{this.queuedPromise=null;const x=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,x};this.queuedPromise=new Promise(x=>{this.activePromise.then(j,j).then(x)})}return new Promise((j,x)=>{this.queuedPromise.then(j,x)})}return this.activePromise=X(),new Promise((j,x)=>{this.activePromise.then(Z=>{this.activePromise=null,j(Z)},Z=>{this.activePromise=null,x(Z)})})}}const p=(H,X)=>{let j=!0;const x=setTimeout(()=>{j=!1,X()},H);return{isTriggered:()=>j,dispose:()=>{clearTimeout(x),j=!1}}},l=H=>{let X=!0;return queueMicrotask(()=>{X&&(X=!1,H())}),{isTriggered:()=>X,dispose:()=>{X=!1}}},n=Symbol("MicrotaskDelay");class a{constructor(X){this.defaultDelay=X,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(X,j=this.defaultDelay){this.task=X,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((Z,T)=>{this.doResolve=Z,this.doReject=T}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const Z=this.task;return this.task=null,Z()}}));const x=()=>{var Z;this.deferred=null,(Z=this.doResolve)===null||Z===void 0||Z.call(this,null)};return this.deferred=j===n?l(x):p(j,x),this.completionPromise}isTriggered(){var X;return!!(!((X=this.deferred)===null||X===void 0)&&X.isTriggered())}cancel(){var X;this.cancelTimeout(),this.completionPromise&&((X=this.doReject)===null||X===void 0||X.call(this,new r.FU),this.completionPromise=null)}cancelTimeout(){var X;(X=this.deferred)===null||X===void 0||X.dispose(),this.deferred=null}dispose(){this.cancel()}}class g{constructor(X){this.delayer=new a(X),this.throttler=new c}trigger(X,j){return this.delayer.trigger(()=>this.throttler.queue(X),j)}dispose(){this.delayer.dispose()}}function f(H,X){return X?new Promise((j,x)=>{const Z=setTimeout(()=>{T.dispose(),j()},H),T=X.onCancellationRequested(()=>{clearTimeout(Z),T.dispose(),x(new r.FU)})}):A(j=>f(H,j))}function u(H,X=0){const j=setTimeout(H,X);return(0,V.OF)(()=>clearTimeout(j))}function C(H,X=x=>!!x,j=null){let x=0;const Z=H.length,T=()=>{if(x>=Z)return Promise.resolve(j);const z=H[x++];return Promise.resolve(z()).then(re=>X(re)?Promise.resolve(re):T())};return T()}class y{constructor(X,j){this._token=-1,typeof X=="function"&&typeof j=="number"&&this.setIfNotSet(X,j)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(X,j){this.cancel(),this._token=setTimeout(()=>{this._token=-1,X()},j)}setIfNotSet(X,j){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,X()},j))}}class b{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(X,j){this.cancel(),this._token=setInterval(()=>{X()},j)}}class _{constructor(X,j){this.timeoutToken=-1,this.runner=X,this.timeout=j,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(X=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,X)}get delay(){return this.timeout}set delay(X){this.timeout=X}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var X;(X=this.runner)===null||X===void 0||X.call(this)}}let E;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?E=H=>{(0,D.fn)(()=>{if(X)return;const j=Date.now()+15;H(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,j-Date.now())}}))});let X=!1;return{dispose(){X||(X=!0)}}}:E=(H,X)=>{const j=requestIdleCallback(H,typeof X=="number"?{timeout:X}:void 0);let x=!1;return{dispose(){x||(x=!0,cancelIdleCallback(j))}}}})();class I{constructor(X){this._didRun=!1,this._executor=()=>{try{this._value=X()}catch(j){this._error=j}finally{this._didRun=!0}},this._handle=E(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class R{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((X,j)=>{this.completeCallback=X,this.errorCallback=j})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(X){return new Promise(j=>{this.completeCallback(X),this.resolved=!0,j()})}cancel(){new Promise(X=>{this.errorCallback(new r.FU),this.rejected=!0,X()})}}var J;(function(H){function X(x){return $(this,void 0,void 0,function*(){let Z;const T=yield Promise.all(x.map(z=>z.then(G=>G,G=>{Z||(Z=G)})));if(typeof Z<"u")throw Z;return T})}H.settled=X;function j(x){return new Promise((Z,T)=>$(this,void 0,void 0,function*(){try{yield x(Z,T)}catch(z){T(z)}}))}H.withAsyncBody=j})(J||(J={}));class Q{constructor(X){this._state=0,this._results=[],this._error=null,this._onStateChanged=new O.Q5,queueMicrotask(()=>$(this,void 0,void 0,function*(){const j={emitOne:x=>this.emitOne(x),emitMany:x=>this.emitMany(x),reject:x=>this.reject(x)};try{yield Promise.resolve(X(j)),this.resolve()}catch(x){this.reject(x)}finally{j.emitOne=void 0,j.emitMany=void 0,j.reject=void 0}}))}static fromArray(X){return new Q(j=>{j.emitMany(X)})}static fromPromise(X){return new Q(j=>$(this,void 0,void 0,function*(){j.emitMany(yield X)}))}static fromPromises(X){return new Q(j=>$(this,void 0,void 0,function*(){yield Promise.all(X.map(x=>$(this,void 0,void 0,function*(){return j.emitOne(yield x)})))}))}static merge(X){return new Q(j=>$(this,void 0,void 0,function*(){yield Promise.all(X.map(x=>{var Z,T;return $(this,void 0,void 0,function*(){var z,G;try{for(Z=M(x);T=yield Z.next(),!T.done;){const re=T.value;j.emitOne(re)}}catch(re){z={error:re}}finally{try{T&&!T.done&&(G=Z.return)&&(yield G.call(Z))}finally{if(z)throw z.error}}})}))}))}[Symbol.asyncIterator](){let X=0;return{next:()=>$(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(X<this._results.length)return{done:!1,value:this._results[X++]};if(this._state===1)return{done:!0,value:void 0};yield O.ju.toPromise(this._onStateChanged.event)}while(!0)})}}static map(X,j){return new Q(x=>$(this,void 0,void 0,function*(){var Z,T;try{for(var z=M(X),G;G=yield z.next(),!G.done;){const re=G.value;x.emitOne(j(re))}}catch(re){Z={error:re}}finally{try{G&&!G.done&&(T=z.return)&&(yield T.call(z))}finally{if(Z)throw Z.error}}}))}map(X){return Q.map(this,X)}static filter(X,j){return new Q(x=>$(this,void 0,void 0,function*(){var Z,T;try{for(var z=M(X),G;G=yield z.next(),!G.done;){const re=G.value;j(re)&&x.emitOne(re)}}catch(re){Z={error:re}}finally{try{G&&!G.done&&(T=z.return)&&(yield T.call(z))}finally{if(Z)throw Z.error}}}))}filter(X){return Q.filter(this,X)}static coalesce(X){return Q.filter(X,j=>!!j)}coalesce(){return Q.coalesce(this)}static toPromise(X){var j,x,Z,T;return $(this,void 0,void 0,function*(){const z=[];try{for(j=M(X);x=yield j.next(),!x.done;){const G=x.value;z.push(G)}}catch(G){Z={error:G}}finally{try{x&&!x.done&&(T=j.return)&&(yield T.call(j))}finally{if(Z)throw Z.error}}return z})}toPromise(){return Q.toPromise(this)}emitOne(X){this._state===0&&(this._results.push(X),this._onStateChanged.fire())}emitMany(X){this._state===0&&(this._results=this._results.concat(X),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(X){this._state===0&&(this._state=2,this._error=X,this._onStateChanged.fire())}}Q.EMPTY=Q.fromArray([]);class U extends Q{constructor(X,j){super(j),this._source=X}cancel(){this._source.cancel()}}function K(H){const X=new w.A,j=H(X.token);return new U(X,x=>$(this,void 0,void 0,function*(){var Z,T;const z=X.token.onCancellationRequested(()=>{z.dispose(),X.dispose(),x.reject(new r.FU)});try{try{for(var G=M(j),re;re=yield G.next(),!re.done;){const S=re.value;if(X.token.isCancellationRequested)return;x.emitOne(S)}}catch(S){Z={error:S}}finally{try{re&&!re.done&&(T=G.return)&&(yield T.call(G))}finally{if(Z)throw Z.error}}z.dispose(),X.dispose()}catch(S){z.dispose(),X.dispose(),x.reject(S)}}))}},53060:function(Ot,Te,i){"use strict";i.d(Te,{Ag:function(){return M},Cg:function(){return L},KN:function(){return V},Q$:function(){return A},T4:function(){return P},mP:function(){return D},oq:function(){return $}});var w=i(48764).Buffer;const r=typeof w<"u";let O;class V{constructor(p){this.buffer=p,this.byteLength=this.buffer.byteLength}static wrap(p){return r&&!w.isBuffer(p)&&(p=w.from(p.buffer,p.byteOffset,p.byteLength)),new V(p)}toString(){return r?this.buffer.toString():(O||(O=new TextDecoder),O.decode(this.buffer))}}function D(c,p){return c[p+0]<<0>>>0|c[p+1]<<8>>>0}function $(c,p,l){c[l+0]=p&255,p=p>>>8,c[l+1]=p&255}function M(c,p){return c[p]*Math.pow(2,24)+c[p+1]*Math.pow(2,16)+c[p+2]*Math.pow(2,8)+c[p+3]}function P(c,p,l){c[l+3]=p,p=p>>>8,c[l+2]=p,p=p>>>8,c[l+1]=p,p=p>>>8,c[l]=p}function A(c,p){return c[p]}function L(c,p,l){c[l]=p}},701:function(Ot,Te,i){"use strict";i.d(Te,{b:function(){return r},t:function(){return w}});class w{constructor(V){this.fn=V,this.lastCache=void 0,this.lastArgKey=void 0}get(V){const D=JSON.stringify(V);return this.lastArgKey!==D&&(this.lastArgKey=D,this.lastCache=this.fn(V)),this.lastCache}}class r{constructor(V){this.fn=V,this._map=new Map}get cachedValues(){return this._map}get(V){if(this._map.has(V))return this._map.get(V);const D=this.fn(V);return this._map.set(V,D),D}}},71050:function(Ot,Te,i){"use strict";i.d(Te,{A:function(){return D},T:function(){return O}});var w=i(4669);const r=Object.freeze(function($,M){const P=setTimeout($.bind(M),0);return{dispose(){clearTimeout(P)}}});var O;(function($){function M(P){return P===$.None||P===$.Cancelled||P instanceof V?!0:!P||typeof P!="object"?!1:typeof P.isCancellationRequested=="boolean"&&typeof P.onCancellationRequested=="function"}$.isCancellationToken=M,$.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:w.ju.None}),$.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r})})(O||(O={}));class V{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?r:(this._emitter||(this._emitter=new w.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class D{constructor(M){this._token=void 0,this._parentListener=void 0,this._parentListener=M&&M.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new V),this._token}cancel(){this._token?this._token instanceof V&&this._token.cancel():this._token=O.Cancelled}dispose(M=!1){M&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof V&&this._token.dispose():this._token=O.None}}},73046:function(Ot,Te,i){"use strict";i.d(Te,{JL:function(){return w},dT:function(){return O},lA:function(){return r}});function w(V){return V?V.replace(/\$\((.*?)\)/g,(D,$)=>` ${$} `).trim():""}class r{constructor(D,$,M){this.id=D,this.definition=$,this.description=M,r._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return r._allCodicons}}r._allCodicons=[],r.add=new r("add",{fontCharacter:"\\ea60"}),r.plus=new r("plus",r.add.definition),r.gistNew=new r("gist-new",r.add.definition),r.repoCreate=new r("repo-create",r.add.definition),r.lightbulb=new r("lightbulb",{fontCharacter:"\\ea61"}),r.lightBulb=new r("light-bulb",{fontCharacter:"\\ea61"}),r.repo=new r("repo",{fontCharacter:"\\ea62"}),r.repoDelete=new r("repo-delete",{fontCharacter:"\\ea62"}),r.gistFork=new r("gist-fork",{fontCharacter:"\\ea63"}),r.repoForked=new r("repo-forked",{fontCharacter:"\\ea63"}),r.gitPullRequest=new r("git-pull-request",{fontCharacter:"\\ea64"}),r.gitPullRequestAbandoned=new r("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),r.recordKeys=new r("record-keys",{fontCharacter:"\\ea65"}),r.keyboard=new r("keyboard",{fontCharacter:"\\ea65"}),r.tag=new r("tag",{fontCharacter:"\\ea66"}),r.tagAdd=new r("tag-add",{fontCharacter:"\\ea66"}),r.tagRemove=new r("tag-remove",{fontCharacter:"\\ea66"}),r.person=new r("person",{fontCharacter:"\\ea67"}),r.personFollow=new r("person-follow",{fontCharacter:"\\ea67"}),r.personOutline=new r("person-outline",{fontCharacter:"\\ea67"}),r.personFilled=new r("person-filled",{fontCharacter:"\\ea67"}),r.gitBranch=new r("git-branch",{fontCharacter:"\\ea68"}),r.gitBranchCreate=new r("git-branch-create",{fontCharacter:"\\ea68"}),r.gitBranchDelete=new r("git-branch-delete",{fontCharacter:"\\ea68"}),r.sourceControl=new r("source-control",{fontCharacter:"\\ea68"}),r.mirror=new r("mirror",{fontCharacter:"\\ea69"}),r.mirrorPublic=new r("mirror-public",{fontCharacter:"\\ea69"}),r.star=new r("star",{fontCharacter:"\\ea6a"}),r.starAdd=new r("star-add",{fontCharacter:"\\ea6a"}),r.starDelete=new r("star-delete",{fontCharacter:"\\ea6a"}),r.starEmpty=new r("star-empty",{fontCharacter:"\\ea6a"}),r.comment=new r("comment",{fontCharacter:"\\ea6b"}),r.commentAdd=new r("comment-add",{fontCharacter:"\\ea6b"}),r.alert=new r("alert",{fontCharacter:"\\ea6c"}),r.warning=new r("warning",{fontCharacter:"\\ea6c"}),r.search=new r("search",{fontCharacter:"\\ea6d"}),r.searchSave=new r("search-save",{fontCharacter:"\\ea6d"}),r.logOut=new r("log-out",{fontCharacter:"\\ea6e"}),r.signOut=new r("sign-out",{fontCharacter:"\\ea6e"}),r.logIn=new r("log-in",{fontCharacter:"\\ea6f"}),r.signIn=new r("sign-in",{fontCharacter:"\\ea6f"}),r.eye=new r("eye",{fontCharacter:"\\ea70"}),r.eyeUnwatch=new r("eye-unwatch",{fontCharacter:"\\ea70"}),r.eyeWatch=new r("eye-watch",{fontCharacter:"\\ea70"}),r.circleFilled=new r("circle-filled",{fontCharacter:"\\ea71"}),r.primitiveDot=new r("primitive-dot",{fontCharacter:"\\ea71"}),r.closeDirty=new r("close-dirty",{fontCharacter:"\\ea71"}),r.debugBreakpoint=new r("debug-breakpoint",{fontCharacter:"\\ea71"}),r.debugBreakpointDisabled=new r("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),r.debugHint=new r("debug-hint",{fontCharacter:"\\ea71"}),r.primitiveSquare=new r("primitive-square",{fontCharacter:"\\ea72"}),r.edit=new r("edit",{fontCharacter:"\\ea73"}),r.pencil=new r("pencil",{fontCharacter:"\\ea73"}),r.info=new r("info",{fontCharacter:"\\ea74"}),r.issueOpened=new r("issue-opened",{fontCharacter:"\\ea74"}),r.gistPrivate=new r("gist-private",{fontCharacter:"\\ea75"}),r.gitForkPrivate=new r("git-fork-private",{fontCharacter:"\\ea75"}),r.lock=new r("lock",{fontCharacter:"\\ea75"}),r.mirrorPrivate=new r("mirror-private",{fontCharacter:"\\ea75"}),r.close=new r("close",{fontCharacter:"\\ea76"}),r.removeClose=new r("remove-close",{fontCharacter:"\\ea76"}),r.x=new r("x",{fontCharacter:"\\ea76"}),r.repoSync=new r("repo-sync",{fontCharacter:"\\ea77"}),r.sync=new r("sync",{fontCharacter:"\\ea77"}),r.clone=new r("clone",{fontCharacter:"\\ea78"}),r.desktopDownload=new r("desktop-download",{fontCharacter:"\\ea78"}),r.beaker=new r("beaker",{fontCharacter:"\\ea79"}),r.microscope=new r("microscope",{fontCharacter:"\\ea79"}),r.vm=new r("vm",{fontCharacter:"\\ea7a"}),r.deviceDesktop=new r("device-desktop",{fontCharacter:"\\ea7a"}),r.file=new r("file",{fontCharacter:"\\ea7b"}),r.fileText=new r("file-text",{fontCharacter:"\\ea7b"}),r.more=new r("more",{fontCharacter:"\\ea7c"}),r.ellipsis=new r("ellipsis",{fontCharacter:"\\ea7c"}),r.kebabHorizontal=new r("kebab-horizontal",{fontCharacter:"\\ea7c"}),r.mailReply=new r("mail-reply",{fontCharacter:"\\ea7d"}),r.reply=new r("reply",{fontCharacter:"\\ea7d"}),r.organization=new r("organization",{fontCharacter:"\\ea7e"}),r.organizationFilled=new r("organization-filled",{fontCharacter:"\\ea7e"}),r.organizationOutline=new r("organization-outline",{fontCharacter:"\\ea7e"}),r.newFile=new r("new-file",{fontCharacter:"\\ea7f"}),r.fileAdd=new r("file-add",{fontCharacter:"\\ea7f"}),r.newFolder=new r("new-folder",{fontCharacter:"\\ea80"}),r.fileDirectoryCreate=new r("file-directory-create",{fontCharacter:"\\ea80"}),r.trash=new r("trash",{fontCharacter:"\\ea81"}),r.trashcan=new r("trashcan",{fontCharacter:"\\ea81"}),r.history=new r("history",{fontCharacter:"\\ea82"}),r.clock=new r("clock",{fontCharacter:"\\ea82"}),r.folder=new r("folder",{fontCharacter:"\\ea83"}),r.fileDirectory=new r("file-directory",{fontCharacter:"\\ea83"}),r.symbolFolder=new r("symbol-folder",{fontCharacter:"\\ea83"}),r.logoGithub=new r("logo-github",{fontCharacter:"\\ea84"}),r.markGithub=new r("mark-github",{fontCharacter:"\\ea84"}),r.github=new r("github",{fontCharacter:"\\ea84"}),r.terminal=new r("terminal",{fontCharacter:"\\ea85"}),r.console=new r("console",{fontCharacter:"\\ea85"}),r.repl=new r("repl",{fontCharacter:"\\ea85"}),r.zap=new r("zap",{fontCharacter:"\\ea86"}),r.symbolEvent=new r("symbol-event",{fontCharacter:"\\ea86"}),r.error=new r("error",{fontCharacter:"\\ea87"}),r.stop=new r("stop",{fontCharacter:"\\ea87"}),r.variable=new r("variable",{fontCharacter:"\\ea88"}),r.symbolVariable=new r("symbol-variable",{fontCharacter:"\\ea88"}),r.array=new r("array",{fontCharacter:"\\ea8a"}),r.symbolArray=new r("symbol-array",{fontCharacter:"\\ea8a"}),r.symbolModule=new r("symbol-module",{fontCharacter:"\\ea8b"}),r.symbolPackage=new r("symbol-package",{fontCharacter:"\\ea8b"}),r.symbolNamespace=new r("symbol-namespace",{fontCharacter:"\\ea8b"}),r.symbolObject=new r("symbol-object",{fontCharacter:"\\ea8b"}),r.symbolMethod=new r("symbol-method",{fontCharacter:"\\ea8c"}),r.symbolFunction=new r("symbol-function",{fontCharacter:"\\ea8c"}),r.symbolConstructor=new r("symbol-constructor",{fontCharacter:"\\ea8c"}),r.symbolBoolean=new r("symbol-boolean",{fontCharacter:"\\ea8f"}),r.symbolNull=new r("symbol-null",{fontCharacter:"\\ea8f"}),r.symbolNumeric=new r("symbol-numeric",{fontCharacter:"\\ea90"}),r.symbolNumber=new r("symbol-number",{fontCharacter:"\\ea90"}),r.symbolStructure=new r("symbol-structure",{fontCharacter:"\\ea91"}),r.symbolStruct=new r("symbol-struct",{fontCharacter:"\\ea91"}),r.symbolParameter=new r("symbol-parameter",{fontCharacter:"\\ea92"}),r.symbolTypeParameter=new r("symbol-type-parameter",{fontCharacter:"\\ea92"}),r.symbolKey=new r("symbol-key",{fontCharacter:"\\ea93"}),r.symbolText=new r("symbol-text",{fontCharacter:"\\ea93"}),r.symbolReference=new r("symbol-reference",{fontCharacter:"\\ea94"}),r.goToFile=new r("go-to-file",{fontCharacter:"\\ea94"}),r.symbolEnum=new r("symbol-enum",{fontCharacter:"\\ea95"}),r.symbolValue=new r("symbol-value",{fontCharacter:"\\ea95"}),r.symbolRuler=new r("symbol-ruler",{fontCharacter:"\\ea96"}),r.symbolUnit=new r("symbol-unit",{fontCharacter:"\\ea96"}),r.activateBreakpoints=new r("activate-breakpoints",{fontCharacter:"\\ea97"}),r.archive=new r("archive",{fontCharacter:"\\ea98"}),r.arrowBoth=new r("arrow-both",{fontCharacter:"\\ea99"}),r.arrowDown=new r("arrow-down",{fontCharacter:"\\ea9a"}),r.arrowLeft=new r("arrow-left",{fontCharacter:"\\ea9b"}),r.arrowRight=new r("arrow-right",{fontCharacter:"\\ea9c"}),r.arrowSmallDown=new r("arrow-small-down",{fontCharacter:"\\ea9d"}),r.arrowSmallLeft=new r("arrow-small-left",{fontCharacter:"\\ea9e"}),r.arrowSmallRight=new r("arrow-small-right",{fontCharacter:"\\ea9f"}),r.arrowSmallUp=new r("arrow-small-up",{fontCharacter:"\\eaa0"}),r.arrowUp=new r("arrow-up",{fontCharacter:"\\eaa1"}),r.bell=new r("bell",{fontCharacter:"\\eaa2"}),r.bold=new r("bold",{fontCharacter:"\\eaa3"}),r.book=new r("book",{fontCharacter:"\\eaa4"}),r.bookmark=new r("bookmark",{fontCharacter:"\\eaa5"}),r.debugBreakpointConditionalUnverified=new r("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),r.debugBreakpointConditional=new r("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),r.debugBreakpointConditionalDisabled=new r("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),r.debugBreakpointDataUnverified=new r("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),r.debugBreakpointData=new r("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),r.debugBreakpointDataDisabled=new r("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),r.debugBreakpointLogUnverified=new r("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),r.debugBreakpointLog=new r("debug-breakpoint-log",{fontCharacter:"\\eaab"}),r.debugBreakpointLogDisabled=new r("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),r.briefcase=new r("briefcase",{fontCharacter:"\\eaac"}),r.broadcast=new r("broadcast",{fontCharacter:"\\eaad"}),r.browser=new r("browser",{fontCharacter:"\\eaae"}),r.bug=new r("bug",{fontCharacter:"\\eaaf"}),r.calendar=new r("calendar",{fontCharacter:"\\eab0"}),r.caseSensitive=new r("case-sensitive",{fontCharacter:"\\eab1"}),r.check=new r("check",{fontCharacter:"\\eab2"}),r.checklist=new r("checklist",{fontCharacter:"\\eab3"}),r.chevronDown=new r("chevron-down",{fontCharacter:"\\eab4"}),r.dropDownButton=new r("drop-down-button",r.chevronDown.definition),r.chevronLeft=new r("chevron-left",{fontCharacter:"\\eab5"}),r.chevronRight=new r("chevron-right",{fontCharacter:"\\eab6"}),r.chevronUp=new r("chevron-up",{fontCharacter:"\\eab7"}),r.chromeClose=new r("chrome-close",{fontCharacter:"\\eab8"}),r.chromeMaximize=new r("chrome-maximize",{fontCharacter:"\\eab9"}),r.chromeMinimize=new r("chrome-minimize",{fontCharacter:"\\eaba"}),r.chromeRestore=new r("chrome-restore",{fontCharacter:"\\eabb"}),r.circleOutline=new r("circle-outline",{fontCharacter:"\\eabc"}),r.debugBreakpointUnverified=new r("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),r.circleSlash=new r("circle-slash",{fontCharacter:"\\eabd"}),r.circuitBoard=new r("circuit-board",{fontCharacter:"\\eabe"}),r.clearAll=new r("clear-all",{fontCharacter:"\\eabf"}),r.clippy=new r("clippy",{fontCharacter:"\\eac0"}),r.closeAll=new r("close-all",{fontCharacter:"\\eac1"}),r.cloudDownload=new r("cloud-download",{fontCharacter:"\\eac2"}),r.cloudUpload=new r("cloud-upload",{fontCharacter:"\\eac3"}),r.code=new r("code",{fontCharacter:"\\eac4"}),r.collapseAll=new r("collapse-all",{fontCharacter:"\\eac5"}),r.colorMode=new r("color-mode",{fontCharacter:"\\eac6"}),r.commentDiscussion=new r("comment-discussion",{fontCharacter:"\\eac7"}),r.compareChanges=new r("compare-changes",{fontCharacter:"\\eafd"}),r.creditCard=new r("credit-card",{fontCharacter:"\\eac9"}),r.dash=new r("dash",{fontCharacter:"\\eacc"}),r.dashboard=new r("dashboard",{fontCharacter:"\\eacd"}),r.database=new r("database",{fontCharacter:"\\eace"}),r.debugContinue=new r("debug-continue",{fontCharacter:"\\eacf"}),r.debugDisconnect=new r("debug-disconnect",{fontCharacter:"\\ead0"}),r.debugPause=new r("debug-pause",{fontCharacter:"\\ead1"}),r.debugRestart=new r("debug-restart",{fontCharacter:"\\ead2"}),r.debugStart=new r("debug-start",{fontCharacter:"\\ead3"}),r.debugStepInto=new r("debug-step-into",{fontCharacter:"\\ead4"}),r.debugStepOut=new r("debug-step-out",{fontCharacter:"\\ead5"}),r.debugStepOver=new r("debug-step-over",{fontCharacter:"\\ead6"}),r.debugStop=new r("debug-stop",{fontCharacter:"\\ead7"}),r.debug=new r("debug",{fontCharacter:"\\ead8"}),r.deviceCameraVideo=new r("device-camera-video",{fontCharacter:"\\ead9"}),r.deviceCamera=new r("device-camera",{fontCharacter:"\\eada"}),r.deviceMobile=new r("device-mobile",{fontCharacter:"\\eadb"}),r.diffAdded=new r("diff-added",{fontCharacter:"\\eadc"}),r.diffIgnored=new r("diff-ignored",{fontCharacter:"\\eadd"}),r.diffModified=new r("diff-modified",{fontCharacter:"\\eade"}),r.diffRemoved=new r("diff-removed",{fontCharacter:"\\eadf"}),r.diffRenamed=new r("diff-renamed",{fontCharacter:"\\eae0"}),r.diff=new r("diff",{fontCharacter:"\\eae1"}),r.discard=new r("discard",{fontCharacter:"\\eae2"}),r.editorLayout=new r("editor-layout",{fontCharacter:"\\eae3"}),r.emptyWindow=new r("empty-window",{fontCharacter:"\\eae4"}),r.exclude=new r("exclude",{fontCharacter:"\\eae5"}),r.extensions=new r("extensions",{fontCharacter:"\\eae6"}),r.eyeClosed=new r("eye-closed",{fontCharacter:"\\eae7"}),r.fileBinary=new r("file-binary",{fontCharacter:"\\eae8"}),r.fileCode=new r("file-code",{fontCharacter:"\\eae9"}),r.fileMedia=new r("file-media",{fontCharacter:"\\eaea"}),r.filePdf=new r("file-pdf",{fontCharacter:"\\eaeb"}),r.fileSubmodule=new r("file-submodule",{fontCharacter:"\\eaec"}),r.fileSymlinkDirectory=new r("file-symlink-directory",{fontCharacter:"\\eaed"}),r.fileSymlinkFile=new r("file-symlink-file",{fontCharacter:"\\eaee"}),r.fileZip=new r("file-zip",{fontCharacter:"\\eaef"}),r.files=new r("files",{fontCharacter:"\\eaf0"}),r.filter=new r("filter",{fontCharacter:"\\eaf1"}),r.flame=new r("flame",{fontCharacter:"\\eaf2"}),r.foldDown=new r("fold-down",{fontCharacter:"\\eaf3"}),r.foldUp=new r("fold-up",{fontCharacter:"\\eaf4"}),r.fold=new r("fold",{fontCharacter:"\\eaf5"}),r.folderActive=new r("folder-active",{fontCharacter:"\\eaf6"}),r.folderOpened=new r("folder-opened",{fontCharacter:"\\eaf7"}),r.gear=new r("gear",{fontCharacter:"\\eaf8"}),r.gift=new r("gift",{fontCharacter:"\\eaf9"}),r.gistSecret=new r("gist-secret",{fontCharacter:"\\eafa"}),r.gist=new r("gist",{fontCharacter:"\\eafb"}),r.gitCommit=new r("git-commit",{fontCharacter:"\\eafc"}),r.gitCompare=new r("git-compare",{fontCharacter:"\\eafd"}),r.gitMerge=new r("git-merge",{fontCharacter:"\\eafe"}),r.githubAction=new r("github-action",{fontCharacter:"\\eaff"}),r.githubAlt=new r("github-alt",{fontCharacter:"\\eb00"}),r.globe=new r("globe",{fontCharacter:"\\eb01"}),r.grabber=new r("grabber",{fontCharacter:"\\eb02"}),r.graph=new r("graph",{fontCharacter:"\\eb03"}),r.gripper=new r("gripper",{fontCharacter:"\\eb04"}),r.heart=new r("heart",{fontCharacter:"\\eb05"}),r.home=new r("home",{fontCharacter:"\\eb06"}),r.horizontalRule=new r("horizontal-rule",{fontCharacter:"\\eb07"}),r.hubot=new r("hubot",{fontCharacter:"\\eb08"}),r.inbox=new r("inbox",{fontCharacter:"\\eb09"}),r.issueClosed=new r("issue-closed",{fontCharacter:"\\eba4"}),r.issueReopened=new r("issue-reopened",{fontCharacter:"\\eb0b"}),r.issues=new r("issues",{fontCharacter:"\\eb0c"}),r.italic=new r("italic",{fontCharacter:"\\eb0d"}),r.jersey=new r("jersey",{fontCharacter:"\\eb0e"}),r.json=new r("json",{fontCharacter:"\\eb0f"}),r.kebabVertical=new r("kebab-vertical",{fontCharacter:"\\eb10"}),r.key=new r("key",{fontCharacter:"\\eb11"}),r.law=new r("law",{fontCharacter:"\\eb12"}),r.lightbulbAutofix=new r("lightbulb-autofix",{fontCharacter:"\\eb13"}),r.linkExternal=new r("link-external",{fontCharacter:"\\eb14"}),r.link=new r("link",{fontCharacter:"\\eb15"}),r.listOrdered=new r("list-ordered",{fontCharacter:"\\eb16"}),r.listUnordered=new r("list-unordered",{fontCharacter:"\\eb17"}),r.liveShare=new r("live-share",{fontCharacter:"\\eb18"}),r.loading=new r("loading",{fontCharacter:"\\eb19"}),r.location=new r("location",{fontCharacter:"\\eb1a"}),r.mailRead=new r("mail-read",{fontCharacter:"\\eb1b"}),r.mail=new r("mail",{fontCharacter:"\\eb1c"}),r.markdown=new r("markdown",{fontCharacter:"\\eb1d"}),r.megaphone=new r("megaphone",{fontCharacter:"\\eb1e"}),r.mention=new r("mention",{fontCharacter:"\\eb1f"}),r.milestone=new r("milestone",{fontCharacter:"\\eb20"}),r.mortarBoard=new r("mortar-board",{fontCharacter:"\\eb21"}),r.move=new r("move",{fontCharacter:"\\eb22"}),r.multipleWindows=new r("multiple-windows",{fontCharacter:"\\eb23"}),r.mute=new r("mute",{fontCharacter:"\\eb24"}),r.noNewline=new r("no-newline",{fontCharacter:"\\eb25"}),r.note=new r("note",{fontCharacter:"\\eb26"}),r.octoface=new r("octoface",{fontCharacter:"\\eb27"}),r.openPreview=new r("open-preview",{fontCharacter:"\\eb28"}),r.package_=new r("package",{fontCharacter:"\\eb29"}),r.paintcan=new r("paintcan",{fontCharacter:"\\eb2a"}),r.pin=new r("pin",{fontCharacter:"\\eb2b"}),r.play=new r("play",{fontCharacter:"\\eb2c"}),r.run=new r("run",{fontCharacter:"\\eb2c"}),r.plug=new r("plug",{fontCharacter:"\\eb2d"}),r.preserveCase=new r("preserve-case",{fontCharacter:"\\eb2e"}),r.preview=new r("preview",{fontCharacter:"\\eb2f"}),r.project=new r("project",{fontCharacter:"\\eb30"}),r.pulse=new r("pulse",{fontCharacter:"\\eb31"}),r.question=new r("question",{fontCharacter:"\\eb32"}),r.quote=new r("quote",{fontCharacter:"\\eb33"}),r.radioTower=new r("radio-tower",{fontCharacter:"\\eb34"}),r.reactions=new r("reactions",{fontCharacter:"\\eb35"}),r.references=new r("references",{fontCharacter:"\\eb36"}),r.refresh=new r("refresh",{fontCharacter:"\\eb37"}),r.regex=new r("regex",{fontCharacter:"\\eb38"}),r.remoteExplorer=new r("remote-explorer",{fontCharacter:"\\eb39"}),r.remote=new r("remote",{fontCharacter:"\\eb3a"}),r.remove=new r("remove",{fontCharacter:"\\eb3b"}),r.replaceAll=new r("replace-all",{fontCharacter:"\\eb3c"}),r.replace=new r("replace",{fontCharacter:"\\eb3d"}),r.repoClone=new r("repo-clone",{fontCharacter:"\\eb3e"}),r.repoForcePush=new r("repo-force-push",{fontCharacter:"\\eb3f"}),r.repoPull=new r("repo-pull",{fontCharacter:"\\eb40"}),r.repoPush=new r("repo-push",{fontCharacter:"\\eb41"}),r.report=new r("report",{fontCharacter:"\\eb42"}),r.requestChanges=new r("request-changes",{fontCharacter:"\\eb43"}),r.rocket=new r("rocket",{fontCharacter:"\\eb44"}),r.rootFolderOpened=new r("root-folder-opened",{fontCharacter:"\\eb45"}),r.rootFolder=new r("root-folder",{fontCharacter:"\\eb46"}),r.rss=new r("rss",{fontCharacter:"\\eb47"}),r.ruby=new r("ruby",{fontCharacter:"\\eb48"}),r.saveAll=new r("save-all",{fontCharacter:"\\eb49"}),r.saveAs=new r("save-as",{fontCharacter:"\\eb4a"}),r.save=new r("save",{fontCharacter:"\\eb4b"}),r.screenFull=new r("screen-full",{fontCharacter:"\\eb4c"}),r.screenNormal=new r("screen-normal",{fontCharacter:"\\eb4d"}),r.searchStop=new r("search-stop",{fontCharacter:"\\eb4e"}),r.server=new r("server",{fontCharacter:"\\eb50"}),r.settingsGear=new r("settings-gear",{fontCharacter:"\\eb51"}),r.settings=new r("settings",{fontCharacter:"\\eb52"}),r.shield=new r("shield",{fontCharacter:"\\eb53"}),r.smiley=new r("smiley",{fontCharacter:"\\eb54"}),r.sortPrecedence=new r("sort-precedence",{fontCharacter:"\\eb55"}),r.splitHorizontal=new r("split-horizontal",{fontCharacter:"\\eb56"}),r.splitVertical=new r("split-vertical",{fontCharacter:"\\eb57"}),r.squirrel=new r("squirrel",{fontCharacter:"\\eb58"}),r.starFull=new r("star-full",{fontCharacter:"\\eb59"}),r.starHalf=new r("star-half",{fontCharacter:"\\eb5a"}),r.symbolClass=new r("symbol-class",{fontCharacter:"\\eb5b"}),r.symbolColor=new r("symbol-color",{fontCharacter:"\\eb5c"}),r.symbolCustomColor=new r("symbol-customcolor",{fontCharacter:"\\eb5c"}),r.symbolConstant=new r("symbol-constant",{fontCharacter:"\\eb5d"}),r.symbolEnumMember=new r("symbol-enum-member",{fontCharacter:"\\eb5e"}),r.symbolField=new r("symbol-field",{fontCharacter:"\\eb5f"}),r.symbolFile=new r("symbol-file",{fontCharacter:"\\eb60"}),r.symbolInterface=new r("symbol-interface",{fontCharacter:"\\eb61"}),r.symbolKeyword=new r("symbol-keyword",{fontCharacter:"\\eb62"}),r.symbolMisc=new r("symbol-misc",{fontCharacter:"\\eb63"}),r.symbolOperator=new r("symbol-operator",{fontCharacter:"\\eb64"}),r.symbolProperty=new r("symbol-property",{fontCharacter:"\\eb65"}),r.wrench=new r("wrench",{fontCharacter:"\\eb65"}),r.wrenchSubaction=new r("wrench-subaction",{fontCharacter:"\\eb65"}),r.symbolSnippet=new r("symbol-snippet",{fontCharacter:"\\eb66"}),r.tasklist=new r("tasklist",{fontCharacter:"\\eb67"}),r.telescope=new r("telescope",{fontCharacter:"\\eb68"}),r.textSize=new r("text-size",{fontCharacter:"\\eb69"}),r.threeBars=new r("three-bars",{fontCharacter:"\\eb6a"}),r.thumbsdown=new r("thumbsdown",{fontCharacter:"\\eb6b"}),r.thumbsup=new r("thumbsup",{fontCharacter:"\\eb6c"}),r.tools=new r("tools",{fontCharacter:"\\eb6d"}),r.triangleDown=new r("triangle-down",{fontCharacter:"\\eb6e"}),r.triangleLeft=new r("triangle-left",{fontCharacter:"\\eb6f"}),r.triangleRight=new r("triangle-right",{fontCharacter:"\\eb70"}),r.triangleUp=new r("triangle-up",{fontCharacter:"\\eb71"}),r.twitter=new r("twitter",{fontCharacter:"\\eb72"}),r.unfold=new r("unfold",{fontCharacter:"\\eb73"}),r.unlock=new r("unlock",{fontCharacter:"\\eb74"}),r.unmute=new r("unmute",{fontCharacter:"\\eb75"}),r.unverified=new r("unverified",{fontCharacter:"\\eb76"}),r.verified=new r("verified",{fontCharacter:"\\eb77"}),r.versions=new r("versions",{fontCharacter:"\\eb78"}),r.vmActive=new r("vm-active",{fontCharacter:"\\eb79"}),r.vmOutline=new r("vm-outline",{fontCharacter:"\\eb7a"}),r.vmRunning=new r("vm-running",{fontCharacter:"\\eb7b"}),r.watch=new r("watch",{fontCharacter:"\\eb7c"}),r.whitespace=new r("whitespace",{fontCharacter:"\\eb7d"}),r.wholeWord=new r("whole-word",{fontCharacter:"\\eb7e"}),r.window=new r("window",{fontCharacter:"\\eb7f"}),r.wordWrap=new r("word-wrap",{fontCharacter:"\\eb80"}),r.zoomIn=new r("zoom-in",{fontCharacter:"\\eb81"}),r.zoomOut=new r("zoom-out",{fontCharacter:"\\eb82"}),r.listFilter=new r("list-filter",{fontCharacter:"\\eb83"}),r.listFlat=new r("list-flat",{fontCharacter:"\\eb84"}),r.listSelection=new r("list-selection",{fontCharacter:"\\eb85"}),r.selection=new r("selection",{fontCharacter:"\\eb85"}),r.listTree=new r("list-tree",{fontCharacter:"\\eb86"}),r.debugBreakpointFunctionUnverified=new r("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),r.debugBreakpointFunction=new r("debug-breakpoint-function",{fontCharacter:"\\eb88"}),r.debugBreakpointFunctionDisabled=new r("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),r.debugStackframeActive=new r("debug-stackframe-active",{fontCharacter:"\\eb89"}),r.circleSmallFilled=new r("circle-small-filled",{fontCharacter:"\\eb8a"}),r.debugStackframeDot=new r("debug-stackframe-dot",r.circleSmallFilled.definition),r.debugStackframe=new r("debug-stackframe",{fontCharacter:"\\eb8b"}),r.debugStackframeFocused=new r("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),r.debugBreakpointUnsupported=new r("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),r.symbolString=new r("symbol-string",{fontCharacter:"\\eb8d"}),r.debugReverseContinue=new r("debug-reverse-continue",{fontCharacter:"\\eb8e"}),r.debugStepBack=new r("debug-step-back",{fontCharacter:"\\eb8f"}),r.debugRestartFrame=new r("debug-restart-frame",{fontCharacter:"\\eb90"}),r.callIncoming=new r("call-incoming",{fontCharacter:"\\eb92"}),r.callOutgoing=new r("call-outgoing",{fontCharacter:"\\eb93"}),r.menu=new r("menu",{fontCharacter:"\\eb94"}),r.expandAll=new r("expand-all",{fontCharacter:"\\eb95"}),r.feedback=new r("feedback",{fontCharacter:"\\eb96"}),r.groupByRefType=new r("group-by-ref-type",{fontCharacter:"\\eb97"}),r.ungroupByRefType=new r("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),r.account=new r("account",{fontCharacter:"\\eb99"}),r.bellDot=new r("bell-dot",{fontCharacter:"\\eb9a"}),r.debugConsole=new r("debug-console",{fontCharacter:"\\eb9b"}),r.library=new r("library",{fontCharacter:"\\eb9c"}),r.output=new r("output",{fontCharacter:"\\eb9d"}),r.runAll=new r("run-all",{fontCharacter:"\\eb9e"}),r.syncIgnored=new r("sync-ignored",{fontCharacter:"\\eb9f"}),r.pinned=new r("pinned",{fontCharacter:"\\eba0"}),r.githubInverted=new r("github-inverted",{fontCharacter:"\\eba1"}),r.debugAlt=new r("debug-alt",{fontCharacter:"\\eb91"}),r.serverProcess=new r("server-process",{fontCharacter:"\\eba2"}),r.serverEnvironment=new r("server-environment",{fontCharacter:"\\eba3"}),r.pass=new r("pass",{fontCharacter:"\\eba4"}),r.stopCircle=new r("stop-circle",{fontCharacter:"\\eba5"}),r.playCircle=new r("play-circle",{fontCharacter:"\\eba6"}),r.record=new r("record",{fontCharacter:"\\eba7"}),r.debugAltSmall=new r("debug-alt-small",{fontCharacter:"\\eba8"}),r.vmConnect=new r("vm-connect",{fontCharacter:"\\eba9"}),r.cloud=new r("cloud",{fontCharacter:"\\ebaa"}),r.merge=new r("merge",{fontCharacter:"\\ebab"}),r.exportIcon=new r("export",{fontCharacter:"\\ebac"}),r.graphLeft=new r("graph-left",{fontCharacter:"\\ebad"}),r.magnet=new r("magnet",{fontCharacter:"\\ebae"}),r.notebook=new r("notebook",{fontCharacter:"\\ebaf"}),r.redo=new r("redo",{fontCharacter:"\\ebb0"}),r.checkAll=new r("check-all",{fontCharacter:"\\ebb1"}),r.pinnedDirty=new r("pinned-dirty",{fontCharacter:"\\ebb2"}),r.passFilled=new r("pass-filled",{fontCharacter:"\\ebb3"}),r.circleLargeFilled=new r("circle-large-filled",{fontCharacter:"\\ebb4"}),r.circleLargeOutline=new r("circle-large-outline",{fontCharacter:"\\ebb5"}),r.combine=new r("combine",{fontCharacter:"\\ebb6"}),r.gather=new r("gather",{fontCharacter:"\\ebb6"}),r.table=new r("table",{fontCharacter:"\\ebb7"}),r.variableGroup=new r("variable-group",{fontCharacter:"\\ebb8"}),r.typeHierarchy=new r("type-hierarchy",{fontCharacter:"\\ebb9"}),r.typeHierarchySub=new r("type-hierarchy-sub",{fontCharacter:"\\ebba"}),r.typeHierarchySuper=new r("type-hierarchy-super",{fontCharacter:"\\ebbb"}),r.gitPullRequestCreate=new r("git-pull-request-create",{fontCharacter:"\\ebbc"}),r.runAbove=new r("run-above",{fontCharacter:"\\ebbd"}),r.runBelow=new r("run-below",{fontCharacter:"\\ebbe"}),r.notebookTemplate=new r("notebook-template",{fontCharacter:"\\ebbf"}),r.debugRerun=new r("debug-rerun",{fontCharacter:"\\ebc0"}),r.workspaceTrusted=new r("workspace-trusted",{fontCharacter:"\\ebc1"}),r.workspaceUntrusted=new r("workspace-untrusted",{fontCharacter:"\\ebc2"}),r.workspaceUnspecified=new r("workspace-unspecified",{fontCharacter:"\\ebc3"}),r.terminalCmd=new r("terminal-cmd",{fontCharacter:"\\ebc4"}),r.terminalDebian=new r("terminal-debian",{fontCharacter:"\\ebc5"}),r.terminalLinux=new r("terminal-linux",{fontCharacter:"\\ebc6"}),r.terminalPowershell=new r("terminal-powershell",{fontCharacter:"\\ebc7"}),r.terminalTmux=new r("terminal-tmux",{fontCharacter:"\\ebc8"}),r.terminalUbuntu=new r("terminal-ubuntu",{fontCharacter:"\\ebc9"}),r.terminalBash=new r("terminal-bash",{fontCharacter:"\\ebca"}),r.arrowSwap=new r("arrow-swap",{fontCharacter:"\\ebcb"}),r.copy=new r("copy",{fontCharacter:"\\ebcc"}),r.personAdd=new r("person-add",{fontCharacter:"\\ebcd"}),r.filterFilled=new r("filter-filled",{fontCharacter:"\\ebce"}),r.wand=new r("wand",{fontCharacter:"\\ebcf"}),r.debugLineByLine=new r("debug-line-by-line",{fontCharacter:"\\ebd0"}),r.inspect=new r("inspect",{fontCharacter:"\\ebd1"}),r.layers=new r("layers",{fontCharacter:"\\ebd2"}),r.layersDot=new r("layers-dot",{fontCharacter:"\\ebd3"}),r.layersActive=new r("layers-active",{fontCharacter:"\\ebd4"}),r.compass=new r("compass",{fontCharacter:"\\ebd5"}),r.compassDot=new r("compass-dot",{fontCharacter:"\\ebd6"}),r.compassActive=new r("compass-active",{fontCharacter:"\\ebd7"}),r.azure=new r("azure",{fontCharacter:"\\ebd8"}),r.issueDraft=new r("issue-draft",{fontCharacter:"\\ebd9"}),r.gitPullRequestClosed=new r("git-pull-request-closed",{fontCharacter:"\\ebda"}),r.gitPullRequestDraft=new r("git-pull-request-draft",{fontCharacter:"\\ebdb"}),r.debugAll=new r("debug-all",{fontCharacter:"\\ebdc"}),r.debugCoverage=new r("debug-coverage",{fontCharacter:"\\ebdd"}),r.runErrors=new r("run-errors",{fontCharacter:"\\ebde"}),r.folderLibrary=new r("folder-library",{fontCharacter:"\\ebdf"}),r.debugContinueSmall=new r("debug-continue-small",{fontCharacter:"\\ebe0"}),r.beakerStop=new r("beaker-stop",{fontCharacter:"\\ebe1"}),r.graphLine=new r("graph-line",{fontCharacter:"\\ebe2"}),r.graphScatter=new r("graph-scatter",{fontCharacter:"\\ebe3"}),r.pieChart=new r("pie-chart",{fontCharacter:"\\ebe4"}),r.bracket=new r("bracket",r.json.definition),r.bracketDot=new r("bracket-dot",{fontCharacter:"\\ebe5"}),r.bracketError=new r("bracket-error",{fontCharacter:"\\ebe6"}),r.lockSmall=new r("lock-small",{fontCharacter:"\\ebe7"}),r.azureDevops=new r("azure-devops",{fontCharacter:"\\ebe8"}),r.verifiedFilled=new r("verified-filled",{fontCharacter:"\\ebe9"}),r.newLine=new r("newline",{fontCharacter:"\\ebea"}),r.layout=new r("layout",{fontCharacter:"\\ebeb"}),r.layoutActivitybarLeft=new r("layout-activitybar-left",{fontCharacter:"\\ebec"}),r.layoutActivitybarRight=new r("layout-activitybar-right",{fontCharacter:"\\ebed"}),r.layoutPanelLeft=new r("layout-panel-left",{fontCharacter:"\\ebee"}),r.layoutPanelCenter=new r("layout-panel-center",{fontCharacter:"\\ebef"}),r.layoutPanelJustify=new r("layout-panel-justify",{fontCharacter:"\\ebf0"}),r.layoutPanelRight=new r("layout-panel-right",{fontCharacter:"\\ebf1"}),r.layoutPanel=new r("layout-panel",{fontCharacter:"\\ebf2"}),r.layoutSidebarLeft=new r("layout-sidebar-left",{fontCharacter:"\\ebf3"}),r.layoutSidebarRight=new r("layout-sidebar-right",{fontCharacter:"\\ebf4"}),r.layoutStatusbar=new r("layout-statusbar",{fontCharacter:"\\ebf5"}),r.layoutMenubar=new r("layout-menubar",{fontCharacter:"\\ebf6"}),r.layoutCentered=new r("layout-centered",{fontCharacter:"\\ebf7"}),r.layoutSidebarRightOff=new r("layout-sidebar-right-off",{fontCharacter:"\\ec00"}),r.layoutPanelOff=new r("layout-panel-off",{fontCharacter:"\\ec01"}),r.layoutSidebarLeftOff=new r("layout-sidebar-left-off",{fontCharacter:"\\ec02"}),r.target=new r("target",{fontCharacter:"\\ebf8"}),r.indent=new r("indent",{fontCharacter:"\\ebf9"}),r.recordSmall=new r("record-small",{fontCharacter:"\\ebfa"}),r.errorSmall=new r("error-small",{fontCharacter:"\\ebfb"}),r.arrowCircleDown=new r("arrow-circle-down",{fontCharacter:"\\ebfc"}),r.arrowCircleLeft=new r("arrow-circle-left",{fontCharacter:"\\ebfd"}),r.arrowCircleRight=new r("arrow-circle-right",{fontCharacter:"\\ebfe"}),r.arrowCircleUp=new r("arrow-circle-up",{fontCharacter:"\\ebff"}),r.heartFilled=new r("heart-filled",{fontCharacter:"\\ec04"}),r.map=new r("map",{fontCharacter:"\\ec05"}),r.mapFilled=new r("map-filled",{fontCharacter:"\\ec06"}),r.circleSmall=new r("circle-small",{fontCharacter:"\\ec07"}),r.bellSlash=new r("bell-slash",{fontCharacter:"\\ec08"}),r.bellSlashDot=new r("bell-slash-dot",{fontCharacter:"\\ec09"}),r.commentUnresolved=new r("comment-unresolved",{fontCharacter:"\\ec0a"}),r.gitPullRequestGoToChanges=new r("git-pull-request-go-to-changes",{fontCharacter:"\\ec0b"}),r.gitPullRequestNewChanges=new r("git-pull-request-new-changes",{fontCharacter:"\\ec0c"}),r.dialogError=new r("dialog-error",r.error.definition),r.dialogWarning=new r("dialog-warning",r.warning.definition),r.dialogInfo=new r("dialog-info",r.info.definition),r.dialogClose=new r("dialog-close",r.close.definition),r.treeItemExpanded=new r("tree-item-expanded",r.chevronDown.definition),r.treeFilterOnTypeOn=new r("tree-filter-on-type-on",r.listFilter.definition),r.treeFilterOnTypeOff=new r("tree-filter-on-type-off",r.listSelection.definition),r.treeFilterClear=new r("tree-filter-clear",r.close.definition),r.treeItemLoading=new r("tree-item-loading",r.loading.definition),r.menuSelection=new r("menu-selection",r.check.definition),r.menuSubmenu=new r("menu-submenu",r.chevronRight.definition),r.menuBarMore=new r("menubar-more",r.more.definition),r.scrollbarButtonLeft=new r("scrollbar-button-left",r.triangleLeft.definition),r.scrollbarButtonRight=new r("scrollbar-button-right",r.triangleRight.definition),r.scrollbarButtonUp=new r("scrollbar-button-up",r.triangleUp.definition),r.scrollbarButtonDown=new r("scrollbar-button-down",r.triangleDown.definition),r.toolBarMore=new r("toolbar-more",r.more.definition),r.quickInputBack=new r("quick-input-back",r.arrowLeft.definition);var O;(function(V){V.iconNameSegment="[A-Za-z0-9]+",V.iconNameExpression="[A-Za-z0-9-]+",V.iconModifierExpression="~[A-Za-z]+",V.iconNameCharacter="[A-Za-z0-9~-]";const D=new RegExp(`^(${V.iconNameExpression})(${V.iconModifierExpression})?$`);function $(A){if(A instanceof r)return["codicon","codicon-"+A.id];const L=D.exec(A.id);if(!L)return $(r.error);const[,c,p]=L,l=["codicon","codicon-"+c];return p&&l.push("codicon-modifier-"+p.substr(1)),l}V.asClassNameArray=$;function M(A){return $(A).join(" ")}V.asClassName=M;function P(A){return"."+$(A).join(".")}V.asCSSSelector=P})(O||(O={}))},41264:function(Ot,Te,i){"use strict";i.d(Te,{Il:function(){return D},VS:function(){return r},tx:function(){return V}});function w($,M){const P=Math.pow(10,M);return Math.round($*P)/P}class r{constructor(M,P,A,L=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,M))|0,this.g=Math.min(255,Math.max(0,P))|0,this.b=Math.min(255,Math.max(0,A))|0,this.a=w(Math.max(Math.min(1,L),0),3)}static equals(M,P){return M.r===P.r&&M.g===P.g&&M.b===P.b&&M.a===P.a}}class O{constructor(M,P,A,L){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,M),0)|0,this.s=w(Math.max(Math.min(1,P),0),3),this.l=w(Math.max(Math.min(1,A),0),3),this.a=w(Math.max(Math.min(1,L),0),3)}static equals(M,P){return M.h===P.h&&M.s===P.s&&M.l===P.l&&M.a===P.a}static fromRGBA(M){const P=M.r/255,A=M.g/255,L=M.b/255,c=M.a,p=Math.max(P,A,L),l=Math.min(P,A,L);let n=0,a=0;const g=(l+p)/2,f=p-l;if(f>0){switch(a=Math.min(g<=.5?f/(2*g):f/(2-2*g),1),p){case P:n=(A-L)/f+(A<L?6:0);break;case A:n=(L-P)/f+2;break;case L:n=(P-A)/f+4;break}n*=60,n=Math.round(n)}return new O(n,a,g,c)}static _hue2rgb(M,P,A){return A<0&&(A+=1),A>1&&(A-=1),A<1/6?M+(P-M)*6*A:A<1/2?P:A<2/3?M+(P-M)*(2/3-A)*6:M}static toRGBA(M){const P=M.h/360,{s:A,l:L,a:c}=M;let p,l,n;if(A===0)p=l=n=L;else{const a=L<.5?L*(1+A):L+A-L*A,g=2*L-a;p=O._hue2rgb(g,a,P+1/3),l=O._hue2rgb(g,a,P),n=O._hue2rgb(g,a,P-1/3)}return new r(Math.round(p*255),Math.round(l*255),Math.round(n*255),c)}}class V{constructor(M,P,A,L){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,M),0)|0,this.s=w(Math.max(Math.min(1,P),0),3),this.v=w(Math.max(Math.min(1,A),0),3),this.a=w(Math.max(Math.min(1,L),0),3)}static equals(M,P){return M.h===P.h&&M.s===P.s&&M.v===P.v&&M.a===P.a}static fromRGBA(M){const P=M.r/255,A=M.g/255,L=M.b/255,c=Math.max(P,A,L),p=Math.min(P,A,L),l=c-p,n=c===0?0:l/c;let a;return l===0?a=0:c===P?a=((A-L)/l%6+6)%6:c===A?a=(L-P)/l+2:a=(P-A)/l+4,new V(Math.round(a*60),n,c,M.a)}static toRGBA(M){const{h:P,s:A,v:L,a:c}=M,p=L*A,l=p*(1-Math.abs(P/60%2-1)),n=L-p;let[a,g,f]=[0,0,0];return P<60?(a=p,g=l):P<120?(a=l,g=p):P<180?(g=p,f=l):P<240?(g=l,f=p):P<300?(a=l,f=p):P<=360&&(a=p,f=l),a=Math.round((a+n)*255),g=Math.round((g+n)*255),f=Math.round((f+n)*255),new r(a,g,f,c)}}class D{constructor(M){if(M)if(M instanceof r)this.rgba=M;else if(M instanceof O)this._hsla=M,this.rgba=O.toRGBA(M);else if(M instanceof V)this._hsva=M,this.rgba=V.toRGBA(M);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(M){return D.Format.CSS.parseHex(M)||D.red}get hsla(){return this._hsla?this._hsla:O.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:V.fromRGBA(this.rgba)}equals(M){return!!M&&r.equals(this.rgba,M.rgba)&&O.equals(this.hsla,M.hsla)&&V.equals(this.hsva,M.hsva)}getRelativeLuminance(){const M=D._relativeLuminanceForComponent(this.rgba.r),P=D._relativeLuminanceForComponent(this.rgba.g),A=D._relativeLuminanceForComponent(this.rgba.b),L=.2126*M+.7152*P+.0722*A;return w(L,4)}static _relativeLuminanceForComponent(M){const P=M/255;return P<=.03928?P/12.92:Math.pow((P+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(M){const P=this.getRelativeLuminance(),A=M.getRelativeLuminance();return P>A}isDarkerThan(M){const P=this.getRelativeLuminance(),A=M.getRelativeLuminance();return P<A}lighten(M){return new D(new O(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*M,this.hsla.a))}darken(M){return new D(new O(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*M,this.hsla.a))}transparent(M){const{r:P,g:A,b:L,a:c}=this.rgba;return new D(new r(P,A,L,c*M))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new D(new r(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=D.Format.CSS.format(this)),this._toString}static getLighterColor(M,P,A){if(M.isLighterThan(P))return M;A=A||.5;const L=M.getRelativeLuminance(),c=P.getRelativeLuminance();return A=A*(c-L)/c,M.lighten(A)}static getDarkerColor(M,P,A){if(M.isDarkerThan(P))return M;A=A||.5;const L=M.getRelativeLuminance(),c=P.getRelativeLuminance();return A=A*(L-c)/L,M.darken(A)}}D.white=new D(new r(255,255,255,1)),D.black=new D(new r(0,0,0,1)),D.red=new D(new r(255,0,0,1)),D.blue=new D(new r(0,0,255,1)),D.green=new D(new r(0,255,0,1)),D.cyan=new D(new r(0,255,255,1)),D.lightgrey=new D(new r(211,211,211,1)),D.transparent=new D(new r(0,0,0,0)),function($){let M;(function(P){let A;(function(L){function c(b){return b.rgba.a===1?`rgb(${b.rgba.r}, ${b.rgba.g}, ${b.rgba.b})`:$.Format.CSS.formatRGBA(b)}L.formatRGB=c;function p(b){return`rgba(${b.rgba.r}, ${b.rgba.g}, ${b.rgba.b}, ${+b.rgba.a.toFixed(2)})`}L.formatRGBA=p;function l(b){return b.hsla.a===1?`hsl(${b.hsla.h}, ${(b.hsla.s*100).toFixed(2)}%, ${(b.hsla.l*100).toFixed(2)}%)`:$.Format.CSS.formatHSLA(b)}L.formatHSL=l;function n(b){return`hsla(${b.hsla.h}, ${(b.hsla.s*100).toFixed(2)}%, ${(b.hsla.l*100).toFixed(2)}%, ${b.hsla.a.toFixed(2)})`}L.formatHSLA=n;function a(b){const _=b.toString(16);return _.length!==2?"0"+_:_}function g(b){return`#${a(b.rgba.r)}${a(b.rgba.g)}${a(b.rgba.b)}`}L.formatHex=g;function f(b,_=!1){return _&&b.rgba.a===1?$.Format.CSS.formatHex(b):`#${a(b.rgba.r)}${a(b.rgba.g)}${a(b.rgba.b)}${a(Math.round(b.rgba.a*255))}`}L.formatHexA=f;function u(b){return b.isOpaque()?$.Format.CSS.formatHex(b):$.Format.CSS.formatRGBA(b)}L.format=u;function C(b){const _=b.length;if(_===0||b.charCodeAt(0)!==35)return null;if(_===7){const E=16*y(b.charCodeAt(1))+y(b.charCodeAt(2)),I=16*y(b.charCodeAt(3))+y(b.charCodeAt(4)),R=16*y(b.charCodeAt(5))+y(b.charCodeAt(6));return new $(new r(E,I,R,1))}if(_===9){const E=16*y(b.charCodeAt(1))+y(b.charCodeAt(2)),I=16*y(b.charCodeAt(3))+y(b.charCodeAt(4)),R=16*y(b.charCodeAt(5))+y(b.charCodeAt(6)),J=16*y(b.charCodeAt(7))+y(b.charCodeAt(8));return new $(new r(E,I,R,J/255))}if(_===4){const E=y(b.charCodeAt(1)),I=y(b.charCodeAt(2)),R=y(b.charCodeAt(3));return new $(new r(16*E+E,16*I+I,16*R+R))}if(_===5){const E=y(b.charCodeAt(1)),I=y(b.charCodeAt(2)),R=y(b.charCodeAt(3)),J=y(b.charCodeAt(4));return new $(new r(16*E+E,16*I+I,16*R+R,(16*J+J)/255))}return null}L.parseHex=C;function y(b){switch(b){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(A=P.CSS||(P.CSS={}))})(M=$.Format||($.Format={}))}(D||(D={}))},73278:function(Ot,Te,i){"use strict";i.d(Te,{Hl:function(){return V},Ix:function(){return O},ZO:function(){return r}});var w=function(D,$,M,P){function A(L){return L instanceof M?L:new M(function(c){c(L)})}return new(M||(M=Promise))(function(L,c){function p(a){try{n(P.next(a))}catch(g){c(g)}}function l(a){try{n(P.throw(a))}catch(g){c(g)}}function n(a){a.done?L(a.value):A(a.value).then(p,l)}n((P=P.apply(D,$||[])).next())})};function r(D){return{asString:()=>w(this,void 0,void 0,function*(){return D}),asFile:()=>{},value:typeof D=="string"?D:void 0}}function O(D,$,M){return{asString:()=>w(this,void 0,void 0,function*(){return""}),asFile:()=>({name:D,uri:$,data:M}),value:void 0}}class V{constructor(){this._entries=new Map}get size(){return this._entries.size}has($){return this._entries.has(this.toKey($))}get($){var M;return(M=this._entries.get(this.toKey($)))===null||M===void 0?void 0:M[0]}append($,M){const P=this._entries.get($);P?P.push(M):this._entries.set(this.toKey($),[M])}replace($,M){this._entries.set(this.toKey($),[M])}delete($){this._entries.delete(this.toKey($))}*entries(){for(const[$,M]of this._entries.entries())for(const P of M)yield[$,P]}values(){return Array.from(this._entries.values()).flat()}forEach($){for(const[M,P]of this.entries())$(P,M)}toKey($){return $.toLowerCase()}}},49898:function(Ot,Te,i){"use strict";i.d(Te,{H:function(){return w}});function w(r,O,V){let D=null,$=null;if(typeof V.value=="function"?(D="value",$=V.value,$.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof V.get=="function"&&(D="get",$=V.get),!$)throw new Error("not supported");const M=`$memoize$${O}`;V[D]=function(...P){return this.hasOwnProperty(M)||Object.defineProperty(this,M,{configurable:!1,enumerable:!1,writable:!1,value:$.apply(this,P)}),this[M]}}},2484:function(Ot,Te,i){"use strict";i.d(Te,{Hs:function(){return P},a$:function(){return V}});class w{constructor(L,c,p,l){this.originalStart=L,this.originalLength=c,this.modifiedStart=p,this.modifiedLength=l}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var r=i(89954);class O{constructor(L){this.source=L}getElements(){const L=this.source,c=new Int32Array(L.length);for(let p=0,l=L.length;p<l;p++)c[p]=L.charCodeAt(p);return c}}function V(A,L,c){return new P(new O(A),new O(L)).ComputeDiff(c).changes}class D{static Assert(L,c){if(!L)throw new Error(c)}}class ${static Copy(L,c,p,l,n){for(let a=0;a<n;a++)p[l+a]=L[c+a]}static Copy2(L,c,p,l,n){for(let a=0;a<n;a++)p[l+a]=L[c+a]}}class M{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new w(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(L,c){this.m_originalStart=Math.min(this.m_originalStart,L),this.m_modifiedStart=Math.min(this.m_modifiedStart,c),this.m_originalCount++}AddModifiedElement(L,c){this.m_originalStart=Math.min(this.m_originalStart,L),this.m_modifiedStart=Math.min(this.m_modifiedStart,c),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class P{constructor(L,c,p=null){this.ContinueProcessingPredicate=p,this._originalSequence=L,this._modifiedSequence=c;const[l,n,a]=P._getElements(L),[g,f,u]=P._getElements(c);this._hasStrings=a&&u,this._originalStringElements=l,this._originalElementsOrHash=n,this._modifiedStringElements=g,this._modifiedElementsOrHash=f,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(L){return L.length>0&&typeof L[0]=="string"}static _getElements(L){const c=L.getElements();if(P._isStringArray(c)){const p=new Int32Array(c.length);for(let l=0,n=c.length;l<n;l++)p[l]=(0,r.Cv)(c[l],0);return[c,p,!0]}return c instanceof Int32Array?[[],c,!1]:[[],new Int32Array(c),!1]}ElementsAreEqual(L,c){return this._originalElementsOrHash[L]!==this._modifiedElementsOrHash[c]?!1:this._hasStrings?this._originalStringElements[L]===this._modifiedStringElements[c]:!0}ElementsAreStrictEqual(L,c){if(!this.ElementsAreEqual(L,c))return!1;const p=P._getStrictElement(this._originalSequence,L),l=P._getStrictElement(this._modifiedSequence,c);return p===l}static _getStrictElement(L,c){return typeof L.getStrictElement=="function"?L.getStrictElement(c):null}OriginalElementsAreEqual(L,c){return this._originalElementsOrHash[L]!==this._originalElementsOrHash[c]?!1:this._hasStrings?this._originalStringElements[L]===this._originalStringElements[c]:!0}ModifiedElementsAreEqual(L,c){return this._modifiedElementsOrHash[L]!==this._modifiedElementsOrHash[c]?!1:this._hasStrings?this._modifiedStringElements[L]===this._modifiedStringElements[c]:!0}ComputeDiff(L){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,L)}_ComputeDiff(L,c,p,l,n){const a=[!1];let g=this.ComputeDiffRecursive(L,c,p,l,a);return n&&(g=this.PrettifyChanges(g)),{quitEarly:a[0],changes:g}}ComputeDiffRecursive(L,c,p,l,n){for(n[0]=!1;L<=c&&p<=l&&this.ElementsAreEqual(L,p);)L++,p++;for(;c>=L&&l>=p&&this.ElementsAreEqual(c,l);)c--,l--;if(L>c||p>l){let y;return p<=l?(D.Assert(L===c+1,"originalStart should only be one more than originalEnd"),y=[new w(L,0,p,l-p+1)]):L<=c?(D.Assert(p===l+1,"modifiedStart should only be one more than modifiedEnd"),y=[new w(L,c-L+1,p,0)]):(D.Assert(L===c+1,"originalStart should only be one more than originalEnd"),D.Assert(p===l+1,"modifiedStart should only be one more than modifiedEnd"),y=[]),y}const a=[0],g=[0],f=this.ComputeRecursionPoint(L,c,p,l,a,g,n),u=a[0],C=g[0];if(f!==null)return f;if(!n[0]){const y=this.ComputeDiffRecursive(L,u,p,C,n);let b=[];return n[0]?b=[new w(u+1,c-(u+1)+1,C+1,l-(C+1)+1)]:b=this.ComputeDiffRecursive(u+1,c,C+1,l,n),this.ConcatenateChanges(y,b)}return[new w(L,c-L+1,p,l-p+1)]}WALKTRACE(L,c,p,l,n,a,g,f,u,C,y,b,_,E,I,R,J,Q){let U=null,K=null,H=new M,X=c,j=p,x=_[0]-R[0]-l,Z=-1073741824,T=this.m_forwardHistory.length-1;do{const z=x+L;z===X||z<j&&u[z-1]<u[z+1]?(y=u[z+1],E=y-x-l,y<Z&&H.MarkNextChange(),Z=y,H.AddModifiedElement(y+1,E),x=z+1-L):(y=u[z-1]+1,E=y-x-l,y<Z&&H.MarkNextChange(),Z=y-1,H.AddOriginalElement(y,E+1),x=z-1-L),T>=0&&(u=this.m_forwardHistory[T],L=u[0],X=1,j=u.length-1)}while(--T>=-1);if(U=H.getReverseChanges(),Q[0]){let z=_[0]+1,G=R[0]+1;if(U!==null&&U.length>0){const re=U[U.length-1];z=Math.max(z,re.getOriginalEnd()),G=Math.max(G,re.getModifiedEnd())}K=[new w(z,b-z+1,G,I-G+1)]}else{H=new M,X=a,j=g,x=_[0]-R[0]-f,Z=1073741824,T=J?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const z=x+n;z===X||z<j&&C[z-1]>=C[z+1]?(y=C[z+1]-1,E=y-x-f,y>Z&&H.MarkNextChange(),Z=y+1,H.AddOriginalElement(y+1,E+1),x=z+1-n):(y=C[z-1],E=y-x-f,y>Z&&H.MarkNextChange(),Z=y,H.AddModifiedElement(y+1,E+1),x=z-1-n),T>=0&&(C=this.m_reverseHistory[T],n=C[0],X=1,j=C.length-1)}while(--T>=-1);K=H.getChanges()}return this.ConcatenateChanges(U,K)}ComputeRecursionPoint(L,c,p,l,n,a,g){let f=0,u=0,C=0,y=0,b=0,_=0;L--,p--,n[0]=0,a[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const E=c-L+(l-p),I=E+1,R=new Int32Array(I),J=new Int32Array(I),Q=l-p,U=c-L,K=L-p,H=c-l,j=(U-Q)%2===0;R[Q]=L,J[U]=c,g[0]=!1;for(let x=1;x<=E/2+1;x++){let Z=0,T=0;C=this.ClipDiagonalBound(Q-x,x,Q,I),y=this.ClipDiagonalBound(Q+x,x,Q,I);for(let G=C;G<=y;G+=2){G===C||G<y&&R[G-1]<R[G+1]?f=R[G+1]:f=R[G-1]+1,u=f-(G-Q)-K;const re=f;for(;f<c&&u<l&&this.ElementsAreEqual(f+1,u+1);)f++,u++;if(R[G]=f,f+u>Z+T&&(Z=f,T=u),!j&&Math.abs(G-U)<=x-1&&f>=J[G])return n[0]=f,a[0]=u,re<=J[G]&&1447>0&&x<=1447+1?this.WALKTRACE(Q,C,y,K,U,b,_,H,R,J,f,c,n,u,l,a,j,g):null}const z=(Z-L+(T-p)-x)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(Z,z))return g[0]=!0,n[0]=Z,a[0]=T,z>0&&1447>0&&x<=1447+1?this.WALKTRACE(Q,C,y,K,U,b,_,H,R,J,f,c,n,u,l,a,j,g):(L++,p++,[new w(L,c-L+1,p,l-p+1)]);b=this.ClipDiagonalBound(U-x,x,U,I),_=this.ClipDiagonalBound(U+x,x,U,I);for(let G=b;G<=_;G+=2){G===b||G<_&&J[G-1]>=J[G+1]?f=J[G+1]-1:f=J[G-1],u=f-(G-U)-H;const re=f;for(;f>L&&u>p&&this.ElementsAreEqual(f,u);)f--,u--;if(J[G]=f,j&&Math.abs(G-Q)<=x&&f<=R[G])return n[0]=f,a[0]=u,re>=R[G]&&1447>0&&x<=1447+1?this.WALKTRACE(Q,C,y,K,U,b,_,H,R,J,f,c,n,u,l,a,j,g):null}if(x<=1447){let G=new Int32Array(y-C+2);G[0]=Q-C+1,$.Copy2(R,C,G,1,y-C+1),this.m_forwardHistory.push(G),G=new Int32Array(_-b+2),G[0]=U-b+1,$.Copy2(J,b,G,1,_-b+1),this.m_reverseHistory.push(G)}}return this.WALKTRACE(Q,C,y,K,U,b,_,H,R,J,f,c,n,u,l,a,j,g)}PrettifyChanges(L){for(let c=0;c<L.length;c++){const p=L[c],l=c<L.length-1?L[c+1].originalStart:this._originalElementsOrHash.length,n=c<L.length-1?L[c+1].modifiedStart:this._modifiedElementsOrHash.length,a=p.originalLength>0,g=p.modifiedLength>0;for(;p.originalStart+p.originalLength<l&&p.modifiedStart+p.modifiedLength<n&&(!a||this.OriginalElementsAreEqual(p.originalStart,p.originalStart+p.originalLength))&&(!g||this.ModifiedElementsAreEqual(p.modifiedStart,p.modifiedStart+p.modifiedLength));){const u=this.ElementsAreStrictEqual(p.originalStart,p.modifiedStart);if(this.ElementsAreStrictEqual(p.originalStart+p.originalLength,p.modifiedStart+p.modifiedLength)&&!u)break;p.originalStart++,p.modifiedStart++}const f=[null];if(c<L.length-1&&this.ChangesOverlap(L[c],L[c+1],f)){L[c]=f[0],L.splice(c+1,1),c--;continue}}for(let c=L.length-1;c>=0;c--){const p=L[c];let l=0,n=0;if(c>0){const y=L[c-1];l=y.originalStart+y.originalLength,n=y.modifiedStart+y.modifiedLength}const a=p.originalLength>0,g=p.modifiedLength>0;let f=0,u=this._boundaryScore(p.originalStart,p.originalLength,p.modifiedStart,p.modifiedLength);for(let y=1;;y++){const b=p.originalStart-y,_=p.modifiedStart-y;if(b<l||_<n||a&&!this.OriginalElementsAreEqual(b,b+p.originalLength)||g&&!this.ModifiedElementsAreEqual(_,_+p.modifiedLength))break;const I=(b===l&&_===n?5:0)+this._boundaryScore(b,p.originalLength,_,p.modifiedLength);I>u&&(u=I,f=y)}p.originalStart-=f,p.modifiedStart-=f;const C=[null];if(c>0&&this.ChangesOverlap(L[c-1],L[c],C)){L[c-1]=C[0],L.splice(c,1),c++;continue}}if(this._hasStrings)for(let c=1,p=L.length;c<p;c++){const l=L[c-1],n=L[c],a=n.originalStart-l.originalStart-l.originalLength,g=l.originalStart,f=n.originalStart+n.originalLength,u=f-g,C=l.modifiedStart,y=n.modifiedStart+n.modifiedLength,b=y-C;if(a<5&&u<20&&b<20){const _=this._findBetterContiguousSequence(g,u,C,b,a);if(_){const[E,I]=_;(E!==l.originalStart+l.originalLength||I!==l.modifiedStart+l.modifiedLength)&&(l.originalLength=E-l.originalStart,l.modifiedLength=I-l.modifiedStart,n.originalStart=E+a,n.modifiedStart=I+a,n.originalLength=f-n.originalStart,n.modifiedLength=y-n.modifiedStart)}}}return L}_findBetterContiguousSequence(L,c,p,l,n){if(c<n||l<n)return null;const a=L+c-n+1,g=p+l-n+1;let f=0,u=0,C=0;for(let y=L;y<a;y++)for(let b=p;b<g;b++){const _=this._contiguousSequenceScore(y,b,n);_>0&&_>f&&(f=_,u=y,C=b)}return f>0?[u,C]:null}_contiguousSequenceScore(L,c,p){let l=0;for(let n=0;n<p;n++){if(!this.ElementsAreEqual(L+n,c+n))return 0;l+=this._originalStringElements[L+n].length}return l}_OriginalIsBoundary(L){return L<=0||L>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[L])}_OriginalRegionIsBoundary(L,c){if(this._OriginalIsBoundary(L)||this._OriginalIsBoundary(L-1))return!0;if(c>0){const p=L+c;if(this._OriginalIsBoundary(p-1)||this._OriginalIsBoundary(p))return!0}return!1}_ModifiedIsBoundary(L){return L<=0||L>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[L])}_ModifiedRegionIsBoundary(L,c){if(this._ModifiedIsBoundary(L)||this._ModifiedIsBoundary(L-1))return!0;if(c>0){const p=L+c;if(this._ModifiedIsBoundary(p-1)||this._ModifiedIsBoundary(p))return!0}return!1}_boundaryScore(L,c,p,l){const n=this._OriginalRegionIsBoundary(L,c)?1:0,a=this._ModifiedRegionIsBoundary(p,l)?1:0;return n+a}ConcatenateChanges(L,c){const p=[];if(L.length===0||c.length===0)return c.length>0?c:L;if(this.ChangesOverlap(L[L.length-1],c[0],p)){const l=new Array(L.length+c.length-1);return $.Copy(L,0,l,0,L.length-1),l[L.length-1]=p[0],$.Copy(c,1,l,L.length,c.length-1),l}else{const l=new Array(L.length+c.length);return $.Copy(L,0,l,0,L.length),$.Copy(c,0,l,L.length,c.length),l}}ChangesOverlap(L,c,p){if(D.Assert(L.originalStart<=c.originalStart,"Left change is not less than or equal to right change"),D.Assert(L.modifiedStart<=c.modifiedStart,"Left change is not less than or equal to right change"),L.originalStart+L.originalLength>=c.originalStart||L.modifiedStart+L.modifiedLength>=c.modifiedStart){const l=L.originalStart;let n=L.originalLength;const a=L.modifiedStart;let g=L.modifiedLength;return L.originalStart+L.originalLength>=c.originalStart&&(n=c.originalStart+c.originalLength-L.originalStart),L.modifiedStart+L.modifiedLength>=c.modifiedStart&&(g=c.modifiedStart+c.modifiedLength-L.modifiedStart),p[0]=new w(l,n,a,g),!0}else return p[0]=null,!1}ClipDiagonalBound(L,c,p,l){if(L>=0&&L<l)return L;const n=p,a=l-p-1,g=c%2===0;if(L<0){const f=n%2===0;return g===f?0:1}else{const f=a%2===0;return g===f?l-1:l-2}}}},17301:function(Ot,Te,i){"use strict";i.d(Te,{B8:function(){return p},Cp:function(){return V},F0:function(){return A},FU:function(){return P},L6:function(){return c},b1:function(){return L},dL:function(){return O},he:function(){return n},n2:function(){return M},ri:function(){return D}});class w{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(g){setTimeout(()=>{throw g.stack?l.isErrorNoTelemetry(g)?new l(g.message+`

`+g.stack):new Error(g.message+`

`+g.stack):g},0)}}emit(g){this.listeners.forEach(f=>{f(g)})}onUnexpectedError(g){this.unexpectedErrorHandler(g),this.emit(g)}onUnexpectedExternalError(g){this.unexpectedErrorHandler(g)}}const r=new w;function O(a){M(a)||r.onUnexpectedError(a)}function V(a){M(a)||r.onUnexpectedExternalError(a)}function D(a){if(a instanceof Error){const{name:g,message:f}=a,u=a.stacktrace||a.stack;return{$isError:!0,name:g,message:f,stack:u,noTelemetry:l.isErrorNoTelemetry(a)}}return a}const $="Canceled";function M(a){return a instanceof P?!0:a instanceof Error&&a.name===$&&a.message===$}class P extends Error{constructor(){super($),this.name=this.message}}function A(){const a=new Error($);return a.name=a.message,a}function L(a){return a?new Error(`Illegal argument: ${a}`):new Error("Illegal argument")}function c(a){return a?new Error(`Illegal state: ${a}`):new Error("Illegal state")}class p extends Error{constructor(g){super("NotSupported"),g&&(this.message=g)}}class l extends Error{constructor(g){super(g),this.name="ErrorNoTelemetry"}static fromError(g){if(g instanceof l)return g;const f=new l;return f.message=g.message,f.stack=g.stack,f}static isErrorNoTelemetry(g){return g.name==="ErrorNoTelemetry"}}class n extends Error{constructor(g){super(g||"An unexpected bug occurred."),Object.setPrototypeOf(this,n.prototype);debugger}}},4669:function(Ot,Te,i){"use strict";i.d(Te,{D0:function(){return u},E7:function(){return C},F3:function(){return n},K3:function(){return f},Q5:function(){return l},ZD:function(){return y},ju:function(){return M}});var w=i(17301),r=i(9917),O=i(91741),V=i(84013);const D=!1,$=!1;var M;(function(b){b.None=()=>r.JT.None;function _(ee){if($){const{onListenerDidAdd:se}=ee,ne=c.create();let oe=0;ee.onListenerDidAdd=()=>{++oe===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),ne.print()),se==null||se()}}}function E(ee){return(se,ne=null,oe)=>{let Se=!1,Ee;return Ee=ee(Me=>{if(!Se)return Ee?Ee.dispose():Se=!0,se.call(ne,Me)},null,oe),Se&&Ee.dispose(),Ee}}b.once=E;function I(ee,se,ne){return H((oe,Se=null,Ee)=>ee(Me=>oe.call(Se,se(Me)),null,Ee),ne)}b.map=I;function R(ee,se,ne){return H((oe,Se=null,Ee)=>ee(Me=>{se(Me),oe.call(Se,Me)},null,Ee),ne)}b.forEach=R;function J(ee,se,ne){return H((oe,Se=null,Ee)=>ee(Me=>se(Me)&&oe.call(Se,Me),null,Ee),ne)}b.filter=J;function Q(ee){return ee}b.signal=Q;function U(...ee){return(se,ne=null,oe)=>(0,r.F8)(...ee.map(Se=>Se(Ee=>se.call(ne,Ee),null,oe)))}b.any=U;function K(ee,se,ne,oe){let Se=ne;return I(ee,Ee=>(Se=se(Se,Ee),Se),oe)}b.reduce=K;function H(ee,se){let ne;const oe={onFirstListenerAdd(){ne=ee(Se.fire,Se)},onLastListenerRemove(){ne==null||ne.dispose()}};se||_(oe);const Se=new l(oe);return se==null||se.add(Se),Se.event}function X(ee,se,ne=100,oe=!1,Se,Ee){let Me,ye,le,ie=0;const ve={leakWarningThreshold:Se,onFirstListenerAdd(){Me=ee(Ye=>{ie++,ye=se(ye,Ye),oe&&!le&&(xe.fire(ye),ye=void 0),clearTimeout(le),le=setTimeout(()=>{const at=ye;ye=void 0,le=void 0,(!oe||ie>1)&&xe.fire(at),ie=0},ne)})},onLastListenerRemove(){Me.dispose()}};Ee||_(ve);const xe=new l(ve);return Ee==null||Ee.add(xe),xe.event}b.debounce=X;function j(ee,se=(oe,Se)=>oe===Se,ne){let oe=!0,Se;return J(ee,Ee=>{const Me=oe||!se(Ee,Se);return oe=!1,Se=Ee,Me},ne)}b.latch=j;function x(ee,se,ne){return[b.filter(ee,se,ne),b.filter(ee,oe=>!se(oe),ne)]}b.split=x;function Z(ee,se=!1,ne=[]){let oe=ne.slice(),Se=ee(ye=>{oe?oe.push(ye):Me.fire(ye)});const Ee=()=>{oe==null||oe.forEach(ye=>Me.fire(ye)),oe=null},Me=new l({onFirstListenerAdd(){Se||(Se=ee(ye=>Me.fire(ye)))},onFirstListenerDidAdd(){oe&&(se?setTimeout(Ee):Ee())},onLastListenerRemove(){Se&&Se.dispose(),Se=null}});return Me.event}b.buffer=Z;class T{constructor(se){this.event=se,this.disposables=new r.SL}map(se){return new T(I(this.event,se,this.disposables))}forEach(se){return new T(R(this.event,se,this.disposables))}filter(se){return new T(J(this.event,se,this.disposables))}reduce(se,ne){return new T(K(this.event,se,ne,this.disposables))}latch(){return new T(j(this.event,void 0,this.disposables))}debounce(se,ne=100,oe=!1,Se){return new T(X(this.event,se,ne,oe,Se,this.disposables))}on(se,ne,oe){return this.event(se,ne,oe)}once(se,ne,oe){return E(this.event)(se,ne,oe)}dispose(){this.disposables.dispose()}}function z(ee){return new T(ee)}b.chain=z;function G(ee,se,ne=oe=>oe){const oe=(...ye)=>Me.fire(ne(...ye)),Se=()=>ee.on(se,oe),Ee=()=>ee.removeListener(se,oe),Me=new l({onFirstListenerAdd:Se,onLastListenerRemove:Ee});return Me.event}b.fromNodeEventEmitter=G;function re(ee,se,ne=oe=>oe){const oe=(...ye)=>Me.fire(ne(...ye)),Se=()=>ee.addEventListener(se,oe),Ee=()=>ee.removeEventListener(se,oe),Me=new l({onFirstListenerAdd:Se,onLastListenerRemove:Ee});return Me.event}b.fromDOMEventEmitter=re;function S(ee){return new Promise(se=>E(ee)(se))}b.toPromise=S;function he(ee,se){return se(void 0),ee(ne=>se(ne))}b.runAndSubscribe=he;function Ce(ee,se){let ne=null;function oe(Ee){ne==null||ne.dispose(),ne=new r.SL,se(Ee,ne)}oe(void 0);const Se=ee(Ee=>oe(Ee));return(0,r.OF)(()=>{Se.dispose(),ne==null||ne.dispose()})}b.runAndSubscribeWithStore=Ce;class ge{constructor(se,ne){this.obs=se,this._counter=0,this._hasChanged=!1;const oe={onFirstListenerAdd:()=>{se.addObserver(this)},onLastListenerRemove:()=>{se.removeObserver(this)}};ne||_(oe),this.emitter=new l(oe),ne&&ne.add(this.emitter)}beginUpdate(se){this._counter++}handleChange(se,ne){this._hasChanged=!0}endUpdate(se){--this._counter===0&&this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this.obs.get()))}}function pe(ee,se){return new ge(ee,se).emitter.event}b.fromObservable=pe})(M||(M={}));class P{constructor(_){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${_}_${P._idPool++}`}start(_){this._stopWatch=new V.G(!0),this._listenerCount=_}stop(){if(this._stopWatch){const _=this._stopWatch.elapsed();this._elapsedOverall+=_,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${_.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}P._idPool=0;let A=-1;class L{constructor(_,E=Math.random().toString(18).slice(2,5)){this.customThreshold=_,this.name=E,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(_,E){let I=A;if(typeof this.customThreshold=="number"&&(I=this.customThreshold),I<=0||E<I)return;this._stacks||(this._stacks=new Map);const R=this._stacks.get(_.value)||0;if(this._stacks.set(_.value,R+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=I*.5;let J,Q=0;for(const[U,K]of this._stacks)(!J||Q<K)&&(J=U,Q=K);console.warn(`[${this.name}] potential listener LEAK detected, having ${E} listeners already. MOST frequent listener (${Q}):`),console.warn(J)}return()=>{const J=this._stacks.get(_.value)||0;this._stacks.set(_.value,J-1)}}}class c{constructor(_){this.value=_}static create(){var _;return new c((_=new Error().stack)!==null&&_!==void 0?_:"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class p{constructor(_,E,I){this.callback=_,this.callbackThis=E,this.stack=I,this.subscription=new r.dt}invoke(_){this.callback.call(this.callbackThis,_)}}class l{constructor(_){var E,I;this._disposed=!1,this._options=_,this._leakageMon=A>0?new L(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=!((E=this._options)===null||E===void 0)&&E._profName?new P(this._options._profName):void 0,this._deliveryQueue=(I=this._options)===null||I===void 0?void 0:I.deliveryQueue}dispose(){var _,E,I,R;if(!this._disposed){if(this._disposed=!0,this._listeners){if(D){const J=Array.from(this._listeners);queueMicrotask(()=>{var Q;for(const U of J)U.subscription.isset()&&(U.subscription.unset(),(Q=U.stack)===null||Q===void 0||Q.print())})}this._listeners.clear()}(_=this._deliveryQueue)===null||_===void 0||_.clear(this),(I=(E=this._options)===null||E===void 0?void 0:E.onLastListenerRemove)===null||I===void 0||I.call(E),(R=this._leakageMon)===null||R===void 0||R.dispose()}}get event(){return this._event||(this._event=(_,E,I)=>{var R,J,Q;this._listeners||(this._listeners=new O.S);const U=this._listeners.isEmpty();U&&((R=this._options)===null||R===void 0?void 0:R.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this);let K,H;this._leakageMon&&this._listeners.size>=30&&(H=c.create(),K=this._leakageMon.check(H,this._listeners.size+1)),D&&(H=H??c.create());const X=new p(_,E,H),j=this._listeners.push(X);U&&((J=this._options)===null||J===void 0?void 0:J.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),!((Q=this._options)===null||Q===void 0)&&Q.onListenerDidAdd&&this._options.onListenerDidAdd(this,_,E);const x=X.subscription.set(()=>{K==null||K(),this._disposed||(j(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return I instanceof r.SL?I.add(x):Array.isArray(I)&&I.push(x),x}),this._event}fire(_){var E,I;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new a);for(const R of this._listeners)this._deliveryQueue.push(this,R,_);(E=this._perfMon)===null||E===void 0||E.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),(I=this._perfMon)===null||I===void 0||I.stop()}}}class n{constructor(){this._queue=new O.S}get size(){return this._queue.size}push(_,E,I){this._queue.push(new g(_,E,I))}clear(_){const E=new O.S;for(const I of this._queue)I.emitter!==_&&E.push(I);this._queue=E}deliver(){for(;this._queue.size>0;){const _=this._queue.shift();try{_.listener.invoke(_.event)}catch(E){(0,w.dL)(E)}}}}class a extends n{clear(_){this._queue.clear()}}class g{constructor(_,E,I){this.emitter=_,this.listener=E,this.event=I}}class f extends l{constructor(_){super(_),this._isPaused=0,this._eventQueue=new O.S,this._mergeFn=_==null?void 0:_.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){const _=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(_))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(_){this._listeners&&(this._isPaused!==0?this._eventQueue.push(_):super.fire(_))}}class u extends f{constructor(_){var E;super(_),this._delay=(E=_.delay)!==null&&E!==void 0?E:100}fire(_){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(_)}}class C{constructor(){this.buffers=[]}wrapEvent(_){return(E,I,R)=>_(J=>{const Q=this.buffers[this.buffers.length-1];Q?Q.push(()=>E.call(I,J)):E.call(I,J)},void 0,R)}bufferEvents(_){const E=[];this.buffers.push(E);const I=_();return this.buffers.pop(),E.forEach(R=>R()),I}}class y{constructor(){this.listening=!1,this.inputEvent=M.None,this.inputEventListener=r.JT.None,this.emitter=new l({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(_){this.inputEvent=_,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=_(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},15527:function(Ot,Te,i){"use strict";i.d(Te,{KM:function(){return P},ej:function(){return D},fn:function(){return $},oP:function(){return L},yj:function(){return M}});var w=i(88721),r=i(1432),O=i(97295);function V(c){return c===47||c===92}function D(c){return c.replace(/[\\/]/g,w.KR.sep)}function $(c){return c.indexOf("/")===-1&&(c=D(c)),/^[a-zA-Z]:(\/|$)/.test(c)&&(c="/"+c),c}function M(c,p=w.KR.sep){if(!c)return"";const l=c.length,n=c.charCodeAt(0);if(V(n)){if(V(c.charCodeAt(1))&&!V(c.charCodeAt(2))){let g=3;const f=g;for(;g<l&&!V(c.charCodeAt(g));g++);if(f!==g&&!V(c.charCodeAt(g+1))){for(g+=1;g<l;g++)if(V(c.charCodeAt(g)))return c.slice(0,g+1).replace(/[\\/]/g,p)}}return p}else if(A(n)&&c.charCodeAt(1)===58)return V(c.charCodeAt(2))?c.slice(0,2)+p:c.slice(0,2);let a=c.indexOf("://");if(a!==-1){for(a+=3;a<l;a++)if(V(c.charCodeAt(a)))return c.slice(0,a+1)}return""}function P(c,p,l,n=w.ir){if(c===p)return!0;if(!c||!p||p.length>c.length)return!1;if(l){if(!(0,O.ok)(c,p))return!1;if(p.length===c.length)return!0;let g=p.length;return p.charAt(p.length-1)===n&&g--,c.charAt(g)===n}return p.charAt(p.length-1)!==n&&(p+=n),c.indexOf(p)===0}function A(c){return c>=65&&c<=90||c>=97&&c<=122}function L(c,p=r.ED){return p?A(c.charCodeAt(0))&&c.charCodeAt(1)===58:!1}},75392:function(Ot,Te,i){"use strict";i.d(Te,{CL:function(){return Me},EW:function(){return le},Ji:function(){return D},KZ:function(){return J},Oh:function(){return j},Sy:function(){return P},ir:function(){return M},jB:function(){return x},l7:function(){return xe},mB:function(){return Z},mX:function(){return ye},or:function(){return O}});var w=i(43702),r=i(97295);function O(...qe){return function(Re,Je){for(let st=0,et=qe.length;st<et;st++){const we=qe[st](Re,Je);if(we)return we}return null}}const V=$.bind(void 0,!1),D=$.bind(void 0,!0);function $(qe,Re,Je){if(!Je||Je.length<Re.length)return null;let st;return qe?st=r.ok(Je,Re):st=Je.indexOf(Re)===0,st?Re.length>0?[{start:0,end:Re.length}]:[]:null}function M(qe,Re){const Je=Re.toLowerCase().indexOf(qe.toLowerCase());return Je===-1?null:[{start:Je,end:Je+qe.length}]}function P(qe,Re){return A(qe.toLowerCase(),Re.toLowerCase(),0,0)}function A(qe,Re,Je,st){if(Je===qe.length)return[];if(st===Re.length)return null;if(qe[Je]===Re[st]){let et=null;return(et=A(qe,Re,Je+1,st+1))?u({start:st,end:st+1},et):null}return A(qe,Re,Je,st+1)}function L(qe){return 97<=qe&&qe<=122}function c(qe){return 65<=qe&&qe<=90}function p(qe){return 48<=qe&&qe<=57}function l(qe){return qe===32||qe===9||qe===10||qe===13}const n=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(qe=>n.add(qe.charCodeAt(0)));function a(qe){return l(qe)||n.has(qe)}function g(qe,Re){return qe===Re||a(qe)&&a(Re)}function f(qe){return L(qe)||c(qe)||p(qe)}function u(qe,Re){return Re.length===0?Re=[qe]:qe.end===Re[0].start?Re[0].start=qe.start:Re.unshift(qe),Re}function C(qe,Re){for(let Je=Re;Je<qe.length;Je++){const st=qe.charCodeAt(Je);if(c(st)||p(st)||Je>0&&!f(qe.charCodeAt(Je-1)))return Je}return qe.length}function y(qe,Re,Je,st){if(Je===qe.length)return[];if(st===Re.length)return null;if(qe[Je]!==Re[st].toLowerCase())return null;{let et=null,we=st+1;for(et=y(qe,Re,Je+1,st+1);!et&&(we=C(Re,we))<Re.length;)et=y(qe,Re,Je+1,we),we++;return et===null?null:u({start:st,end:st+1},et)}}function b(qe){let Re=0,Je=0,st=0,et=0,we=0;for(let $e=0;$e<qe.length;$e++)we=qe.charCodeAt($e),c(we)&&Re++,L(we)&&Je++,f(we)&&st++,p(we)&&et++;const Ne=Re/qe.length,de=Je/qe.length,Pe=st/qe.length,He=et/qe.length;return{upperPercent:Ne,lowerPercent:de,alphaPercent:Pe,numericPercent:He}}function _(qe){const{upperPercent:Re,lowerPercent:Je}=qe;return Je===0&&Re>.6}function E(qe){const{upperPercent:Re,lowerPercent:Je,alphaPercent:st,numericPercent:et}=qe;return Je>.2&&Re<.8&&st>.6&&et<.2}function I(qe){let Re=0,Je=0,st=0,et=0;for(let we=0;we<qe.length;we++)st=qe.charCodeAt(we),c(st)&&Re++,L(st)&&Je++,l(st)&&et++;return(Re===0||Je===0)&&et===0?qe.length<=30:Re<=5}function R(qe,Re){if(!Re||(Re=Re.trim(),Re.length===0)||!I(qe)||Re.length>60)return null;const Je=b(Re);if(!E(Je)){if(!_(Je))return null;Re=Re.toLowerCase()}let st=null,et=0;for(qe=qe.toLowerCase();et<Re.length&&(st=y(qe,Re,0,et))===null;)et=C(Re,et+1);return st}function J(qe,Re,Je=!1){if(!Re||Re.length===0)return null;let st=null,et=0;for(qe=qe.toLowerCase(),Re=Re.toLowerCase();et<Re.length&&(st=Q(qe,Re,0,et,Je))===null;)et=U(Re,et+1);return st}function Q(qe,Re,Je,st,et){if(Je===qe.length)return[];if(st===Re.length)return null;if(g(qe.charCodeAt(Je),Re.charCodeAt(st))){let we=null,Ne=st+1;if(we=Q(qe,Re,Je+1,st+1,et),!et)for(;!we&&(Ne=U(Re,Ne))<Re.length;)we=Q(qe,Re,Je+1,Ne,et),Ne++;return we===null?null:u({start:st,end:st+1},we)}else return null}function U(qe,Re){for(let Je=Re;Je<qe.length;Je++)if(a(qe.charCodeAt(Je))||Je>0&&a(qe.charCodeAt(Je-1)))return Je;return qe.length}const K=O(D,R,M),H=O(D,R,P),X=new w.z6(1e4);function j(qe,Re,Je=!1){if(typeof qe!="string"||typeof Re!="string")return null;let st=X.get(qe);st||(st=new RegExp(r.un(qe),"i"),X.set(qe,st));const et=st.exec(Re);return et?[{start:et.index,end:et.index+et[0].length}]:Je?H(qe,Re):K(qe,Re)}function x(qe,Re,Je,st,et,we){const Ne=Math.min(13,qe.length);for(;Je<Ne;Je++){const de=le(qe,Re,Je,st,et,we,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(de)return de}return[0,we]}function Z(qe){if(typeof qe>"u")return[];const Re=[],Je=qe[1];for(let st=qe.length-1;st>1;st--){const et=qe[st]+Je,we=Re[Re.length-1];we&&we.end===et?we.end=et+1:Re.push({start:et,end:et+1})}return Re}const T=128;function z(){const qe=[],Re=[];for(let Je=0;Je<=T;Je++)Re[Je]=0;for(let Je=0;Je<=T;Je++)qe.push(Re.slice(0));return qe}function G(qe){const Re=[];for(let Je=0;Je<=qe;Je++)Re[Je]=0;return Re}const re=G(2*T),S=G(2*T),he=z(),Ce=z(),ge=z(),pe=!1;function ee(qe,Re,Je,st,et){function we(de,Pe,He=" "){for(;de.length<Pe;)de=He+de;return de}let Ne=` |   |${st.split("").map(de=>we(de,3)).join("|")}
`;for(let de=0;de<=Je;de++)de===0?Ne+=" |":Ne+=`${Re[de-1]}|`,Ne+=qe[de].slice(0,et+1).map(Pe=>we(Pe.toString(),3)).join("|")+`
`;return Ne}function se(qe,Re,Je,st){qe=qe.substr(Re),Je=Je.substr(st),console.log(ee(Ce,qe,qe.length,Je,Je.length)),console.log(ee(ge,qe,qe.length,Je,Je.length)),console.log(ee(he,qe,qe.length,Je,Je.length))}function ne(qe,Re){if(Re<0||Re>=qe.length)return!1;const Je=qe.codePointAt(Re);switch(Je){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!r.C8(Je)}}function oe(qe,Re){if(Re<0||Re>=qe.length)return!1;switch(qe.charCodeAt(Re)){case 32:case 9:return!0;default:return!1}}function Se(qe,Re,Je){return Re[qe]!==Je[qe]}function Ee(qe,Re,Je,st,et,we,Ne=!1){for(;Re<Je&&et<we;)qe[Re]===st[et]&&(Ne&&(re[Re]=et),Re+=1),et+=1;return Re===Je}var Me;(function(qe){qe.Default=[-100,0];function Re(Je){return!Je||Je.length===2&&Je[0]===-100&&Je[1]===0}qe.isDefault=Re})(Me||(Me={}));class ye{constructor(Re,Je){this.firstMatchCanBeWeak=Re,this.boostFullMatch=Je}}ye.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function le(qe,Re,Je,st,et,we,Ne=ye.default){const de=qe.length>T?T:qe.length,Pe=st.length>T?T:st.length;if(Je>=de||we>=Pe||de-Je>Pe-we||!Ee(Re,Je,de,et,we,Pe,!0))return;ie(de,Pe,Je,we,Re,et);let He=1,$e=1,me=Je,Ie=we;const Ge=[!1];for(He=1,me=Je;me<de;He++,me++){const Oe=re[me],lt=S[me],Bt=me+1<de?S[me+1]:Pe;for($e=Oe-we+1,Ie=Oe;Ie<Bt;$e++,Ie++){let Zt=Number.MIN_SAFE_INTEGER,pi=!1;Ie<=lt&&(Zt=ve(qe,Re,me,Je,st,et,Ie,Pe,we,he[He-1][$e-1]===0,Ge));let Li=0;Zt!==Number.MAX_SAFE_INTEGER&&(pi=!0,Li=Zt+Ce[He-1][$e-1]);const ot=Ie>Oe,Ft=ot?Ce[He][$e-1]+(he[He][$e-1]>0?-5:0):0,Yt=Ie>Oe+1&&he[He][$e-1]>0,_i=Yt?Ce[He][$e-2]+(he[He][$e-2]>0?-5:0):0;if(Yt&&(!ot||_i>=Ft)&&(!pi||_i>=Li))Ce[He][$e]=_i,ge[He][$e]=3,he[He][$e]=0;else if(ot&&(!pi||Ft>=Li))Ce[He][$e]=Ft,ge[He][$e]=2,he[He][$e]=0;else if(pi)Ce[He][$e]=Li,ge[He][$e]=1,he[He][$e]=he[He-1][$e-1]+1;else throw new Error("not possible")}}if(pe&&se(qe,Je,st,we),!Ge[0]&&!Ne.firstMatchCanBeWeak)return;He--,$e--;const ft=[Ce[He][$e],we];let ze=0,mt=0;for(;He>=1;){let Oe=$e;do{const lt=ge[He][Oe];if(lt===3)Oe=Oe-2;else if(lt===2)Oe=Oe-1;else break}while(Oe>=1);ze>1&&Re[Je+He-1]===et[we+$e-1]&&!Se(Oe+we-1,st,et)&&ze+1>he[He][Oe]&&(Oe=$e),Oe===$e?ze++:ze=1,mt||(mt=Oe),He--,$e=Oe-1,ft.push($e)}Pe===de&&Ne.boostFullMatch&&(ft[0]+=2);const wt=mt-de;return ft[0]-=wt,ft}function ie(qe,Re,Je,st,et,we){let Ne=qe-1,de=Re-1;for(;Ne>=Je&&de>=st;)et[Ne]===we[de]&&(S[Ne]=de,Ne--),de--}function ve(qe,Re,Je,st,et,we,Ne,de,Pe,He,$e){if(Re[Je]!==we[Ne])return Number.MIN_SAFE_INTEGER;let me=1,Ie=!1;return Ne===Je-st?me=qe[Je]===et[Ne]?7:5:Se(Ne,et,we)&&(Ne===0||!Se(Ne-1,et,we))?(me=qe[Je]===et[Ne]?7:5,Ie=!0):ne(we,Ne)&&(Ne===0||!ne(we,Ne-1))?me=5:(ne(we,Ne-1)||oe(we,Ne-1))&&(me=5,Ie=!0),me>1&&Je===st&&($e[0]=!0),Ie||(Ie=Se(Ne,et,we)||ne(we,Ne-1)||oe(we,Ne-1)),Je===st?Ne>Pe&&(me-=Ie?3:5):He?me+=Ie?2:0:me+=Ie?0:1,Ne+1===de&&(me-=Ie?3:5),me}function xe(qe,Re,Je,st,et,we,Ne){return Ye(qe,Re,Je,st,et,we,!0,Ne)}function Ye(qe,Re,Je,st,et,we,Ne,de){let Pe=le(qe,Re,Je,st,et,we,de);if(Pe&&!Ne)return Pe;if(qe.length>=3){const He=Math.min(7,qe.length-1);for(let $e=Je+1;$e<He;$e++){const me=at(qe,$e);if(me){const Ie=le(me,me.toLowerCase(),Je,st,et,we,de);Ie&&(Ie[0]-=3,(!Pe||Ie[0]>Pe[0])&&(Pe=Ie))}}}return Pe}function at(qe,Re){if(Re+1>=qe.length)return;const Je=qe[Re],st=qe[Re+1];if(Je!==st)return qe.slice(0,Re)+st+Je+qe.slice(Re+2)}},88289:function(Ot,Te,i){"use strict";i.d(Te,{I:function(){return w}});function w(r){const O=this;let V=!1,D;return function(){return V||(V=!0,D=r.apply(O,arguments)),D}}},89954:function(Ot,Te,i){"use strict";i.d(Te,{Cv:function(){return $},SP:function(){return O},vp:function(){return r},yP:function(){return l}});var w=i(97295);function r(n){return O(n,0)}function O(n,a){switch(typeof n){case"object":return n===null?V(349,a):Array.isArray(n)?M(n,a):P(n,a);case"string":return $(n,a);case"boolean":return D(n,a);case"number":return V(n,a);case"undefined":return V(937,a);default:return V(617,a)}}function V(n,a){return(a<<5)-a+n|0}function D(n,a){return V(n?433:863,a)}function $(n,a){a=V(149417,a);for(let g=0,f=n.length;g<f;g++)a=V(n.charCodeAt(g),a);return a}function M(n,a){return a=V(104579,a),n.reduce((g,f)=>O(f,g),a)}function P(n,a){return a=V(181387,a),Object.keys(n).sort().reduce((g,f)=>(g=$(f,g),O(n[f],g)),a)}function A(n,a,g=32){const f=g-a,u=~((1<<f)-1);return(n<<a|(u&n)>>>f)>>>0}function L(n,a=0,g=n.byteLength,f=0){for(let u=0;u<g;u++)n[a+u]=f}function c(n,a,g="0"){for(;n.length<a;)n=g+n;return n}function p(n,a=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(g=>g.toString(16).padStart(2,"0")).join(""):c((n>>>0).toString(16),a/4)}class l{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(a){const g=a.length;if(g===0)return;const f=this._buff;let u=this._buffLen,C=this._leftoverHighSurrogate,y,b;for(C!==0?(y=C,b=-1,C=0):(y=a.charCodeAt(0),b=0);;){let _=y;if(w.ZG(y))if(b+1<g){const E=a.charCodeAt(b+1);w.YK(E)?(b++,_=w.rL(y,E)):_=65533}else{C=y;break}else w.YK(y)&&(_=65533);if(u=this._push(f,u,_),b++,b<g)y=a.charCodeAt(b);else break}this._buffLen=u,this._leftoverHighSurrogate=C}_push(a,g,f){return f<128?a[g++]=f:f<2048?(a[g++]=192|(f&1984)>>>6,a[g++]=128|(f&63)>>>0):f<65536?(a[g++]=224|(f&61440)>>>12,a[g++]=128|(f&4032)>>>6,a[g++]=128|(f&63)>>>0):(a[g++]=240|(f&1835008)>>>18,a[g++]=128|(f&258048)>>>12,a[g++]=128|(f&4032)>>>6,a[g++]=128|(f&63)>>>0),g>=64&&(this._step(),g-=64,this._totalLen+=64,a[0]=a[64+0],a[1]=a[64+1],a[2]=a[64+2]),g}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),p(this._h0)+p(this._h1)+p(this._h2)+p(this._h3)+p(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,L(this._buff,this._buffLen),this._buffLen>56&&(this._step(),L(this._buff));const a=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(a/4294967296),!1),this._buffDV.setUint32(60,a%4294967296,!1),this._step()}_step(){const a=l._bigBlock32,g=this._buffDV;for(let R=0;R<64;R+=4)a.setUint32(R,g.getUint32(R,!1),!1);for(let R=64;R<320;R+=4)a.setUint32(R,A(a.getUint32(R-12,!1)^a.getUint32(R-32,!1)^a.getUint32(R-56,!1)^a.getUint32(R-64,!1),1),!1);let f=this._h0,u=this._h1,C=this._h2,y=this._h3,b=this._h4,_,E,I;for(let R=0;R<80;R++)R<20?(_=u&C|~u&y,E=1518500249):R<40?(_=u^C^y,E=1859775393):R<60?(_=u&C|u&y|C&y,E=2400959708):(_=u^C^y,E=3395469782),I=A(f,5)+_+b+E+a.getUint32(R*4,!1)&4294967295,b=y,y=C,C=A(u,30),u=f,f=I;this._h0=this._h0+f&4294967295,this._h1=this._h1+u&4294967295,this._h2=this._h2+C&4294967295,this._h3=this._h3+y&4294967295,this._h4=this._h4+b&4294967295}}l._bigBlock32=new DataView(new ArrayBuffer(320))},59365:function(Ot,Te,i){"use strict";i.d(Te,{CP:function(){return D},Fr:function(){return $},W5:function(){return V},d9:function(){return P},oR:function(){return A},v1:function(){return L}});var w=i(17301),r=i(21212),O=i(97295);class V{constructor(p="",l=!1){var n,a,g;if(this.value=p,typeof this.value!="string")throw(0,w.b1)("value");typeof l=="boolean"?(this.isTrusted=l,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(n=l.isTrusted)!==null&&n!==void 0?n:void 0,this.supportThemeIcons=(a=l.supportThemeIcons)!==null&&a!==void 0?a:!1,this.supportHtml=(g=l.supportHtml)!==null&&g!==void 0?g:!1)}appendText(p,l=0){return this.value+=M(this.supportThemeIcons?(0,r.Qo)(p):p).replace(/([ \t]+)/g,(n,a)=>"&nbsp;".repeat(a.length)).replace(/\>/gm,"\\>").replace(/\n/g,l===1?`\\
`:`

`),this}appendMarkdown(p){return this.value+=p,this}appendCodeblock(p,l){return this.value+="\n```",this.value+=p,this.value+=`
`,this.value+=l,this.value+="\n```\n",this}appendLink(p,l,n){return this.value+="[",this.value+=this._escape(l,"]"),this.value+="](",this.value+=this._escape(String(p),")"),n&&(this.value+=` "${this._escape(this._escape(n,'"'),")")}"`),this.value+=")",this}_escape(p,l){const n=new RegExp((0,O.ec)(l),"g");return p.replace(n,(a,g)=>p.charAt(g-1)!=="\\"?`\\${a}`:a)}}function D(c){return $(c)?!c.value:Array.isArray(c)?c.every(D):!0}function $(c){return c instanceof V?!0:c&&typeof c=="object"?typeof c.value=="string"&&(typeof c.isTrusted=="boolean"||c.isTrusted===void 0)&&(typeof c.supportThemeIcons=="boolean"||c.supportThemeIcons===void 0):!1}function M(c){return c.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}function P(c){return c.replace(/"/g,"&quot;")}function A(c){return c&&c.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function L(c){const p=[],l=c.split("|").map(a=>a.trim());c=l[0];const n=l[1];if(n){const a=/height=(\d+)/.exec(n),g=/width=(\d+)/.exec(n),f=a?a[1]:"",u=g?g[1]:"",C=isFinite(parseInt(u)),y=isFinite(parseInt(f));C&&p.push(`width="${u}"`),y&&p.push(`height="${f}"`)}return{href:c,dimensions:p}}},21212:function(Ot,Te,i){"use strict";i.d(Te,{Gt:function(){return a},Ho:function(){return l},Qo:function(){return P},f$:function(){return L},x$:function(){return p}});var w=i(73046),r=i(75392),O=i(97295);const V="$(",D=new RegExp(`\\$\\(${w.dT.iconNameExpression}(?:${w.dT.iconModifierExpression})?\\)`,"g"),$=new RegExp(w.dT.iconNameCharacter),M=new RegExp(`(\\\\)?${D.source}`,"g");function P(g){return g.replace(M,(f,u)=>u?f:`\\${f}`)}const A=new RegExp(`\\\\${D.source}`,"g");function L(g){return g.replace(A,f=>`\\${f}`)}const c=new RegExp(`(\\s)?(\\\\)?${D.source}(\\s)?`,"g");function p(g){return g.indexOf(V)===-1?g:g.replace(c,(f,u,C,y)=>C?f:u||y||"")}function l(g){const f=g.indexOf(V);return f===-1?{text:g}:n(g,f)}function n(g,f){const u=[];let C="";function y(U){if(U){C+=U;for(const K of U)u.push(E)}}let b=-1,_="",E=0,I,R,J=f;const Q=g.length;for(y(g.substr(0,f));J<Q;)I=g[J],R=g[J+1],I===V[0]&&R===V[1]?(b=J,y(_),_=V,J++):I===")"&&b!==-1?(E+=J-b+1,b=-1,_=""):b!==-1?$.test(I)?_+=I:(y(_),b=-1,_=""):y(I),J++;return y(_),{text:C,iconOffsets:u}}function a(g,f,u=!1){const{text:C,iconOffsets:y}=f;if(!y||y.length===0)return(0,r.Oh)(g,C,u);const b=(0,O.j3)(C," "),_=C.length-b.length,E=(0,r.Oh)(g,b,u);if(E)for(const I of E){const R=y[I.start+_]+_;I.start+=R,I.end+=R}return E}},44742:function(Ot,Te,i){"use strict";i.d(Te,{R:function(){return w},a:function(){return r}});class w{constructor(V){this._prefix=V,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const r=new w("id#")},53725:function(Ot,Te,i){"use strict";i.d(Te,{$:function(){return w}});var w;(function(r){function O(_){return _&&typeof _=="object"&&typeof _[Symbol.iterator]=="function"}r.is=O;const V=Object.freeze([]);function D(){return V}r.empty=D;function*$(_){yield _}r.single=$;function M(_){return _||V}r.from=M;function P(_){return!_||_[Symbol.iterator]().next().done===!0}r.isEmpty=P;function A(_){return _[Symbol.iterator]().next().value}r.first=A;function L(_,E){for(const I of _)if(E(I))return!0;return!1}r.some=L;function c(_,E){for(const I of _)if(E(I))return I}r.find=c;function*p(_,E){for(const I of _)E(I)&&(yield I)}r.filter=p;function*l(_,E){let I=0;for(const R of _)yield E(R,I++)}r.map=l;function*n(..._){for(const E of _)for(const I of E)yield I}r.concat=n;function*a(_){for(const E of _)for(const I of E)yield I}r.concatNested=a;function g(_,E,I){let R=I;for(const J of _)R=E(R,J);return R}r.reduce=g;function f(_,E){let I=0;for(const R of _)E(R,I++)}r.forEach=f;function*u(_,E,I=_.length){for(E<0&&(E+=_.length),I<0?I+=_.length:I>_.length&&(I=_.length);E<I;E++)yield _[E]}r.slice=u;function C(_,E=Number.POSITIVE_INFINITY){const I=[];if(E===0)return[I,_];const R=_[Symbol.iterator]();for(let J=0;J<E;J++){const Q=R.next();if(Q.done)return[I,r.empty()];I.push(Q.value)}return[I,{[Symbol.iterator](){return R}}]}r.consume=C;function y(_){return C(_)[0]}r.collect=y;function b(_,E,I=(R,J)=>R===J){const R=_[Symbol.iterator](),J=E[Symbol.iterator]();for(;;){const Q=R.next(),U=J.next();if(Q.done!==U.done)return!1;if(Q.done)return!0;if(!I(Q.value,U.value))return!1}}r.equals=b})(w||(w={}))},22258:function(Ot,Te,i){"use strict";i.d(Te,{H_:function(){return D},Vd:function(){return L},gx:function(){return l},kL:function(){return p}});class w{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(a,g){this._keyCodeToStr[a]=g,this._strToKeyCode[g.toLowerCase()]=a}keyCodeToStr(a){return this._keyCodeToStr[a]}strToKeyCode(a){return this._strToKeyCode[a.toLowerCase()]||0}}const r=new w,O=new w,V=new w,D=new Array(230),$={},M=[],P=Object.create(null),A=Object.create(null),L=[],c=[];for(let n=0;n<=193;n++)L[n]=-1;for(let n=0;n<=127;n++)c[n]=-1;(function(){const n="",a=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[0,1,1,"Hyper",0,n,0,n,n,n],[0,1,2,"Super",0,n,0,n,n,n],[0,1,3,"Fn",0,n,0,n,n,n],[0,1,4,"FnLock",0,n,0,n,n,n],[0,1,5,"Suspend",0,n,0,n,n,n],[0,1,6,"Resume",0,n,0,n,n,n],[0,1,7,"Turbo",0,n,0,n,n,n],[0,1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[0,1,9,"WakeUp",0,n,0,n,n,n],[31,0,10,"KeyA",31,"A",65,"VK_A",n,n],[32,0,11,"KeyB",32,"B",66,"VK_B",n,n],[33,0,12,"KeyC",33,"C",67,"VK_C",n,n],[34,0,13,"KeyD",34,"D",68,"VK_D",n,n],[35,0,14,"KeyE",35,"E",69,"VK_E",n,n],[36,0,15,"KeyF",36,"F",70,"VK_F",n,n],[37,0,16,"KeyG",37,"G",71,"VK_G",n,n],[38,0,17,"KeyH",38,"H",72,"VK_H",n,n],[39,0,18,"KeyI",39,"I",73,"VK_I",n,n],[40,0,19,"KeyJ",40,"J",74,"VK_J",n,n],[41,0,20,"KeyK",41,"K",75,"VK_K",n,n],[42,0,21,"KeyL",42,"L",76,"VK_L",n,n],[43,0,22,"KeyM",43,"M",77,"VK_M",n,n],[44,0,23,"KeyN",44,"N",78,"VK_N",n,n],[45,0,24,"KeyO",45,"O",79,"VK_O",n,n],[46,0,25,"KeyP",46,"P",80,"VK_P",n,n],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[48,0,27,"KeyR",48,"R",82,"VK_R",n,n],[49,0,28,"KeyS",49,"S",83,"VK_S",n,n],[50,0,29,"KeyT",50,"T",84,"VK_T",n,n],[51,0,30,"KeyU",51,"U",85,"VK_U",n,n],[52,0,31,"KeyV",52,"V",86,"VK_V",n,n],[53,0,32,"KeyW",53,"W",87,"VK_W",n,n],[54,0,33,"KeyX",54,"X",88,"VK_X",n,n],[55,0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[22,0,36,"Digit1",22,"1",49,"VK_1",n,n],[23,0,37,"Digit2",23,"2",50,"VK_2",n,n],[24,0,38,"Digit3",24,"3",51,"VK_3",n,n],[25,0,39,"Digit4",25,"4",52,"VK_4",n,n],[26,0,40,"Digit5",26,"5",53,"VK_5",n,n],[27,0,41,"Digit6",27,"6",54,"VK_6",n,n],[28,0,42,"Digit7",28,"7",55,"VK_7",n,n],[29,0,43,"Digit8",29,"8",56,"VK_8",n,n],[30,0,44,"Digit9",30,"9",57,"VK_9",n,n],[21,0,45,"Digit0",21,"0",48,"VK_0",n,n],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[10,1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,n,0,n,n,n],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[59,1,64,"F1",59,"F1",112,"VK_F1",n,n],[60,1,65,"F2",60,"F2",113,"VK_F2",n,n],[61,1,66,"F3",61,"F3",114,"VK_F3",n,n],[62,1,67,"F4",62,"F4",115,"VK_F4",n,n],[63,1,68,"F5",63,"F5",116,"VK_F5",n,n],[64,1,69,"F6",64,"F6",117,"VK_F6",n,n],[65,1,70,"F7",65,"F7",118,"VK_F7",n,n],[66,1,71,"F8",66,"F8",119,"VK_F8",n,n],[67,1,72,"F9",67,"F9",120,"VK_F9",n,n],[68,1,73,"F10",68,"F10",121,"VK_F10",n,n],[69,1,74,"F11",69,"F11",122,"VK_F11",n,n],[70,1,75,"F12",70,"F12",123,"VK_F12",n,n],[0,1,76,"PrintScreen",0,n,0,n,n,n],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",n,n],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[14,1,80,"Home",14,"Home",36,"VK_HOME",n,n],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[13,1,83,"End",13,"End",35,"VK_END",n,n],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",n,n],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",n,n],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",n,n],[3,1,94,"NumpadEnter",3,n,0,n,n,n],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",n,n],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",n,n],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",n,n],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",n,n],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",n,n],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",n,n],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",n,n],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",n,n],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",n,n],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",n,n],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",n,n],[58,1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[0,1,108,"Power",0,n,0,n,n,n],[0,1,109,"NumpadEqual",0,n,0,n,n,n],[71,1,110,"F13",71,"F13",124,"VK_F13",n,n],[72,1,111,"F14",72,"F14",125,"VK_F14",n,n],[73,1,112,"F15",73,"F15",126,"VK_F15",n,n],[74,1,113,"F16",74,"F16",127,"VK_F16",n,n],[75,1,114,"F17",75,"F17",128,"VK_F17",n,n],[76,1,115,"F18",76,"F18",129,"VK_F18",n,n],[77,1,116,"F19",77,"F19",130,"VK_F19",n,n],[0,1,117,"F20",0,n,0,"VK_F20",n,n],[0,1,118,"F21",0,n,0,"VK_F21",n,n],[0,1,119,"F22",0,n,0,"VK_F22",n,n],[0,1,120,"F23",0,n,0,"VK_F23",n,n],[0,1,121,"F24",0,n,0,"VK_F24",n,n],[0,1,122,"Open",0,n,0,n,n,n],[0,1,123,"Help",0,n,0,n,n,n],[0,1,124,"Select",0,n,0,n,n,n],[0,1,125,"Again",0,n,0,n,n,n],[0,1,126,"Undo",0,n,0,n,n,n],[0,1,127,"Cut",0,n,0,n,n,n],[0,1,128,"Copy",0,n,0,n,n,n],[0,1,129,"Paste",0,n,0,n,n,n],[0,1,130,"Find",0,n,0,n,n,n],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",n,n],[0,1,136,"KanaMode",0,n,0,n,n,n],[0,0,137,"IntlYen",0,n,0,n,n,n],[0,1,138,"Convert",0,n,0,n,n,n],[0,1,139,"NonConvert",0,n,0,n,n,n],[0,1,140,"Lang1",0,n,0,n,n,n],[0,1,141,"Lang2",0,n,0,n,n,n],[0,1,142,"Lang3",0,n,0,n,n,n],[0,1,143,"Lang4",0,n,0,n,n,n],[0,1,144,"Lang5",0,n,0,n,n,n],[0,1,145,"Abort",0,n,0,n,n,n],[0,1,146,"Props",0,n,0,n,n,n],[0,1,147,"NumpadParenLeft",0,n,0,n,n,n],[0,1,148,"NumpadParenRight",0,n,0,n,n,n],[0,1,149,"NumpadBackspace",0,n,0,n,n,n],[0,1,150,"NumpadMemoryStore",0,n,0,n,n,n],[0,1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[0,1,152,"NumpadMemoryClear",0,n,0,n,n,n],[0,1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[0,1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",n,n],[0,1,156,"NumpadClearEntry",0,n,0,n,n,n],[5,1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[4,1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[6,1,0,n,6,"Alt",18,"VK_MENU",n,n],[57,1,0,n,57,"Meta",0,"VK_COMMAND",n,n],[5,1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[4,1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[6,1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[57,1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[5,1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[4,1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[6,1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[57,1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[0,1,165,"BrightnessUp",0,n,0,n,n,n],[0,1,166,"BrightnessDown",0,n,0,n,n,n],[0,1,167,"MediaPlay",0,n,0,n,n,n],[0,1,168,"MediaRecord",0,n,0,n,n,n],[0,1,169,"MediaFastForward",0,n,0,n,n,n],[0,1,170,"MediaRewind",0,n,0,n,n,n],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",n,n],[0,1,174,"Eject",0,n,0,n,n,n],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[0,1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[0,1,180,"SelectTask",0,n,0,n,n,n],[0,1,181,"LaunchScreenSaver",0,n,0,n,n,n],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[0,1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[0,1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[0,1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[0,1,189,"ZoomToggle",0,n,0,n,n,n],[0,1,190,"MailReply",0,n,0,n,n,n],[0,1,191,"MailForward",0,n,0,n,n,n],[0,1,192,"MailSend",0,n,0,n,n,n],[109,1,0,n,109,"KeyInComposition",229,n,n,n],[111,1,0,n,111,"ABNT_C2",194,"VK_ABNT_C2",n,n],[91,1,0,n,91,"OEM_8",223,"VK_OEM_8",n,n],[0,1,0,n,0,n,0,"VK_KANA",n,n],[0,1,0,n,0,n,0,"VK_HANGUL",n,n],[0,1,0,n,0,n,0,"VK_JUNJA",n,n],[0,1,0,n,0,n,0,"VK_FINAL",n,n],[0,1,0,n,0,n,0,"VK_HANJA",n,n],[0,1,0,n,0,n,0,"VK_KANJI",n,n],[0,1,0,n,0,n,0,"VK_CONVERT",n,n],[0,1,0,n,0,n,0,"VK_NONCONVERT",n,n],[0,1,0,n,0,n,0,"VK_ACCEPT",n,n],[0,1,0,n,0,n,0,"VK_MODECHANGE",n,n],[0,1,0,n,0,n,0,"VK_SELECT",n,n],[0,1,0,n,0,n,0,"VK_PRINT",n,n],[0,1,0,n,0,n,0,"VK_EXECUTE",n,n],[0,1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[0,1,0,n,0,n,0,"VK_HELP",n,n],[0,1,0,n,0,n,0,"VK_APPS",n,n],[0,1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[0,1,0,n,0,n,0,"VK_PACKET",n,n],[0,1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[0,1,0,n,0,n,0,"VK_ATTN",n,n],[0,1,0,n,0,n,0,"VK_CRSEL",n,n],[0,1,0,n,0,n,0,"VK_EXSEL",n,n],[0,1,0,n,0,n,0,"VK_EREOF",n,n],[0,1,0,n,0,n,0,"VK_PLAY",n,n],[0,1,0,n,0,n,0,"VK_ZOOM",n,n],[0,1,0,n,0,n,0,"VK_NONAME",n,n],[0,1,0,n,0,n,0,"VK_PA1",n,n],[0,1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],g=[],f=[];for(const u of a){const[C,y,b,_,E,I,R,J,Q,U]=u;if(f[b]||(f[b]=!0,M[b]=_,P[_]=b,A[_.toLowerCase()]=b,y&&(L[b]=E,E!==0&&E!==3&&E!==5&&E!==4&&E!==6&&E!==57&&(c[E]=b))),!g[E]){if(g[E]=!0,!I)throw new Error(`String representation missing for key code ${E} around scan code ${_}`);r.define(E,I),O.define(E,Q||I),V.define(E,U||Q||I)}R&&(D[R]=E),J&&($[J]=E)}c[3]=46})();var p;(function(n){function a(b){return r.keyCodeToStr(b)}n.toString=a;function g(b){return r.strToKeyCode(b)}n.fromString=g;function f(b){return O.keyCodeToStr(b)}n.toUserSettingsUS=f;function u(b){return V.keyCodeToStr(b)}n.toUserSettingsGeneral=u;function C(b){return O.strToKeyCode(b)||V.strToKeyCode(b)}n.fromUserSettings=C;function y(b){if(b>=93&&b<=108)return null;switch(b){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return r.keyCodeToStr(b)}n.toElectronAccelerator=y})(p||(p={}));function l(n,a){const g=(a&65535)<<16>>>0;return(n|g)>>>0}},8030:function(Ot,Te,i){"use strict";i.d(Te,{X4:function(){return V},jC:function(){return D},xo:function(){return O}});var w=i(63580);class r{constructor(A,L,c=L){this.modifierLabels=[null],this.modifierLabels[2]=A,this.modifierLabels[1]=L,this.modifierLabels[3]=c}toLabel(A,L,c){if(L.length===0)return null;const p=[];for(let l=0,n=L.length;l<n;l++){const a=L[l],g=c(a);if(g===null)return null;p[l]=M(a,g,this.modifierLabels[A])}return p.join(" ")}}const O=new r({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:w.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:w.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:w.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:w.NC({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:w.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:w.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:w.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:w.NC({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),V=new r({ctrlKey:w.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:w.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:w.NC({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:w.NC({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:w.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:w.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:w.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:w.NC({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:w.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:w.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:w.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:w.NC({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),D=new r({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),$=new r({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function M(P,A,L){if(A===null)return"";const c=[];return P.ctrlKey&&c.push(L.ctrlKey),P.shiftKey&&c.push(L.shiftKey),P.altKey&&c.push(L.altKey),P.metaKey&&c.push(L.metaKey),A!==""&&c.push(A),c.join(L.separator)}},8313:function(Ot,Te,i){"use strict";i.d(Te,{BQ:function(){return M},QC:function(){return V},X_:function(){return D},f1:function(){return P},gm:function(){return r}});var w=i(17301);function r(A,L){if(A===0)return null;const c=(A&65535)>>>0,p=(A&4294901760)>>>16;return p!==0?new D([O(c,L),O(p,L)]):new D([O(c,L)])}function O(A,L){const c=!!(A&2048),p=!!(A&256),l=L===2?p:c,n=!!(A&1024),a=!!(A&512),g=L===2?c:p,f=A&255;return new V(l,n,a,g,f)}class V{constructor(L,c,p,l,n){this.ctrlKey=L,this.shiftKey=c,this.altKey=p,this.metaKey=l,this.keyCode=n}equals(L){return this.ctrlKey===L.ctrlKey&&this.shiftKey===L.shiftKey&&this.altKey===L.altKey&&this.metaKey===L.metaKey&&this.keyCode===L.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new D([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class D{constructor(L){if(L.length===0)throw(0,w.b1)("parts");this.parts=L}}class ${constructor(L,c,p,l,n){this.ctrlKey=L,this.shiftKey=c,this.altKey=p,this.metaKey=l,this.scanCode=n}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}class M{constructor(L,c,p,l,n,a){this.ctrlKey=L,this.shiftKey=c,this.altKey=p,this.metaKey=l,this.keyLabel=n,this.keyAriaLabel=a}}class P{}},79579:function(Ot,Te,i){"use strict";i.d(Te,{o:function(){return w}});class w{constructor(O){this.executor=O,this._didRun=!1}hasValue(){return this._didRun}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(O){this._error=O}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},9917:function(Ot,Te,i){"use strict";i.d(Te,{B9:function(){return l},F8:function(){return n},JT:function(){return f},Jz:function(){return b},L6:function(){return C},OF:function(){return a},SL:function(){return g},Wf:function(){return p},XK:function(){return u},dk:function(){return L},dt:function(){return y}});var w=i(88289),r=i(53725);const O=!1;let V=null;function D(_){V=_}if(O){const _="__is_disposable_tracked__";D(new class{trackDisposable(E){const I=new Error("Potentially leaked disposable").stack;setTimeout(()=>{E[_]||console.log(I)},3e3)}setParent(E,I){if(E&&E!==f.None)try{E[_]=!0}catch{}}markAsDisposed(E){if(E&&E!==f.None)try{E[_]=!0}catch{}}markAsSingleton(E){}})}function $(_){return V==null||V.trackDisposable(_),_}function M(_){V==null||V.markAsDisposed(_)}function P(_,E){V==null||V.setParent(_,E)}function A(_,E){if(!!V)for(const I of _)V.setParent(I,E)}function L(_){return V==null||V.markAsSingleton(_),_}class c extends Error{constructor(E){super(`Encountered errors while disposing of store. Errors: [${E.join(", ")}]`),this.errors=E}}function p(_){return typeof _.dispose=="function"&&_.dispose.length===0}function l(_){if(r.$.is(_)){const E=[];for(const I of _)if(I)try{I.dispose()}catch(R){E.push(R)}if(E.length===1)throw E[0];if(E.length>1)throw new c(E);return Array.isArray(_)?[]:_}else if(_)return _.dispose(),_}function n(..._){const E=a(()=>l(_));return A(_,E),E}function a(_){const E=$({dispose:(0,w.I)(()=>{M(E),_()})});return E}class g{constructor(){this._toDispose=new Set,this._isDisposed=!1,$(this)}dispose(){this._isDisposed||(M(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{l(this._toDispose.values())}finally{this._toDispose.clear()}}add(E){if(!E)return E;if(E===this)throw new Error("Cannot register a disposable on itself!");return P(E,this),this._isDisposed?g.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(E),E}}g.DISABLE_DISPOSED_WARNING=!1;class f{constructor(){this._store=new g,$(this),P(this._store,this)}dispose(){M(this),this._store.dispose()}_register(E){if(E===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(E)}}f.None=Object.freeze({dispose(){}});class u{constructor(){this._isDisposed=!1,$(this)}get value(){return this._isDisposed?void 0:this._value}set value(E){var I;this._isDisposed||E===this._value||((I=this._value)===null||I===void 0||I.dispose(),E&&P(E,this),this._value=E)}clear(){this.value=void 0}dispose(){var E;this._isDisposed=!0,M(this),(E=this._value)===null||E===void 0||E.dispose(),this._value=void 0}clearAndLeak(){const E=this._value;return this._value=void 0,E&&P(E,null),E}}class C{constructor(E){this._disposable=E,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}class y{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,$(this)}set(E){let I=E;return this.unset=()=>I=void 0,this.isset=()=>I!==void 0,this.dispose=()=>{I&&(I(),I=void 0,M(this))},this}}class b{constructor(E){this.object=E}dispose(){}}},91741:function(Ot,Te,i){"use strict";i.d(Te,{S:function(){return r}});class w{constructor(V){this.element=V,this.next=w.Undefined,this.prev=w.Undefined}}w.Undefined=new w(void 0);class r{constructor(){this._first=w.Undefined,this._last=w.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===w.Undefined}clear(){let V=this._first;for(;V!==w.Undefined;){const D=V.next;V.prev=w.Undefined,V.next=w.Undefined,V=D}this._first=w.Undefined,this._last=w.Undefined,this._size=0}unshift(V){return this._insert(V,!1)}push(V){return this._insert(V,!0)}_insert(V,D){const $=new w(V);if(this._first===w.Undefined)this._first=$,this._last=$;else if(D){const P=this._last;this._last=$,$.prev=P,P.next=$}else{const P=this._first;this._first=$,$.next=P,P.prev=$}this._size+=1;let M=!1;return()=>{M||(M=!0,this._remove($))}}shift(){if(this._first!==w.Undefined){const V=this._first.element;return this._remove(this._first),V}}pop(){if(this._last!==w.Undefined){const V=this._last.element;return this._remove(this._last),V}}_remove(V){if(V.prev!==w.Undefined&&V.next!==w.Undefined){const D=V.prev;D.next=V.next,V.next.prev=D}else V.prev===w.Undefined&&V.next===w.Undefined?(this._first=w.Undefined,this._last=w.Undefined):V.next===w.Undefined?(this._last=this._last.prev,this._last.next=w.Undefined):V.prev===w.Undefined&&(this._first=this._first.next,this._first.prev=w.Undefined);this._size-=1}*[Symbol.iterator](){let V=this._first;for(;V!==w.Undefined;)yield V.element,V=V.next}}},43702:function(Ot,Te,i){"use strict";i.d(Te,{Id:function(){return A},Y9:function(){return c},z6:function(){return l}});var w=i(97295),r,O;class V{constructor(){this._value="",this._pos=0}reset(a){return this._value=a,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(a){const g=a.charCodeAt(0),f=this._value.charCodeAt(this._pos);return g-f}value(){return this._value[this._pos]}}class D{constructor(a=!0){this._caseSensitive=a}reset(a){return this._value=a,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let a=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(a)this._from++;else break;else a=!1;return this}cmp(a){return this._caseSensitive?(0,w.TT)(a,this._value,0,a.length,this._from,this._to):(0,w.j_)(a,this._value,0,a.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class ${constructor(a=!0,g=!0){this._splitOnBackslash=a,this._caseSensitive=g}reset(a){this._from=0,this._to=0,this._value=a,this._valueLen=a.length;for(let g=a.length-1;g>=0;g--,this._valueLen--){const f=this._value.charCodeAt(g);if(!(f===47||this._splitOnBackslash&&f===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let a=!0;for(;this._to<this._valueLen;this._to++){const g=this._value.charCodeAt(this._to);if(g===47||this._splitOnBackslash&&g===92)if(a)this._from++;else break;else a=!1}return this}cmp(a){return this._caseSensitive?(0,w.TT)(a,this._value,0,a.length,this._from,this._to):(0,w.j_)(a,this._value,0,a.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class M{constructor(a,g){this._ignorePathCasing=a,this._ignoreQueryAndFragment=g,this._states=[],this._stateIdx=0}reset(a){return this._value=a,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new $(!1,!this._ignorePathCasing(a)),this._pathIterator.reset(a.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(a)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(a){if(this._states[this._stateIdx]===1)return(0,w.zY)(a,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,w.zY)(a,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(a);if(this._states[this._stateIdx]===4)return(0,w.qu)(a,this._value.query);if(this._states[this._stateIdx]===5)return(0,w.qu)(a,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class P{constructor(){this.height=1}rotateLeft(){const a=this.right;return this.right=a.left,a.left=this,this.updateHeight(),a.updateHeight(),a}rotateRight(){const a=this.left;return this.left=a.right,a.right=this,this.updateHeight(),a.updateHeight(),a}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var a,g;return(g=(a=this.left)===null||a===void 0?void 0:a.height)!==null&&g!==void 0?g:0}get heightRight(){var a,g;return(g=(a=this.right)===null||a===void 0?void 0:a.height)!==null&&g!==void 0?g:0}}class A{constructor(a){this._iter=a}static forUris(a=()=>!1,g=()=>!1){return new A(new M(a,g))}static forStrings(){return new A(new V)}static forConfigKeys(){return new A(new D)}clear(){this._root=void 0}set(a,g){const f=this._iter.reset(a);let u;this._root||(this._root=new P,this._root.segment=f.value());const C=[];for(u=this._root;;){const b=f.cmp(u.segment);if(b>0)u.left||(u.left=new P,u.left.segment=f.value()),C.push([-1,u]),u=u.left;else if(b<0)u.right||(u.right=new P,u.right.segment=f.value()),C.push([1,u]),u=u.right;else if(f.hasNext())f.next(),u.mid||(u.mid=new P,u.mid.segment=f.value()),C.push([0,u]),u=u.mid;else break}const y=u.value;u.value=g,u.key=a;for(let b=C.length-1;b>=0;b--){const _=C[b][1];_.updateHeight();const E=_.balanceFactor();if(E<-1||E>1){const I=C[b][0],R=C[b+1][0];if(I===1&&R===1)C[b][1]=_.rotateLeft();else if(I===-1&&R===-1)C[b][1]=_.rotateRight();else if(I===1&&R===-1)_.right=C[b+1][1]=C[b+1][1].rotateRight(),C[b][1]=_.rotateLeft();else if(I===-1&&R===1)_.left=C[b+1][1]=C[b+1][1].rotateLeft(),C[b][1]=_.rotateRight();else throw new Error;if(b>0)switch(C[b-1][0]){case-1:C[b-1][1].left=C[b][1];break;case 1:C[b-1][1].right=C[b][1];break;case 0:C[b-1][1].mid=C[b][1];break}else this._root=C[0][1]}}return y}get(a){var g;return(g=this._getNode(a))===null||g===void 0?void 0:g.value}_getNode(a){const g=this._iter.reset(a);let f=this._root;for(;f;){const u=g.cmp(f.segment);if(u>0)f=f.left;else if(u<0)f=f.right;else if(g.hasNext())g.next(),f=f.mid;else break}return f}has(a){const g=this._getNode(a);return!((g==null?void 0:g.value)===void 0&&(g==null?void 0:g.mid)===void 0)}delete(a){return this._delete(a,!1)}deleteSuperstr(a){return this._delete(a,!0)}_delete(a,g){var f;const u=this._iter.reset(a),C=[];let y=this._root;for(;y;){const b=u.cmp(y.segment);if(b>0)C.push([-1,y]),y=y.left;else if(b<0)C.push([1,y]),y=y.right;else if(u.hasNext())u.next(),C.push([0,y]),y=y.mid;else break}if(!!y){if(g?(y.left=void 0,y.mid=void 0,y.right=void 0,y.height=1):(y.key=void 0,y.value=void 0),!y.mid&&!y.value)if(y.left&&y.right){const b=this._min(y.right),{key:_,value:E,segment:I}=b;this._delete(b.key,!1),y.key=_,y.value=E,y.segment=I}else{const b=(f=y.left)!==null&&f!==void 0?f:y.right;if(C.length>0){const[_,E]=C[C.length-1];switch(_){case-1:E.left=b;break;case 0:E.mid=b;break;case 1:E.right=b;break}}else this._root=b}for(let b=C.length-1;b>=0;b--){const _=C[b][1];_.updateHeight();const E=_.balanceFactor();if(E>1?(_.right.balanceFactor()>=0||(_.right=_.right.rotateRight()),C[b][1]=_.rotateLeft()):E<-1&&(_.left.balanceFactor()<=0||(_.left=_.left.rotateLeft()),C[b][1]=_.rotateRight()),b>0)switch(C[b-1][0]){case-1:C[b-1][1].left=C[b][1];break;case 1:C[b-1][1].right=C[b][1];break;case 0:C[b-1][1].mid=C[b][1];break}else this._root=C[0][1]}}}_min(a){for(;a.left;)a=a.left;return a}findSubstr(a){const g=this._iter.reset(a);let f=this._root,u;for(;f;){const C=g.cmp(f.segment);if(C>0)f=f.left;else if(C<0)f=f.right;else if(g.hasNext())g.next(),u=f.value||u,f=f.mid;else break}return f&&f.value||u}findSuperstr(a){const g=this._iter.reset(a);let f=this._root;for(;f;){const u=g.cmp(f.segment);if(u>0)f=f.left;else if(u<0)f=f.right;else if(g.hasNext())g.next(),f=f.mid;else return f.mid?this._entries(f.mid):void 0}}forEach(a){for(const[g,f]of this)a(f,g)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(a){const g=[];return this._dfsEntries(a,g),g[Symbol.iterator]()}_dfsEntries(a,g){!a||(a.left&&this._dfsEntries(a.left,g),a.value&&g.push([a.key,a.value]),a.mid&&this._dfsEntries(a.mid,g),a.right&&this._dfsEntries(a.right,g))}}class L{constructor(a,g){this.uri=a,this.value=g}}class c{constructor(a,g){this[r]="ResourceMap",a instanceof c?(this.map=new Map(a.map),this.toKey=g??c.defaultToKey):(this.map=new Map,this.toKey=a??c.defaultToKey)}set(a,g){return this.map.set(this.toKey(a),new L(a,g)),this}get(a){var g;return(g=this.map.get(this.toKey(a)))===null||g===void 0?void 0:g.value}has(a){return this.map.has(this.toKey(a))}get size(){return this.map.size}clear(){this.map.clear()}delete(a){return this.map.delete(this.toKey(a))}forEach(a,g){typeof g<"u"&&(a=a.bind(g));for(const[f,u]of this.map)a(u.value,u.uri,this)}*values(){for(const a of this.map.values())yield a.value}*keys(){for(const a of this.map.values())yield a.uri}*entries(){for(const a of this.map.values())yield[a.uri,a.value]}*[(r=Symbol.toStringTag,Symbol.iterator)](){for(const[,a]of this.map)yield[a.uri,a.value]}}c.defaultToKey=n=>n.toString();class p{constructor(){this[O]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var a;return(a=this._head)===null||a===void 0?void 0:a.value}get last(){var a;return(a=this._tail)===null||a===void 0?void 0:a.value}has(a){return this._map.has(a)}get(a,g=0){const f=this._map.get(a);if(!!f)return g!==0&&this.touch(f,g),f.value}set(a,g,f=0){let u=this._map.get(a);if(u)u.value=g,f!==0&&this.touch(u,f);else{switch(u={key:a,value:g,next:void 0,previous:void 0},f){case 0:this.addItemLast(u);break;case 1:this.addItemFirst(u);break;case 2:this.addItemLast(u);break;default:this.addItemLast(u);break}this._map.set(a,u),this._size++}return this}delete(a){return!!this.remove(a)}remove(a){const g=this._map.get(a);if(!!g)return this._map.delete(a),this.removeItem(g),this._size--,g.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const a=this._head;return this._map.delete(a.key),this.removeItem(a),this._size--,a.value}forEach(a,g){const f=this._state;let u=this._head;for(;u;){if(g?a.bind(g)(u.value,u.key,this):a(u.value,u.key,this),this._state!==f)throw new Error("LinkedMap got modified during iteration.");u=u.next}}keys(){const a=this,g=this._state;let f=this._head;const u={[Symbol.iterator](){return u},next(){if(a._state!==g)throw new Error("LinkedMap got modified during iteration.");if(f){const C={value:f.key,done:!1};return f=f.next,C}else return{value:void 0,done:!0}}};return u}values(){const a=this,g=this._state;let f=this._head;const u={[Symbol.iterator](){return u},next(){if(a._state!==g)throw new Error("LinkedMap got modified during iteration.");if(f){const C={value:f.value,done:!1};return f=f.next,C}else return{value:void 0,done:!0}}};return u}entries(){const a=this,g=this._state;let f=this._head;const u={[Symbol.iterator](){return u},next(){if(a._state!==g)throw new Error("LinkedMap got modified during iteration.");if(f){const C={value:[f.key,f.value],done:!1};return f=f.next,C}else return{value:void 0,done:!0}}};return u}[(O=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(a){if(a>=this.size)return;if(a===0){this.clear();return}let g=this._head,f=this.size;for(;g&&f>a;)this._map.delete(g.key),g=g.next,f--;this._head=g,this._size=f,g&&(g.previous=void 0),this._state++}addItemFirst(a){if(!this._head&&!this._tail)this._tail=a;else if(this._head)a.next=this._head,this._head.previous=a;else throw new Error("Invalid list");this._head=a,this._state++}addItemLast(a){if(!this._head&&!this._tail)this._head=a;else if(this._tail)a.previous=this._tail,this._tail.next=a;else throw new Error("Invalid list");this._tail=a,this._state++}removeItem(a){if(a===this._head&&a===this._tail)this._head=void 0,this._tail=void 0;else if(a===this._head){if(!a.next)throw new Error("Invalid list");a.next.previous=void 0,this._head=a.next}else if(a===this._tail){if(!a.previous)throw new Error("Invalid list");a.previous.next=void 0,this._tail=a.previous}else{const g=a.next,f=a.previous;if(!g||!f)throw new Error("Invalid list");g.previous=f,f.next=g}a.next=void 0,a.previous=void 0,this._state++}touch(a,g){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(g!==1&&g!==2)){if(g===1){if(a===this._head)return;const f=a.next,u=a.previous;a===this._tail?(u.next=void 0,this._tail=u):(f.previous=u,u.next=f),a.previous=void 0,a.next=this._head,this._head.previous=a,this._head=a,this._state++}else if(g===2){if(a===this._tail)return;const f=a.next,u=a.previous;a===this._head?(f.previous=void 0,this._head=f):(f.previous=u,u.next=f),a.next=void 0,a.previous=this._tail,this._tail.next=a,this._tail=a,this._state++}}}toJSON(){const a=[];return this.forEach((g,f)=>{a.push([f,g])}),a}fromJSON(a){this.clear();for(const[g,f]of a)this.set(g,f)}}class l extends p{constructor(a,g=1){super(),this._limit=a,this._ratio=Math.min(Math.max(0,g),1)}get limit(){return this._limit}set limit(a){this._limit=a,this.checkTrim()}get(a,g=2){return super.get(a,g)}peek(a){return super.get(a,0)}set(a,g){return super.set(a,g,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},23897:function(Ot,Te,i){"use strict";i.d(Te,{Q:function(){return O}});var w=i(53060),r=i(70666);function O(D){let $=JSON.parse(D);return $=V($),$}function V(D,$=0){if(!D||$>200)return D;if(typeof D=="object"){switch(D.$mid){case 1:return r.o.revive(D);case 2:return new RegExp(D.source,D.flags);case 14:return new Date(D.source)}if(D instanceof w.KN||D instanceof Uint8Array)return D;if(Array.isArray(D))for(let M=0;M<D.length;++M)D[M]=V(D[M],$+1);else for(const M in D)Object.hasOwnProperty.call(D,M)&&(D[M]=V(D[M],$+1))}return D}},81170:function(Ot,Te,i){"use strict";i.d(Te,{v:function(){return w}});const w=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},66663:function(Ot,Te,i){"use strict";i.d(Te,{Gi:function(){return P},WX:function(){return $},lg:function(){return O}});var w=i(1432),r=i(70666),O;(function(A){A.inMemory="inmemory",A.vscode="vscode",A.internal="private",A.walkThrough="walkThrough",A.walkThroughSnippet="walkThroughSnippet",A.http="http",A.https="https",A.file="file",A.mailto="mailto",A.untitled="untitled",A.data="data",A.command="command",A.vscodeRemote="vscode-remote",A.vscodeRemoteResource="vscode-remote-resource",A.vscodeUserData="vscode-userdata",A.vscodeCustomEditor="vscode-custom-editor",A.vscodeNotebook="vscode-notebook",A.vscodeNotebookCell="vscode-notebook-cell",A.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",A.vscodeNotebookCellOutput="vscode-notebook-cell-output",A.vscodeInteractive="vscode-interactive",A.vscodeInteractiveInput="vscode-interactive-input",A.vscodeSettings="vscode-settings",A.vscodeWorkspaceTrust="vscode-workspace-trust",A.vscodeTerminal="vscode-terminal",A.webviewPanel="webview-panel",A.vscodeWebview="vscode-webview",A.extension="extension",A.vscodeFileResource="vscode-file",A.tmp="tmp",A.vsls="vsls",A.vscodeSourceControl="vscode-scm"})(O||(O={}));const V="tkn";class D{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${O.vscodeRemoteResource}`}setPreferredWebSchema(L){this._preferredWebSchema=L}rewrite(L){if(this._delegate)return this._delegate(L);const c=L.authority;let p=this._hosts[c];p&&p.indexOf(":")!==-1&&(p=`[${p}]`);const l=this._ports[c],n=this._connectionTokens[c];let a=`path=${encodeURIComponent(L.path)}`;return typeof n=="string"&&(a+=`&${V}=${encodeURIComponent(n)}`),r.o.from({scheme:w.$L?this._preferredWebSchema:O.vscodeRemoteResource,authority:`${p}:${l}`,path:this._remoteResourcesPath,query:a})}}const $=new D;class M{asBrowserUri(L,c){const p=this.toUri(L,c);return p.scheme===O.vscodeRemote?$.rewrite(p):p.scheme===O.file&&(w.tY||w.n2&&w.li.origin===`${O.vscodeFileResource}://${M.FALLBACK_AUTHORITY}`)?p.with({scheme:O.vscodeFileResource,authority:p.authority||M.FALLBACK_AUTHORITY,query:null,fragment:null}):p}toUri(L,c){return r.o.isUri(L)?L:r.o.parse(c.toUrl(L))}}M.FALLBACK_AUTHORITY="vscode-app";const P=new M},59870:function(Ot,Te,i){"use strict";i.d(Te,{N:function(){return O},nM:function(){return r},uZ:function(){return w}});function w(V,D,$){return Math.min(Math.max(V,D),$)}class r{constructor(){this._n=1,this._val=0}update(D){return this._val=this._val+(D-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class O{constructor(D){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(D),this._values.fill(0,0,D)}update(D){const $=this._values[this._index];return this._values[this._index]=D,this._index=(this._index+1)%this._values.length,this._sum-=$,this._sum+=D,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},36248:function(Ot,Te,i){"use strict";i.d(Te,{I8:function(){return r},_A:function(){return O},fS:function(){return P},jB:function(){return M},rs:function(){return D}});var w=i(98401);function r(A){if(!A||typeof A!="object"||A instanceof RegExp)return A;const L=Array.isArray(A)?[]:{};return Object.keys(A).forEach(c=>{A[c]&&typeof A[c]=="object"?L[c]=r(A[c]):L[c]=A[c]}),L}function O(A){if(!A||typeof A!="object")return A;const L=[A];for(;L.length>0;){const c=L.shift();Object.freeze(c);for(const p in c)if(V.call(c,p)){const l=c[p];typeof l=="object"&&!Object.isFrozen(l)&&!(0,w.fU)(l)&&L.push(l)}}return A}const V=Object.prototype.hasOwnProperty;function D(A,L){return $(A,L,new Set)}function $(A,L,c){if((0,w.Jp)(A))return A;const p=L(A);if(typeof p<"u")return p;if((0,w.kJ)(A)){const l=[];for(const n of A)l.push($(n,L,c));return l}if((0,w.Kn)(A)){if(c.has(A))throw new Error("Cannot clone recursive data-structure");c.add(A);const l={};for(const n in A)V.call(A,n)&&(l[n]=$(A[n],L,c));return c.delete(A),l}return A}function M(A,L,c=!0){return(0,w.Kn)(A)?((0,w.Kn)(L)&&Object.keys(L).forEach(p=>{p in A?c&&((0,w.Kn)(A[p])&&(0,w.Kn)(L[p])?M(A[p],L[p],c):A[p]=L[p]):A[p]=L[p]}),A):L}function P(A,L){if(A===L)return!0;if(A==null||L===null||L===void 0||typeof A!=typeof L||typeof A!="object"||Array.isArray(A)!==Array.isArray(L))return!1;let c,p;if(Array.isArray(A)){if(A.length!==L.length)return!1;for(c=0;c<A.length;c++)if(!P(A[c],L[c]))return!1}else{const l=[];for(p in A)l.push(p);l.sort();const n=[];for(p in L)n.push(p);if(n.sort(),!P(l,n))return!1;for(c=0;c<l.length;c++)if(!P(A[l[c]],L[l[c]]))return!1}return!0}},88721:function(Ot,Te,i){"use strict";i.d(Te,{EZ:function(){return K},XX:function(){return U},DZ:function(){return H},Fv:function(){return R},KR:function(){return I},Gf:function(){return Q},DB:function(){return J},ir:function(){return X},Ku:function(){return E}});var w=i(1432),r=i(34155);let O;if(typeof w.li.vscode<"u"&&typeof w.li.vscode.process<"u"){const j=w.li.vscode.process;O={get platform(){return j.platform},get arch(){return j.arch},get env(){return j.env},cwd(){return j.cwd()}}}else typeof r<"u"?O={get platform(){return r.platform},get arch(){return r.arch},get env(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}},cwd(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}.VSCODE_CWD||r.cwd()}}:O={get platform(){return w.ED?"win32":w.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const V=O.cwd,D=O.env,$=O.platform,M=65,P=97,A=90,L=122,c=46,p=47,l=92,n=58,a=63;class g extends Error{constructor(x,Z,T){let z;typeof Z=="string"&&Z.indexOf("not ")===0?(z="must not be",Z=Z.replace(/^not /,"")):z="must be";const G=x.indexOf(".")!==-1?"property":"argument";let re=`The "${x}" ${G} ${z} of type ${Z}`;re+=`. Received type ${typeof T}`,super(re),this.code="ERR_INVALID_ARG_TYPE"}}function f(j,x){if(typeof j!="string")throw new g(x,"string",j)}function u(j){return j===p||j===l}function C(j){return j===p}function y(j){return j>=M&&j<=A||j>=P&&j<=L}function b(j,x,Z,T){let z="",G=0,re=-1,S=0,he=0;for(let Ce=0;Ce<=j.length;++Ce){if(Ce<j.length)he=j.charCodeAt(Ce);else{if(T(he))break;he=p}if(T(he)){if(!(re===Ce-1||S===1))if(S===2){if(z.length<2||G!==2||z.charCodeAt(z.length-1)!==c||z.charCodeAt(z.length-2)!==c){if(z.length>2){const ge=z.lastIndexOf(Z);ge===-1?(z="",G=0):(z=z.slice(0,ge),G=z.length-1-z.lastIndexOf(Z)),re=Ce,S=0;continue}else if(z.length!==0){z="",G=0,re=Ce,S=0;continue}}x&&(z+=z.length>0?`${Z}..`:"..",G=2)}else z.length>0?z+=`${Z}${j.slice(re+1,Ce)}`:z=j.slice(re+1,Ce),G=Ce-re-1;re=Ce,S=0}else he===c&&S!==-1?++S:S=-1}return z}function _(j,x){if(x===null||typeof x!="object")throw new g("pathObject","Object",x);const Z=x.dir||x.root,T=x.base||`${x.name||""}${x.ext||""}`;return Z?Z===x.root?`${Z}${T}`:`${Z}${j}${T}`:T}const E={resolve(...j){let x="",Z="",T=!1;for(let z=j.length-1;z>=-1;z--){let G;if(z>=0){if(G=j[z],f(G,"path"),G.length===0)continue}else x.length===0?G=V():(G={NODE_ENV:"production",PUBLIC_PATH:"/"}[`=${x}`]||V(),(G===void 0||G.slice(0,2).toLowerCase()!==x.toLowerCase()&&G.charCodeAt(2)===l)&&(G=`${x}\\`));const re=G.length;let S=0,he="",Ce=!1;const ge=G.charCodeAt(0);if(re===1)u(ge)&&(S=1,Ce=!0);else if(u(ge))if(Ce=!0,u(G.charCodeAt(1))){let pe=2,ee=pe;for(;pe<re&&!u(G.charCodeAt(pe));)pe++;if(pe<re&&pe!==ee){const se=G.slice(ee,pe);for(ee=pe;pe<re&&u(G.charCodeAt(pe));)pe++;if(pe<re&&pe!==ee){for(ee=pe;pe<re&&!u(G.charCodeAt(pe));)pe++;(pe===re||pe!==ee)&&(he=`\\\\${se}\\${G.slice(ee,pe)}`,S=pe)}}}else S=1;else y(ge)&&G.charCodeAt(1)===n&&(he=G.slice(0,2),S=2,re>2&&u(G.charCodeAt(2))&&(Ce=!0,S=3));if(he.length>0)if(x.length>0){if(he.toLowerCase()!==x.toLowerCase())continue}else x=he;if(T){if(x.length>0)break}else if(Z=`${G.slice(S)}\\${Z}`,T=Ce,Ce&&x.length>0)break}return Z=b(Z,!T,"\\",u),T?`${x}\\${Z}`:`${x}${Z}`||"."},normalize(j){f(j,"path");const x=j.length;if(x===0)return".";let Z=0,T,z=!1;const G=j.charCodeAt(0);if(x===1)return C(G)?"\\":j;if(u(G))if(z=!0,u(j.charCodeAt(1))){let S=2,he=S;for(;S<x&&!u(j.charCodeAt(S));)S++;if(S<x&&S!==he){const Ce=j.slice(he,S);for(he=S;S<x&&u(j.charCodeAt(S));)S++;if(S<x&&S!==he){for(he=S;S<x&&!u(j.charCodeAt(S));)S++;if(S===x)return`\\\\${Ce}\\${j.slice(he)}\\`;S!==he&&(T=`\\\\${Ce}\\${j.slice(he,S)}`,Z=S)}}}else Z=1;else y(G)&&j.charCodeAt(1)===n&&(T=j.slice(0,2),Z=2,x>2&&u(j.charCodeAt(2))&&(z=!0,Z=3));let re=Z<x?b(j.slice(Z),!z,"\\",u):"";return re.length===0&&!z&&(re="."),re.length>0&&u(j.charCodeAt(x-1))&&(re+="\\"),T===void 0?z?`\\${re}`:re:z?`${T}\\${re}`:`${T}${re}`},isAbsolute(j){f(j,"path");const x=j.length;if(x===0)return!1;const Z=j.charCodeAt(0);return u(Z)||x>2&&y(Z)&&j.charCodeAt(1)===n&&u(j.charCodeAt(2))},join(...j){if(j.length===0)return".";let x,Z;for(let G=0;G<j.length;++G){const re=j[G];f(re,"path"),re.length>0&&(x===void 0?x=Z=re:x+=`\\${re}`)}if(x===void 0)return".";let T=!0,z=0;if(typeof Z=="string"&&u(Z.charCodeAt(0))){++z;const G=Z.length;G>1&&u(Z.charCodeAt(1))&&(++z,G>2&&(u(Z.charCodeAt(2))?++z:T=!1))}if(T){for(;z<x.length&&u(x.charCodeAt(z));)z++;z>=2&&(x=`\\${x.slice(z)}`)}return E.normalize(x)},relative(j,x){if(f(j,"from"),f(x,"to"),j===x)return"";const Z=E.resolve(j),T=E.resolve(x);if(Z===T||(j=Z.toLowerCase(),x=T.toLowerCase(),j===x))return"";let z=0;for(;z<j.length&&j.charCodeAt(z)===l;)z++;let G=j.length;for(;G-1>z&&j.charCodeAt(G-1)===l;)G--;const re=G-z;let S=0;for(;S<x.length&&x.charCodeAt(S)===l;)S++;let he=x.length;for(;he-1>S&&x.charCodeAt(he-1)===l;)he--;const Ce=he-S,ge=re<Ce?re:Ce;let pe=-1,ee=0;for(;ee<ge;ee++){const ne=j.charCodeAt(z+ee);if(ne!==x.charCodeAt(S+ee))break;ne===l&&(pe=ee)}if(ee!==ge){if(pe===-1)return T}else{if(Ce>ge){if(x.charCodeAt(S+ee)===l)return T.slice(S+ee+1);if(ee===2)return T.slice(S+ee)}re>ge&&(j.charCodeAt(z+ee)===l?pe=ee:ee===2&&(pe=3)),pe===-1&&(pe=0)}let se="";for(ee=z+pe+1;ee<=G;++ee)(ee===G||j.charCodeAt(ee)===l)&&(se+=se.length===0?"..":"\\..");return S+=pe,se.length>0?`${se}${T.slice(S,he)}`:(T.charCodeAt(S)===l&&++S,T.slice(S,he))},toNamespacedPath(j){if(typeof j!="string")return j;if(j.length===0)return"";const x=E.resolve(j);if(x.length<=2)return j;if(x.charCodeAt(0)===l){if(x.charCodeAt(1)===l){const Z=x.charCodeAt(2);if(Z!==a&&Z!==c)return`\\\\?\\UNC\\${x.slice(2)}`}}else if(y(x.charCodeAt(0))&&x.charCodeAt(1)===n&&x.charCodeAt(2)===l)return`\\\\?\\${x}`;return j},dirname(j){f(j,"path");const x=j.length;if(x===0)return".";let Z=-1,T=0;const z=j.charCodeAt(0);if(x===1)return u(z)?j:".";if(u(z)){if(Z=T=1,u(j.charCodeAt(1))){let S=2,he=S;for(;S<x&&!u(j.charCodeAt(S));)S++;if(S<x&&S!==he){for(he=S;S<x&&u(j.charCodeAt(S));)S++;if(S<x&&S!==he){for(he=S;S<x&&!u(j.charCodeAt(S));)S++;if(S===x)return j;S!==he&&(Z=T=S+1)}}}}else y(z)&&j.charCodeAt(1)===n&&(Z=x>2&&u(j.charCodeAt(2))?3:2,T=Z);let G=-1,re=!0;for(let S=x-1;S>=T;--S)if(u(j.charCodeAt(S))){if(!re){G=S;break}}else re=!1;if(G===-1){if(Z===-1)return".";G=Z}return j.slice(0,G)},basename(j,x){x!==void 0&&f(x,"ext"),f(j,"path");let Z=0,T=-1,z=!0,G;if(j.length>=2&&y(j.charCodeAt(0))&&j.charCodeAt(1)===n&&(Z=2),x!==void 0&&x.length>0&&x.length<=j.length){if(x===j)return"";let re=x.length-1,S=-1;for(G=j.length-1;G>=Z;--G){const he=j.charCodeAt(G);if(u(he)){if(!z){Z=G+1;break}}else S===-1&&(z=!1,S=G+1),re>=0&&(he===x.charCodeAt(re)?--re===-1&&(T=G):(re=-1,T=S))}return Z===T?T=S:T===-1&&(T=j.length),j.slice(Z,T)}for(G=j.length-1;G>=Z;--G)if(u(j.charCodeAt(G))){if(!z){Z=G+1;break}}else T===-1&&(z=!1,T=G+1);return T===-1?"":j.slice(Z,T)},extname(j){f(j,"path");let x=0,Z=-1,T=0,z=-1,G=!0,re=0;j.length>=2&&j.charCodeAt(1)===n&&y(j.charCodeAt(0))&&(x=T=2);for(let S=j.length-1;S>=x;--S){const he=j.charCodeAt(S);if(u(he)){if(!G){T=S+1;break}continue}z===-1&&(G=!1,z=S+1),he===c?Z===-1?Z=S:re!==1&&(re=1):Z!==-1&&(re=-1)}return Z===-1||z===-1||re===0||re===1&&Z===z-1&&Z===T+1?"":j.slice(Z,z)},format:_.bind(null,"\\"),parse(j){f(j,"path");const x={root:"",dir:"",base:"",ext:"",name:""};if(j.length===0)return x;const Z=j.length;let T=0,z=j.charCodeAt(0);if(Z===1)return u(z)?(x.root=x.dir=j,x):(x.base=x.name=j,x);if(u(z)){if(T=1,u(j.charCodeAt(1))){let pe=2,ee=pe;for(;pe<Z&&!u(j.charCodeAt(pe));)pe++;if(pe<Z&&pe!==ee){for(ee=pe;pe<Z&&u(j.charCodeAt(pe));)pe++;if(pe<Z&&pe!==ee){for(ee=pe;pe<Z&&!u(j.charCodeAt(pe));)pe++;pe===Z?T=pe:pe!==ee&&(T=pe+1)}}}}else if(y(z)&&j.charCodeAt(1)===n){if(Z<=2)return x.root=x.dir=j,x;if(T=2,u(j.charCodeAt(2))){if(Z===3)return x.root=x.dir=j,x;T=3}}T>0&&(x.root=j.slice(0,T));let G=-1,re=T,S=-1,he=!0,Ce=j.length-1,ge=0;for(;Ce>=T;--Ce){if(z=j.charCodeAt(Ce),u(z)){if(!he){re=Ce+1;break}continue}S===-1&&(he=!1,S=Ce+1),z===c?G===-1?G=Ce:ge!==1&&(ge=1):G!==-1&&(ge=-1)}return S!==-1&&(G===-1||ge===0||ge===1&&G===S-1&&G===re+1?x.base=x.name=j.slice(re,S):(x.name=j.slice(re,G),x.base=j.slice(re,S),x.ext=j.slice(G,S))),re>0&&re!==T?x.dir=j.slice(0,re-1):x.dir=x.root,x},sep:"\\",delimiter:";",win32:null,posix:null},I={resolve(...j){let x="",Z=!1;for(let T=j.length-1;T>=-1&&!Z;T--){const z=T>=0?j[T]:V();f(z,"path"),z.length!==0&&(x=`${z}/${x}`,Z=z.charCodeAt(0)===p)}return x=b(x,!Z,"/",C),Z?`/${x}`:x.length>0?x:"."},normalize(j){if(f(j,"path"),j.length===0)return".";const x=j.charCodeAt(0)===p,Z=j.charCodeAt(j.length-1)===p;return j=b(j,!x,"/",C),j.length===0?x?"/":Z?"./":".":(Z&&(j+="/"),x?`/${j}`:j)},isAbsolute(j){return f(j,"path"),j.length>0&&j.charCodeAt(0)===p},join(...j){if(j.length===0)return".";let x;for(let Z=0;Z<j.length;++Z){const T=j[Z];f(T,"path"),T.length>0&&(x===void 0?x=T:x+=`/${T}`)}return x===void 0?".":I.normalize(x)},relative(j,x){if(f(j,"from"),f(x,"to"),j===x||(j=I.resolve(j),x=I.resolve(x),j===x))return"";const Z=1,T=j.length,z=T-Z,G=1,re=x.length-G,S=z<re?z:re;let he=-1,Ce=0;for(;Ce<S;Ce++){const pe=j.charCodeAt(Z+Ce);if(pe!==x.charCodeAt(G+Ce))break;pe===p&&(he=Ce)}if(Ce===S)if(re>S){if(x.charCodeAt(G+Ce)===p)return x.slice(G+Ce+1);if(Ce===0)return x.slice(G+Ce)}else z>S&&(j.charCodeAt(Z+Ce)===p?he=Ce:Ce===0&&(he=0));let ge="";for(Ce=Z+he+1;Ce<=T;++Ce)(Ce===T||j.charCodeAt(Ce)===p)&&(ge+=ge.length===0?"..":"/..");return`${ge}${x.slice(G+he)}`},toNamespacedPath(j){return j},dirname(j){if(f(j,"path"),j.length===0)return".";const x=j.charCodeAt(0)===p;let Z=-1,T=!0;for(let z=j.length-1;z>=1;--z)if(j.charCodeAt(z)===p){if(!T){Z=z;break}}else T=!1;return Z===-1?x?"/":".":x&&Z===1?"//":j.slice(0,Z)},basename(j,x){x!==void 0&&f(x,"ext"),f(j,"path");let Z=0,T=-1,z=!0,G;if(x!==void 0&&x.length>0&&x.length<=j.length){if(x===j)return"";let re=x.length-1,S=-1;for(G=j.length-1;G>=0;--G){const he=j.charCodeAt(G);if(he===p){if(!z){Z=G+1;break}}else S===-1&&(z=!1,S=G+1),re>=0&&(he===x.charCodeAt(re)?--re===-1&&(T=G):(re=-1,T=S))}return Z===T?T=S:T===-1&&(T=j.length),j.slice(Z,T)}for(G=j.length-1;G>=0;--G)if(j.charCodeAt(G)===p){if(!z){Z=G+1;break}}else T===-1&&(z=!1,T=G+1);return T===-1?"":j.slice(Z,T)},extname(j){f(j,"path");let x=-1,Z=0,T=-1,z=!0,G=0;for(let re=j.length-1;re>=0;--re){const S=j.charCodeAt(re);if(S===p){if(!z){Z=re+1;break}continue}T===-1&&(z=!1,T=re+1),S===c?x===-1?x=re:G!==1&&(G=1):x!==-1&&(G=-1)}return x===-1||T===-1||G===0||G===1&&x===T-1&&x===Z+1?"":j.slice(x,T)},format:_.bind(null,"/"),parse(j){f(j,"path");const x={root:"",dir:"",base:"",ext:"",name:""};if(j.length===0)return x;const Z=j.charCodeAt(0)===p;let T;Z?(x.root="/",T=1):T=0;let z=-1,G=0,re=-1,S=!0,he=j.length-1,Ce=0;for(;he>=T;--he){const ge=j.charCodeAt(he);if(ge===p){if(!S){G=he+1;break}continue}re===-1&&(S=!1,re=he+1),ge===c?z===-1?z=he:Ce!==1&&(Ce=1):z!==-1&&(Ce=-1)}if(re!==-1){const ge=G===0&&Z?1:G;z===-1||Ce===0||Ce===1&&z===re-1&&z===G+1?x.base=x.name=j.slice(ge,re):(x.name=j.slice(ge,z),x.base=j.slice(ge,re),x.ext=j.slice(z,re))}return G>0?x.dir=j.slice(0,G-1):Z&&(x.dir="/"),x},sep:"/",delimiter:":",win32:null,posix:null};I.win32=E.win32=E,I.posix=E.posix=I;const R=$==="win32"?E.normalize:I.normalize,J=$==="win32"?E.resolve:I.resolve,Q=$==="win32"?E.relative:I.relative,U=$==="win32"?E.dirname:I.dirname,K=$==="win32"?E.basename:I.basename,H=$==="win32"?E.extname:I.extname,X=$==="win32"?E.sep:I.sep},1432:function(Ot,Te,i){"use strict";i.d(Te,{$L:function(){return Q},ED:function(){return E},G6:function(){return he},IJ:function(){return R},OS:function(){return Z},dK:function(){return X},dz:function(){return I},fn:function(){return x},gn:function(){return K},i7:function(){return re},li:function(){return u},n2:function(){return U},r:function(){return G},tY:function(){return J},un:function(){return Ce},vU:function(){return S}});var w=i(63580),r=i(34155),O;const V="en";let D=!1,$=!1,M=!1,P=!1,A=!1,L=!1,c=!1,p=!1,l=!1,n,a=V,g=null,f;const u=typeof self=="object"?self:typeof i.g=="object"?i.g:{};let C;typeof u.vscode<"u"&&typeof u.vscode.process<"u"?C=u.vscode.process:typeof r<"u"&&(C=r);const y=typeof((O=C==null?void 0:C.versions)===null||O===void 0?void 0:O.electron)=="string",b=y&&(C==null?void 0:C.type)==="renderer";if(typeof navigator=="object"&&!b)f=navigator.userAgent,D=f.indexOf("Windows")>=0,$=f.indexOf("Macintosh")>=0,p=(f.indexOf("Macintosh")>=0||f.indexOf("iPad")>=0||f.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,M=f.indexOf("Linux")>=0,L=!0,n=w.aj(w.NC({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||V,a=n;else if(typeof C=="object"){D=C.platform==="win32",$=C.platform==="darwin",M=C.platform==="linux",P=M&&!!C.env.SNAP&&!!C.env.SNAP_REVISION,c=y,l=!!C.env.CI||!!C.env.BUILD_ARTIFACTSTAGINGDIRECTORY,n=V,a=V;const pe=C.env.VSCODE_NLS_CONFIG;if(pe)try{const ee=JSON.parse(pe),se=ee.availableLanguages["*"];n=ee.locale,a=se||V,g=ee._translationsConfigFile}catch{}A=!0}else console.error("Unable to resolve platform.");let _=0;$?_=1:D?_=3:M&&(_=2);const E=D,I=$,R=M,J=A,Q=L,U=L&&typeof u.importScripts=="function",K=p,H=f,X=a,j=typeof u.postMessage=="function"&&!u.importScripts,x=(()=>{if(j){const pe=[];u.addEventListener("message",se=>{if(se.data&&se.data.vscodeScheduleAsyncWork)for(let ne=0,oe=pe.length;ne<oe;ne++){const Se=pe[ne];if(Se.id===se.data.vscodeScheduleAsyncWork){pe.splice(ne,1),Se.callback();return}}});let ee=0;return se=>{const ne=++ee;pe.push({id:ne,callback:se}),u.postMessage({vscodeScheduleAsyncWork:ne},"*")}}return pe=>setTimeout(pe)})(),Z=$||p?2:D?1:3;let T=!0,z=!1;function G(){if(!z){z=!0;const pe=new Uint8Array(2);pe[0]=1,pe[1]=2,T=new Uint16Array(pe.buffer)[0]===(2<<8)+1}return T}const re=!!(H&&H.indexOf("Chrome")>=0),S=!!(H&&H.indexOf("Firefox")>=0),he=!!(!re&&H&&H.indexOf("Safari")>=0),Ce=!!(H&&H.indexOf("Edg/")>=0),ge=!!(H&&H.indexOf("Android")>=0)},61134:function(Ot,Te,i){"use strict";i.d(Te,{e:function(){return w}});var w;(function(r){function O(M,P){if(M.start>=P.end||P.start>=M.end)return{start:0,end:0};const A=Math.max(M.start,P.start),L=Math.min(M.end,P.end);return L-A<=0?{start:0,end:0}:{start:A,end:L}}r.intersect=O;function V(M){return M.end-M.start<=0}r.isEmpty=V;function D(M,P){return!V(O(M,P))}r.intersects=D;function $(M,P){const A=[],L={start:M.start,end:Math.min(P.start,M.end)},c={start:Math.max(P.end,M.start),end:M.end};return V(L)||A.push(L),V(c)||A.push(c),A}r.relativeComplement=$})(w||(w={}))},95935:function(Ot,Te,i){"use strict";i.d(Te,{AH:function(){return y},DZ:function(){return f},EZ:function(){return g},Hx:function(){return a},SF:function(){return A},Vb:function(){return U},Vo:function(){return C},XX:function(){return u},Xy:function(){return p},i3:function(){return _},lX:function(){return b},z_:function(){return M}});var w=i(15527),r=i(66663),O=i(88721),V=i(1432),D=i(97295),$=i(70666);function M(K){return(0,$.q)(K,!0)}class P{constructor(H){this._ignorePathCasing=H}compare(H,X,j=!1){return H===X?0:(0,D.qu)(this.getComparisonKey(H,j),this.getComparisonKey(X,j))}isEqual(H,X,j=!1){return H===X?!0:!H||!X?!1:this.getComparisonKey(H,j)===this.getComparisonKey(X,j)}getComparisonKey(H,X=!1){return H.with({path:this._ignorePathCasing(H)?H.path.toLowerCase():void 0,fragment:X?null:void 0}).toString()}isEqualOrParent(H,X,j=!1){if(H.scheme===X.scheme){if(H.scheme===r.lg.file)return w.KM(M(H),M(X),this._ignorePathCasing(H))&&H.query===X.query&&(j||H.fragment===X.fragment);if(I(H.authority,X.authority))return w.KM(H.path,X.path,this._ignorePathCasing(H),"/")&&H.query===X.query&&(j||H.fragment===X.fragment)}return!1}joinPath(H,...X){return $.o.joinPath(H,...X)}basenameOrAuthority(H){return g(H)||H.authority}basename(H){return O.KR.basename(H.path)}extname(H){return O.KR.extname(H.path)}dirname(H){if(H.path.length===0)return H;let X;return H.scheme===r.lg.file?X=$.o.file(O.XX(M(H))).path:(X=O.KR.dirname(H.path),H.authority&&X.length&&X.charCodeAt(0)!==47&&(console.error(`dirname("${H.toString})) resulted in a relative path`),X="/")),H.with({path:X})}normalizePath(H){if(!H.path.length)return H;let X;return H.scheme===r.lg.file?X=$.o.file(O.Fv(M(H))).path:X=O.KR.normalize(H.path),H.with({path:X})}relativePath(H,X){if(H.scheme!==X.scheme||!I(H.authority,X.authority))return;if(H.scheme===r.lg.file){const Z=O.Gf(M(H),M(X));return V.ED?w.ej(Z):Z}let j=H.path||"/";const x=X.path||"/";if(this._ignorePathCasing(H)){let Z=0;for(const T=Math.min(j.length,x.length);Z<T&&!(j.charCodeAt(Z)!==x.charCodeAt(Z)&&j.charAt(Z).toLowerCase()!==x.charAt(Z).toLowerCase());Z++);j=x.substr(0,Z)+j.substr(Z)}return O.KR.relative(j,x)}resolvePath(H,X){if(H.scheme===r.lg.file){const j=$.o.file(O.DB(M(H),X));return H.with({authority:j.authority,path:j.path})}return X=w.fn(X),H.with({path:O.KR.resolve(H.path,X)})}isAbsolutePath(H){return!!H.path&&H.path[0]==="/"}isEqualAuthority(H,X){return H===X||H!==void 0&&X!==void 0&&(0,D.qq)(H,X)}hasTrailingPathSeparator(H,X=O.ir){if(H.scheme===r.lg.file){const j=M(H);return j.length>w.yj(j).length&&j[j.length-1]===X}else{const j=H.path;return j.length>1&&j.charCodeAt(j.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(H.fsPath)}}removeTrailingPathSeparator(H,X=O.ir){return R(H,X)?H.with({path:H.path.substr(0,H.path.length-1)}):H}addTrailingPathSeparator(H,X=O.ir){let j=!1;if(H.scheme===r.lg.file){const x=M(H);j=x!==void 0&&x.length===w.yj(x).length&&x[x.length-1]===X}else{X="/";const x=H.path;j=x.length===1&&x.charCodeAt(x.length-1)===47}return!j&&!R(H,X)?H.with({path:H.path+"/"}):H}}const A=new P(()=>!1),L=new P(K=>K.scheme===r.lg.file?!V.IJ:!0),c=new P(K=>!0),p=A.isEqual.bind(A),l=A.isEqualOrParent.bind(A),n=A.getComparisonKey.bind(A),a=A.basenameOrAuthority.bind(A),g=A.basename.bind(A),f=A.extname.bind(A),u=A.dirname.bind(A),C=A.joinPath.bind(A),y=A.normalizePath.bind(A),b=A.relativePath.bind(A),_=A.resolvePath.bind(A),E=A.isAbsolutePath.bind(A),I=A.isEqualAuthority.bind(A),R=A.hasTrailingPathSeparator.bind(A),J=A.removeTrailingPathSeparator.bind(A),Q=A.addTrailingPathSeparator.bind(A);var U;(function(K){K.META_DATA_LABEL="label",K.META_DATA_DESCRIPTION="description",K.META_DATA_SIZE="size",K.META_DATA_MIME="mime";function H(X){const j=new Map;X.path.substring(X.path.indexOf(";")+1,X.path.lastIndexOf(";")).split(";").forEach(T=>{const[z,G]=T.split(":");z&&G&&j.set(z,G)});const Z=X.path.substring(0,X.path.indexOf(";"));return Z&&j.set(K.META_DATA_MIME,Z),j}K.parseMetaData=H})(U||(U={}))},76633:function(Ot,Te,i){"use strict";i.d(Te,{Rm:function(){return V}});var w=i(4669),r=i(9917);class O{constructor(p,l,n,a,g,f,u){this._forceIntegerValues=p,this._scrollStateBrand=void 0,this._forceIntegerValues&&(l=l|0,n=n|0,a=a|0,g=g|0,f=f|0,u=u|0),this.rawScrollLeft=a,this.rawScrollTop=u,l<0&&(l=0),a+l>n&&(a=n-l),a<0&&(a=0),g<0&&(g=0),u+g>f&&(u=f-g),u<0&&(u=0),this.width=l,this.scrollWidth=n,this.scrollLeft=a,this.height=g,this.scrollHeight=f,this.scrollTop=u}equals(p){return this.rawScrollLeft===p.rawScrollLeft&&this.rawScrollTop===p.rawScrollTop&&this.width===p.width&&this.scrollWidth===p.scrollWidth&&this.scrollLeft===p.scrollLeft&&this.height===p.height&&this.scrollHeight===p.scrollHeight&&this.scrollTop===p.scrollTop}withScrollDimensions(p,l){return new O(this._forceIntegerValues,typeof p.width<"u"?p.width:this.width,typeof p.scrollWidth<"u"?p.scrollWidth:this.scrollWidth,l?this.rawScrollLeft:this.scrollLeft,typeof p.height<"u"?p.height:this.height,typeof p.scrollHeight<"u"?p.scrollHeight:this.scrollHeight,l?this.rawScrollTop:this.scrollTop)}withScrollPosition(p){return new O(this._forceIntegerValues,this.width,this.scrollWidth,typeof p.scrollLeft<"u"?p.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof p.scrollTop<"u"?p.scrollTop:this.rawScrollTop)}createScrollEvent(p,l){const n=this.width!==p.width,a=this.scrollWidth!==p.scrollWidth,g=this.scrollLeft!==p.scrollLeft,f=this.height!==p.height,u=this.scrollHeight!==p.scrollHeight,C=this.scrollTop!==p.scrollTop;return{inSmoothScrolling:l,oldWidth:p.width,oldScrollWidth:p.scrollWidth,oldScrollLeft:p.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:p.height,oldScrollHeight:p.scrollHeight,oldScrollTop:p.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:n,scrollWidthChanged:a,scrollLeftChanged:g,heightChanged:f,scrollHeightChanged:u,scrollTopChanged:C}}}class V extends r.JT{constructor(p){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new w.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=p.smoothScrollDuration,this._scheduleAtNextAnimationFrame=p.scheduleAtNextAnimationFrame,this._state=new O(p.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(p){this._smoothScrollDuration=p}validateScrollPosition(p){return this._state.withScrollPosition(p)}getScrollDimensions(){return this._state}setScrollDimensions(p,l){var n;const a=this._state.withScrollDimensions(p,l);this._setState(a,Boolean(this._smoothScrolling)),(n=this._smoothScrolling)===null||n===void 0||n.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(p){const l=this._state.withScrollPosition(p);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(l,!1)}setScrollPositionSmooth(p,l){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(p);if(this._smoothScrolling){p={scrollLeft:typeof p.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:p.scrollLeft,scrollTop:typeof p.scrollTop>"u"?this._smoothScrolling.to.scrollTop:p.scrollTop};const n=this._state.withScrollPosition(p);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let a;l?a=new P(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):a=this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=a}else{const n=this._state.withScrollPosition(p);this._smoothScrolling=P.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const p=this._smoothScrolling.tick(),l=this._state.withScrollPosition(p);if(this._setState(l,!0),!!this._smoothScrolling){if(p.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(p,l){const n=this._state;n.equals(p)||(this._state=p,this._onScroll.fire(this._state.createScrollEvent(n,l)))}}class D{constructor(p,l,n){this.scrollLeft=p,this.scrollTop=l,this.isDone=n}}function $(c,p){const l=p-c;return function(n){return c+l*L(n)}}function M(c,p,l){return function(n){return n<l?c(n/l):p((n-l)/(1-l))}}class P{constructor(p,l,n,a){this.from=p,this.to=l,this.duration=a,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(p,l,n){if(Math.abs(p-l)>2.5*n){let g,f;return p<l?(g=p+.75*n,f=l-.75*n):(g=p-.75*n,f=l+.75*n),M($(p,g),$(f,l),.33)}return $(p,l)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(p){this.to=p.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(p){const l=(p-this.startTime)/this.duration;if(l<1){const n=this.scrollLeft(l),a=this.scrollTop(l);return new D(n,a,!1)}return new D(this.to.scrollLeft,this.to.scrollTop,!0)}combine(p,l,n){return P.start(p,l,n)}static start(p,l,n){n=n+10;const a=Date.now()-10;return new P(p,l,a,n)}}function A(c){return Math.pow(c,3)}function L(c){return 1-A(1-c)}},14603:function(Ot,Te,i){"use strict";var w=i(97295),r;(function(O){O[O.Ignore=0]="Ignore",O[O.Info=1]="Info",O[O.Warning=2]="Warning",O[O.Error=3]="Error"})(r||(r={})),function(O){const V="error",D="warning",$="warn",M="info",P="ignore";function A(c){return c?w.qq(V,c)?O.Error:w.qq(D,c)||w.qq($,c)?O.Warning:w.qq(M,c)?O.Info:O.Ignore:O.Ignore}O.fromValue=A;function L(c){switch(c){case O.Error:return V;case O.Warning:return D;case O.Info:return M;default:return P}}O.toString=L}(r||(r={})),Te.Z=r},84013:function(Ot,Te,i){"use strict";i.d(Te,{G:function(){return O}});var w=i(1432);const r=w.li.performance&&typeof w.li.performance.now=="function";class O{constructor(D){this._highResolution=r&&D,this._startTime=this._now(),this._stopTime=-1}static create(D=!0){return new O(D)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?w.li.performance.now():Date.now()}}},97295:function(Ot,Te,i){"use strict";i.d(Te,{$i:function(){return se},B4:function(){return Je},C8:function(){return Ee},GF:function(){return n},HO:function(){return he},IO:function(){return a},J_:function(){return Ce},K7:function(){return Se},Kw:function(){return le},LC:function(){return u},Mh:function(){return H},P1:function(){return X},PJ:function(){return ie},Qe:function(){return ne},R1:function(){return l},T5:function(){return R},TT:function(){return _},Ut:function(){return pe},V8:function(){return C},W1:function(){return re},WU:function(){return $},YK:function(){return x},YU:function(){return M},ZG:function(){return j},ZH:function(){return T},ZK:function(){return st},ab:function(){return oe},c1:function(){return Me},df:function(){return Q},ec:function(){return P},fy:function(){return A},j3:function(){return L},j_:function(){return I},m5:function(){return V},mK:function(){return J},mr:function(){return g},oH:function(){return at},oL:function(){return c},ok:function(){return K},ow:function(){return y},qq:function(){return U},qu:function(){return b},rL:function(){return Z},uS:function(){return ye},un:function(){return p},uq:function(){return f},vH:function(){return S},vU:function(){return et},zY:function(){return E}});var w=i(701),r=i(79579),O;function V(we){return!we||typeof we!="string"?!0:we.trim().length===0}const D=/{(\d+)}/g;function $(we,...Ne){return Ne.length===0?we:we.replace(D,function(de,Pe){const He=parseInt(Pe,10);return isNaN(He)||He<0||He>=Ne.length?de:Ne[He]})}function M(we){return we.replace(/[<>&]/g,function(Ne){switch(Ne){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return Ne}})}function P(we){return we.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function A(we,Ne=" "){const de=L(we,Ne);return c(de,Ne)}function L(we,Ne){if(!we||!Ne)return we;const de=Ne.length;if(de===0||we.length===0)return we;let Pe=0;for(;we.indexOf(Ne,Pe)===Pe;)Pe=Pe+de;return we.substring(Pe)}function c(we,Ne){if(!we||!Ne)return we;const de=Ne.length,Pe=we.length;if(de===0||Pe===0)return we;let He=Pe,$e=-1;for(;$e=we.lastIndexOf(Ne,He-1),!($e===-1||$e+de!==He);){if($e===0)return"";He=$e}return we.substring(0,He)}function p(we){return we.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function l(we){return we.replace(/\*/g,"")}function n(we,Ne,de={}){if(!we)throw new Error("Cannot create regex from empty string");Ne||(we=P(we)),de.wholeWord&&(/\B/.test(we.charAt(0))||(we="\\b"+we),/\B/.test(we.charAt(we.length-1))||(we=we+"\\b"));let Pe="";return de.global&&(Pe+="g"),de.matchCase||(Pe+="i"),de.multiline&&(Pe+="m"),de.unicode&&(Pe+="u"),new RegExp(we,Pe)}function a(we){return we.source==="^"||we.source==="^$"||we.source==="$"||we.source==="^\\s*$"?!1:!!(we.exec("")&&we.lastIndex===0)}function g(we){return(we.global?"g":"")+(we.ignoreCase?"i":"")+(we.multiline?"m":"")+(we.unicode?"u":"")}function f(we){return we.split(/\r\n|\r|\n/)}function u(we){for(let Ne=0,de=we.length;Ne<de;Ne++){const Pe=we.charCodeAt(Ne);if(Pe!==32&&Pe!==9)return Ne}return-1}function C(we,Ne=0,de=we.length){for(let Pe=Ne;Pe<de;Pe++){const He=we.charCodeAt(Pe);if(He!==32&&He!==9)return we.substring(Ne,Pe)}return we.substring(Ne,de)}function y(we,Ne=we.length-1){for(let de=Ne;de>=0;de--){const Pe=we.charCodeAt(de);if(Pe!==32&&Pe!==9)return de}return-1}function b(we,Ne){return we<Ne?-1:we>Ne?1:0}function _(we,Ne,de=0,Pe=we.length,He=0,$e=Ne.length){for(;de<Pe&&He<$e;de++,He++){const Ge=we.charCodeAt(de),ft=Ne.charCodeAt(He);if(Ge<ft)return-1;if(Ge>ft)return 1}const me=Pe-de,Ie=$e-He;return me<Ie?-1:me>Ie?1:0}function E(we,Ne){return I(we,Ne,0,we.length,0,Ne.length)}function I(we,Ne,de=0,Pe=we.length,He=0,$e=Ne.length){for(;de<Pe&&He<$e;de++,He++){let Ge=we.charCodeAt(de),ft=Ne.charCodeAt(He);if(Ge===ft)continue;if(Ge>=128||ft>=128)return _(we.toLowerCase(),Ne.toLowerCase(),de,Pe,He,$e);J(Ge)&&(Ge-=32),J(ft)&&(ft-=32);const ze=Ge-ft;if(ze!==0)return ze}const me=Pe-de,Ie=$e-He;return me<Ie?-1:me>Ie?1:0}function R(we){return we>=48&&we<=57}function J(we){return we>=97&&we<=122}function Q(we){return we>=65&&we<=90}function U(we,Ne){return we.length===Ne.length&&I(we,Ne)===0}function K(we,Ne){const de=Ne.length;return Ne.length>we.length?!1:I(we,Ne,0,de)===0}function H(we,Ne){const de=Math.min(we.length,Ne.length);let Pe;for(Pe=0;Pe<de;Pe++)if(we.charCodeAt(Pe)!==Ne.charCodeAt(Pe))return Pe;return de}function X(we,Ne){const de=Math.min(we.length,Ne.length);let Pe;const He=we.length-1,$e=Ne.length-1;for(Pe=0;Pe<de;Pe++)if(we.charCodeAt(He-Pe)!==Ne.charCodeAt($e-Pe))return Pe;return de}function j(we){return 55296<=we&&we<=56319}function x(we){return 56320<=we&&we<=57343}function Z(we,Ne){return(we-55296<<10)+(Ne-56320)+65536}function T(we,Ne,de){const Pe=we.charCodeAt(de);if(j(Pe)&&de+1<Ne){const He=we.charCodeAt(de+1);if(x(He))return Z(Pe,He)}return Pe}function z(we,Ne){const de=we.charCodeAt(Ne-1);if(x(de)&&Ne>1){const Pe=we.charCodeAt(Ne-2);if(j(Pe))return Z(Pe,de)}return de}class G{constructor(Ne,de=0){this._str=Ne,this._len=Ne.length,this._offset=de}get offset(){return this._offset}setOffset(Ne){this._offset=Ne}prevCodePoint(){const Ne=z(this._str,this._offset);return this._offset-=Ne>=65536?2:1,Ne}nextCodePoint(){const Ne=T(this._str,this._len,this._offset);return this._offset+=Ne>=65536?2:1,Ne}eol(){return this._offset>=this._len}}class re{constructor(Ne,de=0){this._iterator=new G(Ne,de)}get offset(){return this._iterator.offset}nextGraphemeLength(){const Ne=xe.getInstance(),de=this._iterator,Pe=de.offset;let He=Ne.getGraphemeBreakType(de.nextCodePoint());for(;!de.eol();){const $e=de.offset,me=Ne.getGraphemeBreakType(de.nextCodePoint());if(ve(He,me)){de.setOffset($e);break}He=me}return de.offset-Pe}prevGraphemeLength(){const Ne=xe.getInstance(),de=this._iterator,Pe=de.offset;let He=Ne.getGraphemeBreakType(de.prevCodePoint());for(;de.offset>0;){const $e=de.offset,me=Ne.getGraphemeBreakType(de.prevCodePoint());if(ve(me,He)){de.setOffset($e);break}He=me}return Pe-de.offset}eol(){return this._iterator.eol()}}function S(we,Ne){return new re(we,Ne).nextGraphemeLength()}function he(we,Ne){return new re(we,Ne).prevGraphemeLength()}function Ce(we,Ne){Ne>0&&x(we.charCodeAt(Ne))&&Ne--;const de=Ne+S(we,Ne);return[de-he(we,de),de]}const ge=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function pe(we){return ge.test(we)}const ee=/^[\t\n\r\x20-\x7E]*$/;function se(we){return ee.test(we)}const ne=/[\u2028\u2029]/;function oe(we){return ne.test(we)}function Se(we){return we>=11904&&we<=55215||we>=63744&&we<=64255||we>=65281&&we<=65374}function Ee(we){return we>=127462&&we<=127487||we===8986||we===8987||we===9200||we===9203||we>=9728&&we<=10175||we===11088||we===11093||we>=127744&&we<=128591||we>=128640&&we<=128764||we>=128992&&we<=129008||we>=129280&&we<=129535||we>=129648&&we<=129782}const Me=String.fromCharCode(65279);function ye(we){return!!(we&&we.length>0&&we.charCodeAt(0)===65279)}function le(we,Ne=!1){return we?(Ne&&(we=we.replace(/\\./g,"")),we.toLowerCase()!==we):!1}function ie(we){return we=we%(2*26),we<26?String.fromCharCode(97+we):String.fromCharCode(65+we-26)}function ve(we,Ne){return we===0?Ne!==5&&Ne!==7:we===2&&Ne===3?!1:we===4||we===2||we===3||Ne===4||Ne===2||Ne===3?!0:!(we===8&&(Ne===8||Ne===9||Ne===11||Ne===12)||(we===11||we===9)&&(Ne===9||Ne===10)||(we===12||we===10)&&Ne===10||Ne===5||Ne===13||Ne===7||we===1||we===13&&Ne===14||we===6&&Ne===6)}class xe{constructor(){this._data=Ye()}static getInstance(){return xe._INSTANCE||(xe._INSTANCE=new xe),xe._INSTANCE}getGraphemeBreakType(Ne){if(Ne<32)return Ne===10?3:Ne===13?2:4;if(Ne<127)return 0;const de=this._data,Pe=de.length/3;let He=1;for(;He<=Pe;)if(Ne<de[3*He])He=2*He;else if(Ne>de[3*He+1])He=2*He+1;else return de[3*He+2];return 0}}xe._INSTANCE=null;function Ye(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function at(we,Ne){if(we===0)return 0;const de=qe(we,Ne);if(de!==void 0)return de;const Pe=new G(Ne,we);return Pe.prevCodePoint(),Pe.offset}function qe(we,Ne){const de=new G(Ne,we);let Pe=de.prevCodePoint();for(;Re(Pe)||Pe===65039||Pe===8419;){if(de.offset===0)return;Pe=de.prevCodePoint()}if(!Ee(Pe))return;let He=de.offset;return He>0&&de.prevCodePoint()===8205&&(He=de.offset),He}function Re(we){return 127995<=we&&we<=127999}const Je="\xA0";class st{constructor(Ne){this.confusableDictionary=Ne}static getInstance(Ne){return st.cache.get(Array.from(Ne))}static getLocales(){return st._locales.getValue()}isAmbiguous(Ne){return this.confusableDictionary.has(Ne)}getPrimaryConfusable(Ne){return this.confusableDictionary.get(Ne)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}O=st,st.ambiguousCharacterData=new r.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),st.cache=new w.t(we=>{function Ne(ft){const ze=new Map;for(let mt=0;mt<ft.length;mt+=2)ze.set(ft[mt],ft[mt+1]);return ze}function de(ft,ze){const mt=new Map(ft);for(const[wt,Oe]of ze)mt.set(wt,Oe);return mt}function Pe(ft,ze){if(!ft)return ze;const mt=new Map;for(const[wt,Oe]of ft)ze.has(wt)&&mt.set(wt,Oe);return mt}const He=O.ambiguousCharacterData.getValue();let $e=we.filter(ft=>!ft.startsWith("_")&&ft in He);$e.length===0&&($e=["_default"]);let me;for(const ft of $e){const ze=Ne(He[ft]);me=Pe(me,ze)}const Ie=Ne(He._common),Ge=de(Ie,me);return new st(Ge)}),st._locales=new r.o(()=>Object.keys(st.ambiguousCharacterData.getValue()).filter(we=>!we.startsWith("_")));class et{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(et.getRawData())),this._data}static isInvisibleCharacter(Ne){return et.getData().has(Ne)}static get codePoints(){return et.getData()}}et._data=void 0},98401:function(Ot,Te,i){"use strict";i.d(Te,{$E:function(){return f},$K:function(){return A},D8:function(){return n},HD:function(){return r},IU:function(){return u},Jp:function(){return L},Kn:function(){return O},TW:function(){return $},cW:function(){return p},f6:function(){return C},fU:function(){return V},hj:function(){return D},jn:function(){return M},kJ:function(){return w},mf:function(){return l},o8:function(){return P},p_:function(){return c},vE:function(){return y}});function w(b){return Array.isArray(b)}function r(b){return typeof b=="string"}function O(b){return typeof b=="object"&&b!==null&&!Array.isArray(b)&&!(b instanceof RegExp)&&!(b instanceof Date)}function V(b){const _=Object.getPrototypeOf(Uint8Array);return typeof b=="object"&&b instanceof _}function D(b){return typeof b=="number"&&!isNaN(b)}function $(b){return!!b&&typeof b[Symbol.iterator]=="function"}function M(b){return b===!0||b===!1}function P(b){return typeof b>"u"}function A(b){return!L(b)}function L(b){return P(b)||b===null}function c(b,_){if(!b)throw new Error(_?`Unexpected type, expected '${_}'`:"Unexpected type")}function p(b){if(L(b))throw new Error("Assertion Failed: argument is undefined or null");return b}function l(b){return typeof b=="function"}function n(b,_){const E=Math.min(b.length,_.length);for(let I=0;I<E;I++)a(b[I],_[I])}function a(b,_){if(r(_)){if(typeof b!==_)throw new Error(`argument does not match constraint: typeof ${_}`)}else if(l(_)){try{if(b instanceof _)return}catch{}if(!L(b)&&b.constructor===_||_.length===1&&_.call(void 0,b)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function g(b){let _=[],E=Object.getPrototypeOf(b);for(;Object.prototype!==E;)_=_.concat(Object.getOwnPropertyNames(E)),E=Object.getPrototypeOf(E);return _}function f(b){const _=[];for(const E of g(b))typeof b[E]=="function"&&_.push(E);return _}function u(b,_){const E=R=>function(){const J=Array.prototype.slice.call(arguments,0);return _(R,J)},I={};for(const R of b)I[R]=E(R);return I}function C(b){return b===null?void 0:b}function y(b,_="Unreachable"){throw new Error(_)}},85427:function(Ot,Te,i){"use strict";i.d(Te,{A:function(){return r},K:function(){return w}});function w(O){return O<0?0:O>255?255:O|0}function r(O){return O<0?0:O>4294967295?4294967295:O|0}},70666:function(Ot,Te,i){"use strict";i.d(Te,{o:function(){return p},q:function(){return u}});var w=i(88721),r=i(1432);const O=/^\w[\w\d+.-]*$/,V=/^\//,D=/^\/\//;function $(E,I){if(!E.scheme&&I)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${E.authority}", path: "${E.path}", query: "${E.query}", fragment: "${E.fragment}"}`);if(E.scheme&&!O.test(E.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(E.path){if(E.authority){if(!V.test(E.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(D.test(E.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function M(E,I){return!E&&!I?"file":E}function P(E,I){switch(E){case"https":case"http":case"file":I?I[0]!==L&&(I=L+I):I=L;break}return I}const A="",L="/",c=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{constructor(I,R,J,Q,U,K=!1){typeof I=="object"?(this.scheme=I.scheme||A,this.authority=I.authority||A,this.path=I.path||A,this.query=I.query||A,this.fragment=I.fragment||A):(this.scheme=M(I,K),this.authority=R||A,this.path=P(this.scheme,J||A),this.query=Q||A,this.fragment=U||A,$(this,K))}static isUri(I){return I instanceof p?!0:I?typeof I.authority=="string"&&typeof I.fragment=="string"&&typeof I.path=="string"&&typeof I.query=="string"&&typeof I.scheme=="string"&&typeof I.fsPath=="string"&&typeof I.with=="function"&&typeof I.toString=="function":!1}get fsPath(){return u(this,!1)}with(I){if(!I)return this;let{scheme:R,authority:J,path:Q,query:U,fragment:K}=I;return R===void 0?R=this.scheme:R===null&&(R=A),J===void 0?J=this.authority:J===null&&(J=A),Q===void 0?Q=this.path:Q===null&&(Q=A),U===void 0?U=this.query:U===null&&(U=A),K===void 0?K=this.fragment:K===null&&(K=A),R===this.scheme&&J===this.authority&&Q===this.path&&U===this.query&&K===this.fragment?this:new n(R,J,Q,U,K)}static parse(I,R=!1){const J=c.exec(I);return J?new n(J[2]||A,_(J[4]||A),_(J[5]||A),_(J[7]||A),_(J[9]||A),R):new n(A,A,A,A,A)}static file(I){let R=A;if(r.ED&&(I=I.replace(/\\/g,L)),I[0]===L&&I[1]===L){const J=I.indexOf(L,2);J===-1?(R=I.substring(2),I=L):(R=I.substring(2,J),I=I.substring(J)||L)}return new n("file",R,I,A,A)}static from(I){const R=new n(I.scheme,I.authority,I.path,I.query,I.fragment);return $(R,!0),R}static joinPath(I,...R){if(!I.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let J;return r.ED&&I.scheme==="file"?J=p.file(w.Ku.join(u(I,!0),...R)).path:J=w.KR.join(I.path,...R),I.with({path:J})}toString(I=!1){return C(this,I)}toJSON(){return this}static revive(I){if(I){if(I instanceof p)return I;{const R=new n(I);return R._formatted=I.external,R._fsPath=I._sep===l?I.fsPath:null,R}}else return I}}const l=r.ED?1:void 0;class n extends p{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=u(this,!1)),this._fsPath}toString(I=!1){return I?C(this,!0):(this._formatted||(this._formatted=C(this,!1)),this._formatted)}toJSON(){const I={$mid:1};return this._fsPath&&(I.fsPath=this._fsPath,I._sep=l),this._formatted&&(I.external=this._formatted),this.path&&(I.path=this.path),this.scheme&&(I.scheme=this.scheme),this.authority&&(I.authority=this.authority),this.query&&(I.query=this.query),this.fragment&&(I.fragment=this.fragment),I}}const a={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function g(E,I){let R,J=-1;for(let Q=0;Q<E.length;Q++){const U=E.charCodeAt(Q);if(U>=97&&U<=122||U>=65&&U<=90||U>=48&&U<=57||U===45||U===46||U===95||U===126||I&&U===47)J!==-1&&(R+=encodeURIComponent(E.substring(J,Q)),J=-1),R!==void 0&&(R+=E.charAt(Q));else{R===void 0&&(R=E.substr(0,Q));const K=a[U];K!==void 0?(J!==-1&&(R+=encodeURIComponent(E.substring(J,Q)),J=-1),R+=K):J===-1&&(J=Q)}}return J!==-1&&(R+=encodeURIComponent(E.substring(J))),R!==void 0?R:E}function f(E){let I;for(let R=0;R<E.length;R++){const J=E.charCodeAt(R);J===35||J===63?(I===void 0&&(I=E.substr(0,R)),I+=a[J]):I!==void 0&&(I+=E[R])}return I!==void 0?I:E}function u(E,I){let R;return E.authority&&E.path.length>1&&E.scheme==="file"?R=`//${E.authority}${E.path}`:E.path.charCodeAt(0)===47&&(E.path.charCodeAt(1)>=65&&E.path.charCodeAt(1)<=90||E.path.charCodeAt(1)>=97&&E.path.charCodeAt(1)<=122)&&E.path.charCodeAt(2)===58?I?R=E.path.substr(1):R=E.path[1].toLowerCase()+E.path.substr(2):R=E.path,r.ED&&(R=R.replace(/\//g,"\\")),R}function C(E,I){const R=I?f:g;let J="",{scheme:Q,authority:U,path:K,query:H,fragment:X}=E;if(Q&&(J+=Q,J+=":"),(U||Q==="file")&&(J+=L,J+=L),U){let j=U.indexOf("@");if(j!==-1){const x=U.substr(0,j);U=U.substr(j+1),j=x.indexOf(":"),j===-1?J+=R(x,!1):(J+=R(x.substr(0,j),!1),J+=":",J+=R(x.substr(j+1),!1)),J+="@"}U=U.toLowerCase(),j=U.indexOf(":"),j===-1?J+=R(U,!1):(J+=R(U.substr(0,j),!1),J+=U.substr(j))}if(K){if(K.length>=3&&K.charCodeAt(0)===47&&K.charCodeAt(2)===58){const j=K.charCodeAt(1);j>=65&&j<=90&&(K=`/${String.fromCharCode(j+32)}:${K.substr(3)}`)}else if(K.length>=2&&K.charCodeAt(1)===58){const j=K.charCodeAt(0);j>=65&&j<=90&&(K=`${String.fromCharCode(j+32)}:${K.substr(2)}`)}J+=R(K,!0)}return H&&(J+="?",J+=R(H,!1)),X&&(J+="#",J+=I?X:g(X,!1)),J}function y(E){try{return decodeURIComponent(E)}catch{return E.length>3?E.substr(0,3)+y(E.substr(3)):E}}const b=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function _(E){return E.match(b)?E.replace(b,I=>y(I)):E}},98e3:function(Ot,Te,i){"use strict";i.d(Te,{R:function(){return w}});const w=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let r;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?r=crypto.getRandomValues.bind(crypto):r=function(D){for(let $=0;$<D.length;$++)D[$]=Math.floor(Math.random()*256);return D};const O=new Uint8Array(16),V=[];for(let D=0;D<256;D++)V.push(D.toString(16).padStart(2,"0"));return function(){r(O),O[6]=O[6]&15|64,O[8]=O[8]&63|128;let $=0,M="";return M+=V[O[$++]],M+=V[O[$++]],M+=V[O[$++]],M+=V[O[$++]],M+="-",M+=V[O[$++]],M+=V[O[$++]],M+="-",M+=V[O[$++]],M+=V[O[$++]],M+="-",M+=V[O[$++]],M+=V[O[$++]],M+="-",M+=V[O[$++]],M+=V[O[$++]],M+=V[O[$++]],M+=V[O[$++]],M+=V[O[$++]],M+=V[O[$++]],M}}()},67746:function(Ot,Te,i){"use strict";i.d(Te,{Jq:function(){return r},X5:function(){return w},jG:function(){return O}});const w={ctrlCmd:!1,alt:!1};var r;(function($){$[$.Blur=1]="Blur",$[$.Gesture=2]="Gesture",$[$.Other=3]="Other"})(r||(r={}));var O;(function($){$[$.NONE=0]="NONE",$[$.FIRST=1]="FIRST",$[$.SECOND=2]="SECOND",$[$.LAST=3]="LAST"})(O||(O={}));class V{constructor(M){this.options=M}}const D=new V},25552:function(Ot,Te,i){"use strict";i.d(Te,{H:function(){return l}});var w=i(26565);var r=Object.defineProperty,O=Object.getOwnPropertyDescriptor,V=Object.getOwnPropertyNames,D=Object.prototype.hasOwnProperty,$=(n,a,g,f)=>{if(a&&typeof a=="object"||typeof a=="function")for(let u of V(a))!D.call(n,u)&&u!==g&&r(n,u,{get:()=>a[u],enumerable:!(f=O(a,u))||f.enumerable});return n},M=(n,a,g)=>($(n,a,"default"),g&&$(g,a,"default")),P={};M(P,w);var A={},L={},c=class{static getOrCreate(n){return L[n]||(L[n]=new c(n)),L[n]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(n){this._languageId=n,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((a,g)=>{this._lazyLoadPromiseResolve=a,this._lazyLoadPromiseReject=g})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,A[this._languageId].loader().then(n=>this._lazyLoadPromiseResolve(n),n=>this._lazyLoadPromiseReject(n))),this._lazyLoadPromise}};async function p(n){await c.getOrCreate(n).load(),P.editor.createModel("",n).dispose()}function l(n){const a=n.id;A[a]=n,P.languages.register(n);const g=c.getOrCreate(a);P.languages.registerTokensProviderFactory(a,{create:async()=>(await g.load()).language}),P.languages.onLanguage(a,async()=>{const f=await g.load();P.languages.setLanguageConfiguration(a,f.conf)})}},16745:function(Ot,Te,i){"use strict";i.r(Te);var w=i(25552);(0,w.H)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>i.e(43).then(i.bind(i,17043))})},96337:function(Ot,Te,i){"use strict";i.r(Te);var w=i(25552);(0,w.H)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>i.e(778).then(i.bind(i,27778))})},88307:function(Ot,Te,i){"use strict";i.r(Te);var w=i(25552);(0,w.H)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>i.e(717).then(i.bind(i,96717))})},52136:function(Ot,Te,i){"use strict";i.d(Te,{N:function(){return r}});var w=i(38626);function r(O,V){O instanceof w.Z?(O.setFontFamily(V.getMassagedFontFamily()),O.setFontWeight(V.fontWeight),O.setFontSize(V.fontSize),O.setFontFeatureSettings(V.fontFeatureSettings),O.setLineHeight(V.lineHeight),O.setLetterSpacing(V.letterSpacing)):(O.style.fontFamily=V.getMassagedFontFamily(),O.style.fontWeight=V.fontWeight,O.style.fontSize=V.fontSize+"px",O.style.fontFeatureSettings=V.fontFeatureSettings,O.style.lineHeight=V.lineHeight+"px",O.style.letterSpacing=V.letterSpacing+"px")}},45476:function(Ot,Te,i){"use strict";i.d(Te,{I:function(){return O}});var w=i(9917),r=i(4669);class O extends w.JT{constructor(D,$){super(),this._onDidChange=this._register(new r.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=D,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,$)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(D=>{D&&D[0]&&D[0].contentRect?this.observe({width:D[0].contentRect.width,height:D[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(D){this.measureReferenceDomElement(!0,D)}measureReferenceDomElement(D,$){let M=0,P=0;$?(M=$.width,P=$.height):this._referenceDomElement&&(M=this._referenceDomElement.clientWidth,P=this._referenceDomElement.clientHeight),M=Math.max(5,M),P=Math.max(5,P),(this._width!==M||this._height!==P)&&(this._width=M,this._height=P,D&&this._onDidChange.fire())}}},27231:function(Ot,Te,i){"use strict";i.d(Te,{g:function(){return p}});var w=i(30747),r=i(4669),O=i(9917),V=i(52136);class D{constructor(n,a){this.chr=n,this.type=a,this.width=0}fulfill(n){this.width=n}}class ${constructor(n,a){this._bareFontInfo=n,this._requests=a,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const n=document.createElement("div");n.style.position="absolute",n.style.top="-50000px",n.style.width="50000px";const a=document.createElement("div");(0,V.N)(a,this._bareFontInfo),n.appendChild(a);const g=document.createElement("div");(0,V.N)(g,this._bareFontInfo),g.style.fontWeight="bold",n.appendChild(g);const f=document.createElement("div");(0,V.N)(f,this._bareFontInfo),f.style.fontStyle="italic",n.appendChild(f);const u=[];for(const C of this._requests){let y;C.type===0&&(y=a),C.type===2&&(y=g),C.type===1&&(y=f),y.appendChild(document.createElement("br"));const b=document.createElement("span");$._render(b,C),y.appendChild(b),u.push(b)}this._container=n,this._testElements=u}static _render(n,a){if(a.chr===" "){let g="\xA0";for(let f=0;f<8;f++)g+=g;n.innerText=g}else{let g=a.chr;for(let f=0;f<8;f++)g+=g;n.textContent=g}}_readFromDomElements(){for(let n=0,a=this._requests.length;n<a;n++){const g=this._requests[n],f=this._testElements[n];g.fulfill(f.offsetWidth/256)}}}function M(l,n){new $(l,n).read()}var P=i(64141),A=i(27374);class L extends O.JT{constructor(){super(),this._onDidChange=this._register(new r.Q5),this.onDidChange=this._onDidChange.event,this._cache=new c,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new c,this._onDidChange.fire()}_writeToCache(n,a){this._cache.put(n,a),!a.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const n=this._cache.getValues();let a=!1;for(const g of n)g.isTrusted||(a=!0,this._cache.remove(g));a&&this._onDidChange.fire()}readFontInfo(n){if(!this._cache.has(n)){let a=this._actualReadFontInfo(n);(a.typicalHalfwidthCharacterWidth<=2||a.typicalFullwidthCharacterWidth<=2||a.spaceWidth<=2||a.maxDigitWidth<=2)&&(a=new A.pR({pixelRatio:w.PixelRatio.value,fontFamily:a.fontFamily,fontWeight:a.fontWeight,fontSize:a.fontSize,fontFeatureSettings:a.fontFeatureSettings,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,isMonospace:a.isMonospace,typicalHalfwidthCharacterWidth:Math.max(a.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(a.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:a.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(a.spaceWidth,5),middotWidth:Math.max(a.middotWidth,5),wsmiddotWidth:Math.max(a.wsmiddotWidth,5),maxDigitWidth:Math.max(a.maxDigitWidth,5)},!1)),this._writeToCache(n,a)}return this._cache.get(n)}_createRequest(n,a,g,f){const u=new D(n,a);return g.push(u),f==null||f.push(u),u}_actualReadFontInfo(n){const a=[],g=[],f=this._createRequest("n",0,a,g),u=this._createRequest("\uFF4D",0,a,null),C=this._createRequest(" ",0,a,g),y=this._createRequest("0",0,a,g),b=this._createRequest("1",0,a,g),_=this._createRequest("2",0,a,g),E=this._createRequest("3",0,a,g),I=this._createRequest("4",0,a,g),R=this._createRequest("5",0,a,g),J=this._createRequest("6",0,a,g),Q=this._createRequest("7",0,a,g),U=this._createRequest("8",0,a,g),K=this._createRequest("9",0,a,g),H=this._createRequest("\u2192",0,a,g),X=this._createRequest("\uFFEB",0,a,null),j=this._createRequest("\xB7",0,a,g),x=this._createRequest(String.fromCharCode(11825),0,a,null),Z="|/-_ilm%";for(let S=0,he=Z.length;S<he;S++)this._createRequest(Z.charAt(S),0,a,g),this._createRequest(Z.charAt(S),1,a,g),this._createRequest(Z.charAt(S),2,a,g);M(n,a);const T=Math.max(y.width,b.width,_.width,E.width,I.width,R.width,J.width,Q.width,U.width,K.width);let z=n.fontFeatureSettings===P.n0.OFF;const G=g[0].width;for(let S=1,he=g.length;z&&S<he;S++){const Ce=G-g[S].width;if(Ce<-.001||Ce>.001){z=!1;break}}let re=!0;return z&&X.width!==G&&(re=!1),X.width>H.width&&(re=!1),new A.pR({pixelRatio:w.PixelRatio.value,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:z,typicalHalfwidthCharacterWidth:f.width,typicalFullwidthCharacterWidth:u.width,canUseHalfwidthRightwardsArrow:re,spaceWidth:C.width,middotWidth:j.width,wsmiddotWidth:x.width,maxDigitWidth:T},!0)}}class c{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(n){const a=n.getId();return!!this._values[a]}get(n){const a=n.getId();return this._values[a]}put(n,a){const g=n.getId();this._keys[g]=n,this._values[g]=a}remove(n){const a=n.getId();delete this._keys[a],delete this._values[a]}getValues(){return Object.keys(this._keys).map(n=>this._values[n])}}const p=new L},37940:function(Ot,Te,i){"use strict";i.d(Te,{n:function(){return O}});var w=i(4669);class r{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new w.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(D){this._tabFocus!==D&&(this._tabFocus=D,this._onDidChangeTabFocus.fire(this._tabFocus))}}const O=new r},35715:function(Ot,Te,i){"use strict";i.d(Te,{Fz:function(){return a},Nl:function(){return l},RA:function(){return p},Tj:function(){return f},pd:function(){return c}});var w=i(30747),r=i(65321),O=i(59069),V=i(15393),D=i(4669),$=i(9917),M=i(81170),P=i(97295),A=i(15887),L=i(3860),c;(function(u){u.Tap="-monaco-textarea-synthetic-tap"})(c||(c={}));const p={forceCopyWithSyntaxHighlighting:!1};class l{constructor(){this._lastState=null}set(C,y){this._lastState={lastCopiedValue:C,data:y}}get(C){return this._lastState&&this._lastState.lastCopiedValue===C?this._lastState.data:(this._lastState=null,null)}}l.INSTANCE=new l;class n{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(C){C=C||"";const y={text:C,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=C.length,y}}class a extends $.JT{constructor(C,y,b,_){super(),this._host=C,this._textArea=y,this._OS=b,this._browser=_,this._onFocus=this._register(new D.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new D.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new D.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new D.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new D.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new D.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new D.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new D.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new D.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new D.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new D.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new V.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new V.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=A.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let E=null;this._register(this._textArea.onKeyDown(I=>{const R=new O.y(I);(R.keyCode===109||this._currentComposition&&R.keyCode===1)&&R.stopPropagation(),R.equals(9)&&R.preventDefault(),E=R,this._onKeyDown.fire(R)})),this._register(this._textArea.onKeyUp(I=>{const R=new O.y(I);this._onKeyUp.fire(R)})),this._register(this._textArea.onCompositionStart(I=>{A.al&&console.log("[compositionstart]",I);const R=new n;if(this._currentComposition){this._currentComposition=R;return}if(this._currentComposition=R,this._OS===2&&E&&E.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===I.data&&(E.code==="ArrowRight"||E.code==="ArrowLeft")){A.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",I),R.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:I.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:I.data});return}this._onCompositionStart.fire({data:I.data})})),this._register(this._textArea.onCompositionUpdate(I=>{A.al&&console.log("[compositionupdate]",I);const R=this._currentComposition;if(!R)return;if(this._browser.isAndroid){const Q=A.un.readFromTextArea(this._textArea),U=A.un.deduceAndroidCompositionInput(this._textAreaState,Q);this._textAreaState=Q,this._onType.fire(U),this._onCompositionUpdate.fire(I);return}const J=R.handleCompositionUpdate(I.data);this._textAreaState=A.un.readFromTextArea(this._textArea),this._onType.fire(J),this._onCompositionUpdate.fire(I)})),this._register(this._textArea.onCompositionEnd(I=>{A.al&&console.log("[compositionend]",I);const R=this._currentComposition;if(!R)return;if(this._currentComposition=null,this._browser.isAndroid){const Q=A.un.readFromTextArea(this._textArea),U=A.un.deduceAndroidCompositionInput(this._textAreaState,Q);this._textAreaState=Q,this._onType.fire(U),this._onCompositionEnd.fire();return}const J=R.handleCompositionUpdate(I.data);this._textAreaState=A.un.readFromTextArea(this._textArea),this._onType.fire(J),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(I=>{if(A.al&&console.log("[input]",I),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const R=A.un.readFromTextArea(this._textArea),J=A.un.deduceInput(this._textAreaState,R,this._OS===2);J.replacePrevCharCnt===0&&J.text.length===1&&P.ZG(J.text.charCodeAt(0))||(this._textAreaState=R,(J.text!==""||J.replacePrevCharCnt!==0||J.replaceNextCharCnt!==0||J.positionDelta!==0)&&this._onType.fire(J))})),this._register(this._textArea.onCut(I=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(I),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(I=>{this._ensureClipboardGetsEditorSelection(I)})),this._register(this._textArea.onPaste(I=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),I.preventDefault(),!I.clipboardData)return;let[R,J]=g.getTextData(I.clipboardData);!R||(J=J||l.INSTANCE.get(R),this._onPaste.fire({text:R,metadata:J}))})),this._register(this._textArea.onFocus(()=>{const I=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!I&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let C=0;return r.nm(document,"selectionchange",y=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const b=Date.now(),_=b-C;if(C=b,_<5)return;const E=b-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),E<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const I=this._textArea.getValue();if(this._textAreaState.value!==I)return;const R=this._textArea.getSelectionStart(),J=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===R&&this._textAreaState.selectionEnd===J)return;const Q=this._textAreaState.deduceEditorPosition(R),U=this._host.deduceModelPosition(Q[0],Q[1],Q[2]),K=this._textAreaState.deduceEditorPosition(J),H=this._host.deduceModelPosition(K[0],K[1],K[2]),X=new L.Y(U.lineNumber,U.column,H.lineNumber,H.column);this._onSelectionChangeRequest.fire(X)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(C){this._hasFocus!==C&&(this._hasFocus=C,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(C,y){this._hasFocus||(y=y.collapseSelection()),y.writeToTextArea(C,this._textArea,this._hasFocus),this._textAreaState=y}writeScreenReaderContent(C){this._currentComposition||this._setAndWriteTextAreaState(C,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(C){const y=this._host.getDataToCopy(),b={version:1,isFromEmptySelection:y.isFromEmptySelection,multicursorText:y.multicursorText,mode:y.mode};l.INSTANCE.set(this._browser.isFirefox?y.text.replace(/\r\n/g,`
`):y.text,b),C.preventDefault(),C.clipboardData&&g.setTextData(C.clipboardData,y.text,y.html,b)}}class g{static getTextData(C){const y=C.getData(M.v.text);let b=null;const _=C.getData("vscode-editor-data");if(typeof _=="string")try{b=JSON.parse(_),b.version!==1&&(b=null)}catch{}return y.length===0&&b===null&&C.files.length>0?[Array.prototype.slice.call(C.files,0).map(I=>I.name).join(`
`),null]:[y,b]}static setTextData(C,y,b,_){C.setData(M.v.text,y),typeof b=="string"&&C.setData("text/html",b),C.setData("vscode-editor-data",JSON.stringify(_))}}class f extends $.JT{constructor(C){super(),this._actual=C,this.onKeyDown=this._register(r.IC(this._actual,"keydown")).event,this.onKeyUp=this._register(r.IC(this._actual,"keyup")).event,this.onCompositionStart=this._register(r.IC(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(r.IC(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(r.IC(this._actual,"compositionend")).event,this.onInput=this._register(r.IC(this._actual,"input")).event,this.onCut=this._register(r.IC(this._actual,"cut")).event,this.onCopy=this._register(r.IC(this._actual,"copy")).event,this.onPaste=this._register(r.IC(this._actual,"paste")).event,this.onFocus=this._register(r.IC(this._actual,"focus")).event,this.onBlur=this._register(r.IC(this._actual,"blur")).event,this._onSyntheticTap=this._register(new D.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(r.nm(this._actual,c.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const C=r.Ay(this._actual);return C?C.activeElement===this._actual:r.Uw(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(C){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(C,y){const b=this._actual;b.value!==y&&(this.setIgnoreSelectionChangeTime("setValue"),b.value=y)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(C,y,b){const _=this._actual;let E=null;const I=r.Ay(_);I?E=I.activeElement:E=document.activeElement;const R=E===_,J=_.selectionStart,Q=_.selectionEnd;if(R&&J===y&&Q===b){w.isFirefox&&window.parent!==window&&_.focus();return}if(R){this.setIgnoreSelectionChangeTime("setSelectionRange"),_.setSelectionRange(y,b),w.isFirefox&&window.parent!==window&&_.focus();return}try{const U=r.vL(_);this.setIgnoreSelectionChangeTime("setSelectionRange"),_.focus(),_.setSelectionRange(y,b),r._0(_,U)}catch{}}}},15887:function(Ot,Te,i){"use strict";i.d(Te,{al:function(){return V},ee:function(){return $},un:function(){return D}});var w=i(97295),r=i(50187),O=i(24314);const V=!1;class D{constructor(P,A,L,c,p){this.value=P,this.selectionStart=A,this.selectionEnd=L,this.selectionStartPosition=c,this.selectionEndPosition=p}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(P){return new D(P.getValue(),P.getSelectionStart(),P.getSelectionEnd(),null,null)}collapseSelection(){return new D(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(P,A,L){V&&console.log(`writeToTextArea ${P}: ${this.toString()}`),A.setValue(P,this.value),L&&A.setSelectionRange(P,this.selectionStart,this.selectionEnd)}deduceEditorPosition(P){if(P<=this.selectionStart){const c=this.value.substring(P,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,c,-1)}if(P>=this.selectionEnd){const c=this.value.substring(this.selectionEnd,P);return this._finishDeduceEditorPosition(this.selectionEndPosition,c,1)}const A=this.value.substring(this.selectionStart,P);if(A.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,A,1);const L=this.value.substring(P,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,L,-1)}_finishDeduceEditorPosition(P,A,L){let c=0,p=-1;for(;(p=A.indexOf(`
`,p+1))!==-1;)c++;return[P,L*A.length,c]}static deduceInput(P,A,L){if(!P)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};V&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${P.toString()}`),console.log(`CURRENT STATE: ${A.toString()}`));const c=Math.min(w.Mh(P.value,A.value),P.selectionStart,A.selectionStart),p=Math.min(w.P1(P.value,A.value),P.value.length-P.selectionEnd,A.value.length-A.selectionEnd),l=P.value.substring(c,P.value.length-p),n=A.value.substring(c,A.value.length-p),a=P.selectionStart-c,g=P.selectionEnd-c,f=A.selectionStart-c,u=A.selectionEnd-c;if(V&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${l}>, selectionStart: ${a}, selectionEnd: ${g}`),console.log(`AFTER DIFFING CURRENT STATE: <${n}>, selectionStart: ${f}, selectionEnd: ${u}`)),f===u){const y=P.selectionStart-c;return V&&console.log(`REMOVE PREVIOUS: ${y} chars`),{text:n,replacePrevCharCnt:y,replaceNextCharCnt:0,positionDelta:0}}const C=g-a;return{text:n,replacePrevCharCnt:C,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(P,A){if(!P)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(V&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${P.toString()}`),console.log(`CURRENT STATE: ${A.toString()}`)),P.value===A.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:A.selectionEnd-P.selectionEnd};const L=Math.min(w.Mh(P.value,A.value),P.selectionEnd),c=Math.min(w.P1(P.value,A.value),P.value.length-P.selectionEnd),p=P.value.substring(L,P.value.length-c),l=A.value.substring(L,A.value.length-c),n=P.selectionStart-L,a=P.selectionEnd-L,g=A.selectionStart-L,f=A.selectionEnd-L;return V&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${p}>, selectionStart: ${n}, selectionEnd: ${a}`),console.log(`AFTER DIFFING CURRENT STATE: <${l}>, selectionStart: ${g}, selectionEnd: ${f}`)),{text:l,replacePrevCharCnt:a,replaceNextCharCnt:p.length-a,positionDelta:f-l.length}}}D.EMPTY=new D("",0,0,null,null);class ${static _getPageOfLine(P,A){return Math.floor((P-1)/A)}static _getRangeForPage(P,A){const L=P*A,c=L+1,p=L+A;return new O.e(c,1,p+1,1)}static fromEditorSelection(P,A,L,c,p){const l=$._getPageOfLine(L.startLineNumber,c),n=$._getRangeForPage(l,c),a=$._getPageOfLine(L.endLineNumber,c),g=$._getRangeForPage(a,c),f=n.intersectRanges(new O.e(1,1,L.startLineNumber,L.startColumn));let u=A.getValueInRange(f,1);const C=A.getLineCount(),y=A.getLineMaxColumn(C),b=g.intersectRanges(new O.e(L.endLineNumber,L.endColumn,C,y));let _=A.getValueInRange(b,1),E;if(l===a||l+1===a)E=A.getValueInRange(L,1);else{const I=n.intersectRanges(L),R=g.intersectRanges(L);E=A.getValueInRange(I,1)+String.fromCharCode(8230)+A.getValueInRange(R,1)}return p&&(u.length>500&&(u=u.substring(u.length-500,u.length)),_.length>500&&(_=_.substring(0,500)),E.length>2*500&&(E=E.substring(0,500)+String.fromCharCode(8230)+E.substring(E.length-500,E.length))),new D(u+E+_,u.length,u.length+E.length,new r.L(L.startLineNumber,L.startColumn),new r.L(L.endLineNumber,L.endColumn))}}},69317:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{CoreEditingCommands:function(){return J},CoreEditorCommand:function(){return u},CoreNavigationCommands:function(){return _},EditorScroll_:function(){return C},RevealLine_:function(){return y}});var w=i(63580),r=i(30747),O=i(98401),V=i(57924),D=i(16830),$=i(11640),M=i(55343),P=i(50187),A=i(24314);class L{static columnSelect(H,X,j,x,Z,T){const z=Math.abs(Z-j)+1,G=j>Z,re=x>T,S=x<T,he=[];for(let Ce=0;Ce<z;Ce++){const ge=j+(G?-Ce:Ce),pe=H.columnFromVisibleColumn(X,ge,x),ee=H.columnFromVisibleColumn(X,ge,T),se=H.visibleColumnFromColumn(X,new P.L(ge,pe)),ne=H.visibleColumnFromColumn(X,new P.L(ge,ee));S&&(se>T||ne<x)||re&&(ne>x||se<T)||he.push(new M.rS(new A.e(ge,pe,ge,pe),0,new P.L(ge,ee),0))}if(he.length===0)for(let Ce=0;Ce<z;Ce++){const ge=j+(G?-Ce:Ce),pe=X.getLineMaxColumn(ge);he.push(new M.rS(new A.e(ge,pe,ge,pe),0,new P.L(ge,pe),0))}return{viewStates:he,reversed:G,fromLineNumber:j,fromVisualColumn:x,toLineNumber:Z,toVisualColumn:T}}static columnSelectLeft(H,X,j){let x=j.toViewVisualColumn;return x>0&&x--,L.columnSelect(H,X,j.fromViewLineNumber,j.fromViewVisualColumn,j.toViewLineNumber,x)}static columnSelectRight(H,X,j){let x=0;const Z=Math.min(j.fromViewLineNumber,j.toViewLineNumber),T=Math.max(j.fromViewLineNumber,j.toViewLineNumber);for(let G=Z;G<=T;G++){const re=X.getLineMaxColumn(G),S=H.visibleColumnFromColumn(X,new P.L(G,re));x=Math.max(x,S)}let z=j.toViewVisualColumn;return z<x&&z++,this.columnSelect(H,X,j.fromViewLineNumber,j.fromViewVisualColumn,j.toViewLineNumber,z)}static columnSelectUp(H,X,j,x){const Z=x?H.pageSize:1,T=Math.max(1,j.toViewLineNumber-Z);return this.columnSelect(H,X,j.fromViewLineNumber,j.fromViewVisualColumn,T,j.toViewVisualColumn)}static columnSelectDown(H,X,j,x){const Z=x?H.pageSize:1,T=Math.min(X.getLineCount(),j.toViewLineNumber+Z);return this.columnSelect(H,X,j.fromViewLineNumber,j.fromViewVisualColumn,T,j.toViewVisualColumn)}}var c=i(29436),p=i(28108),l=i(51336),n=i(29102),a=i(16141),g=i(49989);const f=0;class u extends D._l{runEditorCommand(H,X,j){const x=X._getViewModel();!x||this.runCoreEditorCommand(x,j||{})}}var C;(function(K){const H=function(j){if(!O.Kn(j))return!1;const x=j;return!(!O.HD(x.to)||!O.o8(x.by)&&!O.HD(x.by)||!O.o8(x.value)&&!O.hj(x.value)||!O.o8(x.revealCursor)&&!O.jn(x.revealCursor))};K.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:H,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},K.RawDirection={Up:"up",Down:"down"},K.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor"};function X(j){let x;switch(j.to){case K.RawDirection.Up:x=1;break;case K.RawDirection.Down:x=2;break;default:return null}let Z;switch(j.by){case K.RawUnit.Line:Z=1;break;case K.RawUnit.WrappedLine:Z=2;break;case K.RawUnit.Page:Z=3;break;case K.RawUnit.HalfPage:Z=4;break;case K.RawUnit.Editor:Z=5;break;default:Z=2}const T=Math.floor(j.value||1),z=!!j.revealCursor;return{direction:x,unit:Z,value:T,revealCursor:z,select:!!j.select}}K.parse=X})(C||(C={}));var y;(function(K){const H=function(X){if(!O.Kn(X))return!1;const j=X;return!(!O.hj(j.lineNumber)&&!O.HD(j.lineNumber)||!O.o8(j.at)&&!O.HD(j.at))};K.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:H,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},K.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(y||(y={}));class b{constructor(H){H.addImplementation(1e4,"code-editor",(X,j)=>{const x=X.get($.$).getFocusedCodeEditor();return x&&x.hasTextFocus()?this._runEditorCommand(X,x,j):!1}),H.addImplementation(1e3,"generic-dom-input-textarea",(X,j)=>{const x=document.activeElement;return x&&["input","textarea"].indexOf(x.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),H.addImplementation(0,"generic-dom",(X,j)=>{const x=X.get($.$).getActiveCodeEditor();return x?(x.focus(),this._runEditorCommand(X,x,j)):!1})}_runEditorCommand(H,X,j){const x=this.runEditorCommand(H,X,j);return x||!0}}var _;(function(K){class H extends u{constructor(oe){super(oe),this._minimalReveal=oe.minimalReveal,this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,Se){oe.model.pushStackElement(),oe.setCursorStates(Se.source,3,[p.P.moveTo(oe,oe.getPrimaryCursorState(),this._inSelectionMode,Se.position,Se.viewPosition)])&&oe.revealPrimaryCursor(Se.source,!0,this._minimalReveal)}}K.MoveTo=(0,D.fK)(new H({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),K.MoveToSelect=(0,D.fK)(new H({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class X extends u{runCoreEditorCommand(oe,Se){oe.model.pushStackElement();const Ee=this._getColumnSelectResult(oe,oe.getPrimaryCursorState(),oe.getCursorColumnSelectData(),Se);oe.setCursorStates(Se.source,3,Ee.viewStates.map(Me=>M.Vi.fromViewState(Me))),oe.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:Ee.fromLineNumber,fromViewVisualColumn:Ee.fromVisualColumn,toViewLineNumber:Ee.toLineNumber,toViewVisualColumn:Ee.toVisualColumn}),Ee.reversed?oe.revealTopMostCursor(Se.source):oe.revealBottomMostCursor(Se.source)}}K.ColumnSelect=(0,D.fK)(new class extends X{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(ne,oe,Se,Ee){const Me=ne.model.validatePosition(Ee.position),ye=ne.coordinatesConverter.validateViewPosition(new P.L(Ee.viewPosition.lineNumber,Ee.viewPosition.column),Me),le=Ee.doColumnSelect?Se.fromViewLineNumber:ye.lineNumber,ie=Ee.doColumnSelect?Se.fromViewVisualColumn:Ee.mouseColumn-1;return L.columnSelect(ne.cursorConfig,ne,le,ie,ye.lineNumber,Ee.mouseColumn-1)}}),K.CursorColumnSelectLeft=(0,D.fK)(new class extends X{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(ne,oe,Se,Ee){return L.columnSelectLeft(ne.cursorConfig,ne,Se)}}),K.CursorColumnSelectRight=(0,D.fK)(new class extends X{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(ne,oe,Se,Ee){return L.columnSelectRight(ne.cursorConfig,ne,Se)}});class j extends X{constructor(oe){super(oe),this._isPaged=oe.isPaged}_getColumnSelectResult(oe,Se,Ee,Me){return L.columnSelectUp(oe.cursorConfig,oe,Ee,this._isPaged)}}K.CursorColumnSelectUp=(0,D.fK)(new j({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:3600,linux:{primary:0}}})),K.CursorColumnSelectPageUp=(0,D.fK)(new j({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:3595,linux:{primary:0}}}));class x extends X{constructor(oe){super(oe),this._isPaged=oe.isPaged}_getColumnSelectResult(oe,Se,Ee,Me){return L.columnSelectDown(oe.cursorConfig,oe,Ee,this._isPaged)}}K.CursorColumnSelectDown=(0,D.fK)(new x({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:3602,linux:{primary:0}}})),K.CursorColumnSelectPageDown=(0,D.fK)(new x({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:3596,linux:{primary:0}}}));class Z extends u{constructor(){super({id:"cursorMove",precondition:void 0,description:p.N.description})}runCoreEditorCommand(oe,Se){const Ee=p.N.parse(Se);!Ee||this._runCursorMove(oe,Se.source,Ee)}_runCursorMove(oe,Se,Ee){oe.model.pushStackElement(),oe.setCursorStates(Se,3,Z._move(oe,oe.getCursorStates(),Ee)),oe.revealPrimaryCursor(Se,!0)}static _move(oe,Se,Ee){const Me=Ee.select,ye=Ee.value;switch(Ee.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return p.P.simpleMove(oe,Se,Ee.direction,Me,ye,Ee.unit);case 11:case 13:case 12:case 14:return p.P.viewportMove(oe,Se,Ee.direction,Me,ye);default:return null}}}K.CursorMoveImpl=Z,K.CursorMove=(0,D.fK)(new Z);class T extends u{constructor(oe){super(oe),this._staticArgs=oe.args}runCoreEditorCommand(oe,Se){let Ee=this._staticArgs;this._staticArgs.value===-1&&(Ee={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:Se.pageSize||oe.cursorConfig.pageSize}),oe.model.pushStackElement(),oe.setCursorStates(Se.source,3,p.P.simpleMove(oe,oe.getCursorStates(),Ee.direction,Ee.select,Ee.value,Ee.unit)),oe.revealPrimaryCursor(Se.source,!0)}}K.CursorLeft=(0,D.fK)(new T({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),K.CursorLeftSelect=(0,D.fK)(new T({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:1039}})),K.CursorRight=(0,D.fK)(new T({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),K.CursorRightSelect=(0,D.fK)(new T({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:1041}})),K.CursorUp=(0,D.fK)(new T({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),K.CursorUpSelect=(0,D.fK)(new T({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),K.CursorPageUp=(0,D.fK)(new T({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:11}})),K.CursorPageUpSelect=(0,D.fK)(new T({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:1035}})),K.CursorDown=(0,D.fK)(new T({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),K.CursorDownSelect=(0,D.fK)(new T({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),K.CursorPageDown=(0,D.fK)(new T({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:12}})),K.CursorPageDownSelect=(0,D.fK)(new T({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:1036}})),K.CreateCursor=(0,D.fK)(new class extends u{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(ne,oe){let Se;oe.wholeLine?Se=p.P.line(ne,ne.getPrimaryCursorState(),!1,oe.position,oe.viewPosition):Se=p.P.moveTo(ne,ne.getPrimaryCursorState(),!1,oe.position,oe.viewPosition);const Ee=ne.getCursorStates();if(Ee.length>1){const Me=Se.modelState?Se.modelState.position:null,ye=Se.viewState?Se.viewState.position:null;for(let le=0,ie=Ee.length;le<ie;le++){const ve=Ee[le];if(!(Me&&!ve.modelState.selection.containsPosition(Me))&&!(ye&&!ve.viewState.selection.containsPosition(ye))){Ee.splice(le,1),ne.model.pushStackElement(),ne.setCursorStates(oe.source,3,Ee);return}}}Ee.push(Se),ne.model.pushStackElement(),ne.setCursorStates(oe.source,3,Ee)}}),K.LastCursorMoveToSelect=(0,D.fK)(new class extends u{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(ne,oe){const Se=ne.getLastAddedCursorIndex(),Ee=ne.getCursorStates(),Me=Ee.slice(0);Me[Se]=p.P.moveTo(ne,Ee[Se],!0,oe.position,oe.viewPosition),ne.model.pushStackElement(),ne.setCursorStates(oe.source,3,Me)}});class z extends u{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,Se){oe.model.pushStackElement(),oe.setCursorStates(Se.source,3,p.P.moveToBeginningOfLine(oe,oe.getCursorStates(),this._inSelectionMode)),oe.revealPrimaryCursor(Se.source,!0)}}K.CursorHome=(0,D.fK)(new z({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),K.CursorHomeSelect=(0,D.fK)(new z({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class G extends u{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,Se){oe.model.pushStackElement(),oe.setCursorStates(Se.source,3,this._exec(oe.getCursorStates())),oe.revealPrimaryCursor(Se.source,!0)}_exec(oe){const Se=[];for(let Ee=0,Me=oe.length;Ee<Me;Ee++){const ye=oe[Ee],le=ye.modelState.position.lineNumber;Se[Ee]=M.Vi.fromModelState(ye.modelState.move(this._inSelectionMode,le,1,0))}return Se}}K.CursorLineStart=(0,D.fK)(new G({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:287}}})),K.CursorLineStartSelect=(0,D.fK)(new G({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:1311}}}));class re extends u{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,Se){oe.model.pushStackElement(),oe.setCursorStates(Se.source,3,p.P.moveToEndOfLine(oe,oe.getCursorStates(),this._inSelectionMode,Se.sticky||!1)),oe.revealPrimaryCursor(Se.source,!0)}}K.CursorEnd=(0,D.fK)(new re({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:f,kbExpr:n.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:w.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),K.CursorEndSelect=(0,D.fK)(new re({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:f,kbExpr:n.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:w.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class S extends u{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,Se){oe.model.pushStackElement(),oe.setCursorStates(Se.source,3,this._exec(oe,oe.getCursorStates())),oe.revealPrimaryCursor(Se.source,!0)}_exec(oe,Se){const Ee=[];for(let Me=0,ye=Se.length;Me<ye;Me++){const le=Se[Me],ie=le.modelState.position.lineNumber,ve=oe.model.getLineMaxColumn(ie);Ee[Me]=M.Vi.fromModelState(le.modelState.move(this._inSelectionMode,ie,ve,0))}return Ee}}K.CursorLineEnd=(0,D.fK)(new S({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:291}}})),K.CursorLineEndSelect=(0,D.fK)(new S({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:1315}}}));class he extends u{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,Se){oe.model.pushStackElement(),oe.setCursorStates(Se.source,3,p.P.moveToBeginningOfBuffer(oe,oe.getCursorStates(),this._inSelectionMode)),oe.revealPrimaryCursor(Se.source,!0)}}K.CursorTop=(0,D.fK)(new he({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:2062,mac:{primary:2064}}})),K.CursorTopSelect=(0,D.fK)(new he({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class Ce extends u{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,Se){oe.model.pushStackElement(),oe.setCursorStates(Se.source,3,p.P.moveToEndOfBuffer(oe,oe.getCursorStates(),this._inSelectionMode)),oe.revealPrimaryCursor(Se.source,!0)}}K.CursorBottom=(0,D.fK)(new Ce({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:2061,mac:{primary:2066}}})),K.CursorBottomSelect=(0,D.fK)(new Ce({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class ge extends u{constructor(){super({id:"editorScroll",precondition:void 0,description:C.description})}runCoreEditorCommand(oe,Se){const Ee=C.parse(Se);!Ee||this._runEditorScroll(oe,Se.source,Ee)}_runEditorScroll(oe,Se,Ee){const Me=this._computeDesiredScrollTop(oe,Ee);if(Ee.revealCursor){const ye=oe.getCompletelyVisibleViewRangeAtScrollTop(Me);oe.setCursorStates(Se,3,[p.P.findPositionInViewportIfOutside(oe,oe.getPrimaryCursorState(),ye,Ee.select)])}oe.viewLayout.setScrollPosition({scrollTop:Me},0)}_computeDesiredScrollTop(oe,Se){if(Se.unit===1){const ye=oe.getCompletelyVisibleViewRange(),le=oe.coordinatesConverter.convertViewRangeToModelRange(ye);let ie;Se.direction===1?ie=Math.max(1,le.startLineNumber-Se.value):ie=Math.min(oe.model.getLineCount(),le.startLineNumber+Se.value);const ve=oe.coordinatesConverter.convertModelPositionToViewPosition(new P.L(ie,1));return oe.viewLayout.getVerticalOffsetForLineNumber(ve.lineNumber)}if(Se.unit===5){let ye=0;return Se.direction===2&&(ye=oe.model.getLineCount()-oe.cursorConfig.pageSize),oe.viewLayout.getVerticalOffsetForLineNumber(ye)}let Ee;Se.unit===3?Ee=oe.cursorConfig.pageSize*Se.value:Se.unit===4?Ee=Math.round(oe.cursorConfig.pageSize/2)*Se.value:Ee=Se.value;const Me=(Se.direction===1?-1:1)*Ee;return oe.viewLayout.getCurrentScrollTop()+Me*oe.cursorConfig.lineHeight}}K.EditorScrollImpl=ge,K.EditorScroll=(0,D.fK)(new ge),K.ScrollLineUp=(0,D.fK)(new class extends u{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(ne,oe){K.EditorScroll._runEditorScroll(ne,oe.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),K.ScrollPageUp=(0,D.fK)(new class extends u{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(ne,oe){K.EditorScroll._runEditorScroll(ne,oe.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),K.ScrollEditorTop=(0,D.fK)(new class extends u{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus}})}runCoreEditorCommand(ne,oe){K.EditorScroll._runEditorScroll(ne,oe.source,{direction:1,unit:5,value:1,revealCursor:!1,select:!1})}}),K.ScrollLineDown=(0,D.fK)(new class extends u{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(ne,oe){K.EditorScroll._runEditorScroll(ne,oe.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),K.ScrollPageDown=(0,D.fK)(new class extends u{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(ne,oe){K.EditorScroll._runEditorScroll(ne,oe.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}}),K.ScrollEditorBottom=(0,D.fK)(new class extends u{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus}})}runCoreEditorCommand(ne,oe){K.EditorScroll._runEditorScroll(ne,oe.source,{direction:2,unit:5,value:1,revealCursor:!1,select:!1})}});class pe extends u{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,Se){oe.model.pushStackElement(),oe.setCursorStates(Se.source,3,[p.P.word(oe,oe.getPrimaryCursorState(),this._inSelectionMode,Se.position)]),oe.revealPrimaryCursor(Se.source,!0)}}K.WordSelect=(0,D.fK)(new pe({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),K.WordSelectDrag=(0,D.fK)(new pe({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),K.LastCursorWordSelect=(0,D.fK)(new class extends u{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(ne,oe){const Se=ne.getLastAddedCursorIndex(),Ee=ne.getCursorStates(),Me=Ee.slice(0),ye=Ee[Se];Me[Se]=p.P.word(ne,ye,ye.modelState.hasSelection(),oe.position),ne.model.pushStackElement(),ne.setCursorStates(oe.source,3,Me)}});class ee extends u{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,Se){oe.model.pushStackElement(),oe.setCursorStates(Se.source,3,[p.P.line(oe,oe.getPrimaryCursorState(),this._inSelectionMode,Se.position,Se.viewPosition)]),oe.revealPrimaryCursor(Se.source,!1)}}K.LineSelect=(0,D.fK)(new ee({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),K.LineSelectDrag=(0,D.fK)(new ee({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class se extends u{constructor(oe){super(oe),this._inSelectionMode=oe.inSelectionMode}runCoreEditorCommand(oe,Se){const Ee=oe.getLastAddedCursorIndex(),Me=oe.getCursorStates(),ye=Me.slice(0);ye[Ee]=p.P.line(oe,Me[Ee],this._inSelectionMode,Se.position,Se.viewPosition),oe.model.pushStackElement(),oe.setCursorStates(Se.source,3,ye)}}K.LastCursorLineSelect=(0,D.fK)(new se({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),K.LastCursorLineSelectDrag=(0,D.fK)(new se({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),K.CancelSelection=(0,D.fK)(new class extends u{constructor(){super({id:"cancelSelection",precondition:n.u.hasNonEmptySelection,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(ne,oe){ne.model.pushStackElement(),ne.setCursorStates(oe.source,3,[p.P.cancelSelection(ne,ne.getPrimaryCursorState())]),ne.revealPrimaryCursor(oe.source,!0)}}),K.RemoveSecondaryCursors=(0,D.fK)(new class extends u{constructor(){super({id:"removeSecondaryCursors",precondition:n.u.hasMultipleSelections,kbOpts:{weight:f+1,kbExpr:n.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(ne,oe){ne.model.pushStackElement(),ne.setCursorStates(oe.source,3,[ne.getPrimaryCursorState()]),ne.revealPrimaryCursor(oe.source,!0),(0,V.i7)(w.NC("removedCursor","Removed secondary cursors"))}}),K.RevealLine=(0,D.fK)(new class extends u{constructor(){super({id:"revealLine",precondition:void 0,description:y.description})}runCoreEditorCommand(ne,oe){const Se=oe,Ee=Se.lineNumber||0;let Me=typeof Ee=="number"?Ee+1:parseInt(Ee)+1;Me<1&&(Me=1);const ye=ne.model.getLineCount();Me>ye&&(Me=ye);const le=new A.e(Me,1,Me,ne.model.getLineMaxColumn(Me));let ie=0;if(Se.at)switch(Se.at){case y.RawAtArgument.Top:ie=3;break;case y.RawAtArgument.Center:ie=1;break;case y.RawAtArgument.Bottom:ie=4;break;default:break}const ve=ne.coordinatesConverter.convertModelRangeToViewRange(le);ne.revealRange(oe.source,!1,ve,ie,0)}}),K.SelectAll=new class extends b{constructor(){super(D.Sq)}runDOMCommand(){r.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(ne,oe,Se){const Ee=oe._getViewModel();!Ee||this.runCoreEditorCommand(Ee,Se)}runCoreEditorCommand(ne,oe){ne.model.pushStackElement(),ne.setCursorStates("keyboard",3,[p.P.selectAll(ne,ne.getPrimaryCursorState())])}},K.SetSelection=(0,D.fK)(new class extends u{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(ne,oe){ne.model.pushStackElement(),ne.setCursorStates(oe.source,3,[M.Vi.fromModelSelection(oe.selection)])}})})(_||(_={}));const E=a.Ao.and(n.u.textInputFocus,n.u.columnSelection);function I(K,H){g.W.registerKeybindingRule({id:K,primary:H,when:E,weight:f+1})}I(_.CursorColumnSelectLeft.id,1039),I(_.CursorColumnSelectRight.id,1041),I(_.CursorColumnSelectUp.id,1040),I(_.CursorColumnSelectPageUp.id,1035),I(_.CursorColumnSelectDown.id,1042),I(_.CursorColumnSelectPageDown.id,1036);function R(K){return K.register(),K}var J;(function(K){class H extends D._l{runEditorCommand(j,x,Z){const T=x._getViewModel();!T||this.runCoreEditingCommand(x,T,Z||{})}}K.CoreEditingCommand=H,K.LineBreakInsert=(0,D.fK)(new class extends H{constructor(){super({id:"lineBreakInsert",precondition:n.u.writable,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(X,j,x){X.pushUndoStop(),X.executeCommands(this.id,l.u6.lineBreakInsert(j.cursorConfig,j.model,j.getCursorStates().map(Z=>Z.modelState.selection)))}}),K.Outdent=(0,D.fK)(new class extends H{constructor(){super({id:"outdent",precondition:n.u.writable,kbOpts:{weight:f,kbExpr:a.Ao.and(n.u.editorTextFocus,n.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(X,j,x){X.pushUndoStop(),X.executeCommands(this.id,l.u6.outdent(j.cursorConfig,j.model,j.getCursorStates().map(Z=>Z.modelState.selection))),X.pushUndoStop()}}),K.Tab=(0,D.fK)(new class extends H{constructor(){super({id:"tab",precondition:n.u.writable,kbOpts:{weight:f,kbExpr:a.Ao.and(n.u.editorTextFocus,n.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(X,j,x){X.pushUndoStop(),X.executeCommands(this.id,l.u6.tab(j.cursorConfig,j.model,j.getCursorStates().map(Z=>Z.modelState.selection))),X.pushUndoStop()}}),K.DeleteLeft=(0,D.fK)(new class extends H{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(X,j,x){const[Z,T]=c.A.deleteLeft(j.getPrevEditOperationType(),j.cursorConfig,j.model,j.getCursorStates().map(z=>z.modelState.selection),j.getCursorAutoClosedCharacters());Z&&X.pushUndoStop(),X.executeCommands(this.id,T),j.setPrevEditOperationType(2)}}),K.DeleteRight=(0,D.fK)(new class extends H{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:f,kbExpr:n.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(X,j,x){const[Z,T]=c.A.deleteRight(j.getPrevEditOperationType(),j.cursorConfig,j.model,j.getCursorStates().map(z=>z.modelState.selection));Z&&X.pushUndoStop(),X.executeCommands(this.id,T),j.setPrevEditOperationType(3)}}),K.Undo=new class extends b{constructor(){super(D.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(X,j,x){if(!(!j.hasModel()||j.getOption(83)===!0))return j.getModel().undo()}},K.Redo=new class extends b{constructor(){super(D.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(X,j,x){if(!(!j.hasModel()||j.getOption(83)===!0))return j.getModel().redo()}}})(J||(J={}));class Q extends D.mY{constructor(H,X,j){super({id:H,precondition:void 0,description:j}),this._handlerId=X}runCommand(H,X){const j=H.get($.$).getFocusedCodeEditor();!j||j.trigger("keyboard",this._handlerId,X)}}function U(K,H){R(new Q("default:"+K,K)),R(new Q(K,K,H))}U("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),U("replacePreviousChar"),U("compositionType"),U("compositionStart"),U("compositionEnd"),U("paste"),U("cut")},49889:function(Ot,Te,i){"use strict";i.d(Te,{Z0:function(){return C},dR:function(){return u},Bo:function(){return a}});var w=i(23547),r=i(9488),O=i(73278),V=i(81170),D=i(70666),$=i(23897),M=i(50988),P=i(89872);const A={EDITORS:"CodeEditors",FILES:"CodeFiles"};function L(y){var b;const _=[];if(y.dataTransfer&&y.dataTransfer.types.length>0){const E=y.dataTransfer.getData(A.EDITORS);if(E)try{_.push(...(0,$.Q)(E))}catch{}else try{const J=y.dataTransfer.getData(w.g.RESOURCES);_.push(...c(J))}catch{}if(!((b=y.dataTransfer)===null||b===void 0)&&b.files)for(let J=0;J<y.dataTransfer.files.length;J++){const Q=y.dataTransfer.files[J];if(Q&&Q.path)try{_.push({resource:D.o.file(Q.path),isExternal:!0,allowWorkspaceOpen:!0})}catch{}}const I=y.dataTransfer.getData(A.FILES);if(I)try{const J=JSON.parse(I);for(const Q of J)_.push({resource:D.o.file(Q),isExternal:!0,allowWorkspaceOpen:!0})}catch{}const R=P.B.as(l.DragAndDropContribution).getAll();for(const J of R){const Q=y.dataTransfer.getData(J.dataFormatKey);if(Q)try{_.push(...J.getEditorInputs(Q))}catch{}}}return _}function c(y){const b=[];if(y){const _=JSON.parse(y);for(const E of _)if(E.indexOf(":")>0){const{selection:I,uri:R}=(0,M.xI)(D.o.parse(E));b.push({resource:R,options:{selection:I}})}}return b}class p{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}}const l={DragAndDropContribution:"workbench.contributions.dragAndDrop"};P.B.add(l.DragAndDropContribution,new p);var n=function(y,b,_,E){function I(R){return R instanceof _?R:new _(function(J){J(R)})}return new(_||(_=Promise))(function(R,J){function Q(H){try{K(E.next(H))}catch(X){J(X)}}function U(H){try{K(E.throw(H))}catch(X){J(X)}}function K(H){H.done?R(H.value):I(H.value).then(Q,U)}K((E=E.apply(y,b||[])).next())})};function a(y){const b=new O.Hl;for(const _ of y.items){const E=_.type;if(_.kind==="string"){const I=new Promise(R=>_.getAsString(R));b.append(E,(0,O.ZO)(I))}else if(_.kind==="file"){const I=_.getAsFile();I&&b.append(E,g(I))}}return b}function g(y){const b=y.path?D.o.parse(y.path):void 0;return(0,O.Ix)(y.name,b,()=>n(this,void 0,void 0,function*(){return new Uint8Array(yield y.arrayBuffer())}))}const f=Object.freeze([A.EDITORS,A.FILES,w.g.RESOURCES]);function u(y,b,_=!1){var E;if(b.dataTransfer&&(_||!y.has(V.v.uriList))){const I=L(b).filter(R=>R.resource).map(R=>R.resource.toString());for(const R of(E=b.dataTransfer)===null||E===void 0?void 0:E.items){const J=R.getAsFile();J&&I.push(J.path?D.o.file(J.path).toString():J.name)}I.length&&y.replace(V.v.uriList,(0,O.ZO)(C.create(I)))}for(const I of f)y.delete(I)}const C=Object.freeze({create:y=>(0,r.EB)(y.map(b=>b.toString())).join(`\r
`),parse:y=>y.split(`\r
`).filter(b=>!b.startsWith("#"))})},65520:function(Ot,Te,i){"use strict";i.d(Te,{CL:function(){return r},Pi:function(){return V},QI:function(){return O}});var w=i(96518);function r(D){return D&&typeof D.getEditorType=="function"?D.getEditorType()===w.g.ICodeEditor:!1}function O(D){return D&&typeof D.getEditorType=="function"?D.getEditorType()===w.g.IDiffEditor:!1}function V(D){return r(D)?D:O(D)?D.getModifiedEditor():null}},29994:function(Ot,Te,i){"use strict";i.d(Te,{AL:function(){return g},N5:function(){return n},Pp:function(){return p},YN:function(){return M},gy:function(){return l},kG:function(){return c},rU:function(){return P},t7:function(){return f},tC:function(){return a}});var w=i(65321),r=i(93911),O=i(7448),V=i(15393),D=i(9917),$=i(73910);class M{constructor(b,_){this.x=b,this.y=_,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new P(this.x-w.DI.scrollX,this.y-w.DI.scrollY)}}class P{constructor(b,_){this.clientX=b,this.clientY=_,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new M(this.clientX+w.DI.scrollX,this.clientY+w.DI.scrollY)}}class A{constructor(b,_,E,I){this.x=b,this.y=_,this.width=E,this.height=I,this._editorPagePositionBrand=void 0}}class L{constructor(b,_){this.x=b,this.y=_,this._positionRelativeToEditorBrand=void 0}}function c(y){const b=w.i(y);return new A(b.left,b.top,b.width,b.height)}function p(y,b,_){const E=b.width/y.offsetWidth,I=b.height/y.offsetHeight,R=(_.x-b.x)/E,J=(_.y-b.y)/I;return new L(R,J)}class l extends O.n{constructor(b,_,E){super(b),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=_,this.pos=new M(this.posx,this.posy),this.editorPos=c(E),this.relativePos=p(E,this.editorPos,this.pos)}}class n{constructor(b){this._editorViewDomNode=b}_create(b){return new l(b,!1,this._editorViewDomNode)}onContextMenu(b,_){return w.nm(b,"contextmenu",E=>{_(this._create(E))})}onMouseUp(b,_){return w.nm(b,"mouseup",E=>{_(this._create(E))})}onMouseDown(b,_){return w.nm(b,w.tw.MOUSE_DOWN,E=>{_(this._create(E))})}onPointerDown(b,_){return w.nm(b,w.tw.POINTER_DOWN,E=>{_(this._create(E),E.pointerId)})}onMouseLeave(b,_){return w.nm(b,w.tw.MOUSE_LEAVE,E=>{_(this._create(E))})}onMouseMove(b,_){return w.nm(b,"mousemove",E=>_(this._create(E)))}}class a{constructor(b){this._editorViewDomNode=b}_create(b){return new l(b,!1,this._editorViewDomNode)}onPointerUp(b,_){return w.nm(b,"pointerup",E=>{_(this._create(E))})}onPointerDown(b,_){return w.nm(b,w.tw.POINTER_DOWN,E=>{_(this._create(E),E.pointerId)})}onPointerLeave(b,_){return w.nm(b,w.tw.POINTER_LEAVE,E=>{_(this._create(E))})}onPointerMove(b,_){return w.nm(b,"pointermove",E=>_(this._create(E)))}}class g extends D.JT{constructor(b){super(),this._editorViewDomNode=b,this._globalPointerMoveMonitor=this._register(new r.C),this._keydownListener=null}startMonitoring(b,_,E,I,R){this._keydownListener=w.mu(document,"keydown",J=>{J.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,J.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(b,_,E,J=>{I(new l(J,!0,this._editorViewDomNode))},J=>{this._keydownListener.dispose(),R(J)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class f{constructor(b){this._editor=b,this._instanceId=++f._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new V.pY(()=>this.garbageCollect(),1e3)}createClassNameRef(b){const _=this.getOrCreateRule(b);return _.increaseRefCount(),{className:_.className,dispose:()=>{_.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(b){const _=this.computeUniqueKey(b);let E=this._rules.get(_);if(!E){const I=this._counter++;E=new u(_,`dyn-rule-${this._instanceId}-${I}`,w.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,b),this._rules.set(_,E)}return E}computeUniqueKey(b){return JSON.stringify(b)}garbageCollect(){for(const b of this._rules.values())b.hasReferences()||(this._rules.delete(b.key),b.dispose())}}f._idPool=0;class u{constructor(b,_,E,I){this.key=b,this.className=_,this.properties=I,this._referenceCount=0,this._styleElement=w.dS(E),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(b,_){let E=`.${b} {`;for(const I in _){const R=_[I];let J;typeof R=="object"?J=`var(${(0,$.QO2)(R.id)})`:J=R,E+=`
	${C(I)}: ${J};`}return E+=`
}`,E}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function C(y){return y.replace(/(^[A-Z])/,([b])=>b.toLowerCase()).replace(/([A-Z])/g,([b])=>`-${b.toLowerCase()}`)}},16830:function(Ot,Te,i){"use strict";i.d(Te,{AJ:function(){return f},QG:function(){return J},Qr:function(){return I},R6:function(){return y},Sq:function(){return Z},Uc:function(){return U},_K:function(){return Q},_l:function(){return C},fK:function(){return E},jY:function(){return b},kz:function(){return x},mY:function(){return g},n_:function(){return j},rn:function(){return R},sb:function(){return _}});var w=i(63580),r=i(70666),O=i(11640),V=i(50187),D=i(73733),$=i(88216),M=i(84144),P=i(94565),A=i(16141),L=i(72065),c=i(49989),p=i(89872),l=i(10829),n=i(98401),a=i(43557);class g{constructor(z){this.id=z.id,this.precondition=z.precondition,this._kbOpts=z.kbOpts,this._menuOpts=z.menuOpts,this._description=z.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const z=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const G of z){let re=G.kbExpr;this.precondition&&(re?re=A.Ao.and(re,this.precondition):re=this.precondition);const S={id:this.id,weight:G.weight,args:G.args,when:re,primary:G.primary,secondary:G.secondary,win:G.win,linux:G.linux,mac:G.mac};c.W.registerKeybindingRule(S)}}P.P0.registerCommand({id:this.id,handler:(z,G)=>this.runCommand(z,G),description:this._description})}_registerMenuItem(z){M.BH.appendMenuItem(z.menuId,{group:z.group,command:{id:this.id,title:z.title,icon:z.icon,precondition:this.precondition},when:z.when,order:z.order})}}class f extends g{constructor(){super(...arguments),this._implementations=[]}addImplementation(z,G,re){return this._implementations.push({priority:z,name:G,implementation:re}),this._implementations.sort((S,he)=>he.priority-S.priority),{dispose:()=>{for(let S=0;S<this._implementations.length;S++)if(this._implementations[S].implementation===re){this._implementations.splice(S,1);return}}}}runCommand(z,G){const re=z.get(a.VZ);re.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const S of this._implementations){const he=S.implementation(z,G);if(he)return re.trace(`Command '${this.id}' was handled by '${S.name}'.`),typeof he=="boolean"?void 0:he}re.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class u extends g{constructor(z,G){super(G),this.command=z}runCommand(z,G){return this.command.runCommand(z,G)}}class C extends g{static bindToContribution(z){return class extends C{constructor(re){super(re),this._callback=re.handler}runEditorCommand(re,S,he){const Ce=z(S);Ce&&this._callback(Ce,he)}}}runCommand(z,G){const re=z.get(O.$),S=re.getFocusedCodeEditor()||re.getActiveCodeEditor();if(!!S)return S.invokeWithinContext(he=>{if(!!he.get(A.i6).contextMatchesRules((0,n.f6)(this.precondition)))return this.runEditorCommand(he,S,G)})}}class y extends C{constructor(z){super(y.convertOptions(z)),this.label=z.label,this.alias=z.alias}static convertOptions(z){let G;Array.isArray(z.menuOpts)?G=z.menuOpts:z.menuOpts?G=[z.menuOpts]:G=[];function re(S){return S.menuId||(S.menuId=M.eH.EditorContext),S.title||(S.title=z.label),S.when=A.Ao.and(z.precondition,S.when),S}return Array.isArray(z.contextMenuOpts)?G.push(...z.contextMenuOpts.map(re)):z.contextMenuOpts&&G.push(re(z.contextMenuOpts)),z.menuOpts=G,z}runEditorCommand(z,G,re){return this.reportTelemetry(z,G),this.run(z,G,re||{})}reportTelemetry(z,G){z.get(l.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class b extends y{constructor(){super(...arguments),this._implementations=[]}addImplementation(z,G){return this._implementations.push([z,G]),this._implementations.sort((re,S)=>S[0]-re[0]),{dispose:()=>{for(let re=0;re<this._implementations.length;re++)if(this._implementations[re][1]===G){this._implementations.splice(re,1);return}}}}run(z,G,re){for(const S of this._implementations){const he=S[1](z,G,re);if(he)return typeof he=="boolean"?void 0:he}}}function _(T,z){P.P0.registerCommand(T,function(G,...re){const S=G.get(L.TG),[he,Ce]=re;(0,n.p_)(r.o.isUri(he)),(0,n.p_)(V.L.isIPosition(Ce));const ge=G.get(D.q).getModel(he);if(ge){const pe=V.L.lift(Ce);return S.invokeFunction(z,ge,pe,...re.slice(2))}return G.get($.S).createModelReference(he).then(pe=>new Promise((ee,se)=>{try{const ne=S.invokeFunction(z,pe.object.textEditorModel,V.L.lift(Ce),re.slice(2));ee(ne)}catch(ne){se(ne)}}).finally(()=>{pe.dispose()}))})}function E(T){return H.INSTANCE.registerEditorCommand(T),T}function I(T){const z=new T;return H.INSTANCE.registerEditorAction(z),z}function R(T){return H.INSTANCE.registerEditorAction(T),T}function J(T){H.INSTANCE.registerEditorAction(T)}function Q(T,z){H.INSTANCE.registerEditorContribution(T,z)}var U;(function(T){function z(Ce){return H.INSTANCE.getEditorCommand(Ce)}T.getEditorCommand=z;function G(){return H.INSTANCE.getEditorActions()}T.getEditorActions=G;function re(){return H.INSTANCE.getEditorContributions()}T.getEditorContributions=re;function S(Ce){return H.INSTANCE.getEditorContributions().filter(ge=>Ce.indexOf(ge.id)>=0)}T.getSomeEditorContributions=S;function he(){return H.INSTANCE.getDiffEditorContributions()}T.getDiffEditorContributions=he})(U||(U={}));const K={EditorCommonContributions:"editor.contributions"};class H{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(z,G){this.editorContributions.push({id:z,ctor:G})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(z){z.register(),this.editorActions.push(z)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(z){z.register(),this.editorCommands[z.id]=z}getEditorCommand(z){return this.editorCommands[z]||null}}H.INSTANCE=new H,p.B.add(K.EditorCommonContributions,H.INSTANCE);function X(T){return T.register(),T}const j=X(new f({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:M.eH.MenubarEditMenu,group:"1_do",title:w.NC({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:M.eH.CommandPalette,group:"",title:w.NC("undo","Undo"),order:1}]}));X(new u(j,{id:"default:undo",precondition:void 0}));const x=X(new f({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:M.eH.MenubarEditMenu,group:"1_do",title:w.NC({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:M.eH.CommandPalette,group:"",title:w.NC("redo","Redo"),order:1}]}));X(new u(x,{id:"default:redo",precondition:void 0}));const Z=X(new f({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:M.eH.MenubarSelectionMenu,group:"1_basic",title:w.NC({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:M.eH.CommandPalette,group:"",title:w.NC("selectAll","Select All"),order:1}]}))},66007:function(Ot,Te,i){"use strict";i.d(Te,{Gl:function(){return $},fo:function(){return D},vu:function(){return V}});var w=i(72065),r=i(70666),O=i(98401);const V=(0,w.yh)("IWorkspaceEditService");class D{constructor(A){this.metadata=A}static convert(A){return A.edits.map(L=>{if($.is(L))return $.lift(L);if(M.is(L))return M.lift(L);throw new Error("Unsupported edit")})}}class $ extends D{constructor(A,L,c=void 0,p){super(p),this.resource=A,this.textEdit=L,this.versionId=c}static is(A){return A instanceof $?!0:(0,O.Kn)(A)&&r.o.isUri(A.resource)&&(0,O.Kn)(A.textEdit)}static lift(A){return A instanceof $?A:new $(A.resource,A.textEdit,A.versionId,A.metadata)}}class M extends D{constructor(A,L,c={},p){super(p),this.oldResource=A,this.newResource=L,this.options=c}static is(A){return A instanceof M?!0:(0,O.Kn)(A)&&(Boolean(A.newResource)||Boolean(A.oldResource))}static lift(A){return A instanceof M?A:new M(A.oldResource,A.newResource,A.options,A.metadata)}}},11640:function(Ot,Te,i){"use strict";i.d(Te,{$:function(){return r}});var w=i(72065);const r=(0,w.yh)("codeEditorService")},43407:function(Ot,Te,i){"use strict";i.d(Te,{Z:function(){return w}});class w{constructor(O,V,D){this._visiblePosition=O,this._visiblePositionScrollDelta=V,this._cursorPosition=D}static capture(O){let V=null,D=0;if(O.getScrollTop()!==0){const $=O.getVisibleRanges();if($.length>0){V=$[0].getStartPosition();const M=O.getTopForPosition(V.lineNumber,V.column);D=O.getScrollTop()-M}}return new w(V,D,O.getPosition())}restore(O){if(this._visiblePosition){const V=O.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);O.setScrollTop(V+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(O){const V=O.getPosition();if(!this._cursorPosition||!V)return;const D=O.getTopForLineNumber(V.lineNumber)-O.getTopForLineNumber(this._cursorPosition.lineNumber);O.setScrollTop(O.getScrollTop()+D)}}},87493:function(Ot,Te,i){"use strict";i.d(Te,{Gm:function(){return Po}});var w=i(36357),r=i(16830),O=function(yt,e,o,v){var B=arguments.length,Y=B<3?e:v===null?v=Object.getOwnPropertyDescriptor(e,o):v,ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(yt,e,o,v);else for(var De=yt.length-1;De>=0;De--)(ce=yt[De])&&(Y=(B<3?ce(Y):B>3?ce(e,o,Y):ce(e,o))||Y);return B>3&&Y&&Object.defineProperty(e,o,Y),Y},V=function(yt,e){return function(o,v){e(o,v,yt)}};let D=class{constructor(e,o){}dispose(){}};D.ID="editor.contrib.markerDecorations",D=O([V(1,w.i)],D),(0,r._K)(D.ID,D);var $=i(63580),M=i(65321),P=i(17301),A=i(4669),L=i(9917),c=i(66663),p=i(30747),l=i(9488),n=i(36248),a=i(1432),g=i(45476),f=i(27231);class u{constructor(e,o){this.key=e,this.migrate=o}apply(e){const o=u._read(e,this.key),v=Y=>u._read(e,Y),B=(Y,ce)=>u._write(e,Y,ce);this.migrate(o,v,B)}static _read(e,o){if(typeof e>"u")return;const v=o.indexOf(".");if(v>=0){const B=o.substring(0,v);return this._read(e[B],o.substring(v+1))}return e[o]}static _write(e,o,v){const B=o.indexOf(".");if(B>=0){const Y=o.substring(0,B);e[Y]=e[Y]||{},this._write(e[Y],o.substring(B+1),v);return}e[o]=v}}u.items=[];function C(yt,e){u.items.push(new u(yt,e))}function y(yt,e){C(yt,(o,v,B)=>{if(typeof o<"u"){for(const[Y,ce]of e)if(o===Y){B(yt,ce);return}}})}function b(yt){u.items.forEach(e=>e.apply(yt))}y("wordWrap",[[!0,"on"],[!1,"off"]]),y("lineNumbers",[[!0,"on"],[!1,"off"]]),y("cursorBlinking",[["visible","solid"]]),y("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),y("renderLineHighlight",[[!0,"line"],[!1,"none"]]),y("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),y("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),y("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),y("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),y("autoIndent",[[!1,"advanced"],[!0,"full"]]),y("matchBrackets",[[!0,"always"],[!1,"never"]]),C("autoClosingBrackets",(yt,e,o)=>{yt===!1&&(o("autoClosingBrackets","never"),typeof e("autoClosingQuotes")>"u"&&o("autoClosingQuotes","never"),typeof e("autoSurround")>"u"&&o("autoSurround","never"))}),C("renderIndentGuides",(yt,e,o)=>{typeof yt<"u"&&(o("renderIndentGuides",void 0),typeof e("guides.indentation")>"u"&&o("guides.indentation",!!yt))}),C("highlightActiveIndentGuide",(yt,e,o)=>{typeof yt<"u"&&(o("highlightActiveIndentGuide",void 0),typeof e("guides.highlightActiveIndentation")>"u"&&o("guides.highlightActiveIndentation",!!yt))});const _={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};C("suggest.filteredTypes",(yt,e,o)=>{if(yt&&typeof yt=="object"){for(const v of Object.entries(_))yt[v[0]]===!1&&typeof e(`suggest.${v[1]}`)>"u"&&o(`suggest.${v[1]}`,!1);o("suggest.filteredTypes",void 0)}}),C("quickSuggestions",(yt,e,o)=>{if(typeof yt=="boolean"){const v=yt?"on":"off";o("quickSuggestions",{comments:v,strings:v,other:v})}});var E=i(37940),I=i(64141),R=i(82334),J=i(27374),Q=i(31106),U=function(yt,e,o,v){var B=arguments.length,Y=B<3?e:v===null?v=Object.getOwnPropertyDescriptor(e,o):v,ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(yt,e,o,v);else for(var De=yt.length-1;De>=0;De--)(ce=yt[De])&&(Y=(B<3?ce(Y):B>3?ce(e,o,Y):ce(e,o))||Y);return B>3&&Y&&Object.defineProperty(e,o,Y),Y},K=function(yt,e){return function(o,v){e(o,v,yt)}};let H=class extends L.JT{constructor(e,o,v,B){super(),this._accessibilityService=B,this._onDidChange=this._register(new A.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new A.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new I.LJ,this.isSimpleWidget=e,this._containerObserver=this._register(new g.I(v,o.dimension)),this._rawOptions=z(o),this._validatedOptions=T.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(R.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(E.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(f.g.onDidChange(()=>this._recomputeOptions())),this._register(p.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const e=this._computeOptions(),o=T.checkEquals(this.options,e);o!==null&&(this.options=e,this._onDidChangeFast.fire(o),this._onDidChange.fire(o))}_computeOptions(){const e=this._readEnvConfiguration(),o=J.E4.createFromValidatedSettings(this._validatedOptions,e.pixelRatio,this.isSimpleWidget),v=this._readFontInfo(o),B={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight-this._reservedHeight,fontInfo:v,extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:E.n.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return T.computeOptions(this._validatedOptions,B)}_readEnvConfiguration(){return{extraEditorClassName:j(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:p.isWebKit||p.isFirefox,pixelRatio:p.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(e){return f.g.readFontInfo(e)}getRawOptions(){return this._rawOptions}updateOptions(e){const o=z(e);!T.applyUpdate(this._rawOptions,o)||(this._validatedOptions=T.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(e){this._containerObserver.observe(e)}setIsDominatedByLongLines(e){this._isDominatedByLongLines!==e&&(this._isDominatedByLongLines=e,this._recomputeOptions())}setModelLineCount(e){const o=X(e);this._lineNumbersDigitCount!==o&&(this._lineNumbersDigitCount=o,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}setReservedHeight(e){this._reservedHeight!==e&&(this._reservedHeight=e,this._recomputeOptions())}};H=U([K(3,Q.F)],H);function X(yt){let e=0;for(;yt;)yt=Math.floor(yt/10),e++;return e||1}function j(){let yt="";return!p.isSafari&&!p.isWebkitWebView&&(yt+="no-user-select "),p.isSafari&&(yt+="no-minimap-shadow ",yt+="enable-user-select "),a.dz&&(yt+="mac "),yt}class x{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,o){this._values[e]=o}}class Z{constructor(){this._values=[]}_read(e){if(e>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[e]}get(e){return this._read(e)}_write(e,o){this._values[e]=o}}class T{static validateOptions(e){const o=new x;for(const v of I.Bc){const B=v.name==="_never_"?void 0:e[v.name];o._write(v.id,v.validate(B))}return o}static computeOptions(e,o){const v=new Z;for(const B of I.Bc)v._write(B.id,B.compute(o,v,e._read(B.id)));return v}static _deepEquals(e,o){if(typeof e!="object"||typeof o!="object"||!e||!o)return e===o;if(Array.isArray(e)||Array.isArray(o))return Array.isArray(e)&&Array.isArray(o)?l.fS(e,o):!1;if(Object.keys(e).length!==Object.keys(o).length)return!1;for(const v in e)if(!T._deepEquals(e[v],o[v]))return!1;return!0}static checkEquals(e,o){const v=[];let B=!1;for(const Y of I.Bc){const ce=!T._deepEquals(e._read(Y.id),o._read(Y.id));v[Y.id]=ce,ce&&(B=!0)}return B?new I.Bb(v):null}static applyUpdate(e,o){let v=!1;for(const B of I.Bc)if(o.hasOwnProperty(B.name)){const Y=B.applyUpdate(e[B.name],o[B.name]);e[B.name]=Y.newValue,v=v||Y.didChange}return v}}function z(yt){const e=n.I8(yt);return b(e),e}var G=i(11640),re=i(3860),S=i(38626),he=i(10553),Ce=i(7448),ge=i(15393),pe=i(29994);class ee extends L.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let o=!1;for(let v=0,B=e.length;v<B;v++){const Y=e[v];switch(Y.type){case 0:this.onCompositionStart(Y)&&(o=!0);break;case 1:this.onCompositionEnd(Y)&&(o=!0);break;case 2:this.onConfigurationChanged(Y)&&(o=!0);break;case 3:this.onCursorStateChanged(Y)&&(o=!0);break;case 4:this.onDecorationsChanged(Y)&&(o=!0);break;case 5:this.onFlushed(Y)&&(o=!0);break;case 6:this.onFocusChanged(Y)&&(o=!0);break;case 7:this.onLanguageConfigurationChanged(Y)&&(o=!0);break;case 8:this.onLineMappingChanged(Y)&&(o=!0);break;case 9:this.onLinesChanged(Y)&&(o=!0);break;case 10:this.onLinesDeleted(Y)&&(o=!0);break;case 11:this.onLinesInserted(Y)&&(o=!0);break;case 12:this.onRevealRangeRequest(Y)&&(o=!0);break;case 13:this.onScrollChanged(Y)&&(o=!0);break;case 15:this.onTokensChanged(Y)&&(o=!0);break;case 14:this.onThemeChanged(Y)&&(o=!0);break;case 16:this.onTokensColorsChanged(Y)&&(o=!0);break;case 17:this.onZonesChanged(Y)&&(o=!0);break;default:console.info("View received unknown event: "),console.info(Y)}}o&&(this._shouldRender=!0)}}class se extends ee{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class ne{static write(e,o){e.setAttribute("data-mprt",String(o))}static read(e){const o=e.getAttribute("data-mprt");return o===null?0:parseInt(o,10)}static collect(e,o){const v=[];let B=0;for(;e&&e!==document.body&&e!==o;)e.nodeType===e.ELEMENT_NODE&&(v[B++]=this.read(e)),e=e.parentElement;const Y=new Uint8Array(B);for(let ce=0;ce<B;ce++)Y[ce]=v[B-ce-1];return Y}}class oe{constructor(e,o){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=o,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const v=this._viewLayout.getCurrentViewport();this.scrollTop=v.top,this.scrollLeft=v.left,this.viewportWidth=v.width,this.viewportHeight=v.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class Se extends oe{constructor(e,o,v){super(e,o),this._renderingContextBrand=void 0,this._viewLines=v}linesVisibleRangesForRange(e,o){return this._viewLines.linesVisibleRangesForRange(e,o)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class Ee{constructor(e,o,v){this.outsideRenderedLine=e,this.lineNumber=o,this.ranges=v}}class Me{constructor(e,o){this._horizontalRangeBrand=void 0,this.left=Math.round(e),this.width=Math.round(o)}static from(e){const o=new Array(e.length);for(let v=0,B=e.length;v<B;v++){const Y=e[v];o[v]=new Me(Y.left,Y.width)}return o}toString(){return`[${this.left},${this.width}]`}}class ye{constructor(e,o){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=o}toString(){return`[${this.left},${this.width}]`}static compare(e,o){return e.left-o.left}}class le{constructor(e,o){this.outsideRenderedLine=e,this.originalLeft=o,this.left=Math.round(this.originalLeft)}}class ie{constructor(e,o){this.outsideRenderedLine=e,this.ranges=o}}class ve{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,o){e.selectNodeContents(o)}static _readClientRects(e,o,v,B,Y){const ce=this._createRange();try{return ce.setStart(e,o),ce.setEnd(v,B),ce.getClientRects()}catch{return null}finally{this._detachRange(ce,Y)}}static _mergeAdjacentRanges(e){if(e.length===1)return e;e.sort(ye.compare);const o=[];let v=0,B=e[0];for(let Y=1,ce=e.length;Y<ce;Y++){const De=e[Y];B.left+B.width+.9>=De.left?B.width=Math.max(B.width,De.left+De.width-B.left):(o[v++]=B,B=De)}return o[v++]=B,o}static _createHorizontalRangesFromClientRects(e,o,v){if(!e||e.length===0)return null;const B=[];for(let Y=0,ce=e.length;Y<ce;Y++){const De=e[Y];B[Y]=new ye(Math.max(0,(De.left-o)/v),De.width/v)}return this._mergeAdjacentRanges(B)}static readHorizontalRanges(e,o,v,B,Y,ce,De,Fe){const tt=e.children.length-1;if(0>tt)return null;if(o=Math.min(tt,Math.max(0,o)),B=Math.min(tt,Math.max(0,B)),o===B&&v===Y&&v===0&&!e.children[o].firstChild){const zt=e.children[o].getClientRects();return this._createHorizontalRangesFromClientRects(zt,ce,De)}o!==B&&B>0&&Y===0&&(B--,Y=1073741824);let gt=e.children[o].firstChild,It=e.children[B].firstChild;if((!gt||!It)&&(!gt&&v===0&&o>0&&(gt=e.children[o-1].firstChild,v=1073741824),!It&&Y===0&&B>0&&(It=e.children[B-1].firstChild,Y=1073741824)),!gt||!It)return null;v=Math.min(gt.textContent.length,Math.max(0,v)),Y=Math.min(It.textContent.length,Math.max(0,Y));const Nt=this._readClientRects(gt,v,It,Y,Fe);return this._createHorizontalRangesFromClientRects(Nt,ce,De)}}var xe=i(92550),Ye=i(91557),at=i(92321);const qe=function(){return a.tY?!0:!(a.IJ||p.isFirefox||p.isSafari)}();let Re=!0;class Je{constructor(e,o){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=o}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const e=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=e.left,this._clientRectScale=e.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}class st{constructor(e,o){this.themeType=o;const v=e.options,B=v.get(46);this.renderWhitespace=v.get(90),this.renderControlCharacters=v.get(85),this.spaceWidth=B.spaceWidth,this.middotWidth=B.middotWidth,this.wsmiddotWidth=B.wsmiddotWidth,this.useMonospaceOptimizations=B.isMonospace&&!v.get(29),this.canUseHalfwidthRightwardsArrow=B.canUseHalfwidthRightwardsArrow,this.lineHeight=v.get(61),this.stopRenderingLineAfter=v.get(107),this.fontLigatures=v.get(47)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class et{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,S.X)(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return(0,at.c3)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,o,v,B){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const Y=v.getViewLineRenderingData(e),ce=this._options,De=xe.Kp.filter(Y.inlineDecorations,e,Y.minColumn,Y.maxColumn);let Fe=null;if((0,at.c3)(ce.themeType)||this._options.renderWhitespace==="selection"){const It=v.selections;for(const Nt of It){if(Nt.endLineNumber<e||Nt.startLineNumber>e)continue;const zt=Nt.startLineNumber===e?Nt.startColumn:Y.minColumn,qt=Nt.endLineNumber===e?Nt.endColumn:Y.maxColumn;zt<qt&&((0,at.c3)(ce.themeType)||this._options.renderWhitespace!=="selection"?De.push(new xe.Kp(zt,qt,"inline-selected-text",0)):(Fe||(Fe=[]),Fe.push(new Ye.zG(zt-1,qt-1))))}}const Ue=new Ye.IJ(ce.useMonospaceOptimizations,ce.canUseHalfwidthRightwardsArrow,Y.content,Y.continuesWithWrappedLine,Y.isBasicASCII,Y.containsRTL,Y.minColumn-1,Y.tokens,De,Y.tabSize,Y.startVisibleColumn,ce.spaceWidth,ce.middotWidth,ce.wsmiddotWidth,ce.stopRenderingLineAfter,ce.renderWhitespace,ce.renderControlCharacters,ce.fontLigatures!==I.n0.OFF,Fe);if(this._renderedViewLine&&this._renderedViewLine.input.equals(Ue))return!1;B.appendASCIIString('<div style="top:'),B.appendASCIIString(String(o)),B.appendASCIIString("px;height:"),B.appendASCIIString(String(this._options.lineHeight)),B.appendASCIIString('px;" class="'),B.appendASCIIString(et.CLASS_NAME),B.appendASCIIString('">');const tt=(0,Ye.d1)(Ue,B);B.appendASCIIString("</div>");let gt=null;return Re&&qe&&Y.isBasicASCII&&ce.useMonospaceOptimizations&&tt.containsForeignElements===0&&Y.content.length<300&&Ue.lineTokens.getCount()<100&&(gt=new we(this._renderedViewLine?this._renderedViewLine.domNode:null,Ue,tt.characterMapping)),gt||(gt=Pe(this._renderedViewLine?this._renderedViewLine.domNode:null,Ue,tt.characterMapping,tt.containsRTL,tt.containsForeignElements)),this._renderedViewLine=gt,!0}layoutLine(e,o){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(o),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof we:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof we?this._renderedViewLine.monospaceAssumptionsAreValid():Re}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof we&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,o,v,B){if(!this._renderedViewLine)return null;o=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,o)),v=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,v));const Y=this._renderedViewLine.input.stopRenderingLineAfter;let ce=!1;Y!==-1&&o>Y+1&&v>Y+1&&(ce=!0),Y!==-1&&o>Y+1&&(o=Y+1),Y!==-1&&v>Y+1&&(v=Y+1);const De=this._renderedViewLine.getVisibleRangesForRange(e,o,v,B);return De&&De.length>0?new ie(ce,De):null}getColumnOfNodeOffset(e,o,v){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,o,v):1}}et.CLASS_NAME="view-line";class we{constructor(e,o,v){this.domNode=e,this.input=o,this._characterMapping=v,this._charWidth=o.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return Re;const e=this.getWidth(),o=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-o)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Re=!1),Re}toSlowRenderedLine(){return Pe(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,o,v,B){const Y=this._getCharPosition(o),ce=this._getCharPosition(v);return[new ye(Y,ce-Y)]}_getCharPosition(e){const o=this._characterMapping.getHorizontalOffset(e);return this._charWidth*o}getColumnOfNodeOffset(e,o,v){const B=o.textContent.length;let Y=-1;for(;o;)o=o.previousSibling,Y++;return this._characterMapping.getColumn(new Ye.Nd(Y,v),B)}}class Ne{constructor(e,o,v,B,Y){if(this.domNode=e,this.input=o,this._characterMapping=v,this._isWhitespaceOnly=/^\s*$/.test(o.lineContent),this._containsForeignElements=Y,this._cachedWidth=-1,this._pixelOffsetCache=null,!B||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let ce=0,De=this._characterMapping.length;ce<=De;ce++)this._pixelOffsetCache[ce]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,o,v,B){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const Y=this._readPixelOffset(this.domNode,e,o,B);if(Y===-1)return null;const ce=this._readPixelOffset(this.domNode,e,v,B);return ce===-1?null:[new ye(Y,ce-Y)]}return this._readVisibleRangesForRange(this.domNode,e,o,v,B)}_readVisibleRangesForRange(e,o,v,B,Y){if(v===B){const ce=this._readPixelOffset(e,o,v,Y);return ce===-1?null:[new ye(ce,0)]}else return this._readRawVisibleRangesForRange(e,v,B,Y)}_readPixelOffset(e,o,v,B){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const Y=this._getReadingTarget(e);return Y.firstChild?Y.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const Y=this._pixelOffsetCache[v];if(Y!==-1)return Y;const ce=this._actualReadPixelOffset(e,o,v,B);return this._pixelOffsetCache[v]=ce,ce}return this._actualReadPixelOffset(e,o,v,B)}_actualReadPixelOffset(e,o,v,B){if(this._characterMapping.length===0){const Fe=ve.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,B.clientRectDeltaLeft,B.clientRectScale,B.endNode);return!Fe||Fe.length===0?-1:Fe[0].left}if(v===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const Y=this._characterMapping.getDomPosition(v),ce=ve.readHorizontalRanges(this._getReadingTarget(e),Y.partIndex,Y.charIndex,Y.partIndex,Y.charIndex,B.clientRectDeltaLeft,B.clientRectScale,B.endNode);if(!ce||ce.length===0)return-1;const De=ce[0].left;if(this.input.isBasicASCII){const Fe=this._characterMapping.getHorizontalOffset(v),Ue=Math.round(this.input.spaceWidth*Fe);if(Math.abs(Ue-De)<=1)return Ue}return De}_readRawVisibleRangesForRange(e,o,v,B){if(o===1&&v===this._characterMapping.length)return[new ye(0,this.getWidth())];const Y=this._characterMapping.getDomPosition(o),ce=this._characterMapping.getDomPosition(v);return ve.readHorizontalRanges(this._getReadingTarget(e),Y.partIndex,Y.charIndex,ce.partIndex,ce.charIndex,B.clientRectDeltaLeft,B.clientRectScale,B.endNode)}getColumnOfNodeOffset(e,o,v){const B=o.textContent.length;let Y=-1;for(;o;)o=o.previousSibling,Y++;return this._characterMapping.getColumn(new Ye.Nd(Y,v),B)}}class de extends Ne{_readVisibleRangesForRange(e,o,v,B,Y){const ce=super._readVisibleRangesForRange(e,o,v,B,Y);if(!ce||ce.length===0||v===B||v===1&&B===this._characterMapping.length)return ce;if(!this.input.containsRTL){const De=this._readPixelOffset(e,o,B,Y);if(De!==-1){const Fe=ce[ce.length-1];Fe.left<De&&(Fe.width=De-Fe.left)}}return ce}}const Pe=function(){return p.isWebKit?He:$e}();function He(yt,e,o,v,B){return new de(yt,e,o,v,B)}function $e(yt,e,o,v,B){return new Ne(yt,e,o,v,B)}var me=i(50187),Ie=i(24314),Ge=i(7988),ft=i(47128);class ze{constructor(e=null){this.hitTarget=e,this.type=0}}class mt{constructor(e,o,v){this.position=e,this.spanNode=o,this.injectedText=v,this.type=1}}var wt;(function(yt){function e(o,v,B){const Y=o.getPositionFromDOMInfo(v,B);return Y?new mt(Y,v,null):new ze(v)}yt.createFromDOMInfo=e})(wt||(wt={}));class Oe{constructor(e,o){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=o}}class lt{static _deduceRage(e,o=null){return!o&&e?new Ie.e(e.lineNumber,e.column,e.lineNumber,e.column):o??null}static createUnknown(e,o,v){return{type:0,element:e,mouseColumn:o,position:v,range:this._deduceRage(v)}}static createTextarea(e,o){return{type:1,element:e,mouseColumn:o,position:null,range:null}}static createMargin(e,o,v,B,Y,ce){return{type:e,element:o,mouseColumn:v,position:B,range:Y,detail:ce}}static createViewZone(e,o,v,B,Y){return{type:e,element:o,mouseColumn:v,position:B,range:this._deduceRage(B),detail:Y}}static createContentText(e,o,v,B,Y){return{type:6,element:e,mouseColumn:o,position:v,range:this._deduceRage(v,B),detail:Y}}static createContentEmpty(e,o,v,B){return{type:7,element:e,mouseColumn:o,position:v,range:this._deduceRage(v),detail:B}}static createContentWidget(e,o,v){return{type:9,element:e,mouseColumn:o,position:null,range:null,detail:v}}static createScrollbar(e,o,v){return{type:11,element:e,mouseColumn:o,position:v,range:this._deduceRage(v)}}static createOverlayWidget(e,o,v){return{type:12,element:e,mouseColumn:o,position:null,range:null,detail:v}}static createOutsideEditor(e,o){return{type:13,element:null,mouseColumn:e,position:o,range:this._deduceRage(o)}}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+JSON.stringify(e.detail)}}class Bt{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===6}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===7}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===7}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===5}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===8}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}}class Zt{constructor(e,o,v){this.viewModel=e.viewModel;const B=e.configuration.options;this.layoutInfo=B.get(133),this.viewDomNode=o.viewDomNode,this.lineHeight=B.get(61),this.stickyTabStops=B.get(106),this.typicalHalfwidthCharacterWidth=B.get(46).typicalHalfwidthCharacterWidth,this.lastRenderData=v,this._context=e,this._viewHelper=o}getZoneAtCoord(e){return Zt.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,o){const v=e.viewLayout.getWhitespaceAtVerticalOffset(o);if(v){const B=v.verticalOffset+v.height/2,Y=e.viewModel.getLineCount();let ce=null,De,Fe=null;return v.afterLineNumber!==Y&&(Fe=new me.L(v.afterLineNumber+1,1)),v.afterLineNumber>0&&(ce=new me.L(v.afterLineNumber,e.viewModel.getLineMaxColumn(v.afterLineNumber))),Fe===null?De=ce:ce===null?De=Fe:o<B?De=ce:De=Fe,{viewZoneId:v.id,afterLineNumber:v.afterLineNumber,positionBefore:ce,positionAfter:Fe,position:De}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const B=this._context.viewModel.getLineCount(),Y=this._context.viewModel.getLineMaxColumn(B);return{range:new Ie.e(B,Y,B,Y),isAfterLines:!0}}const o=this._context.viewLayout.getLineNumberAtVerticalOffset(e),v=this._context.viewModel.getLineMaxColumn(o);return{range:new Ie.e(o,1,o,v),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,o){return Zt._findAttribute(e,o,this._viewHelper.viewDomNode)}static _findAttribute(e,o,v){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(o))return e.getAttribute(o);if(e===v)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,o){return this._viewHelper.visibleRangeForPosition(e,o)}getPositionFromDOMInfo(e,o){return this._viewHelper.getPositionFromDOMInfo(e,o)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class pi{constructor(e,o,v,B){this.editorPos=o,this.pos=v,this.relativePos=B,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+this.relativePos.x-e.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<e.layoutInfo.contentLeft&&this.relativePos.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Yt._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class Li extends pi{constructor(e,o,v,B,Y){super(e,o,v,B),this._ctx=e,Y?(this.target=Y,this.targetPath=ne.collect(Y,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(e=null){return e&&e.column<this._ctx.viewModel.getLineMaxColumn(e.lineNumber)?Ge.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(e.lineNumber),e.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(e=null){return lt.createUnknown(this.target,this._getMouseColumn(e),e)}fulfillTextarea(){return lt.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(e,o,v,B){return lt.createMargin(e,this.target,this._getMouseColumn(o),o,v,B)}fulfillViewZone(e,o,v){return lt.createViewZone(e,this.target,this._getMouseColumn(o),o,v)}fulfillContentText(e,o,v){return lt.createContentText(this.target,this._getMouseColumn(e),e,o,v)}fulfillContentEmpty(e,o){return lt.createContentEmpty(this.target,this._getMouseColumn(e),e,o)}fulfillContentWidget(e){return lt.createContentWidget(this.target,this._getMouseColumn(),e)}fulfillScrollbar(e){return lt.createScrollbar(this.target,this._getMouseColumn(e),e)}fulfillOverlayWidget(e){return lt.createOverlayWidget(this.target,this._getMouseColumn(),e)}withTarget(e){return new Li(this._ctx,this.editorPos,this.pos,this.relativePos,e)}}const ot={isAfterLines:!0};function Ft(yt){return{isAfterLines:!1,horizontalDistanceToText:yt}}class Yt{constructor(e,o){this._context=e,this._viewHelper=o}mouseTargetIsWidget(e){const o=e.target,v=ne.collect(o,this._viewHelper.viewDomNode);return!!(Bt.isChildOfContentWidgets(v)||Bt.isChildOfOverflowingContentWidgets(v)||Bt.isChildOfOverlayWidgets(v))}createMouseTarget(e,o,v,B,Y){const ce=new Zt(this._context,this._viewHelper,e),De=new Li(ce,o,v,B,Y);try{return Yt._createMouseTarget(ce,De,!1)}catch{return De.fulfillUnknown()}}static _createMouseTarget(e,o,v){if(o.target===null){if(v)return o.fulfillUnknown();const ce=Yt._doHitTest(e,o);return ce.type===1?Yt.createMouseTargetFromHitTestPosition(e,o,ce.spanNode,ce.position,ce.injectedText):this._createMouseTarget(e,o.withTarget(ce.hitTarget),!0)}const B=o;let Y=null;return Y=Y||Yt._hitTestContentWidget(e,B),Y=Y||Yt._hitTestOverlayWidget(e,B),Y=Y||Yt._hitTestMinimap(e,B),Y=Y||Yt._hitTestScrollbarSlider(e,B),Y=Y||Yt._hitTestViewZone(e,B),Y=Y||Yt._hitTestMargin(e,B),Y=Y||Yt._hitTestViewCursor(e,B),Y=Y||Yt._hitTestTextArea(e,B),Y=Y||Yt._hitTestViewLines(e,B,v),Y=Y||Yt._hitTestScrollbar(e,B),Y||o.fulfillUnknown()}static _hitTestContentWidget(e,o){if(Bt.isChildOfContentWidgets(o.targetPath)||Bt.isChildOfOverflowingContentWidgets(o.targetPath)){const v=e.findAttribute(o.target,"widgetId");return v?o.fulfillContentWidget(v):o.fulfillUnknown()}return null}static _hitTestOverlayWidget(e,o){if(Bt.isChildOfOverlayWidgets(o.targetPath)){const v=e.findAttribute(o.target,"widgetId");return v?o.fulfillOverlayWidget(v):o.fulfillUnknown()}return null}static _hitTestViewCursor(e,o){if(o.target){const v=e.lastRenderData.lastViewCursorsRenderData;for(const B of v)if(o.target===B.domNode)return o.fulfillContentText(B.position,null,{mightBeForeignElement:!1,injectedText:null})}if(o.isInContentArea){const v=e.lastRenderData.lastViewCursorsRenderData,B=o.mouseContentHorizontalOffset,Y=o.mouseVerticalOffset;for(const ce of v){if(B<ce.contentLeft||B>ce.contentLeft+ce.width)continue;const De=e.getVerticalOffsetForLineNumber(ce.position.lineNumber);if(De<=Y&&Y<=De+ce.height)return o.fulfillContentText(ce.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(e,o){const v=e.getZoneAtCoord(o.mouseVerticalOffset);if(v){const B=o.isInContentArea?8:5;return o.fulfillViewZone(B,v.position,v)}return null}static _hitTestTextArea(e,o){return Bt.isTextArea(o.targetPath)?e.lastRenderData.lastTextareaPosition?o.fulfillContentText(e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):o.fulfillTextarea():null}static _hitTestMargin(e,o){if(o.isInMarginArea){const v=e.getFullLineRangeAtCoord(o.mouseVerticalOffset),B=v.range.getStartPosition();let Y=Math.abs(o.relativePos.x);const ce={isAfterLines:v.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:Y};return Y-=e.layoutInfo.glyphMarginLeft,Y<=e.layoutInfo.glyphMarginWidth?o.fulfillMargin(2,B,v.range,ce):(Y-=e.layoutInfo.glyphMarginWidth,Y<=e.layoutInfo.lineNumbersWidth?o.fulfillMargin(3,B,v.range,ce):(Y-=e.layoutInfo.lineNumbersWidth,o.fulfillMargin(4,B,v.range,ce)))}return null}static _hitTestViewLines(e,o,v){if(!Bt.isChildOfViewLines(o.targetPath))return null;if(e.isInTopPadding(o.mouseVerticalOffset))return o.fulfillContentEmpty(new me.L(1,1),ot);if(e.isAfterLines(o.mouseVerticalOffset)||e.isInBottomPadding(o.mouseVerticalOffset)){const Y=e.viewModel.getLineCount(),ce=e.viewModel.getLineMaxColumn(Y);return o.fulfillContentEmpty(new me.L(Y,ce),ot)}if(v){if(Bt.isStrictChildOfViewLines(o.targetPath)){const Y=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset);if(e.viewModel.getLineLength(Y)===0){const De=e.getLineWidth(Y),Fe=Ft(o.mouseContentHorizontalOffset-De);return o.fulfillContentEmpty(new me.L(Y,1),Fe)}const ce=e.getLineWidth(Y);if(o.mouseContentHorizontalOffset>=ce){const De=Ft(o.mouseContentHorizontalOffset-ce),Fe=new me.L(Y,e.viewModel.getLineMaxColumn(Y));return o.fulfillContentEmpty(Fe,De)}}return o.fulfillUnknown()}const B=Yt._doHitTest(e,o);return B.type===1?Yt.createMouseTargetFromHitTestPosition(e,o,B.spanNode,B.position,B.injectedText):this._createMouseTarget(e,o.withTarget(B.hitTarget),!0)}static _hitTestMinimap(e,o){if(Bt.isChildOfMinimap(o.targetPath)){const v=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),B=e.viewModel.getLineMaxColumn(v);return o.fulfillScrollbar(new me.L(v,B))}return null}static _hitTestScrollbarSlider(e,o){if(Bt.isChildOfScrollableElement(o.targetPath)&&o.target&&o.target.nodeType===1){const v=o.target.className;if(v&&/\b(slider|scrollbar)\b/.test(v)){const B=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),Y=e.viewModel.getLineMaxColumn(B);return o.fulfillScrollbar(new me.L(B,Y))}}return null}static _hitTestScrollbar(e,o){if(Bt.isChildOfScrollableElement(o.targetPath)){const v=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),B=e.viewModel.getLineMaxColumn(v);return o.fulfillScrollbar(new me.L(v,B))}return null}getMouseColumn(e){const o=this._context.configuration.options,v=o.get(133),B=this._context.viewLayout.getCurrentScrollLeft()+e.x-v.contentLeft;return Yt._getMouseColumn(B,o.get(46).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,o){return e<0?1:Math.round(e/o)+1}static createMouseTargetFromHitTestPosition(e,o,v,B,Y){const ce=B.lineNumber,De=B.column,Fe=e.getLineWidth(ce);if(o.mouseContentHorizontalOffset>Fe){const si=Ft(o.mouseContentHorizontalOffset-Fe);return o.fulfillContentEmpty(B,si)}const Ue=e.visibleRangeForPosition(ce,De);if(!Ue)return o.fulfillUnknown(B);const tt=Ue.left;if(o.mouseContentHorizontalOffset===tt)return o.fulfillContentText(B,null,{mightBeForeignElement:!!Y,injectedText:Y});const gt=[];if(gt.push({offset:Ue.left,column:De}),De>1){const si=e.visibleRangeForPosition(ce,De-1);si&&gt.push({offset:si.left,column:De-1})}const It=e.viewModel.getLineMaxColumn(ce);if(De<It){const si=e.visibleRangeForPosition(ce,De+1);si&&gt.push({offset:si.left,column:De+1})}gt.sort((si,ci)=>si.offset-ci.offset);const Nt=o.pos.toClientCoordinates(),zt=v.getBoundingClientRect(),qt=zt.left<=Nt.clientX&&Nt.clientX<=zt.right;for(let si=1;si<gt.length;si++){const ci=gt[si-1],vi=gt[si];if(ci.offset<=o.mouseContentHorizontalOffset&&o.mouseContentHorizontalOffset<=vi.offset){const gi=new Ie.e(ce,ci.column,ce,vi.column),Bi=Math.abs(ci.offset-o.mouseContentHorizontalOffset),Ai=Math.abs(vi.offset-o.mouseContentHorizontalOffset),Wi=Bi<Ai?new me.L(ce,ci.column):new me.L(ce,vi.column);return o.fulfillContentText(Wi,gi,{mightBeForeignElement:!qt||!!Y,injectedText:Y})}}return o.fulfillContentText(B,null,{mightBeForeignElement:!qt||!!Y,injectedText:Y})}static _doHitTestWithCaretRangeFromPoint(e,o){const v=e.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),Y=e.getVerticalOffsetForLineNumber(v)+Math.floor(e.lineHeight/2);let ce=o.pos.y+(Y-o.mouseVerticalOffset);ce<=o.editorPos.y&&(ce=o.editorPos.y+1),ce>=o.editorPos.y+o.editorPos.height&&(ce=o.editorPos.y+o.editorPos.height-1);const De=new pe.YN(o.pos.x,ce),Fe=this._actualDoHitTestWithCaretRangeFromPoint(e,De.toClientCoordinates());return Fe.type===1?Fe:this._actualDoHitTestWithCaretRangeFromPoint(e,o.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,o){const v=M.Ay(e.viewDomNode);let B;if(v?typeof v.caretRangeFromPoint>"u"?B=_i(v,o.clientX,o.clientY):B=v.caretRangeFromPoint(o.clientX,o.clientY):B=document.caretRangeFromPoint(o.clientX,o.clientY),!B||!B.startContainer)return new ze;const Y=B.startContainer;if(Y.nodeType===Y.TEXT_NODE){const ce=Y.parentNode,De=ce?ce.parentNode:null,Fe=De?De.parentNode:null;return(Fe&&Fe.nodeType===Fe.ELEMENT_NODE?Fe.className:null)===et.CLASS_NAME?wt.createFromDOMInfo(e,ce,B.startOffset):new ze(Y.parentNode)}else if(Y.nodeType===Y.ELEMENT_NODE){const ce=Y.parentNode,De=ce?ce.parentNode:null;return(De&&De.nodeType===De.ELEMENT_NODE?De.className:null)===et.CLASS_NAME?wt.createFromDOMInfo(e,Y,Y.textContent.length):new ze(Y)}return new ze}static _doHitTestWithCaretPositionFromPoint(e,o){const v=document.caretPositionFromPoint(o.clientX,o.clientY);if(v.offsetNode.nodeType===v.offsetNode.TEXT_NODE){const B=v.offsetNode.parentNode,Y=B?B.parentNode:null,ce=Y?Y.parentNode:null;return(ce&&ce.nodeType===ce.ELEMENT_NODE?ce.className:null)===et.CLASS_NAME?wt.createFromDOMInfo(e,v.offsetNode.parentNode,v.offset):new ze(v.offsetNode.parentNode)}if(v.offsetNode.nodeType===v.offsetNode.ELEMENT_NODE){const B=v.offsetNode.parentNode,Y=B&&B.nodeType===B.ELEMENT_NODE?B.className:null,ce=B?B.parentNode:null,De=ce&&ce.nodeType===ce.ELEMENT_NODE?ce.className:null;if(Y===et.CLASS_NAME){const Fe=v.offsetNode.childNodes[Math.min(v.offset,v.offsetNode.childNodes.length-1)];if(Fe)return wt.createFromDOMInfo(e,Fe,0)}else if(De===et.CLASS_NAME)return wt.createFromDOMInfo(e,v.offsetNode,0)}return new ze(v.offsetNode)}static _snapToSoftTabBoundary(e,o){const v=o.getLineContent(e.lineNumber),{tabSize:B}=o.model.getOptions(),Y=ft.l.atomicPosition(v,e.column-1,B,2);return Y!==-1?new me.L(e.lineNumber,Y+1):e}static _doHitTest(e,o){let v=new ze;if(typeof document.caretRangeFromPoint=="function"?v=this._doHitTestWithCaretRangeFromPoint(e,o):document.caretPositionFromPoint&&(v=this._doHitTestWithCaretPositionFromPoint(e,o.pos.toClientCoordinates())),v.type===1){const B=e.viewModel.getInjectedTextAt(v.position),Y=e.viewModel.normalizePosition(v.position,2);(B||!Y.equals(v.position))&&(v=new mt(Y,v.spanNode,B))}return v.type===1&&e.stickyTabStops&&(v=new mt(this._snapToSoftTabBoundary(v.position,e.viewModel),v.spanNode,v.injectedText)),v}}function _i(yt,e,o){const v=document.createRange();let B=yt.elementFromPoint(e,o);if(B!==null){for(;B&&B.firstChild&&B.firstChild.nodeType!==B.firstChild.TEXT_NODE&&B.lastChild&&B.lastChild.firstChild;)B=B.lastChild;const Y=B.getBoundingClientRect(),ce=window.getComputedStyle(B,null).getPropertyValue("font"),De=B.innerText;let Fe=Y.left,Ue=0,tt;if(e>Y.left+Y.width)Ue=De.length;else{const gt=Ci.getInstance();for(let It=0;It<De.length+1;It++){if(tt=gt.getCharWidth(De.charAt(It),ce)/2,Fe+=tt,e<Fe){Ue=It;break}Fe+=tt}}v.setStart(B.firstChild,Ue),v.setEnd(B.firstChild,Ue)}return v}class Ci{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return Ci._INSTANCE||(Ci._INSTANCE=new Ci),Ci._INSTANCE}getCharWidth(e,o){const v=e+o;if(this._cache[v])return this._cache[v];const B=this._canvas.getContext("2d");B.font=o;const ce=B.measureText(e).width;return this._cache[v]=ce,ce}}Ci._INSTANCE=null;class bi extends ee{constructor(e,o,v){super(),this._mouseLeaveMonitor=null,this._context=e,this.viewController=o,this.viewHelper=v,this.mouseTargetFactory=new Yt(this._context,v),this._mouseDownOperation=this._register(new ai(this._context,this.viewController,this.viewHelper,(De,Fe)=>this._createMouseTarget(De,Fe),De=>this._getMouseColumn(De))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(133).height;const B=new pe.N5(this.viewHelper.viewDomNode);this._register(B.onContextMenu(this.viewHelper.viewDomNode,De=>this._onContextMenu(De,!0))),this._register(B.onMouseMove(this.viewHelper.viewDomNode,De=>{this._onMouseMove(De),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=M.nm(document,"mousemove",Fe=>{this.viewHelper.viewDomNode.contains(Fe.target)||this._onMouseLeave(new pe.gy(Fe,!1,this.viewHelper.viewDomNode))}))})),this._register(B.onMouseUp(this.viewHelper.viewDomNode,De=>this._onMouseUp(De))),this._register(B.onMouseLeave(this.viewHelper.viewDomNode,De=>this._onMouseLeave(De)));let Y=0;this._register(B.onPointerDown(this.viewHelper.viewDomNode,(De,Fe)=>{Y=Fe})),this._register(M.nm(this.viewHelper.viewDomNode,M.tw.POINTER_UP,De=>{this._mouseDownOperation.onPointerUp()})),this._register(B.onMouseDown(this.viewHelper.viewDomNode,De=>this._onMouseDown(De,Y)));const ce=De=>{if(this.viewController.emitMouseWheel(De),!this._context.configuration.options.get(70))return;const Fe=new Ce.q(De);if(a.dz?(De.metaKey||De.ctrlKey)&&!De.shiftKey&&!De.altKey:De.ctrlKey&&!De.metaKey&&!De.shiftKey&&!De.altKey){const tt=R.C.getZoomLevel(),gt=Fe.deltaY>0?1:-1;R.C.setZoomLevel(tt+gt),Fe.preventDefault(),Fe.stopPropagation()}};this._register(M.nm(this.viewHelper.viewDomNode,M.tw.MOUSE_WHEEL,ce,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(133)){const o=this._context.configuration.options.get(133).height;this._height!==o&&(this._height=o,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,o){const B=new pe.rU(e,o).toPageCoordinates(),Y=(0,pe.kG)(this.viewHelper.viewDomNode);if(B.y<Y.y||B.y>Y.y+Y.height||B.x<Y.x||B.x>Y.x+Y.width)return null;const ce=(0,pe.Pp)(this.viewHelper.viewDomNode,Y,B);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),Y,B,ce,null)}_createMouseTarget(e,o){let v=e.target;if(!this.viewHelper.viewDomNode.contains(v)){const B=M.Ay(this.viewHelper.viewDomNode);B&&(v=B.elementsFromPoint(e.posx,e.posy).find(Y=>this.viewHelper.viewDomNode.contains(Y)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,e.relativePos,o?v:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.relativePos)}_onContextMenu(e,o){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,o)})}_onMouseMove(e){this.mouseTargetFactory.mouseTargetIsWidget(e)||e.preventDefault(),!(this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e,o){const v=this._createMouseTarget(e,!0),B=v.type===6||v.type===7,Y=v.type===2||v.type===3||v.type===4,ce=v.type===3,De=this._context.configuration.options.get(100),Fe=v.type===8||v.type===5,Ue=v.type===9;let tt=e.leftButton||e.middleButton;a.dz&&e.leftButton&&e.ctrlKey&&(tt=!1);const gt=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(tt&&(B||ce&&De))gt(),this._mouseDownOperation.start(v.type,e,o);else if(Y)e.preventDefault();else if(Fe){const It=v.detail;tt&&this.viewHelper.shouldSuppressMouseDownOnViewZone(It.viewZoneId)&&(gt(),this._mouseDownOperation.start(v.type,e,o),e.preventDefault())}else Ue&&this.viewHelper.shouldSuppressMouseDownOnWidget(v.detail)&&(gt(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:v})}}class ai extends L.JT{constructor(e,o,v,B,Y){super(),this._context=e,this._viewController=o,this._viewHelper=v,this._createMouseTarget=B,this._getMouseColumn=Y,this._mouseMoveMonitor=this._register(new pe.AL(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new ge._F),this._mouseState=new Mt,this._currentSelection=new re.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const o=this._findMousePosition(e,!1);!o||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:o}):this._dispatchMouse(o,!0))}start(e,o,v){this._lastMouseEvent=o,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(o),this._mouseState.setModifiers(o);const B=this._findMousePosition(o,!0);if(!B||!B.position)return;this._mouseState.trySetCount(o.detail,B.position),o.detail=this._mouseState.count;const Y=this._context.configuration.options;if(!Y.get(83)&&Y.get(31)&&!Y.get(18)&&!this._mouseState.altKey&&o.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&B.type===6&&B.position&&this._currentSelection.containsPosition(B.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,v,o.buttons,ce=>this._onMouseDownThenMove(ce),ce=>{const De=this._findMousePosition(this._lastMouseEvent,!1);ce&&ce instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:De?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(B,o.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,v,o.buttons,ce=>this._onMouseDownThenMove(ce),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);!e||this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0)},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const o=e.editorPos,v=this._context.viewModel,B=this._context.viewLayout,Y=this._getMouseColumn(e);if(e.posy<o.y){const De=Math.max(B.getCurrentScrollTop()-(o.y-e.posy),0),Fe=Zt.getZoneAtCoord(this._context,De);if(Fe){const tt=this._helpPositionJumpOverViewZone(Fe);if(tt)return lt.createOutsideEditor(Y,tt)}const Ue=B.getLineNumberAtVerticalOffset(De);return lt.createOutsideEditor(Y,new me.L(Ue,1))}if(e.posy>o.y+o.height){const De=B.getCurrentScrollTop()+e.relativePos.y,Fe=Zt.getZoneAtCoord(this._context,De);if(Fe){const tt=this._helpPositionJumpOverViewZone(Fe);if(tt)return lt.createOutsideEditor(Y,tt)}const Ue=B.getLineNumberAtVerticalOffset(De);return lt.createOutsideEditor(Y,new me.L(Ue,v.getLineMaxColumn(Ue)))}const ce=B.getLineNumberAtVerticalOffset(B.getCurrentScrollTop()+e.relativePos.y);return e.posx<o.x?lt.createOutsideEditor(Y,new me.L(ce,1)):e.posx>o.x+o.width?lt.createOutsideEditor(Y,new me.L(ce,v.getLineMaxColumn(ce))):null}_findMousePosition(e,o){const v=this._getPositionOutsideEditor(e);if(v)return v;const B=this._createMouseTarget(e,o);if(!B.position)return null;if(B.type===8||B.type===5){const ce=this._helpPositionJumpOverViewZone(B.detail);if(ce)return lt.createViewZone(B.type,B.element,B.mouseColumn,ce,B.detail)}return B}_helpPositionJumpOverViewZone(e){const o=new me.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),v=e.positionBefore,B=e.positionAfter;return v&&B?v.isBefore(o)?v:B:null}_dispatchMouse(e,o){!e.position||this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:o,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:e.type===6&&e.detail.injectedText!==null})}}class Mt{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,o){const v=new Date().getTime();v-this._lastSetMouseDownCountTime>Mt.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=v,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(o)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=o,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}Mt.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var Ut=i(10161),vt=i(35715);class _t extends bi{constructor(e,o,v){super(e,o,v),this._register(he.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(M.nm(this.viewHelper.linesContentDomNode,he.t.Tap,Y=>this.onTap(Y))),this._register(M.nm(this.viewHelper.linesContentDomNode,he.t.Change,Y=>this.onChange(Y))),this._register(M.nm(this.viewHelper.linesContentDomNode,he.t.Contextmenu,Y=>this._onContextMenu(new pe.gy(Y,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(M.nm(this.viewHelper.linesContentDomNode,"pointerdown",Y=>{const ce=Y.pointerType;if(ce==="mouse"){this._lastPointerType="mouse";return}else ce==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const B=new pe.tC(this.viewHelper.viewDomNode);this._register(B.onPointerMove(this.viewHelper.viewDomNode,Y=>this._onMouseMove(Y))),this._register(B.onPointerUp(this.viewHelper.viewDomNode,Y=>this._onMouseUp(Y))),this._register(B.onPointerLeave(this.viewHelper.viewDomNode,Y=>this._onMouseLeave(Y))),this._register(B.onPointerDown(this.viewHelper.viewDomNode,(Y,ce)=>this._onMouseDown(Y,ce)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const o=this._createMouseTarget(new pe.gy(e,!1,this.viewHelper.viewDomNode),!1);o.position&&this.viewController.dispatchMouse({position:o.position,mouseColumn:o.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:o.type===6&&o.detail.injectedText!==null})}onChange(e){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e,o){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e,o)}}class nt extends bi{constructor(e,o,v){super(e,o,v),this._register(he.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(M.nm(this.viewHelper.linesContentDomNode,he.t.Tap,B=>this.onTap(B))),this._register(M.nm(this.viewHelper.linesContentDomNode,he.t.Change,B=>this.onChange(B))),this._register(M.nm(this.viewHelper.linesContentDomNode,he.t.Contextmenu,B=>this._onContextMenu(new pe.gy(B,!1,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const o=this._createMouseTarget(new pe.gy(e,!1,this.viewHelper.viewDomNode),!1);if(o.position){const v=document.createEvent("CustomEvent");v.initEvent(vt.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(v),this.viewController.moveTo(o.position)}}onChange(e){this._context.viewModel.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)}}class be extends L.JT{constructor(e,o,v){super(),a.gn&&Ut.D.pointerEvents?this.handler=this._register(new _t(e,o,v)):window.TouchEvent?this.handler=this._register(new nt(e,o,v)):this.handler=this._register(new bi(e,o,v))}getTargetAtClientPoint(e,o){return this.handler.getTargetAtClientPoint(e,o)}}var Le=i(97295),Qe=i(52136),je=i(15887);class ht extends ee{}var bt=i(8625),Dt=i(97781);class Ht extends ht{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new me.L(1,1),this._lastCursorViewPosition=new me.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(61);const o=e.get(62);this._renderLineNumbers=o.renderType,this._renderCustomLineNumbers=o.renderFn,this._renderFinalNewline=e.get(86);const v=e.get(133);this._lineNumbersLeft=v.lineNumbersLeft,this._lineNumbersWidth=v.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const o=e.selections[0].getPosition();this._lastCursorViewPosition=o,this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(o);let v=!1;return this._activeLineNumber!==o.lineNumber&&(this._activeLineNumber=o.lineNumber,v=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(v=!0),v}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const o=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new me.L(e,1));if(o.column!==1)return"";const v=o.lineNumber;return this._renderCustomLineNumbers?this._renderCustomLineNumbers(v):this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===v||v%10===0?String(v):"":String(v)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const o=a.IJ?this._lineHeight%2===0?" lh-even":" lh-odd":"",v=e.visibleRange.startLineNumber,B=e.visibleRange.endLineNumber,Y='<div class="'+Ht.CLASS_NAME+o+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">';let ce=null;if(this._renderLineNumbers===2){ce=new Array(B-v+1),this._lastCursorViewPosition.lineNumber>=v&&this._lastCursorViewPosition.lineNumber<=B&&(ce[this._lastCursorViewPosition.lineNumber-v]=this._lastCursorModelPosition.lineNumber);{let Ue=0;for(let tt=this._lastCursorViewPosition.lineNumber+1;tt<=B;tt++){const It=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new me.L(tt,1)).column!==1;It||Ue++,tt>=v&&(ce[tt-v]=It?0:Ue)}}{let Ue=0;for(let tt=this._lastCursorViewPosition.lineNumber-1;tt>=v;tt--){const It=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new me.L(tt,1)).column!==1;It||Ue++,tt<=B&&(ce[tt-v]=It?0:Ue)}}}const De=this._context.viewModel.getLineCount(),Fe=[];for(let Ue=v;Ue<=B;Ue++){const tt=Ue-v;if(!this._renderFinalNewline&&Ue===De&&this._context.viewModel.getLineLength(Ue)===0){Fe[tt]="";continue}let gt;if(ce){const It=ce[tt];this._lastCursorViewPosition.lineNumber===Ue?gt=`<span class="relative-current-line-number">${It}</span>`:It?gt=String(It):gt=""}else gt=this._getLineRenderLineNumber(Ue);gt?Ue===this._activeLineNumber?Fe[tt]='<div class="active-line-number '+Ht.CLASS_NAME+o+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+gt+"</div>":Fe[tt]=Y+gt+"</div>":Fe[tt]=""}this._renderResult=Fe}render(e,o){if(!this._renderResult)return"";const v=o-e;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}Ht.CLASS_NAME="line-numbers",(0,Dt.Ic)((yt,e)=>{const o=yt.getColor(bt.hw);o&&e.addRule(`.monaco-editor .line-numbers { color: ${o}; }`);const v=yt.getColor(bt.DD);v&&e.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${v}; }`)});class ei extends se{constructor(e){super(e);const o=this._context.configuration.options,v=o.get(133);this._canUseLayerHinting=!o.get(28),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,this._domNode=(0,S.X)(document.createElement("div")),this._domNode.setClassName(ei.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,S.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(ei.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const o=this._context.configuration.options,v=o.get(133);return this._canUseLayerHinting=!o.get(28),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const o=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-o);const v=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(v),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(v)}}ei.CLASS_NAME="glyph-margin",ei.OUTER_CLASS_NAME="margin";var ui=i(24929),xi=i(58020),Si=i(96887),mi=i(41264);class mn{constructor(e,o,v,B,Y){this._context=e,this.modelLineNumber=o,this.distanceToModelLineStart=v,this.widthOfHiddenLineTextBefore=B,this.distanceToModelLineEnd=Y,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(e){const o=new me.L(this.modelLineNumber,this.distanceToModelLineStart+1),v=new me.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(v),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=e.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=e.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(e){return this._previousPresentation||(e?this._previousPresentation=e:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const Mi=p.isFirefox;class fn extends se{constructor(e,o,v){super(e),this._primaryCursorPosition=new me.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=o,this._visibleRangeProvider=v,this._scrollLeft=0,this._scrollTop=0;const B=this._context.configuration.options,Y=B.get(133);this._setAccessibilityOptions(B),this._contentLeft=Y.contentLeft,this._contentWidth=Y.contentWidth,this._contentHeight=Y.height,this._fontInfo=B.get(46),this._lineHeight=B.get(61),this._emptySelectionClipboard=B.get(33),this._copyWithSyntaxHighlighting=B.get(21),this._visibleTextArea=null,this._selections=[new re.Y(1,1,1,1)],this._modelSelections=[new re.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,S.X)(document.createElement("textarea")),ne.write(this.textArea,6),this.textArea.setClassName(`inputarea ${xi.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(B)),this.textArea.setAttribute("tabindex",String(B.get(114))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",$.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),B.get(30)&&B.get(83)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,S.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const ce={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:Ue=>this._context.viewModel.getLineMaxColumn(Ue),getValueInRange:(Ue,tt)=>this._context.viewModel.getValueInRange(Ue,tt)},De={getDataToCopy:()=>{const Ue=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,a.ED),tt=this._context.viewModel.model.getEOL(),gt=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),It=Array.isArray(Ue)?Ue:null,Nt=Array.isArray(Ue)?Ue.join(tt):Ue;let zt,qt=null;if(vt.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&Nt.length<65536){const si=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);si&&(zt=si.html,qt=si.mode)}return{isFromEmptySelection:gt,multicursorText:It,text:Nt,html:zt,mode:qt}},getScreenReaderContent:Ue=>{if(this._accessibilitySupport===1){const tt=this._selections[0];if(a.dz&&tt.isEmpty()){const gt=tt.getStartPosition();let It=this._getWordBeforePosition(gt);if(It.length===0&&(It=this._getCharacterBeforePosition(gt)),It.length>0)return new je.un(It,It.length,It.length,gt,gt)}if(p.isSafari&&!tt.isEmpty()){const gt="vscode-placeholder";return new je.un(gt,0,gt.length,null,null)}return je.un.EMPTY}if(p.isAndroid){const tt=this._selections[0];if(tt.isEmpty()){const gt=tt.getStartPosition(),[It,Nt]=this._getAndroidWordAtPosition(gt);if(It.length>0)return new je.un(It,Nt,Nt,gt,gt)}return je.un.EMPTY}return je.ee.fromEditorSelection(Ue,ce,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(Ue,tt,gt)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(Ue,tt,gt)},Fe=this._register(new vt.Tj(this.textArea.domNode));this._textAreaInput=this._register(new vt.Fz(De,Fe,a.OS,p)),this._register(this._textAreaInput.onKeyDown(Ue=>{this._viewController.emitKeyDown(Ue)})),this._register(this._textAreaInput.onKeyUp(Ue=>{this._viewController.emitKeyUp(Ue)})),this._register(this._textAreaInput.onPaste(Ue=>{let tt=!1,gt=null,It=null;Ue.metadata&&(tt=this._emptySelectionClipboard&&!!Ue.metadata.isFromEmptySelection,gt=typeof Ue.metadata.multicursorText<"u"?Ue.metadata.multicursorText:null,It=Ue.metadata.mode),this._viewController.paste(Ue.text,tt,gt,It)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(Ue=>{Ue.replacePrevCharCnt||Ue.replaceNextCharCnt||Ue.positionDelta?(je.al&&console.log(` => compositionType: <<${Ue.text}>>, ${Ue.replacePrevCharCnt}, ${Ue.replaceNextCharCnt}, ${Ue.positionDelta}`),this._viewController.compositionType(Ue.text,Ue.replacePrevCharCnt,Ue.replaceNextCharCnt,Ue.positionDelta)):(je.al&&console.log(` => type: <<${Ue.text}>>`),this._viewController.type(Ue.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(Ue=>{this._viewController.setSelection(Ue)})),this._register(this._textAreaInput.onCompositionStart(Ue=>{const tt=this.textArea.domNode,gt=this._modelSelections[0],{distanceToModelLineStart:It,widthOfHiddenTextBefore:Nt}=(()=>{const qt=tt.value.substring(0,Math.min(tt.selectionStart,tt.selectionEnd)),si=qt.lastIndexOf(`
`),ci=qt.substring(si+1),vi=ci.lastIndexOf("	"),gi=ci.length-vi-1,Bi=gt.getStartPosition(),Ai=Math.min(Bi.column-1,gi),Wi=Bi.column-1-Ai,Ui=ci.substring(0,ci.length-Ai),Ri=Fi(Ui,this._fontInfo);return{distanceToModelLineStart:Wi,widthOfHiddenTextBefore:Ri}})(),{distanceToModelLineEnd:zt}=(()=>{const qt=tt.value.substring(Math.max(tt.selectionStart,tt.selectionEnd)),si=qt.indexOf(`
`),ci=si===-1?qt:qt.substring(0,si),vi=ci.indexOf("	"),gi=vi===-1?ci.length:ci.length-vi-1,Bi=gt.getEndPosition(),Ai=Math.min(this._context.viewModel.model.getLineMaxColumn(Bi.lineNumber)-Bi.column,gi);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(Bi.lineNumber)-Bi.column-Ai}})();this._context.viewModel.revealRange("keyboard",!0,Ie.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new mn(this._context,gt.startLineNumber,It,Nt,zt),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${xi.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(Ue=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${xi.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const o='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',v=this._context.viewModel.getLineContent(e.lineNumber),B=(0,ui.u)(o);let Y=!0,ce=e.column,De=!0,Fe=e.column,Ue=0;for(;Ue<50&&(Y||De);){if(Y&&ce<=1&&(Y=!1),Y){const tt=v.charCodeAt(ce-2);B.get(tt)!==0?Y=!1:ce--}if(De&&Fe>v.length&&(De=!1),De){const tt=v.charCodeAt(Fe-1);B.get(tt)!==0?De=!1:Fe++}Ue++}return[v.substring(ce-1,Fe-1),e.column-ce]}_getWordBeforePosition(e){const o=this._context.viewModel.getLineContent(e.lineNumber),v=(0,ui.u)(this._context.configuration.options.get(119));let B=e.column,Y=0;for(;B>1;){const ce=o.charCodeAt(B-2);if(v.get(ce)!==0||Y>50)return o.substring(B-1,e.column-1);Y++,B--}return o.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const v=this._context.viewModel.getLineContent(e.lineNumber).charAt(e.column-2);if(!Le.ZG(v.charCodeAt(0)))return v}return""}_getAriaLabel(e){return e.get(2)===1?$.NC("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",a.IJ?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const o=e.get(3);this._accessibilitySupport===2&&o===I.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=o}onConfigurationChanged(e){const o=this._context.configuration.options,v=o.get(133);return this._setAccessibilityOptions(o),this._contentLeft=v.contentLeft,this._contentWidth=v.contentWidth,this._contentHeight=v.height,this._fontInfo=o.get(46),this._lineHeight=o.get(61),this._emptySelectionClipboard=o.get(33),this._copyWithSyntaxHighlighting=o.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(o)),this.textArea.setAttribute("tabindex",String(o.get(114))),(e.hasChanged(30)||e.hasChanged(83))&&(o.get(30)&&o.get(83)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){var o;this._primaryCursorPosition=new me.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition),(o=this._visibleTextArea)===null||o===void 0||o.prepareRender(e)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const v=this._visibleTextArea.visibleTextareaStart,B=this._visibleTextArea.visibleTextareaEnd,Y=this._visibleTextArea.startPosition,ce=this._visibleTextArea.endPosition;if(Y&&ce&&v&&B&&B.left>=this._scrollLeft&&v.left<=this._scrollLeft+this._contentWidth){const De=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,Fe=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let Ue=this._visibleTextArea.widthOfHiddenLineTextBefore,tt=this._contentLeft+v.left-this._scrollLeft,gt=B.left-v.left+1;if(tt<this._contentLeft){const ci=this._contentLeft-tt;tt+=ci,Ue+=ci,gt-=ci}gt>this._contentWidth&&(gt=this._contentWidth);const It=this._context.viewModel.getViewLineData(Y.lineNumber),Nt=It.tokens.findTokenIndexAtOffset(Y.column-1),zt=It.tokens.findTokenIndexAtOffset(ce.column-1),qt=Nt===zt,si=this._visibleTextArea.definePresentation(qt?It.tokens.getPresentation(Nt):null);this.textArea.domNode.scrollTop=Fe*this._lineHeight,this.textArea.domNode.scrollLeft=Ue,this._doRender({lastRenderPosition:null,top:De,left:tt,width:gt,height:this._lineHeight,useCover:!1,color:(Si.RW.getColorMap()||[])[si.foreground],italic:si.italic,bold:si.bold,underline:si.underline,strikethrough:si.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const o=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(o<0||o>this._contentHeight){this._renderAtTopLeft();return}if(a.dz){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:o,left:e,width:Mi?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const v=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=v*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:o,left:e,width:Mi?0:1,height:Mi?0:1,useCover:!1})}_newlinecount(e){let o=0,v=-1;do{if(v=e.indexOf(`
`,v+1),v===-1)break;o++}while(!0);return o}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:Mi?0:1,height:Mi?0:1,useCover:!0})}_doRender(e){this._lastRenderPosition=e.lastRenderPosition;const o=this.textArea,v=this.textAreaCover;(0,Qe.N)(o,this._fontInfo),o.setTop(e.top),o.setLeft(e.left),o.setWidth(e.width),o.setHeight(e.height),o.setColor(e.color?mi.Il.Format.CSS.formatHex(e.color):""),o.setFontStyle(e.italic?"italic":""),e.bold&&o.setFontWeight("bold"),o.setTextDecoration(`${e.underline?" underline":""}${e.strikethrough?" line-through":""}`),v.setTop(e.useCover?e.top:0),v.setLeft(e.useCover?e.left:0),v.setWidth(e.useCover?e.width:0),v.setHeight(e.useCover?e.height:0);const B=this._context.configuration.options;B.get(52)?v.setClassName("monaco-editor-background textAreaCover "+ei.OUTER_CLASS_NAME):B.get(62).renderType!==0?v.setClassName("monaco-editor-background textAreaCover "+Ht.CLASS_NAME):v.setClassName("monaco-editor-background textAreaCover")}}function Fi(yt,e){if(yt.length===0)return 0;const o=document.createElement("div");o.style.position="absolute",o.style.top="-50000px",o.style.width="50000px";const v=document.createElement("span");(0,Qe.N)(v,e),v.style.whiteSpace="pre",v.append(yt),o.appendChild(v),document.body.appendChild(o);const B=v.offsetWidth;return document.body.removeChild(o),B}var Ni=i(69317);class Dn{constructor(e,o,v,B){this.configuration=e,this.viewModel=o,this.userInputEvents=v,this.commandDelegate=B}paste(e,o,v,B){this.commandDelegate.paste(e,o,v,B)}type(e){this.commandDelegate.type(e)}compositionType(e,o,v,B){this.commandDelegate.compositionType(e,o,v,B)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){Ni.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const o=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<o?new me.L(e.lineNumber,o):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(72)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(72)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const o=this.configuration.options,v=a.IJ&&o.get(98),B=o.get(18);e.middleButton&&!v?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount===2?e.onInjectedText||(this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position)):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):B?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){Ni.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){Ni.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,o,v){e=this._validateViewColumn(e),Ni.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:o,doColumnSelect:v})}_createCursor(e,o){e=this._validateViewColumn(e),Ni.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:o})}_lastCursorMoveToSelect(e){Ni.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){Ni.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){Ni.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){Ni.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){Ni.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){Ni.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){Ni.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){Ni.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){Ni.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class Tn{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){var o;(o=this.onKeyDown)===null||o===void 0||o.call(this,e)}emitKeyUp(e){var o;(o=this.onKeyUp)===null||o===void 0||o.call(this,e)}emitContextMenu(e){var o;(o=this.onContextMenu)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseMove(e){var o;(o=this.onMouseMove)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){var o;(o=this.onMouseLeave)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDown(e){var o;(o=this.onMouseDown)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseUp(e){var o;(o=this.onMouseUp)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){var o;(o=this.onMouseDrag)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){var o;(o=this.onMouseDrop)===null||o===void 0||o.call(this,this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){var e;(e=this.onMouseDropCanceled)===null||e===void 0||e.call(this)}emitMouseWheel(e){var o;(o=this.onMouseWheel)===null||o===void 0||o.call(this,e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return Tn.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,o){const v=Object.assign({},e);return v.position&&(v.position=o.convertViewPositionToModelPosition(v.position)),v.range&&(v.range=o.convertViewRangeToModelRange(v.range)),v}}var $i=i(50072),pn;class Sn{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,o){this._lines=o,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const o=e-this._rendLineNumberStart;if(o<0||o>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[o]}onLinesDeleted(e,o){if(this.getCount()===0)return null;const v=this.getStartLineNumber(),B=this.getEndLineNumber();if(o<v){const Fe=o-e+1;return this._rendLineNumberStart-=Fe,null}if(e>B)return null;let Y=0,ce=0;for(let Fe=v;Fe<=B;Fe++){const Ue=Fe-this._rendLineNumberStart;e<=Fe&&Fe<=o&&(ce===0?(Y=Ue,ce=1):ce++)}if(e<v){let Fe=0;o<v?Fe=o-e+1:Fe=v-e,this._rendLineNumberStart-=Fe}return this._lines.splice(Y,ce)}onLinesChanged(e,o){const v=e+o-1;if(this.getCount()===0)return!1;const B=this.getStartLineNumber(),Y=this.getEndLineNumber();let ce=!1;for(let De=e;De<=v;De++)De>=B&&De<=Y&&(this._lines[De-this._rendLineNumberStart].onContentChanged(),ce=!0);return ce}onLinesInserted(e,o){if(this.getCount()===0)return null;const v=o-e+1,B=this.getStartLineNumber(),Y=this.getEndLineNumber();if(e<=B)return this._rendLineNumberStart+=v,null;if(e>Y)return null;if(v+e>Y)return this._lines.splice(e-this._rendLineNumberStart,Y-e+1);const ce=[];for(let gt=0;gt<v;gt++)ce[gt]=this._createLine();const De=e-this._rendLineNumberStart,Fe=this._lines.slice(0,De),Ue=this._lines.slice(De,this._lines.length-v),tt=this._lines.slice(this._lines.length-v,this._lines.length);return this._lines=Fe.concat(ce).concat(Ue),tt}onTokensChanged(e){if(this.getCount()===0)return!1;const o=this.getStartLineNumber(),v=this.getEndLineNumber();let B=!1;for(let Y=0,ce=e.length;Y<ce;Y++){const De=e[Y];if(De.toLineNumber<o||De.fromLineNumber>v)continue;const Fe=Math.max(o,De.fromLineNumber),Ue=Math.min(v,De.toLineNumber);for(let tt=Fe;tt<=Ue;tt++){const gt=tt-this._rendLineNumberStart;this._lines[gt].onTokensChanged(),B=!0}}return B}}class wn{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new Sn(()=>this._host.createVisibleLine())}_createDomNode(){const e=(0,S.X)(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(133)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){const o=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(o)for(let v=0,B=o.length;v<B;v++){const Y=o[v].getDomNode();Y&&this.domNode.domNode.removeChild(Y)}return!0}onLinesInserted(e){const o=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(o)for(let v=0,B=o.length;v<B;v++){const Y=o[v].getDomNode();Y&&this.domNode.domNode.removeChild(Y)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const o=this._linesCollection._get(),v=new li(this.domNode.domNode,this._host,e),B={rendLineNumberStart:o.rendLineNumberStart,lines:o.lines,linesLength:o.lines.length},Y=v.render(B,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(Y.rendLineNumberStart,Y.lines)}}class li{constructor(e,o,v){this.domNode=e,this.host=o,this.viewportData=v}render(e,o,v,B){const Y={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(Y.rendLineNumberStart+Y.linesLength-1<o||v<Y.rendLineNumberStart){Y.rendLineNumberStart=o,Y.linesLength=v-o+1,Y.lines=[];for(let ce=o;ce<=v;ce++)Y.lines[ce-o]=this.host.createVisibleLine();return this._finishRendering(Y,!0,B),Y}if(this._renderUntouchedLines(Y,Math.max(o-Y.rendLineNumberStart,0),Math.min(v-Y.rendLineNumberStart,Y.linesLength-1),B,o),Y.rendLineNumberStart>o){const ce=o,De=Math.min(v,Y.rendLineNumberStart-1);ce<=De&&(this._insertLinesBefore(Y,ce,De,B,o),Y.linesLength+=De-ce+1)}else if(Y.rendLineNumberStart<o){const ce=Math.min(Y.linesLength,o-Y.rendLineNumberStart);ce>0&&(this._removeLinesBefore(Y,ce),Y.linesLength-=ce)}if(Y.rendLineNumberStart=o,Y.rendLineNumberStart+Y.linesLength-1<v){const ce=Y.rendLineNumberStart+Y.linesLength,De=v;ce<=De&&(this._insertLinesAfter(Y,ce,De,B,o),Y.linesLength+=De-ce+1)}else if(Y.rendLineNumberStart+Y.linesLength-1>v){const ce=Math.max(0,v-Y.rendLineNumberStart+1),Fe=Y.linesLength-1-ce+1;Fe>0&&(this._removeLinesAfter(Y,Fe),Y.linesLength-=Fe)}return this._finishRendering(Y,!1,B),Y}_renderUntouchedLines(e,o,v,B,Y){const ce=e.rendLineNumberStart,De=e.lines;for(let Fe=o;Fe<=v;Fe++){const Ue=ce+Fe;De[Fe].layoutLine(Ue,B[Ue-Y])}}_insertLinesBefore(e,o,v,B,Y){const ce=[];let De=0;for(let Fe=o;Fe<=v;Fe++)ce[De++]=this.host.createVisibleLine();e.lines=ce.concat(e.lines)}_removeLinesBefore(e,o){for(let v=0;v<o;v++){const B=e.lines[v].getDomNode();B&&this.domNode.removeChild(B)}e.lines.splice(0,o)}_insertLinesAfter(e,o,v,B,Y){const ce=[];let De=0;for(let Fe=o;Fe<=v;Fe++)ce[De++]=this.host.createVisibleLine();e.lines=e.lines.concat(ce)}_removeLinesAfter(e,o){const v=e.linesLength-o;for(let B=0;B<o;B++){const Y=e.lines[v+B].getDomNode();Y&&this.domNode.removeChild(Y)}e.lines.splice(v,o)}_finishRenderingNewLines(e,o,v,B){li._ttPolicy&&(v=li._ttPolicy.createHTML(v));const Y=this.domNode.lastChild;o||!Y?this.domNode.innerHTML=v:Y.insertAdjacentHTML("afterend",v);let ce=this.domNode.lastChild;for(let De=e.linesLength-1;De>=0;De--){const Fe=e.lines[De];B[De]&&(Fe.setDomNode(ce),ce=ce.previousSibling)}}_finishRenderingInvalidLines(e,o,v){const B=document.createElement("div");li._ttPolicy&&(o=li._ttPolicy.createHTML(o)),B.innerHTML=o;for(let Y=0;Y<e.linesLength;Y++){const ce=e.lines[Y];if(v[Y]){const De=B.firstChild,Fe=ce.getDomNode();Fe.parentNode.replaceChild(De,Fe),ce.setDomNode(De)}}}_finishRendering(e,o,v){const B=li._sb,Y=e.linesLength,ce=e.lines,De=e.rendLineNumberStart,Fe=[];{B.reset();let Ue=!1;for(let tt=0;tt<Y;tt++){const gt=ce[tt];Fe[tt]=!1,!(gt.getDomNode()||!gt.renderLine(tt+De,v[tt],this.viewportData,B))&&(Fe[tt]=!0,Ue=!0)}Ue&&this._finishRenderingNewLines(e,o,B.build(),Fe)}{B.reset();let Ue=!1;const tt=[];for(let gt=0;gt<Y;gt++){const It=ce[gt];tt[gt]=!1,!(Fe[gt]||!It.renderLine(gt+De,v[gt],this.viewportData,B))&&(tt[gt]=!0,Ue=!0)}Ue&&this._finishRenderingInvalidLines(e,B.build(),tt)}}}li._ttPolicy=(pn=window.trustedTypes)===null||pn===void 0?void 0:pn.createPolicy("editorViewLayer",{createHTML:yt=>yt}),li._sb=(0,$i.l$)(1e5);class Ke extends se{constructor(e){super(e),this._visibleLines=new wn(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,o=this._dynamicOverlays.length;e<o;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,o=this._dynamicOverlays.length;e<o;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Rt(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const o=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();for(let B=o;B<=v;B++)this._visibleLines.getVisibleLine(B).onConfigurationChanged(e);return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const o=this._dynamicOverlays.filter(v=>v.shouldRender());for(let v=0,B=o.length;v<B;v++){const Y=o[v];Y.prepareRender(e),Y.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class Rt{constructor(e,o){this._configuration=e,this._lineHeight=this._configuration.options.get(61),this._dynamicOverlays=o,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=(0,S.X)(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(61)}renderLine(e,o,v,B){let Y="";for(let ce=0,De=this._dynamicOverlays.length;ce<De;ce++)Y+=this._dynamicOverlays[ce].render(v.startLineNumber,e);return this._renderedContent===Y?!1:(this._renderedContent=Y,B.appendASCIIString('<div style="position:absolute;top:'),B.appendASCIIString(String(o)),B.appendASCIIString("px;width:100%;height:"),B.appendASCIIString(String(this._lineHeight)),B.appendASCIIString('px;">'),B.appendASCIIString(Y),B.appendASCIIString("</div>"),!0)}layoutLine(e,o){this._domNode&&(this._domNode.setTop(o),this._domNode.setHeight(this._lineHeight))}}class At extends Ke{constructor(e){super(e);const v=this._context.configuration.options.get(133);this._contentWidth=v.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const v=this._context.configuration.options.get(133);return this._contentWidth=v.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class ni extends Ke{constructor(e){super(e);const o=this._context.configuration.options,v=o.get(133);this._contentLeft=v.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,Qe.N)(this.domNode,o.get(46))}onConfigurationChanged(e){const o=this._context.configuration.options;(0,Qe.N)(this.domNode,o.get(46));const v=o.get(133);return this._contentLeft=v.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const o=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(o),this.domNode.setWidth(this._contentLeft)}}class ii{constructor(e,o){this._coordinateBrand=void 0,this.top=e,this.left=o}}class xt extends se{constructor(e,o){super(e),this._viewDomNode=o,this._widgets={},this.domNode=(0,S.X)(document.createElement("div")),ne.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,S.X)(document.createElement("div")),ne.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const o=Object.keys(this._widgets);for(const v of o)this._widgets[v].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const o=Object.keys(this._widgets);for(const v of o)this._widgets[v].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const o=new Ve(this._context,this._viewDomNode,e);this._widgets[o.id]=o,o.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(o.domNode):this.domNode.appendChild(o.domNode),this.setShouldRender()}setWidgetPosition(e,o,v,B){this._widgets[e.getId()].setPosition(o,v,B),this.setShouldRender()}removeWidget(e){const o=e.getId();if(this._widgets.hasOwnProperty(o)){const v=this._widgets[o];delete this._widgets[o];const B=v.domNode.domNode;B.parentNode.removeChild(B),B.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const o=Object.keys(this._widgets);for(const v of o)this._widgets[v].onBeforeRender(e)}prepareRender(e){const o=Object.keys(this._widgets);for(const v of o)this._widgets[v].prepareRender(e)}render(e){const o=Object.keys(this._widgets);for(const v of o)this._widgets[v].render(e)}}class Ve{constructor(e,o,v){this._context=e,this._viewDomNode=o,this._actual=v,this.domNode=(0,S.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const B=this._context.configuration.options,Y=B.get(133);this._fixedOverflowWidgets=B.get(38),this._contentWidth=Y.contentWidth,this._contentLeft=Y.contentLeft,this._lineHeight=B.get(61),this._range=null,this._viewRange=null,this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const o=this._context.configuration.options;if(this._lineHeight=o.get(61),e.hasChanged(133)){const v=o.get(133);this._contentLeft=v.contentLeft,this._contentWidth=v.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range,this._affinity)}_setPosition(e,o){var v;if(this._range=e,this._viewRange=null,this._affinity=o,this._range){const B=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(B.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(B.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(B,(v=this._affinity)!==null&&v!==void 0?v:void 0))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(e,o,v){this._setPosition(e,v),this._preference=o,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(e,o,v,B,Y){const ce=e.top,De=ce,Fe=o.top+this._lineHeight,Ue=Y.viewportHeight-Fe,tt=ce-B,gt=De>=B,It=Fe,Nt=Ue>=B;let zt=e.left,qt=o.left;return zt+v>Y.scrollLeft+Y.viewportWidth&&(zt=Y.scrollLeft+Y.viewportWidth-v),qt+v>Y.scrollLeft+Y.viewportWidth&&(qt=Y.scrollLeft+Y.viewportWidth-v),zt<Y.scrollLeft&&(zt=Y.scrollLeft),qt<Y.scrollLeft&&(qt=Y.scrollLeft),{fitsAbove:gt,aboveTop:tt,aboveLeft:zt,fitsBelow:Nt,belowTop:It,belowLeft:qt}}_layoutHorizontalSegmentInPage(e,o,v,B){const Y=Math.max(0,o.left-B),ce=Math.min(o.left+o.width+B,e.width);let De=o.left+v-M.DI.scrollX;if(De+B>ce){const Fe=De-(ce-B);De-=Fe,v-=Fe}if(De<Y){const Fe=De-Y;De-=Fe,v-=Fe}return[v,De]}_layoutBoxInPage(e,o,v,B,Y){const ce=e.top-B,De=o.top+this._lineHeight,Fe=M.i(this._viewDomNode.domNode),Ue=Fe.top+ce-M.DI.scrollY,tt=Fe.top+De-M.DI.scrollY,gt=M.D6(document.body),[It,Nt]=this._layoutHorizontalSegmentInPage(gt,Fe,e.left-Y.scrollLeft+this._contentLeft,v),[zt,qt]=this._layoutHorizontalSegmentInPage(gt,Fe,o.left-Y.scrollLeft+this._contentLeft,v),si=22,ci=22,vi=Ue>=si,gi=tt+B<=gt.height-ci;return this._fixedOverflowWidgets?{fitsAbove:vi,aboveTop:Math.max(Ue,si),aboveLeft:Nt,fitsBelow:gi,belowTop:tt,belowLeft:qt}:{fitsAbove:vi,aboveTop:ce,aboveLeft:It,fitsBelow:gi,belowTop:De,belowLeft:zt}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new ii(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const o=e.linesVisibleRangesForRange(this._viewRange,!1);if(!o||o.length===0)return[null,null];let v=o[0],B=o[0];for(const gt of o)gt.lineNumber<v.lineNumber&&(v=gt),gt.lineNumber>B.lineNumber&&(B=gt);let Y=1073741824;for(const gt of v.ranges)gt.left<Y&&(Y=gt.left);let ce=1073741824;for(const gt of B.ranges)gt.left<ce&&(ce=gt.left);const De=e.getVerticalOffsetForLineNumber(v.lineNumber)-e.scrollTop,Fe=new ii(De,Y),Ue=e.getVerticalOffsetForLineNumber(B.lineNumber)-e.scrollTop,tt=new ii(Ue,ce);return[Fe,tt]}_prepareRenderWidget(e){if(!this._preference||this._preference.length===0)return null;const[o,v]=this._getTopAndBottomLeft(e);if(!o||!v)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let Y=null;if(typeof this._actual.beforeRender=="function"&&(Y=dt(this._actual.beforeRender,this._actual)),Y)this._cachedDomNodeOffsetWidth=Y.width,this._cachedDomNodeOffsetHeight=Y.height;else{const De=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(De.width),this._cachedDomNodeOffsetHeight=Math.round(De.height)}}let B;this.allowEditorOverflow?B=this._layoutBoxInPage(o,v,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e):B=this._layoutBoxInViewport(o,v,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,e);for(let Y=1;Y<=2;Y++)for(const ce of this._preference)if(ce===1){if(!B)return null;if(Y===2||B.fitsAbove)return{coordinate:new ii(B.aboveTop,B.aboveLeft),position:1}}else if(ce===2){if(!B)return null;if(Y===2||B.fitsBelow)return{coordinate:new ii(B.belowTop,B.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(o),position:0}:{coordinate:o,position:0};return null}onBeforeRender(e){!this._viewRange||!this._preference||this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&dt(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&dt(this._actual.afterRender,this._actual,this._renderData.position)}}function dt(yt,e,...o){try{return yt.call(e,...o)}catch{return null}}class Tt extends ht{constructor(e){super(),this._context=e;const o=this._context.configuration.options,v=o.get(133);this._lineHeight=o.get(61),this._renderLineHighlight=o.get(87),this._renderLineHighlightOnlyWhenFocus=o.get(88),this._contentLeft=v.contentLeft,this._contentWidth=v.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new re.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const o=this._selections.map(B=>B.positionLineNumber);o.sort((B,Y)=>B-Y),l.fS(this._cursorLineNumbers,o)||(this._cursorLineNumbers=o,e=!0);const v=this._selections.every(B=>B.isEmpty());return this._selectionIsEmpty!==v&&(this._selectionIsEmpty=v,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const o=this._context.configuration.options,v=o.get(133);return this._lineHeight=o.get(61),this._renderLineHighlight=o.get(87),this._renderLineHighlightOnlyWhenFocus=o.get(88),this._contentLeft=v.contentLeft,this._contentWidth=v.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const o=this._renderOne(e),v=e.visibleRange.startLineNumber,B=e.visibleRange.endLineNumber,Y=this._cursorLineNumbers.length;let ce=0;const De=[];for(let Fe=v;Fe<=B;Fe++){const Ue=Fe-v;for(;ce<Y&&this._cursorLineNumbers[ce]<Fe;)ce++;ce<Y&&this._cursorLineNumbers[ce]===Fe?De[Ue]=o:De[Ue]=""}this._renderData=De}render(e,o){if(!this._renderData)return"";const v=o-e;return v>=this._renderData.length?"":this._renderData[v]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class jt extends Tt{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class $t extends Tt{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,Dt.Ic)((yt,e)=>{const o=yt.getColor(bt.Kh);if(o&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${o}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${o}; border: none; }`)),!o||o.isTransparent()||yt.defines(bt.Mm)){const v=yt.getColor(bt.Mm);v&&(e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${v}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${v}; }`),(0,at.c3)(yt.type)&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});class Wt extends ht{constructor(e){super(),this._context=e;const o=this._context.configuration.options;this._lineHeight=o.get(61),this._typicalHalfwidthCharacterWidth=o.get(46).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._lineHeight=o.get(61),this._typicalHalfwidthCharacterWidth=o.get(46).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const o=e.getDecorationsInViewport();let v=[],B=0;for(let Fe=0,Ue=o.length;Fe<Ue;Fe++){const tt=o[Fe];tt.options.className&&(v[B++]=tt)}v=v.sort((Fe,Ue)=>{if(Fe.options.zIndex<Ue.options.zIndex)return-1;if(Fe.options.zIndex>Ue.options.zIndex)return 1;const tt=Fe.options.className,gt=Ue.options.className;return tt<gt?-1:tt>gt?1:Ie.e.compareRangesUsingStarts(Fe.range,Ue.range)});const Y=e.visibleRange.startLineNumber,ce=e.visibleRange.endLineNumber,De=[];for(let Fe=Y;Fe<=ce;Fe++){const Ue=Fe-Y;De[Ue]=""}this._renderWholeLineDecorations(e,v,De),this._renderNormalDecorations(e,v,De),this._renderResult=De}_renderWholeLineDecorations(e,o,v){const B=String(this._lineHeight),Y=e.visibleRange.startLineNumber,ce=e.visibleRange.endLineNumber;for(let De=0,Fe=o.length;De<Fe;De++){const Ue=o[De];if(!Ue.options.isWholeLine)continue;const tt='<div class="cdr '+Ue.options.className+'" style="left:0;width:100%;height:'+B+'px;"></div>',gt=Math.max(Ue.range.startLineNumber,Y),It=Math.min(Ue.range.endLineNumber,ce);for(let Nt=gt;Nt<=It;Nt++){const zt=Nt-Y;v[zt]+=tt}}}_renderNormalDecorations(e,o,v){const B=String(this._lineHeight),Y=e.visibleRange.startLineNumber;let ce=null,De=!1,Fe=null;for(let Ue=0,tt=o.length;Ue<tt;Ue++){const gt=o[Ue];if(gt.options.isWholeLine)continue;const It=gt.options.className,Nt=Boolean(gt.options.showIfCollapsed);let zt=gt.range;if(Nt&&zt.endColumn===1&&zt.endLineNumber!==zt.startLineNumber&&(zt=new Ie.e(zt.startLineNumber,zt.startColumn,zt.endLineNumber-1,this._context.viewModel.getLineMaxColumn(zt.endLineNumber-1))),ce===It&&De===Nt&&Ie.e.areIntersectingOrTouching(Fe,zt)){Fe=Ie.e.plusRange(Fe,zt);continue}ce!==null&&this._renderNormalDecoration(e,Fe,ce,De,B,Y,v),ce=It,De=Nt,Fe=zt}ce!==null&&this._renderNormalDecoration(e,Fe,ce,De,B,Y,v)}_renderNormalDecoration(e,o,v,B,Y,ce,De){const Fe=e.linesVisibleRangesForRange(o,v==="findMatch");if(!!Fe)for(let Ue=0,tt=Fe.length;Ue<tt;Ue++){const gt=Fe[Ue];if(gt.outsideRenderedLine)continue;const It=gt.lineNumber-ce;if(B&&gt.ranges.length===1){const Nt=gt.ranges[0];if(Nt.width<this._typicalHalfwidthCharacterWidth){const zt=Math.round(Nt.left+Nt.width/2),qt=Math.max(0,Math.round(zt-this._typicalHalfwidthCharacterWidth/2));gt.ranges[0]=new Me(qt,this._typicalHalfwidthCharacterWidth)}}for(let Nt=0,zt=gt.ranges.length;Nt<zt;Nt++){const qt=gt.ranges[Nt],si='<div class="cdr '+v+'" style="left:'+String(qt.left)+"px;width:"+String(qt.width)+"px;height:"+Y+'px;"></div>';De[It]+=si}}}render(e,o){if(!this._renderResult)return"";const v=o-e;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}var We=i(41416),Xe=i(73910);class ut extends se{constructor(e,o,v,B){super(e);const Y=this._context.configuration.options,ce=Y.get(94),De=Y.get(69),Fe=Y.get(36),Ue=Y.get(97),tt={listenOnDomNode:v.domNode,className:"editor-scrollable "+(0,Dt.m6)(e.theme.type),useShadows:!1,lazyRender:!0,vertical:ce.vertical,horizontal:ce.horizontal,verticalHasArrows:ce.verticalHasArrows,horizontalHasArrows:ce.horizontalHasArrows,verticalScrollbarSize:ce.verticalScrollbarSize,verticalSliderSize:ce.verticalSliderSize,horizontalScrollbarSize:ce.horizontalScrollbarSize,horizontalSliderSize:ce.horizontalSliderSize,handleMouseWheel:ce.handleMouseWheel,alwaysConsumeMouseWheel:ce.alwaysConsumeMouseWheel,arrowSize:ce.arrowSize,mouseWheelScrollSensitivity:De,fastScrollSensitivity:Fe,scrollPredominantAxis:Ue,scrollByPage:ce.scrollByPage};this.scrollbar=this._register(new We.$Z(o.domNode,tt,this._context.viewLayout.getScrollable())),ne.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,S.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const gt=(It,Nt,zt)=>{const qt={};if(Nt){const si=It.scrollTop;si&&(qt.scrollTop=this._context.viewLayout.getCurrentScrollTop()+si,It.scrollTop=0)}if(zt){const si=It.scrollLeft;si&&(qt.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+si,It.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(qt,1)};this._register(M.nm(v.domNode,"scroll",It=>gt(v.domNode,!0,!0))),this._register(M.nm(o.domNode,"scroll",It=>gt(o.domNode,!0,!1))),this._register(M.nm(B.domNode,"scroll",It=>gt(B.domNode,!0,!1))),this._register(M.nm(this.scrollbarDomNode.domNode,"scroll",It=>gt(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,o=e.get(133);this.scrollbarDomNode.setLeft(o.contentLeft),e.get(67).side==="right"?this.scrollbarDomNode.setWidth(o.contentWidth+o.minimap.minimapWidth):this.scrollbarDomNode.setWidth(o.contentWidth),this.scrollbarDomNode.setHeight(o.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(e){this.scrollbar.delegateVerticalScrollbarPointerDown(e)}onConfigurationChanged(e){if(e.hasChanged(94)||e.hasChanged(69)||e.hasChanged(36)){const o=this._context.configuration.options,v=o.get(94),B=o.get(69),Y=o.get(36),ce=o.get(97),De={vertical:v.vertical,horizontal:v.horizontal,verticalScrollbarSize:v.verticalScrollbarSize,horizontalScrollbarSize:v.horizontalScrollbarSize,scrollByPage:v.scrollByPage,handleMouseWheel:v.handleMouseWheel,mouseWheelScrollSensitivity:B,fastScrollSensitivity:Y,scrollPredominantAxis:ce};this.scrollbar.updateOptions(De)}return e.hasChanged(133)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+(0,Dt.m6)(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}(0,Dt.Ic)((yt,e)=>{const o=yt.getColor(Xe._wn);o&&e.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${o} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${o} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${o} 6px 6px 6px -6px inset;
			}
		`);const v=yt.getColor(Xe.etL);v&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${v};
			}
		`);const B=yt.getColor(Xe.ABB);B&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${B};
			}
		`);const Y=yt.getColor(Xe.ynu);Y&&e.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${Y};
			}
		`)});class pt{constructor(e,o,v){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+o,this.className=String(v)}}class kt extends ht{_render(e,o,v){const B=[];for(let De=e;De<=o;De++){const Fe=De-e;B[Fe]=[]}if(v.length===0)return B;v.sort((De,Fe)=>De.className===Fe.className?De.startLineNumber===Fe.startLineNumber?De.endLineNumber-Fe.endLineNumber:De.startLineNumber-Fe.startLineNumber:De.className<Fe.className?-1:1);let Y=null,ce=0;for(let De=0,Fe=v.length;De<Fe;De++){const Ue=v[De],tt=Ue.className;let gt=Math.max(Ue.startLineNumber,e)-e;const It=Math.min(Ue.endLineNumber,o)-e;Y===tt?(gt=Math.max(ce+1,gt),ce=Math.max(ce,It)):(Y=tt,ce=It);for(let Nt=gt;Nt<=ce;Nt++)B[Nt].push(Y)}return B}}class Kt extends kt{constructor(e){super(),this._context=e;const o=this._context.configuration.options,v=o.get(133);this._lineHeight=o.get(61),this._glyphMargin=o.get(52),this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options,v=o.get(133);return this._lineHeight=o.get(61),this._glyphMargin=o.get(52),this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const o=e.getDecorationsInViewport(),v=[];let B=0;for(let Y=0,ce=o.length;Y<ce;Y++){const De=o[Y],Fe=De.options.glyphMarginClassName;Fe&&(v[B++]=new pt(De.range.startLineNumber,De.range.endLineNumber,Fe))}return v}prepareRender(e){if(!this._glyphMargin){this._renderResult=null;return}const o=e.visibleRange.startLineNumber,v=e.visibleRange.endLineNumber,B=this._render(o,v,this._getDecorations(e)),Y=this._lineHeight.toString(),ce=this._glyphMarginLeft.toString(),De=this._glyphMarginWidth.toString(),Fe='" style="left:'+ce+"px;width:"+De+"px;height:"+Y+'px;"></div>',Ue=[];for(let tt=o;tt<=v;tt++){const gt=tt-o,It=B[gt];It.length===0?Ue[gt]="":Ue[gt]='<div class="cgmr codicon '+It.join(" ")+Fe}this._renderResult=Ue}render(e,o){if(!this._renderResult)return"";const v=o-e;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}var Gt=i(98401),Ei=i(1516),Oi=i(65094);class wi extends ht{constructor(e){super(),this._context=e,this._primaryPosition=null;const o=this._context.configuration.options,v=o.get(134),B=o.get(46);this._lineHeight=o.get(61),this._spaceWidth=B.spaceWidth,this._maxIndentLeft=v.wrappingColumn===-1?-1:v.wrappingColumn*B.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options,v=o.get(134),B=o.get(46);return this._lineHeight=o.get(61),this._spaceWidth=B.spaceWidth,this._maxIndentLeft=v.wrappingColumn===-1?-1:v.wrappingColumn*B.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),!0}onCursorStateChanged(e){var o;const B=e.selections[0].getPosition();return!((o=this._primaryPosition)===null||o===void 0)&&o.equals(B)?!1:(this._primaryPosition=B,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){var o,v,B,Y;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const ce=e.visibleRange.startLineNumber,De=e.visibleRange.endLineNumber,Fe=e.scrollWidth,Ue=this._lineHeight,tt=this._primaryPosition,gt=this.getGuidesByLine(ce,De,tt),It=[];for(let Nt=ce;Nt<=De;Nt++){const zt=Nt-ce,qt=gt[zt];let si="";const ci=(v=(o=e.visibleRangeForPosition(new me.L(Nt,1)))===null||o===void 0?void 0:o.left)!==null&&v!==void 0?v:0;for(const vi of qt){const gi=vi.column===-1?ci+(vi.visibleColumn-1)*this._spaceWidth:e.visibleRangeForPosition(new me.L(Nt,vi.column)).left;if(gi>Fe||this._maxIndentLeft>0&&gi>this._maxIndentLeft)break;const Bi=vi.horizontalLine?vi.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",Ai=vi.horizontalLine?((Y=(B=e.visibleRangeForPosition(new me.L(Nt,vi.horizontalLine.endColumn)))===null||B===void 0?void 0:B.left)!==null&&Y!==void 0?Y:gi+this._spaceWidth)-gi:this._spaceWidth;si+=`<div class="core-guide ${vi.className} ${Bi}" style="left:${gi}px;height:${Ue}px;width:${Ai}px"></div>`}It[zt]=si}this._renderResult=It}getGuidesByLine(e,o,v){const B=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(e,o,v,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?Oi.s6.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?Oi.s6.EnabledForActive:Oi.s6.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,Y=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(e,o):null;let ce=0,De=0,Fe=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&v){const gt=this._context.viewModel.getActiveIndentGuide(v.lineNumber,e,o);ce=gt.startLineNumber,De=gt.endLineNumber,Fe=gt.indent}const{indentSize:Ue}=this._context.viewModel.model.getOptions(),tt=[];for(let gt=e;gt<=o;gt++){const It=new Array;tt.push(It);const Nt=B?B[gt-e]:[],zt=new l.H9(Nt),qt=Y?Y[gt-e]:[];for(let si=1;si<=qt;si++){const ci=(si-1)*Ue+1,vi=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||Nt.length===0)&&ce<=gt&&gt<=De&&si===Fe;It.push(...zt.takeWhile(Bi=>Bi.visibleColumn<ci)||[]);const gi=zt.peek();(!gi||gi.visibleColumn!==ci||gi.horizontalLine)&&It.push(new Oi.UO(ci,-1,vi?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}It.push(...zt.takeWhile(si=>!0)||[])}return tt}render(e,o){if(!this._renderResult)return"";const v=o-e;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}function Pt(yt){if(!(yt&&yt.isTransparent()))return yt}(0,Dt.Ic)((yt,e)=>{const o=yt.getColor(bt.tR);o&&e.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${o} inset; }`);const v=yt.getColor(bt.Ym)||o;v&&e.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${v} inset; }`);const B=[{bracketColor:bt.zJ,guideColor:bt.oV,guideColorActive:bt.Qb},{bracketColor:bt.Vs,guideColor:bt.m$,guideColorActive:bt.m3},{bracketColor:bt.CE,guideColor:bt.DS,guideColorActive:bt.To},{bracketColor:bt.UP,guideColor:bt.lS,guideColorActive:bt.L7},{bracketColor:bt.r0,guideColor:bt.Jn,guideColorActive:bt.HV},{bracketColor:bt.m1,guideColor:bt.YF,guideColorActive:bt.f9}],Y=new Ei.W,ce=B.map(De=>{var Fe,Ue;const tt=yt.getColor(De.bracketColor),gt=yt.getColor(De.guideColor),It=yt.getColor(De.guideColorActive),Nt=Pt((Fe=Pt(gt))!==null&&Fe!==void 0?Fe:tt==null?void 0:tt.transparent(.3)),zt=Pt((Ue=Pt(It))!==null&&Ue!==void 0?Ue:tt);if(!(!Nt||!zt))return{guideColor:Nt,guideColorActive:zt}}).filter(Gt.$K);if(ce.length>0){for(let De=0;De<30;De++){const Fe=ce[De%ce.length];e.addRule(`.monaco-editor .${Y.getInlineClassNameOfLevel(De).replace(/ /g,".")} { --guide-color: ${Fe.guideColor}; --guide-color-active: ${Fe.guideColorActive}; }`)}e.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),e.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),e.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),e.addRule(`.monaco-editor .vertical.${Y.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),e.addRule(`.monaco-editor .horizontal-top.${Y.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),e.addRule(`.monaco-editor .horizontal-bottom.${Y.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});class Pi{constructor(){this._currentVisibleRange=new Ie.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class en{constructor(e,o,v,B,Y,ce,De){this.minimalReveal=e,this.lineNumber=o,this.startColumn=v,this.endColumn=B,this.startScrollTop=Y,this.stopScrollTop=ce,this.scrollType=De,this.type="range",this.minLineNumber=o,this.maxLineNumber=o}}class un{constructor(e,o,v,B,Y){this.minimalReveal=e,this.selections=o,this.startScrollTop=v,this.stopScrollTop=B,this.scrollType=Y,this.type="selections";let ce=o[0].startLineNumber,De=o[0].endLineNumber;for(let Fe=1,Ue=o.length;Fe<Ue;Fe++){const tt=o[Fe];ce=Math.min(ce,tt.startLineNumber),De=Math.max(De,tt.endLineNumber)}this.minLineNumber=ce,this.maxLineNumber=De}}class hn extends se{constructor(e,o){super(e),this._linesContent=o,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new wn(this),this.domNode=this._visibleLines.domNode;const v=this._context.configuration,B=this._context.configuration.options,Y=B.get(46),ce=B.get(134),De=B.get(133);this._lineHeight=B.get(61),this._typicalHalfwidthCharacterWidth=Y.typicalHalfwidthCharacterWidth,this._isViewportWrapping=ce.isViewportWrapping,this._revealHorizontalRightPadding=B.get(91),this._horizontalScrollbarHeight=De.horizontalScrollbarHeight,this._cursorSurroundingLines=B.get(25),this._cursorSurroundingLinesStyle=B.get(26),this._canUseLayerHinting=!B.get(28),this._viewLineOptions=new st(v,this._context.theme.type),ne.write(this.domNode,7),this.domNode.setClassName(`view-lines ${xi.S}`),(0,Qe.N)(this.domNode,Y),this._maxLineWidth=0,this._asyncUpdateLineWidths=new ge.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new ge.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new Pi,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new et(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(134)&&(this._maxLineWidth=0);const o=this._context.configuration.options,v=o.get(46),B=o.get(134),Y=o.get(133);return this._lineHeight=o.get(61),this._typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this._isViewportWrapping=B.isViewportWrapping,this._revealHorizontalRightPadding=o.get(91),this._horizontalScrollbarHeight=Y.horizontalScrollbarHeight,this._cursorSurroundingLines=o.get(25),this._cursorSurroundingLinesStyle=o.get(26),this._canUseLayerHinting=!o.get(28),(0,Qe.N)(this.domNode,v),this._onOptionsMaybeChanged(),e.hasChanged(133)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,o=new st(e,this._context.theme.type);if(!this._viewLineOptions.equals(o)){this._viewLineOptions=o;const v=this._visibleLines.getStartLineNumber(),B=this._visibleLines.getEndLineNumber();for(let Y=v;Y<=B;Y++)this._visibleLines.getVisibleLine(Y).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const o=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();let B=!1;for(let Y=o;Y<=v;Y++)B=this._visibleLines.getVisibleLine(Y).onSelectionChanged()||B;return B}onDecorationsChanged(e){{const o=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();for(let B=o;B<=v;B++)this._visibleLines.getVisibleLine(B).onDecorationsChanged()}return!0}onFlushed(e){const o=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,o}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const o=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.minimalReveal,e.range,e.selections,e.verticalType);if(o===-1)return!1;let v=this._context.viewLayout.validateScrollPosition({scrollTop:o});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?v={scrollTop:v.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new en(e.minimalReveal,e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),v.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new un(e.minimalReveal,e.selections,this._context.viewLayout.getCurrentScrollTop(),v.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const Y=Math.abs(this._context.viewLayout.getCurrentScrollTop()-v.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(v,Y),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const o=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),v=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<o||e.scrollTop>v)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,o){const v=this._getViewLineDomNode(e);if(v===null)return null;const B=this._getLineNumberFor(v);if(B===-1||B<1||B>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(B)===1)return new me.L(B,1);const Y=this._visibleLines.getStartLineNumber(),ce=this._visibleLines.getEndLineNumber();if(B<Y||B>ce)return null;let De=this._visibleLines.getVisibleLine(B).getColumnOfNodeOffset(B,e,o);const Fe=this._context.viewModel.getLineMinColumn(B);return De<Fe&&(De=Fe),new me.L(B,De)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===et.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const o=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();for(let B=o;B<=v;B++){const Y=this._visibleLines.getVisibleLine(B);if(e===Y.getDomNode())return B}return-1}getLineWidth(e){const o=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();return e<o||e>v?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,o){if(this.shouldRender())return null;const v=e.endLineNumber,B=Ie.e.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!B)return null;const Y=[];let ce=0;const De=new Je(this.domNode.domNode,this._textRangeRestingSpot);let Fe=0;o&&(Fe=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new me.L(B.startLineNumber,1)).lineNumber);const Ue=this._visibleLines.getStartLineNumber(),tt=this._visibleLines.getEndLineNumber();for(let gt=B.startLineNumber;gt<=B.endLineNumber;gt++){if(gt<Ue||gt>tt)continue;const It=gt===B.startLineNumber?B.startColumn:1,Nt=gt===B.endLineNumber?B.endColumn:this._context.viewModel.getLineMaxColumn(gt),zt=this._visibleLines.getVisibleLine(gt).getVisibleRangesForRange(gt,It,Nt,De);if(!!zt){if(o&&gt<v){const qt=Fe;Fe=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new me.L(gt+1,1)).lineNumber,qt!==Fe&&(zt.ranges[zt.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}Y[ce++]=new Ee(zt.outsideRenderedLine,gt,Me.from(zt.ranges))}}return ce===0?null:Y}_visibleRangesForLineRange(e,o,v){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(e,o,v,new Je(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const o=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return o?new le(o.outsideRenderedLine,o.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const o=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();let B=1,Y=!0;for(let ce=o;ce<=v;ce++){const De=this._visibleLines.getVisibleLine(ce);if(e&&!De.getWidthIsFast()){Y=!1;continue}B=Math.max(B,De.getWidth())}return Y&&o===1&&v===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(B),Y}_checkMonospaceFontAssumptions(){let e=-1,o=-1;const v=this._visibleLines.getStartLineNumber(),B=this._visibleLines.getEndLineNumber();for(let Y=v;Y<=B;Y++){const ce=this._visibleLines.getVisibleLine(Y);if(ce.needsMonospaceFontCheck()){const De=ce.getWidth();De>o&&(o=De,e=Y)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let Y=v;Y<=B;Y++)this._visibleLines.getVisibleLine(Y).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const v=this._horizontalRevealRequest;if(e.startLineNumber<=v.minLineNumber&&v.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const B=this._computeScrollLeftToReveal(v);B&&(this._isViewportWrapping||this._ensureMaxLineWidth(B.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:B.scrollLeft},v.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),a.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const v=this._visibleLines.getStartLineNumber(),B=this._visibleLines.getEndLineNumber();for(let Y=v;Y<=B;Y++)if(this._visibleLines.getVisibleLine(Y).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const o=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-o),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const o=Math.ceil(e);this._maxLineWidth<o&&(this._maxLineWidth=o,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,o,v,B,Y,ce){const De=e.top,Fe=e.height,Ue=De+Fe;let tt,gt,It;if(Y&&Y.length>0){let qt=Y[0].startLineNumber,si=Y[0].endLineNumber;for(let ci=1,vi=Y.length;ci<vi;ci++){const gi=Y[ci];qt=Math.min(qt,gi.startLineNumber),si=Math.max(si,gi.endLineNumber)}tt=!1,gt=this._context.viewLayout.getVerticalOffsetForLineNumber(qt),It=this._context.viewLayout.getVerticalOffsetForLineNumber(si)+this._lineHeight}else if(B)tt=!0,gt=this._context.viewLayout.getVerticalOffsetForLineNumber(B.startLineNumber),It=this._context.viewLayout.getVerticalOffsetForLineNumber(B.endLineNumber)+this._lineHeight;else return-1;if((o==="mouse"||v)&&this._cursorSurroundingLinesStyle==="default")v||(gt-=this._lineHeight);else{const qt=Math.min(Fe/this._lineHeight/2,this._cursorSurroundingLines);gt-=qt*this._lineHeight,It+=Math.max(0,qt-1)*this._lineHeight}(ce===0||ce===4)&&(It+=v?this._horizontalScrollbarHeight:this._lineHeight);let zt;if(It-gt>Fe){if(!tt)return-1;zt=gt}else if(ce===5||ce===6)if(ce===6&&De<=gt&&It<=Ue)zt=De;else{const qt=Math.max(5*this._lineHeight,Fe*.2),si=gt-qt,ci=It-Fe;zt=Math.max(ci,si)}else if(ce===1||ce===2)if(ce===2&&De<=gt&&It<=Ue)zt=De;else{const qt=(gt+It)/2;zt=Math.max(0,qt-Fe/2)}else zt=this._computeMinimumScrolling(De,Ue,gt,It,ce===3,ce===4);return zt}_computeScrollLeftToReveal(e){const o=this._context.viewLayout.getCurrentViewport(),v=o.left,B=v+o.width;let Y=1073741824,ce=0;if(e.type==="range"){const Fe=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!Fe)return null;for(const Ue of Fe.ranges)Y=Math.min(Y,Math.round(Ue.left)),ce=Math.max(ce,Math.round(Ue.left+Ue.width))}else for(const Fe of e.selections){if(Fe.startLineNumber!==Fe.endLineNumber)return null;const Ue=this._visibleRangesForLineRange(Fe.startLineNumber,Fe.startColumn,Fe.endColumn);if(!Ue)return null;for(const tt of Ue.ranges)Y=Math.min(Y,Math.round(tt.left)),ce=Math.max(ce,Math.round(tt.left+tt.width))}return e.minimalReveal||(Y=Math.max(0,Y-hn.HORIZONTAL_EXTRA_PX),ce+=this._revealHorizontalRightPadding),e.type==="selections"&&ce-Y>o.width?null:{scrollLeft:this._computeMinimumScrolling(v,B,Y,ce),maxHorizontalOffset:ce}}_computeMinimumScrolling(e,o,v,B,Y,ce){e=e|0,o=o|0,v=v|0,B=B|0,Y=!!Y,ce=!!ce;const De=o-e;if(B-v<De){if(Y)return v;if(ce)return Math.max(0,B-De);if(v<e)return v;if(B>o)return Math.max(0,B-De)}else return v;return e}}hn.HORIZONTAL_EXTRA_PX=30;class Gi extends kt{constructor(e){super(),this._context=e;const v=this._context.configuration.options.get(133);this._decorationsLeft=v.decorationsLeft,this._decorationsWidth=v.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const v=this._context.configuration.options.get(133);return this._decorationsLeft=v.decorationsLeft,this._decorationsWidth=v.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const o=e.getDecorationsInViewport(),v=[];let B=0;for(let Y=0,ce=o.length;Y<ce;Y++){const De=o[Y],Fe=De.options.linesDecorationsClassName;Fe&&(v[B++]=new pt(De.range.startLineNumber,De.range.endLineNumber,Fe));const Ue=De.options.firstLineDecorationClassName;Ue&&(v[B++]=new pt(De.range.startLineNumber,De.range.startLineNumber,Ue))}return v}prepareRender(e){const o=e.visibleRange.startLineNumber,v=e.visibleRange.endLineNumber,B=this._render(o,v,this._getDecorations(e)),Y=this._decorationsLeft.toString(),ce=this._decorationsWidth.toString(),De='" style="left:'+Y+"px;width:"+ce+'px;"></div>',Fe=[];for(let Ue=o;Ue<=v;Ue++){const tt=Ue-o,gt=B[tt];let It="";for(let Nt=0,zt=gt.length;Nt<zt;Nt++)It+='<div class="cldr '+gt[Nt]+De;Fe[tt]=It}this._renderResult=Fe}render(e,o){return this._renderResult?this._renderResult[o-e]:""}}class _n extends kt{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const o=e.getDecorationsInViewport(),v=[];let B=0;for(let Y=0,ce=o.length;Y<ce;Y++){const De=o[Y],Fe=De.options.marginClassName;Fe&&(v[B++]=new pt(De.range.startLineNumber,De.range.endLineNumber,Fe))}return v}prepareRender(e){const o=e.visibleRange.startLineNumber,v=e.visibleRange.endLineNumber,B=this._render(o,v,this._getDecorations(e)),Y=[];for(let ce=o;ce<=v;ce++){const De=ce-o,Fe=B[De];let Ue="";for(let tt=0,gt=Fe.length;tt<gt;tt++)Ue+='<div class="cmdr '+Fe[tt]+'" style=""></div>';Y[De]=Ue}this._renderResult=Y}render(e,o){return this._renderResult?this._renderResult[o-e]:""}}var an=i(93911);class tn{constructor(e,o,v,B){this._rgba8Brand=void 0,this.r=tn._clamp(e),this.g=tn._clamp(o),this.b=tn._clamp(v),this.a=tn._clamp(B)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}}tn.Empty=new tn(0,0,0,0);class En extends L.JT{constructor(){super(),this._onDidChange=new A.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(Si.RW.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,L.dk)(new En)),this._INSTANCE}_updateColorMap(){const e=Si.RW.getColorMap();if(!e){this._colors=[tn.Empty],this._backgroundIsLight=!0;return}this._colors=[tn.Empty];for(let v=1;v<e.length;v++){const B=e[v].rgba;this._colors[v]=new tn(B.r,B.g,B.b,Math.round(B.a*255))}const o=e[2].getRelativeLuminance();this._backgroundIsLight=o>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}En._INSTANCE=null;var nn=i(73621);const yi=(()=>{const yt=[];for(let e=32;e<=126;e++)yt.push(e);return yt.push(65533),yt})(),oi=(yt,e)=>(yt-=32,yt<0||yt>96?e<=2?(yt+96)%96:96-1:yt);var Ii=i(85427);class Vi{constructor(e,o){this.scale=o,this._minimapCharRendererBrand=void 0,this.charDataNormal=Vi.soften(e,12/15),this.charDataLight=Vi.soften(e,50/60)}static soften(e,o){const v=new Uint8ClampedArray(e.length);for(let B=0,Y=e.length;B<Y;B++)v[B]=(0,Ii.K)(e[B]*o);return v}renderChar(e,o,v,B,Y,ce,De,Fe,Ue,tt,gt){const It=1*this.scale,Nt=2*this.scale,zt=gt?1:Nt;if(o+It>e.width||v+zt>e.height){console.warn("bad render request outside image data");return}const qt=tt?this.charDataLight:this.charDataNormal,si=oi(B,Ue),ci=e.width*4,vi=De.r,gi=De.g,Bi=De.b,Ai=Y.r-vi,Wi=Y.g-gi,Ui=Y.b-Bi,Ri=Math.max(ce,Fe),Zi=e.data;let vn=si*It*Nt,on=v*ci+o*4;for(let kn=0;kn<zt;kn++){let Pn=on;for(let Jn=0;Jn<It;Jn++){const Nn=qt[vn++]/255*(ce/255);Zi[Pn++]=vi+Ai*Nn,Zi[Pn++]=gi+Wi*Nn,Zi[Pn++]=Bi+Ui*Nn,Zi[Pn++]=Ri}on+=ci}}blockRenderChar(e,o,v,B,Y,ce,De,Fe){const Ue=1*this.scale,tt=2*this.scale,gt=Fe?1:tt;if(o+Ue>e.width||v+gt>e.height){console.warn("bad render request outside image data");return}const It=e.width*4,Nt=.5*(Y/255),zt=ce.r,qt=ce.g,si=ce.b,ci=B.r-zt,vi=B.g-qt,gi=B.b-si,Bi=zt+ci*Nt,Ai=qt+vi*Nt,Wi=si+gi*Nt,Ui=Math.max(Y,De),Ri=e.data;let Zi=v*It+o*4;for(let vn=0;vn<gt;vn++){let on=Zi;for(let kn=0;kn<Ue;kn++)Ri[on++]=Bi,Ri[on++]=Ai,Ri[on++]=Wi,Ri[on++]=Ui;Zi+=It}}}var yn=i(88289);const zn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Bn=yt=>{const e=new Uint8ClampedArray(yt.length/2);for(let o=0;o<yt.length;o+=2)e[o>>1]=zn[yt[o]]<<4|zn[yt[o+1]]&15;return e},St={1:(0,yn.I)(()=>Bn("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,yn.I)(()=>Bn("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class N{static create(e,o){if(this.lastCreated&&e===this.lastCreated.scale&&o===this.lastFontFamily)return this.lastCreated;let v;return St[e]?v=new Vi(St[e](),e):v=N.createFromSampleData(N.createSampleData(o).data,e),this.lastFontFamily=o,this.lastCreated=v,v}static createSampleData(e){const o=document.createElement("canvas"),v=o.getContext("2d");o.style.height=`${16}px`,o.height=16,o.width=96*10,o.style.width=96*10+"px",v.fillStyle="#ffffff",v.font=`bold ${16}px ${e}`,v.textBaseline="middle";let B=0;for(const Y of yi)v.fillText(String.fromCharCode(Y),B,16/2),B+=10;return v.getImageData(0,0,96*10,16)}static createFromSampleData(e,o){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const B=N._downsample(e,o);return new Vi(B,o)}static _downsampleChar(e,o,v,B,Y){const ce=1*Y,De=2*Y;let Fe=B,Ue=0;for(let tt=0;tt<De;tt++){const gt=tt/De*16,It=(tt+1)/De*16;for(let Nt=0;Nt<ce;Nt++){const zt=Nt/ce*10,qt=(Nt+1)/ce*10;let si=0,ci=0;for(let gi=gt;gi<It;gi++){const Bi=o+Math.floor(gi)*3840,Ai=1-(gi-Math.floor(gi));for(let Wi=zt;Wi<qt;Wi++){const Ui=1-(Wi-Math.floor(Wi)),Ri=Bi+Math.floor(Wi)*4,Zi=Ui*Ai;ci+=Zi,si+=e[Ri]*e[Ri+3]/255*Zi}}const vi=si/ci;Ue=Math.max(Ue,vi),v[Fe++]=(0,Ii.K)(vi)}}return Ue}static _downsample(e,o){const v=2*o*1*o,B=v*96,Y=new Uint8ClampedArray(B);let ce=0,De=0,Fe=0;for(let Ue=0;Ue<96;Ue++)Fe=Math.max(Fe,this._downsampleChar(e,De,Y,ce,o)),ce+=v,De+=10*4;if(Fe>0){const Ue=255/Fe;for(let tt=0;tt<B;tt++)Y[tt]*=Ue}return Y}}var F=i(84973);const d=140,k=2;class te{constructor(e,o,v){const B=e.options,Y=B.get(131),ce=B.get(133),De=ce.minimap,Fe=B.get(46),Ue=B.get(67);this.renderMinimap=De.renderMinimap,this.size=Ue.size,this.minimapHeightIsEditorHeight=De.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=B.get(96),this.showSlider=Ue.showSlider,this.autohide=Ue.autohide,this.pixelRatio=Y,this.typicalHalfwidthCharacterWidth=Fe.typicalHalfwidthCharacterWidth,this.lineHeight=B.get(61),this.minimapLeft=De.minimapLeft,this.minimapWidth=De.minimapWidth,this.minimapHeight=ce.height,this.canvasInnerWidth=De.minimapCanvasInnerWidth,this.canvasInnerHeight=De.minimapCanvasInnerHeight,this.canvasOuterWidth=De.minimapCanvasOuterWidth,this.canvasOuterHeight=De.minimapCanvasOuterHeight,this.isSampling=De.minimapIsSampling,this.editorHeight=ce.height,this.fontScale=De.minimapScale,this.minimapLineHeight=De.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,yn.I)(()=>N.create(this.fontScale,Fe.fontFamily)),this.defaultBackgroundColor=v.getColor(2),this.backgroundColor=te._getMinimapBackground(o,this.defaultBackgroundColor),this.foregroundAlpha=te._getMinimapForegroundOpacity(o)}static _getMinimapBackground(e,o){const v=e.getColor(Xe.kVY);return v?new tn(v.rgba.r,v.rgba.g,v.rgba.b,Math.round(255*v.rgba.a)):o}static _getMinimapForegroundOpacity(e){const o=e.getColor(Xe.Itd);return o?tn._clamp(Math.round(255*o.rgba.a)):255}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.autohide===e.autohide&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(e.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)&&this.foregroundAlpha===e.foregroundAlpha}}class _e{constructor(e,o,v,B,Y,ce,De,Fe){this.scrollTop=e,this.scrollHeight=o,this.sliderNeeded=v,this._computedSliderRatio=B,this.sliderTop=Y,this.sliderHeight=ce,this.startLineNumber=De,this.endLineNumber=Fe}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,o,v,B,Y,ce,De,Fe,Ue,tt,gt){const It=e.pixelRatio,Nt=e.minimapLineHeight,zt=Math.floor(e.canvasInnerHeight/Nt),qt=e.lineHeight;if(e.minimapHeightIsEditorHeight){const Ai=Fe*e.lineHeight+(e.scrollBeyondLastLine?Y-e.lineHeight:0),Wi=Math.max(1,Math.floor(Y*Y/Ai)),Ui=Math.max(0,e.minimapHeight-Wi),Ri=Ui/(tt-Y),Zi=Ue*Ri,vn=Ui>0,on=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new _e(Ue,tt,vn,Ri,Zi,Wi,1,Math.min(De,on))}let si;if(ce&&v!==De){const Ai=v-o+1;si=Math.floor(Ai*Nt/It)}else{const Ai=Y/qt;si=Math.floor(Ai*Nt/It)}let ci;e.scrollBeyondLastLine?ci=(De-1)*Nt/It:ci=Math.max(0,De*Nt/It-si),ci=Math.min(e.minimapHeight-si,ci);const vi=ci/(tt-Y),gi=Ue*vi;let Bi=0;if(e.scrollBeyondLastLine&&(Bi=Y/qt-1),zt>=De+Bi){const Wi=De,Ui=ci>0;return new _e(Ue,tt,Ui,vi,gi,si,1,Wi)}else{let Ai=Math.max(1,Math.floor(o-gi*It/Nt));gt&&gt.scrollHeight===tt&&(gt.scrollTop>Ue&&(Ai=Math.min(Ai,gt.startLineNumber)),gt.scrollTop<Ue&&(Ai=Math.max(Ai,gt.startLineNumber)));const Wi=Math.min(De,Ai+zt-1),Ui=(Ue-B)/qt,Ri=(o-Ai+Ui)*Nt/It;return new _e(Ue,tt,!0,vi,Ri,si,Ai,Wi)}}}class Ae{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Ae.INVALID=new Ae(-1);class Be{constructor(e,o,v){this.renderedLayout=e,this._imageData=o,this._renderedLines=new Sn(()=>Ae.INVALID),this._renderedLines._set(e.startLineNumber,v)}linesEquals(e){if(!this.scrollEquals(e))return!1;const v=this._renderedLines._get().lines;for(let B=0,Y=v.length;B<Y;B++)if(v[B].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,o){return this._renderedLines.onLinesChanged(e,o)}onLinesDeleted(e,o){this._renderedLines.onLinesDeleted(e,o)}onLinesInserted(e,o){this._renderedLines.onLinesInserted(e,o)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class rt{constructor(e,o,v,B){this._backgroundFillData=rt._createBackgroundFillData(o,v,B),this._buffers=[e.createImageData(o,v),e.createImageData(o,v)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,o,v){const B=v.r,Y=v.g,ce=v.b,De=v.a,Fe=new Uint8ClampedArray(e*o*4);let Ue=0;for(let tt=0;tt<o;tt++)for(let gt=0;gt<e;gt++)Fe[Ue]=B,Fe[Ue+1]=Y,Fe[Ue+2]=ce,Fe[Ue+3]=De,Ue+=4;return Fe}}class ct{constructor(e,o){this.samplingRatio=e,this.minimapLines=o}static compute(e,o,v){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const B=e.pixelRatio,Y=e.lineHeight,ce=e.scrollBeyondLastLine,{minimapLineCount:De}=I.gk.computeContainedMinimapLineCount({viewLineCount:o,scrollBeyondLastLine:ce,height:e.editorHeight,lineHeight:Y,pixelRatio:B}),Fe=o/De,Ue=Fe/2;if(!v||v.minimapLines.length===0){const gi=[];if(gi[0]=1,De>1){for(let Bi=0,Ai=De-1;Bi<Ai;Bi++)gi[Bi]=Math.round(Bi*Fe+Ue);gi[De-1]=o}return[new ct(Fe,gi),[]]}const tt=v.minimapLines,gt=tt.length,It=[];let Nt=0,zt=0,qt=1;const si=10;let ci=[],vi=null;for(let gi=0;gi<De;gi++){const Bi=Math.max(qt,Math.round(gi*Fe)),Ai=Math.max(Bi,Math.round((gi+1)*Fe));for(;Nt<gt&&tt[Nt]<Bi;){if(ci.length<si){const Ui=Nt+1+zt;vi&&vi.type==="deleted"&&vi._oldIndex===Nt-1?vi.deleteToLineNumber++:(vi={type:"deleted",_oldIndex:Nt,deleteFromLineNumber:Ui,deleteToLineNumber:Ui},ci.push(vi)),zt--}Nt++}let Wi;if(Nt<gt&&tt[Nt]<=Ai)Wi=tt[Nt],Nt++;else if(gi===0?Wi=1:gi+1===De?Wi=o:Wi=Math.round(gi*Fe+Ue),ci.length<si){const Ui=Nt+1+zt;vi&&vi.type==="inserted"&&vi._i===gi-1?vi.insertToLineNumber++:(vi={type:"inserted",_i:gi,insertFromLineNumber:Ui,insertToLineNumber:Ui},ci.push(vi)),zt++}It[gi]=Wi,qt=Wi}if(ci.length<si)for(;Nt<gt;){const gi=Nt+1+zt;vi&&vi.type==="deleted"&&vi._oldIndex===Nt-1?vi.deleteToLineNumber++:(vi={type:"deleted",_oldIndex:Nt,deleteFromLineNumber:gi,deleteToLineNumber:gi},ci.push(vi)),zt--,Nt++}else ci=[{type:"flush"}];return[new ct(Fe,It),ci]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,o){let v=this.modelLineToMinimapLine(e)-1;for(;v>0&&this.minimapLines[v-1]>=e;)v--;let B=this.modelLineToMinimapLine(o)-1;for(;B+1<this.minimapLines.length&&this.minimapLines[B+1]<=o;)B++;if(v===B){const Y=this.minimapLines[v];if(Y<e||Y>o)return null}return[v+1,B+1]}decorationLineRangeToMinimapLineRange(e,o){let v=this.modelLineToMinimapLine(e),B=this.modelLineToMinimapLine(o);return e!==o&&B===v&&(B===this.minimapLines.length?v>1&&v--:B++),[v,B]}onLinesDeleted(e){const o=e.toLineNumber-e.fromLineNumber+1;let v=this.minimapLines.length,B=0;for(let Y=this.minimapLines.length-1;Y>=0&&!(this.minimapLines[Y]<e.fromLineNumber);Y--)this.minimapLines[Y]<=e.toLineNumber?(this.minimapLines[Y]=Math.max(1,e.fromLineNumber-1),v=Math.min(v,Y),B=Math.max(B,Y)):this.minimapLines[Y]-=o;return[v,B]}onLinesInserted(e){const o=e.toLineNumber-e.fromLineNumber+1;for(let v=this.minimapLines.length-1;v>=0&&!(this.minimapLines[v]<e.fromLineNumber);v--)this.minimapLines[v]+=o}}class Lt extends se{constructor(e){super(e),this.tokensColorTracker=En.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new te(this._context.configuration,this._context.theme,this.tokensColorTracker);const[o]=ct.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=o,this._shouldCheckSampling=!1,this._actual=new Et(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new te(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const o=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.fromLineNumber+e.count-1);return o?this._actual.onLinesChanged(o[0],o[1]-o[0]+1):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.count)}onLinesDeleted(e){if(this._samplingState){const[o,v]=this._samplingState.onLinesDeleted(e);return o<=v&&this._actual.onLinesChanged(o+1,v-o+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){const o=[];for(const v of e.ranges){const B=this._samplingState.modelLineRangeToMinimapLineRange(v.fromLineNumber,v.toLineNumber);B&&o.push({fromLineNumber:B[0],toLineNumber:B[1]})}return o.length?this._actual.onTokensChanged(o):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let o=e.visibleRange.startLineNumber,v=e.visibleRange.endLineNumber;this._samplingState&&(o=this._samplingState.modelLineToMinimapLine(o),v=this._samplingState.modelLineToMinimapLine(v));const B={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:o,viewportEndLineNumber:v,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(o),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(B)}_recreateLineSampling(){this._minimapSelections=null;const e=Boolean(this._samplingState),[o,v]=ct.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=o,e&&this._samplingState)for(const B of v)switch(B.type){case"deleted":this._actual.onLinesDeleted(B.deleteFromLineNumber,B.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(B.insertFromLineNumber,B.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(e){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineContent(e)}getLineMaxColumn(e){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[e-1]):this._context.viewModel.getLineMaxColumn(e)}getMinimapLinesRenderingData(e,o,v){if(this._samplingState){const B=[];for(let Y=0,ce=o-e+1;Y<ce;Y++)v[Y]?B[Y]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[e+Y-1]):B[Y]=null;return B}return this._context.viewModel.getMinimapLinesRenderingData(e,o,v).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[o,v]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new re.Y(o,e.startColumn,v,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,o){let v;if(this._samplingState){const Y=this._samplingState.minimapLines[e-1],ce=this._samplingState.minimapLines[o-1];v=new Ie.e(Y,1,ce,this._context.viewModel.getLineMaxColumn(ce))}else v=new Ie.e(e,1,o,this._context.viewModel.getLineMaxColumn(o));const B=this._context.viewModel.getDecorationsInViewport(v);if(this._samplingState){const Y=[];for(const ce of B){if(!ce.options.minimap)continue;const De=ce.range,Fe=this._samplingState.modelLineToMinimapLine(De.startLineNumber),Ue=this._samplingState.modelLineToMinimapLine(De.endLineNumber);Y.push(new nn.$l(new Ie.e(Fe,De.startColumn,Ue,De.endColumn),ce.options))}return Y}return B}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.viewModel.revealRange("mouse",!1,new Ie.e(e,1,e,1),1,0)}setScrollTop(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e},1)}}class Et extends L.JT{constructor(e,o){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=o,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Xe.ov3),this._domNode=(0,S.X)(document.createElement("div")),ne.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,S.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,S.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,S.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,S.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,S.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=M.mu(this._domNode.domNode,M.tw.POINTER_DOWN,v=>{if(v.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(v.button===0&&this._lastRenderData){const Ue=M.i(this._slider.domNode),tt=Ue.top+Ue.height/2;this._startSliderDragging(v,tt,this._lastRenderData.renderedLayout)}return}const Y=this._model.options.minimapLineHeight,ce=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*v.offsetY;let Fe=Math.floor(ce/Y)+this._lastRenderData.renderedLayout.startLineNumber;Fe=Math.min(Fe,this._model.getLineCount()),this._model.revealLineNumber(Fe)}),this._sliderPointerMoveMonitor=new an.C,this._sliderPointerDownListener=M.mu(this._slider.domNode,M.tw.POINTER_DOWN,v=>{v.preventDefault(),v.stopPropagation(),v.button===0&&this._lastRenderData&&this._startSliderDragging(v,v.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=he.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=M.nm(this._domNode.domNode,he.t.Start,v=>{v.preventDefault(),v.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(v))},{passive:!1}),this._sliderTouchMoveListener=M.nm(this._domNode.domNode,he.t.Change,v=>{v.preventDefault(),v.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(v)},{passive:!1}),this._sliderTouchEndListener=M.mu(this._domNode.domNode,he.t.End,v=>{v.preventDefault(),v.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,o,v){if(!e.target||!(e.target instanceof Element))return;const B=e.pageX;this._slider.toggleClassName("active",!0);const Y=(ce,De)=>{const Fe=Math.abs(De-B);if(a.ED&&Fe>d){this._model.setScrollTop(v.scrollTop);return}const Ue=ce-o;this._model.setScrollTop(v.getDesiredScrollTopFromDelta(Ue))};e.pageY!==o&&Y(e.pageY,B),this._sliderPointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,ce=>Y(ce.pageY,ce.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const o=this._domNode.domNode.getBoundingClientRect().top,v=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-o);this._model.setScrollTop(v)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const e=["minimap"];return this._model.options.showSlider==="always"?e.push("slider-always"):e.push("slider-mouseover"),this._model.options.autohide&&e.push("autohide"),e.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new rt(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,o){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,o):!1}onLinesDeleted(e,o){var v;return(v=this._lastRenderData)===null||v===void 0||v.onLinesDeleted(e,o),!0}onLinesInserted(e,o){var v;return(v=this._lastRenderData)===null||v===void 0||v.onLinesInserted(e,o),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Xe.ov3),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const v=_e.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(v.sliderNeeded?"block":"none"),this._slider.setTop(v.sliderTop),this._slider.setHeight(v.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(v.sliderHeight),this.renderDecorations(v),this._lastRenderData=this.renderLines(v)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const o=this._model.getSelections();o.sort(Ie.e.compareRangesUsingStarts);const v=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber);v.sort((It,Nt)=>(It.options.zIndex||0)-(Nt.options.zIndex||0));const{canvasInnerWidth:B,canvasInnerHeight:Y}=this._model.options,ce=this._model.options.minimapLineHeight,De=this._model.options.minimapCharWidth,Fe=this._model.getOptions().tabSize,Ue=this._decorationsCanvas.domNode.getContext("2d");Ue.clearRect(0,0,B,Y);const tt=new Vt(e.startLineNumber,e.endLineNumber,!1);this._renderSelectionLineHighlights(Ue,o,tt,e,ce),this._renderDecorationsLineHighlights(Ue,v,tt,e,ce);const gt=new Vt(e.startLineNumber,e.endLineNumber,null);this._renderSelectionsHighlights(Ue,o,gt,e,ce,Fe,De,B),this._renderDecorationsHighlights(Ue,v,gt,e,ce,Fe,De,B)}}_renderSelectionLineHighlights(e,o,v,B,Y){if(!this._selectionColor||this._selectionColor.isTransparent())return;e.fillStyle=this._selectionColor.transparent(.5).toString();let ce=0,De=0;for(const Fe of o){const Ue=Math.max(B.startLineNumber,Fe.startLineNumber),tt=Math.min(B.endLineNumber,Fe.endLineNumber);if(Ue>tt)continue;for(let Nt=Ue;Nt<=tt;Nt++)v.set(Nt,!0);const gt=(Ue-B.startLineNumber)*Y,It=(tt-B.startLineNumber)*Y+Y;De>=gt||(De>ce&&e.fillRect(I.y0,ce,e.canvas.width,De-ce),ce=gt),De=It}De>ce&&e.fillRect(I.y0,ce,e.canvas.width,De-ce)}_renderDecorationsLineHighlights(e,o,v,B,Y){const ce=new Map;for(let De=o.length-1;De>=0;De--){const Fe=o[De],Ue=Fe.options.minimap;if(!Ue||Ue.position!==F.F5.Inline)continue;const tt=Math.max(B.startLineNumber,Fe.range.startLineNumber),gt=Math.min(B.endLineNumber,Fe.range.endLineNumber);if(tt>gt)continue;const It=Ue.getColor(this._theme.value);if(!It||It.isTransparent())continue;let Nt=ce.get(It.toString());Nt||(Nt=It.transparent(.5).toString(),ce.set(It.toString(),Nt)),e.fillStyle=Nt;for(let zt=tt;zt<=gt;zt++){if(v.has(zt))continue;v.set(zt,!0);const qt=(tt-B.startLineNumber)*Y;e.fillRect(I.y0,qt,e.canvas.width,Y)}}}_renderSelectionsHighlights(e,o,v,B,Y,ce,De,Fe){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const Ue of o){const tt=Math.max(B.startLineNumber,Ue.startLineNumber),gt=Math.min(B.endLineNumber,Ue.endLineNumber);if(!(tt>gt))for(let It=tt;It<=gt;It++)this.renderDecorationOnLine(e,v,Ue,this._selectionColor,B,It,Y,Y,ce,De,Fe)}}_renderDecorationsHighlights(e,o,v,B,Y,ce,De,Fe){for(const Ue of o){const tt=Ue.options.minimap;if(!tt)continue;const gt=Math.max(B.startLineNumber,Ue.range.startLineNumber),It=Math.min(B.endLineNumber,Ue.range.endLineNumber);if(gt>It)continue;const Nt=tt.getColor(this._theme.value);if(!(!Nt||Nt.isTransparent()))for(let zt=gt;zt<=It;zt++)switch(tt.position){case F.F5.Inline:this.renderDecorationOnLine(e,v,Ue.range,Nt,B,zt,Y,Y,ce,De,Fe);continue;case F.F5.Gutter:{const qt=(zt-B.startLineNumber)*Y,si=2;this.renderDecoration(e,Nt,si,qt,k,Y);continue}}}}renderDecorationOnLine(e,o,v,B,Y,ce,De,Fe,Ue,tt,gt){const It=(ce-Y.startLineNumber)*Fe;if(It+De<0||It>this._model.options.canvasInnerHeight)return;const{startLineNumber:Nt,endLineNumber:zt}=v,qt=Nt===ce?v.startColumn:1,si=zt===ce?v.endColumn:this._model.getLineMaxColumn(ce),ci=this.getXOffsetForPosition(o,ce,qt,Ue,tt,gt),vi=this.getXOffsetForPosition(o,ce,si,Ue,tt,gt);this.renderDecoration(e,B,ci,It,vi-ci,De)}getXOffsetForPosition(e,o,v,B,Y,ce){if(v===1)return I.y0;if((v-1)*Y>=ce)return ce;let Fe=e.get(o);if(!Fe){const Ue=this._model.getLineContent(o);Fe=[I.y0];let tt=I.y0;for(let gt=1;gt<Ue.length+1;gt++){const It=Ue.charCodeAt(gt-1),Nt=It===9?B*Y:Le.K7(It)?2*Y:Y,zt=tt+Nt;if(zt>=ce){Fe[gt]=ce;break}Fe[gt]=zt,tt=zt}e.set(o,Fe)}return v-1<Fe.length?Fe[v-1]:ce}renderDecoration(e,o,v,B,Y,ce){e.fillStyle=o&&o.toString()||"",e.fillRect(v,B,Y,ce)}renderLines(e){const o=e.startLineNumber,v=e.endLineNumber,B=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const Nn=this._lastRenderData._get();return new Be(e,Nn.imageData,Nn.lines)}const Y=this._getBuffer();if(!Y)return null;const[ce,De,Fe]=Et._renderUntouchedLines(Y,o,v,B,this._lastRenderData),Ue=this._model.getMinimapLinesRenderingData(o,v,Fe),tt=this._model.getOptions().tabSize,gt=this._model.options.defaultBackgroundColor,It=this._model.options.backgroundColor,Nt=this._model.options.foregroundAlpha,zt=this._model.tokensColorTracker,qt=zt.backgroundIsLight(),si=this._model.options.renderMinimap,ci=this._model.options.charRenderer(),vi=this._model.options.fontScale,gi=this._model.options.minimapCharWidth,Ai=(si===1?2:2+1)*vi,Wi=B>Ai?Math.floor((B-Ai)/2):0,Ui=It.a/255,Ri=new tn(Math.round((It.r-gt.r)*Ui+gt.r),Math.round((It.g-gt.g)*Ui+gt.g),Math.round((It.b-gt.b)*Ui+gt.b),255);let Zi=0;const vn=[];for(let Nn=0,Vn=v-o+1;Nn<Vn;Nn++)Fe[Nn]&&Et._renderLine(Y,Ri,It.a,qt,si,gi,zt,Nt,ci,Zi,Wi,tt,Ue[Nn],vi,B),vn[Nn]=new Ae(Zi),Zi+=B;const on=ce===-1?0:ce,Pn=(De===-1?Y.height:De)-on;return this._canvas.domNode.getContext("2d").putImageData(Y,0,0,0,on,Y.width,Pn),new Be(e,Y,vn)}static _renderUntouchedLines(e,o,v,B,Y){const ce=[];if(!Y){for(let Ri=0,Zi=v-o+1;Ri<Zi;Ri++)ce[Ri]=!0;return[-1,-1,ce]}const De=Y._get(),Fe=De.imageData.data,Ue=De.rendLineNumberStart,tt=De.lines,gt=tt.length,It=e.width,Nt=e.data,zt=(v-o+1)*B*It*4;let qt=-1,si=-1,ci=-1,vi=-1,gi=-1,Bi=-1,Ai=0;for(let Ri=o;Ri<=v;Ri++){const Zi=Ri-o,vn=Ri-Ue,on=vn>=0&&vn<gt?tt[vn].dy:-1;if(on===-1){ce[Zi]=!0,Ai+=B;continue}const kn=on*It*4,Pn=(on+B)*It*4,Jn=Ai*It*4,Nn=(Ai+B)*It*4;vi===kn&&Bi===Jn?(vi=Pn,Bi=Nn):(ci!==-1&&(Nt.set(Fe.subarray(ci,vi),gi),qt===-1&&ci===0&&ci===gi&&(qt=vi),si===-1&&vi===zt&&ci===gi&&(si=ci)),ci=kn,vi=Pn,gi=Jn,Bi=Nn),ce[Zi]=!1,Ai+=B}ci!==-1&&(Nt.set(Fe.subarray(ci,vi),gi),qt===-1&&ci===0&&ci===gi&&(qt=vi),si===-1&&vi===zt&&ci===gi&&(si=ci));const Wi=qt===-1?-1:qt/(It*4),Ui=si===-1?-1:si/(It*4);return[Wi,Ui,ce]}static _renderLine(e,o,v,B,Y,ce,De,Fe,Ue,tt,gt,It,Nt,zt,qt){const si=Nt.content,ci=Nt.tokens,vi=e.width-ce,gi=qt===1;let Bi=I.y0,Ai=0,Wi=0;for(let Ui=0,Ri=ci.getCount();Ui<Ri;Ui++){const Zi=ci.getEndOffset(Ui),vn=ci.getForeground(Ui),on=De.getColor(vn);for(;Ai<Zi;Ai++){if(Bi>vi)return;const kn=si.charCodeAt(Ai);if(kn===9){const Pn=It-(Ai+Wi)%It;Wi+=Pn-1,Bi+=Pn*ce}else if(kn===32)Bi+=ce;else{const Pn=Le.K7(kn)?2:1;for(let Jn=0;Jn<Pn;Jn++)if(Y===2?Ue.blockRenderChar(e,Bi,tt+gt,on,Fe,o,v,gi):Ue.renderChar(e,Bi,tt+gt,kn,on,Fe,o,v,zt,B,gi),Bi+=ce,Bi>vi)return}}}}}class Vt{constructor(e,o,v){this._startLineNumber=e,this._endLineNumber=o,this._defaultValue=v,this._values=[];for(let B=0,Y=this._endLineNumber-this._startLineNumber+1;B<Y;B++)this._values[B]=v}has(e){return this.get(e)!==this._defaultValue}set(e,o){e<this._startLineNumber||e>this._endLineNumber||(this._values[e-this._startLineNumber]=o)}get(e){return e<this._startLineNumber||e>this._endLineNumber?this._defaultValue:this._values[e-this._startLineNumber]}}(0,Dt.Ic)((yt,e)=>{const o=yt.getColor(Xe.CA6);o&&e.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${o}; }`);const v=yt.getColor(Xe.Xy4);v&&e.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${v}; }`);const B=yt.getColor(Xe.brw);B&&e.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${B}; }`);const Y=yt.getColor(Xe._wn);Y&&e.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${Y} -6px 0 6px -6px inset; }`)});class Xt extends se{constructor(e){super(e);const v=this._context.configuration.options.get(133);this._widgets={},this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,this._domNode=(0,S.X)(document.createElement("div")),ne.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const v=this._context.configuration.options.get(133);return this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,!0}addWidget(e){const o=(0,S.X)(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:o},o.setPosition("absolute"),o.setAttribute("widgetId",e.getId()),this._domNode.appendChild(o),this.setShouldRender()}setWidgetPosition(e,o){const v=this._widgets[e.getId()];return v.preference===o?!1:(v.preference=o,this.setShouldRender(),!0)}removeWidget(e){const o=e.getId();if(this._widgets.hasOwnProperty(o)){const B=this._widgets[o].domNode.domNode;delete this._widgets[o],B.parentNode.removeChild(B),this.setShouldRender()}}_renderWidget(e){const o=e.domNode;if(e.preference===null){o.setTop("");return}if(e.preference===0)o.setTop(0),o.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){const v=o.domNode.clientHeight;o.setTop(this._editorHeight-v-2*this._horizontalScrollbarHeight),o.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===2&&(o.setTop(0),o.domNode.style.right="50%")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const o=Object.keys(this._widgets);for(let v=0,B=o.length;v<B;v++){const Y=o[v];this._renderWidget(this._widgets[Y])}}}class Jt{constructor(e,o){const v=e.options;this.lineHeight=v.get(61),this.pixelRatio=v.get(131),this.overviewRulerLanes=v.get(76),this.renderBorder=v.get(75);const B=o.getColor(bt.zw);this.borderColor=B?B.toString():null,this.hideCursor=v.get(54);const Y=o.getColor(bt.n0);this.cursorColor=Y?Y.transparent(.7).toString():null,this.themeType=o.type;const ce=v.get(67),De=ce.enabled,Fe=ce.side,Ue=o.getColor(bt.e_),tt=Si.RW.getDefaultBackground();let gt=null;Ue!==void 0?gt=Ue:De&&(gt=tt),gt===null||Fe==="left"?this.backgroundColor=null:this.backgroundColor=mi.Il.Format.CSS.formatHex(gt);const Nt=v.get(133).overviewRuler;this.top=Nt.top,this.right=Nt.right,this.domWidth=Nt.width,this.domHeight=Nt.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[zt,qt]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=zt,this.w=qt}_initLanes(e,o,v){const B=o-e;if(v>=3){const Y=Math.floor(B/3),ce=Math.floor(B/3),De=B-Y-ce,Fe=e,Ue=Fe+Y,tt=Fe+Y+De;return[[0,Fe,Ue,Fe,tt,Fe,Ue,Fe],[0,Y,De,Y+De,ce,Y+De+ce,De+ce,Y+De+ce]]}else if(v===2){const Y=Math.floor(B/2),ce=B-Y,De=e,Fe=De+Y;return[[0,De,De,De,Fe,De,De,De],[0,Y,Y,Y,ce,Y+ce,Y+ce,Y+ce]]}else{const Y=e,ce=B;return[[0,Y,Y,Y,Y,Y,Y,Y],[0,ce,ce,ce,ce,ce,ce,ce]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class Qt extends se{constructor(e){super(e),this._domNode=(0,S.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=Si.RW.onDidChange(o=>{o.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const o=new Jt(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(o)?!1:(this._settings=o,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let o=0,v=e.selections.length;o<v;o++)this._cursorPositions[o]=e.selections[o].getPosition();return this._cursorPositions.sort(me.L.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const e=this._settings.canvasWidth,o=this._settings.canvasHeight,v=this._settings.lineHeight,B=this._context.viewLayout,Y=this._context.viewLayout.getScrollHeight(),ce=o/Y,De=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),Fe=6*this._settings.pixelRatio|0,Ue=Fe/2|0,tt=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?tt.clearRect(0,0,e,o):(tt.fillStyle=this._settings.backgroundColor,tt.fillRect(0,0,e,o));const gt=this._settings.x,It=this._settings.w;De.sort(nn.SQ.cmp);for(const Nt of De){const zt=Nt.color,qt=Nt.data;tt.fillStyle=zt;let si=0,ci=0,vi=0;for(let gi=0,Bi=qt.length/3;gi<Bi;gi++){const Ai=qt[3*gi],Wi=qt[3*gi+1],Ui=qt[3*gi+2];let Ri=B.getVerticalOffsetForLineNumber(Wi)*ce|0,Zi=(B.getVerticalOffsetForLineNumber(Ui)+v)*ce|0;if(Zi-Ri<Fe){let on=(Ri+Zi)/2|0;on<Ue?on=Ue:on+Ue>o&&(on=o-Ue),Ri=on-Ue,Zi=on+Ue}Ri>vi+1||Ai!==si?(gi!==0&&tt.fillRect(gt[si],ci,It[si],vi-ci),si=Ai,ci=Ri,vi=Zi):Zi>vi&&(vi=Zi)}tt.fillRect(gt[si],ci,It[si],vi-ci)}if(!this._settings.hideCursor&&this._settings.cursorColor){const Nt=2*this._settings.pixelRatio|0,zt=Nt/2|0,qt=this._settings.x[7],si=this._settings.w[7];tt.fillStyle=this._settings.cursorColor;let ci=-100,vi=-100;for(let gi=0,Bi=this._cursorPositions.length;gi<Bi;gi++){const Ai=this._cursorPositions[gi];let Wi=B.getVerticalOffsetForLineNumber(Ai.lineNumber)*ce|0;Wi<zt?Wi=zt:Wi+zt>o&&(Wi=o-zt);const Ui=Wi-zt,Ri=Ui+Nt;Ui>vi+1?(gi!==0&&tt.fillRect(qt,ci,si,vi-ci),ci=Ui,vi=Ri):Ri>vi&&(vi=Ri)}tt.fillRect(qt,ci,si,vi-ci)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(tt.beginPath(),tt.lineWidth=1,tt.strokeStyle=this._settings.borderColor,tt.moveTo(0,0),tt.lineTo(0,o),tt.stroke(),tt.moveTo(0,0),tt.lineTo(e,0),tt.stroke())}}var di=i(30665);class fi extends ee{constructor(e,o){super(),this._context=e;const v=this._context.configuration.options;this._domNode=(0,S.X)(document.createElement("canvas")),this._domNode.setClassName(o),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new di.Tj(B=>this._context.viewLayout.getVerticalOffsetForLineNumber(B)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(v.get(61)),this._zoneManager.setPixelRatio(v.get(131)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return e.hasChanged(61)&&(this._zoneManager.setLineHeight(o.get(61)),this._render()),e.hasChanged(131)&&(this._zoneManager.setPixelRatio(o.get(131)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let o=!1;o=this._zoneManager.setDOMWidth(e.width)||o,o=this._zoneManager.setDOMHeight(e.height)||o,o&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),o=this._zoneManager.getCanvasHeight(),v=this._zoneManager.resolveColorZones(),B=this._zoneManager.getId2Color(),Y=this._domNode.domNode.getContext("2d");return Y.clearRect(0,0,e,o),v.length>0&&this._renderOneLane(Y,v,B,e),!0}_renderOneLane(e,o,v,B){let Y=0,ce=0,De=0;for(const Fe of o){const Ue=Fe.colorId,tt=Fe.from,gt=Fe.to;Ue!==Y?(e.fillRect(0,ce,B,De-ce),Y=Ue,e.fillStyle=v[Y],ce=tt,De=gt):De>=tt?De=Math.max(De,gt):(e.fillRect(0,ce,B,De-ce),ce=tt,De=gt)}e.fillRect(0,ce,B,De-ce)}}class Ti extends se{constructor(e){super(e),this.domNode=(0,S.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const o=this._context.configuration.options;this._rulers=o.get(93),this._typicalHalfwidthCharacterWidth=o.get(46).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._rulers=o.get(93),this._typicalHalfwidthCharacterWidth=o.get(46).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,o=this._rulers.length;if(e===o)return;if(e<o){const{tabSize:B}=this._context.viewModel.model.getOptions(),Y=B;let ce=o-e;for(;ce>0;){const De=(0,S.X)(document.createElement("div"));De.setClassName("view-ruler"),De.setWidth(Y),this.domNode.appendChild(De),this._renderedRulers.push(De),ce--}return}let v=e-o;for(;v>0;){const B=this._renderedRulers.pop();this.domNode.removeChild(B),v--}}render(e){this._ensureRulersCount();for(let o=0,v=this._rulers.length;o<v;o++){const B=this._renderedRulers[o],Y=this._rulers[o];B.setBoxShadow(Y.color?`1px 0 0 0 ${Y.color} inset`:""),B.setHeight(Math.min(e.scrollHeight,1e6)),B.setLeft(Y.column*this._typicalHalfwidthCharacterWidth)}}}(0,Dt.Ic)((yt,e)=>{const o=yt.getColor(bt.zk);o&&e.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${o} inset; }`)});class ln extends se{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const v=this._context.configuration.options.get(94);this._useShadows=v.useShadows,this._domNode=(0,S.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const o=this._context.configuration.options.get(133);o.minimap.renderMinimap===0||o.minimap.minimapWidth>0&&o.minimap.minimapLeft===0?this._width=o.width:this._width=o.width-o.verticalScrollbarWidth}onConfigurationChanged(e){const v=this._context.configuration.options.get(94);return this._useShadows=v.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,Dt.Ic)((yt,e)=>{const o=yt.getColor(Xe._wn);o&&e.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${o} 0 6px 6px -6px inset; }`)});class An{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class Rn{constructor(e,o){this.lineNumber=e,this.ranges=o}}function Un(yt){return new An(yt)}function Cs(yt){return new Rn(yt.lineNumber,yt.ranges.map(Un))}class Yi extends ht{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const o=this._context.configuration.options;this._lineHeight=o.get(61),this._roundedSelection=o.get(92),this._typicalHalfwidthCharacterWidth=o.get(46).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const o=this._context.configuration.options;return this._lineHeight=o.get(61),this._roundedSelection=o.get(92),this._typicalHalfwidthCharacterWidth=o.get(46).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let o=0,v=e.length;o<v;o++)if(e[o].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,o,v){const B=this._typicalHalfwidthCharacterWidth/4;let Y=null,ce=null;if(v&&v.length>0&&o.length>0){const De=o[0].lineNumber;if(De===e.startLineNumber)for(let Ue=0;!Y&&Ue<v.length;Ue++)v[Ue].lineNumber===De&&(Y=v[Ue].ranges[0]);const Fe=o[o.length-1].lineNumber;if(Fe===e.endLineNumber)for(let Ue=v.length-1;!ce&&Ue>=0;Ue--)v[Ue].lineNumber===Fe&&(ce=v[Ue].ranges[0]);Y&&!Y.startStyle&&(Y=null),ce&&!ce.startStyle&&(ce=null)}for(let De=0,Fe=o.length;De<Fe;De++){const Ue=o[De].ranges[0],tt=Ue.left,gt=Ue.left+Ue.width,It={top:0,bottom:0},Nt={top:0,bottom:0};if(De>0){const zt=o[De-1].ranges[0].left,qt=o[De-1].ranges[0].left+o[De-1].ranges[0].width;Qn(tt-zt)<B?It.top=2:tt>zt&&(It.top=1),Qn(gt-qt)<B?Nt.top=2:zt<gt&&gt<qt&&(Nt.top=1)}else Y&&(It.top=Y.startStyle.top,Nt.top=Y.endStyle.top);if(De+1<Fe){const zt=o[De+1].ranges[0].left,qt=o[De+1].ranges[0].left+o[De+1].ranges[0].width;Qn(tt-zt)<B?It.bottom=2:zt<tt&&tt<qt&&(It.bottom=1),Qn(gt-qt)<B?Nt.bottom=2:gt<qt&&(Nt.bottom=1)}else ce&&(It.bottom=ce.startStyle.bottom,Nt.bottom=ce.endStyle.bottom);Ue.startStyle=It,Ue.endStyle=Nt}}_getVisibleRangesWithStyle(e,o,v){const Y=(o.linesVisibleRangesForRange(e,!0)||[]).map(Cs);return!this._visibleRangesHaveGaps(Y)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(o.visibleRange,Y,v),Y}_createSelectionPiece(e,o,v,B,Y){return'<div class="cslr '+v+'" style="top:'+e.toString()+"px;left:"+B.toString()+"px;width:"+Y.toString()+"px;height:"+o+'px;"></div>'}_actualRenderOneSelection(e,o,v,B){if(B.length===0)return;const Y=!!B[0].ranges[0].startStyle,ce=this._lineHeight.toString(),De=(this._lineHeight-1).toString(),Fe=B[0].lineNumber,Ue=B[B.length-1].lineNumber;for(let tt=0,gt=B.length;tt<gt;tt++){const It=B[tt],Nt=It.lineNumber,zt=Nt-o,qt=v&&(Nt===Ue||Nt===Fe)?De:ce,si=v&&Nt===Fe?1:0;let ci="",vi="";for(let gi=0,Bi=It.ranges.length;gi<Bi;gi++){const Ai=It.ranges[gi];if(Y){const Ui=Ai.startStyle,Ri=Ai.endStyle;if(Ui.top===1||Ui.bottom===1){ci+=this._createSelectionPiece(si,qt,Yi.SELECTION_CLASS_NAME,Ai.left-Yi.ROUNDED_PIECE_WIDTH,Yi.ROUNDED_PIECE_WIDTH);let Zi=Yi.EDITOR_BACKGROUND_CLASS_NAME;Ui.top===1&&(Zi+=" "+Yi.SELECTION_TOP_RIGHT),Ui.bottom===1&&(Zi+=" "+Yi.SELECTION_BOTTOM_RIGHT),ci+=this._createSelectionPiece(si,qt,Zi,Ai.left-Yi.ROUNDED_PIECE_WIDTH,Yi.ROUNDED_PIECE_WIDTH)}if(Ri.top===1||Ri.bottom===1){ci+=this._createSelectionPiece(si,qt,Yi.SELECTION_CLASS_NAME,Ai.left+Ai.width,Yi.ROUNDED_PIECE_WIDTH);let Zi=Yi.EDITOR_BACKGROUND_CLASS_NAME;Ri.top===1&&(Zi+=" "+Yi.SELECTION_TOP_LEFT),Ri.bottom===1&&(Zi+=" "+Yi.SELECTION_BOTTOM_LEFT),ci+=this._createSelectionPiece(si,qt,Zi,Ai.left+Ai.width,Yi.ROUNDED_PIECE_WIDTH)}}let Wi=Yi.SELECTION_CLASS_NAME;if(Y){const Ui=Ai.startStyle,Ri=Ai.endStyle;Ui.top===0&&(Wi+=" "+Yi.SELECTION_TOP_LEFT),Ui.bottom===0&&(Wi+=" "+Yi.SELECTION_BOTTOM_LEFT),Ri.top===0&&(Wi+=" "+Yi.SELECTION_TOP_RIGHT),Ri.bottom===0&&(Wi+=" "+Yi.SELECTION_BOTTOM_RIGHT)}vi+=this._createSelectionPiece(si,qt,Wi,Ai.left,Ai.width)}e[zt][0]+=ci,e[zt][1]+=vi}}prepareRender(e){const o=[],v=e.visibleRange.startLineNumber,B=e.visibleRange.endLineNumber;for(let ce=v;ce<=B;ce++){const De=ce-v;o[De]=["",""]}const Y=[];for(let ce=0,De=this._selections.length;ce<De;ce++){const Fe=this._selections[ce];if(Fe.isEmpty()){Y[ce]=null;continue}const Ue=this._getVisibleRangesWithStyle(Fe,e,this._previousFrameVisibleRangesWithStyle[ce]);Y[ce]=Ue,this._actualRenderOneSelection(o,v,this._selections.length>1,Ue)}this._previousFrameVisibleRangesWithStyle=Y,this._renderResult=o.map(([ce,De])=>ce+De)}render(e,o){if(!this._renderResult)return"";const v=o-e;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}Yi.SELECTION_CLASS_NAME="selected-text",Yi.SELECTION_TOP_LEFT="top-left-radius",Yi.SELECTION_BOTTOM_LEFT="bottom-left-radius",Yi.SELECTION_TOP_RIGHT="top-right-radius",Yi.SELECTION_BOTTOM_RIGHT="bottom-right-radius",Yi.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",Yi.ROUNDED_PIECE_WIDTH=10,(0,Dt.Ic)((yt,e)=>{const o=yt.getColor(Xe.hEj);o&&e.addRule(`.monaco-editor .focused .selected-text { background-color: ${o}; }`);const v=yt.getColor(Xe.ES4);v&&e.addRule(`.monaco-editor .selected-text { background-color: ${v}; }`);const B=yt.getColor(Xe.yb5);B&&!B.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${B}; }`)});function Qn(yt){return yt<0?-yt:yt}class bs{constructor(e,o,v,B,Y,ce){this.top=e,this.left=o,this.width=v,this.height=B,this.textContent=Y,this.textContentClassName=ce}}class cs{constructor(e){this._context=e;const o=this._context.configuration.options,v=o.get(46);this._cursorStyle=o.get(24),this._lineHeight=o.get(61),this._typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,S.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${xi.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,Qe.N)(this._domNode,v),this._domNode.setDisplay("none"),this._position=new me.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const o=this._context.configuration.options,v=o.get(46);return this._cursorStyle=o.get(24),this._lineHeight=o.get(61),this._typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(27),this._typicalHalfwidthCharacterWidth),(0,Qe.N)(this._domNode,v),!0}onCursorPositionChanged(e){return this._position=e,!0}_getGraphemeAwarePosition(){const{lineNumber:e,column:o}=this._position,v=this._context.viewModel.getLineContent(e),[B,Y]=Le.J_(v,o-1);return[new me.L(e,B+1),v.substring(B,Y)]}_prepareRender(e){let o="";const[v,B]=this._getGraphemeAwarePosition();if(this._cursorStyle===I.d2.Line||this._cursorStyle===I.d2.LineThin){const It=e.visibleRangeForPosition(v);if(!It||It.outsideRenderedLine)return null;let Nt;this._cursorStyle===I.d2.Line?(Nt=M.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),Nt>2&&(o=B)):Nt=M.Uh(1);let zt=It.left;Nt>=2&&zt>=1&&(zt-=1);const qt=e.getVerticalOffsetForLineNumber(v.lineNumber)-e.bigNumbersDelta;return new bs(qt,zt,Nt,this._lineHeight,o,"")}const Y=e.linesVisibleRangesForRange(new Ie.e(v.lineNumber,v.column,v.lineNumber,v.column+B.length),!1);if(!Y||Y.length===0)return null;const ce=Y[0];if(ce.outsideRenderedLine||ce.ranges.length===0)return null;const De=ce.ranges[0],Fe=B==="	"?this._typicalHalfwidthCharacterWidth:De.width<1?this._typicalHalfwidthCharacterWidth:De.width;let Ue="";if(this._cursorStyle===I.d2.Block){const It=this._context.viewModel.getViewLineData(v.lineNumber);o=B;const Nt=It.tokens.findTokenIndexAtOffset(v.column-1);Ue=It.tokens.getClassName(Nt)}let tt=e.getVerticalOffsetForLineNumber(v.lineNumber)-e.bigNumbersDelta,gt=this._lineHeight;return(this._cursorStyle===I.d2.Underline||this._cursorStyle===I.d2.UnderlineThin)&&(tt+=this._lineHeight-2,gt=2),new bs(tt,De.left,Fe,gt,o,Ue)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${xi.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class ds extends se{constructor(e){super(e);const o=this._context.configuration.options;this._readOnly=o.get(83),this._cursorBlinking=o.get(22),this._cursorStyle=o.get(24),this._cursorSmoothCaretAnimation=o.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new cs(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,S.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new ge._F,this._cursorFlatBlinkInterval=new ge.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const o=this._context.configuration.options;this._readOnly=o.get(83),this._cursorBlinking=o.get(22),this._cursorStyle=o.get(24),this._cursorSmoothCaretAnimation=o.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let v=0,B=this._secondaryCursors.length;v<B;v++)this._secondaryCursors[v].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,o){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<o.length){const v=o.length-this._secondaryCursors.length;for(let B=0;B<v;B++){const Y=new cs(this._context);this._domNode.domNode.insertBefore(Y.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(Y)}}else if(this._secondaryCursors.length>o.length){const v=this._secondaryCursors.length-o.length;for(let B=0;B<v;B++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let v=0;v<o.length;v++)this._secondaryCursors[v].onCursorPositionChanged(o[v])}onCursorStateChanged(e){const o=[];for(let B=0,Y=e.selections.length;B<Y;B++)o[B]=e.selections[B].getPosition();this._onCursorPositionChanged(o[0],o.slice(1));const v=e.selections[0].isEmpty();return this._selectionIsEmpty!==v&&(this._selectionIsEmpty=v,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const o=v=>{for(let B=0,Y=e.ranges.length;B<Y;B++)if(e.ranges[B].fromLineNumber<=v.lineNumber&&v.lineNumber<=e.ranges[B].toLineNumber)return!0;return!1};if(o(this._primaryCursor.getPosition()))return!0;for(const v of this._secondaryCursors)if(o(v.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),o=e===0,v=e===5;o?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!o&&!v&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},ds.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},ds.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case I.d2.Line:e+=" cursor-line-style";break;case I.d2.Block:e+=" cursor-block-style";break;case I.d2.Underline:e+=" cursor-underline-style";break;case I.d2.LineThin:e+=" cursor-line-thin-style";break;case I.d2.BlockOutline:e+=" cursor-block-outline-style";break;case I.d2.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,o=this._secondaryCursors.length;e<o;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,o=this._secondaryCursors.length;e<o;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let o=0,v=this._secondaryCursors.length;o<v;o++)this._secondaryCursors[o].prepareRender(e)}render(e){const o=[];let v=0;const B=this._primaryCursor.render(e);B&&(o[v++]=B);for(let Y=0,ce=this._secondaryCursors.length;Y<ce;Y++){const De=this._secondaryCursors[Y].render(e);De&&(o[v++]=De)}this._renderData=o}getLastRenderData(){return this._renderData}}ds.BLINK_INTERVAL=500,(0,Dt.Ic)((yt,e)=>{const o=yt.getColor(bt.n0);if(o){let v=yt.getColor(bt.fY);v||(v=o.opposite()),e.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${o}; }`),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${o}; border-color: ${o}; color: ${v}; }`),(0,at.c3)(yt.type)&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${v}; border-right: 1px solid ${v}; }`)}});const Zs=()=>{throw new Error("Invalid change accessor")};class Qs extends se{constructor(e){super(e);const o=this._context.configuration.options,v=o.get(133);this._lineHeight=o.get(61),this._contentWidth=v.contentWidth,this._contentLeft=v.contentLeft,this.domNode=(0,S.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,S.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),o=new Map;for(const B of e)o.set(B.id,B);let v=!1;return this._context.viewModel.changeWhitespace(B=>{const Y=Object.keys(this._zones);for(let ce=0,De=Y.length;ce<De;ce++){const Fe=Y[ce],Ue=this._zones[Fe],tt=this._computeWhitespaceProps(Ue.delegate);Ue.isInHiddenArea=tt.isInHiddenArea;const gt=o.get(Fe);gt&&(gt.afterLineNumber!==tt.afterViewLineNumber||gt.height!==tt.heightInPx)&&(B.changeOneWhitespace(Fe,tt.afterViewLineNumber,tt.heightInPx),this._safeCallOnComputedHeight(Ue.delegate,tt.heightInPx),v=!0)}}),v}onConfigurationChanged(e){const o=this._context.configuration.options,v=o.get(133);return this._lineHeight=o.get(61),this._contentWidth=v.contentWidth,this._contentLeft=v.contentLeft,e.hasChanged(61)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return typeof e.afterColumn<"u"?e.afterColumn:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let o;if(typeof e.afterColumn<"u")o=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const ce=this._context.viewModel.model.validatePosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;o=new me.L(ce,this._context.viewModel.model.getLineMaxColumn(ce))}let v;o.column===this._context.viewModel.model.getLineMaxColumn(o.lineNumber)?v=this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber+1,column:1}):v=this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber,column:o.column+1});const B=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o,e.afterColumnAffinity),Y=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(v);return{isInHiddenArea:!Y,afterViewLineNumber:B.lineNumber,heightInPx:Y?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let o=!1;return this._context.viewModel.changeWhitespace(v=>{const B={addZone:Y=>(o=!0,this._addZone(v,Y)),removeZone:Y=>{!Y||(o=this._removeZone(v,Y)||o)},layoutZone:Y=>{!Y||(o=this._layoutZone(v,Y)||o)}};ao(e,B),B.addZone=Zs,B.removeZone=Zs,B.layoutZone=Zs}),o}_addZone(e,o){const v=this._computeWhitespaceProps(o),Y={whitespaceId:e.insertWhitespace(v.afterViewLineNumber,this._getZoneOrdinal(o),v.heightInPx,v.minWidthInPx),delegate:o,isInHiddenArea:v.isInHiddenArea,isVisible:!1,domNode:(0,S.X)(o.domNode),marginDomNode:o.marginDomNode?(0,S.X)(o.marginDomNode):null};return this._safeCallOnComputedHeight(Y.delegate,v.heightInPx),Y.domNode.setPosition("absolute"),Y.domNode.domNode.style.width="100%",Y.domNode.setDisplay("none"),Y.domNode.setAttribute("monaco-view-zone",Y.whitespaceId),this.domNode.appendChild(Y.domNode),Y.marginDomNode&&(Y.marginDomNode.setPosition("absolute"),Y.marginDomNode.domNode.style.width="100%",Y.marginDomNode.setDisplay("none"),Y.marginDomNode.setAttribute("monaco-view-zone",Y.whitespaceId),this.marginDomNode.appendChild(Y.marginDomNode)),this._zones[Y.whitespaceId]=Y,this.setShouldRender(),Y.whitespaceId}_removeZone(e,o){if(this._zones.hasOwnProperty(o)){const v=this._zones[o];return delete this._zones[o],e.removeWhitespace(v.whitespaceId),v.domNode.removeAttribute("monaco-visible-view-zone"),v.domNode.removeAttribute("monaco-view-zone"),v.domNode.domNode.parentNode.removeChild(v.domNode.domNode),v.marginDomNode&&(v.marginDomNode.removeAttribute("monaco-visible-view-zone"),v.marginDomNode.removeAttribute("monaco-view-zone"),v.marginDomNode.domNode.parentNode.removeChild(v.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,o){if(this._zones.hasOwnProperty(o)){const v=this._zones[o],B=this._computeWhitespaceProps(v.delegate);return v.isInHiddenArea=B.isInHiddenArea,e.changeOneWhitespace(v.whitespaceId,B.afterViewLineNumber,B.heightInPx),this._safeCallOnComputedHeight(v.delegate,B.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){const o=this._zones[e];return Boolean(o.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,o){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(o)}catch(v){(0,P.dL)(v)}}_safeCallOnDomNodeTop(e,o){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(o)}catch(v){(0,P.dL)(v)}}prepareRender(e){}render(e){const o=e.viewportData.whitespaceViewportData,v={};let B=!1;for(const ce of o)this._zones[ce.id].isInHiddenArea||(v[ce.id]=ce,B=!0);const Y=Object.keys(this._zones);for(let ce=0,De=Y.length;ce<De;ce++){const Fe=Y[ce],Ue=this._zones[Fe];let tt=0,gt=0,It="none";v.hasOwnProperty(Fe)?(tt=v[Fe].verticalOffset-e.bigNumbersDelta,gt=v[Fe].height,It="block",Ue.isVisible||(Ue.domNode.setAttribute("monaco-visible-view-zone","true"),Ue.isVisible=!0),this._safeCallOnDomNodeTop(Ue.delegate,e.getScrolledTopFromAbsoluteTop(v[Fe].verticalOffset))):(Ue.isVisible&&(Ue.domNode.removeAttribute("monaco-visible-view-zone"),Ue.isVisible=!1),this._safeCallOnDomNodeTop(Ue.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),Ue.domNode.setTop(tt),Ue.domNode.setHeight(gt),Ue.domNode.setDisplay(It),Ue.marginDomNode&&(Ue.marginDomNode.setTop(tt),Ue.marginDomNode.setHeight(gt),Ue.marginDomNode.setDisplay(It))}B&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function ao(yt,e){try{return yt(e)}catch(o){(0,P.dL)(o)}}class to{constructor(e){this._theme=e}get type(){return this._theme.type}get value(){return this._theme}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class Do{constructor(e,o,v){this.configuration=e,this.theme=new to(o),this.viewModel=v,this.viewLayout=v.viewLayout}addEventHandler(e){this.viewModel.addViewEventHandler(e)}removeEventHandler(e){this.viewModel.removeViewEventHandler(e)}}class Is{constructor(e,o,v,B){this.selections=e,this.startLineNumber=o.startLineNumber|0,this.endLineNumber=o.endLineNumber|0,this.relativeVerticalOffset=o.relativeVerticalOffset,this.bigNumbersDelta=o.bigNumbersDelta|0,this.whitespaceViewportData=v,this._model=B,this.visibleRange=new Ie.e(o.startLineNumber,this._model.getLineMinColumn(o.startLineNumber),o.endLineNumber,this._model.getLineMaxColumn(o.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewportViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class Eo extends se{constructor(e){super(e),this.blocks=[],this.contentWidth=-1,this.domNode=(0,S.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let e=!1;const v=this._context.configuration.options.get(133),B=v.contentWidth-v.verticalScrollbarWidth;return this.contentWidth!==B&&(this.contentWidth=B,e=!0),e}dispose(){super.dispose()}onConfigurationChanged(e){return this.update()}onScrollChanged(e){return e.scrollTopChanged||e.scrollLeftChanged}onDecorationsChanged(e){return!0}onZonesChanged(e){return!0}prepareRender(e){}render(e){let o=0;const v=e.getDecorationsInViewport();for(const B of v){if(!B.options.blockClassName)continue;let Y=this.blocks[o];Y||(Y=this.blocks[o]=(0,S.X)(document.createElement("div")),this.domNode.appendChild(Y));const ce=e.getVerticalOffsetForLineNumber(B.range.startLineNumber),De=e.getVerticalOffsetForLineNumber(B.range.endLineNumber+1);Y.setClassName("blockDecorations-block "+B.options.blockClassName),Y.setLeft(e.scrollLeft),Y.setWidth(this.contentWidth),Y.setTop(ce),Y.setHeight(De-ce),o++}for(let B=o;B<this.blocks.length;B++)this.blocks[B].domNode.remove();this.blocks.length=o}}class Io extends ee{constructor(e,o,v,B,Y,ce){super(),this._selections=[new re.Y(1,1,1,1)],this._renderAnimationFrame=null;const De=new Dn(o,B,Y,e);this._context=new Do(o,v,B),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new fn(this._context,De,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,S.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,S.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,S.X)(document.createElement("div")),ne.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new ut(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new hn(this._context,this._linesContent),this._viewZones=new Qs(this._context),this._viewParts.push(this._viewZones);const Fe=new Qt(this._context);this._viewParts.push(Fe);const Ue=new ln(this._context);this._viewParts.push(Ue);const tt=new At(this._context);this._viewParts.push(tt),tt.addDynamicOverlay(new jt(this._context)),tt.addDynamicOverlay(new Yi(this._context)),tt.addDynamicOverlay(new wi(this._context)),tt.addDynamicOverlay(new Wt(this._context));const gt=new ni(this._context);this._viewParts.push(gt),gt.addDynamicOverlay(new $t(this._context)),gt.addDynamicOverlay(new Kt(this._context)),gt.addDynamicOverlay(new _n(this._context)),gt.addDynamicOverlay(new Gi(this._context)),gt.addDynamicOverlay(new Ht(this._context));const It=new ei(this._context);It.getDomNode().appendChild(this._viewZones.marginDomNode),It.getDomNode().appendChild(gt.getDomNode()),this._viewParts.push(It),this._contentWidgets=new xt(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new ds(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Xt(this._context),this._viewParts.push(this._overlayWidgets);const Nt=new Ti(this._context);this._viewParts.push(Nt);const zt=new Eo(this._context);this._viewParts.push(zt);const qt=new Lt(this._context);if(this._viewParts.push(qt),Fe){const si=this._scrollbar.getOverviewRulerLayoutInfo();si.parent.insertBefore(Fe.getDomNode(),si.insertBefore)}this._linesContent.appendChild(tt.getDomNode()),this._linesContent.appendChild(Nt.domNode),this._linesContent.appendChild(zt.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(It.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(Ue.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(qt.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),ce?ce.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new be(this._context,De,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],o=this._textAreaHandler.getLastRenderData();return new Oe(e,o)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,o)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,o)),visibleRangeForPosition:(e,o)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new me.L(e,o))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(e))}}_applyLayout(){const o=this._context.configuration.options.get(133);this.domNode.setWidth(o.width),this.domNode.setHeight(o.height),this._overflowGuardContainer.setWidth(o.width),this._overflowGuardContainer.setHeight(o.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(130)+" "+(0,Dt.m6)(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this._context.theme.update(e.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=M.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){es(()=>this._actualRender())}_getViewPartsToRender(){const e=[];let o=0;for(const v of this._viewParts)v.shouldRender()&&(e[o++]=v);return e}_actualRender(){if(!M.Uw(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return;const o=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(o.startLineNumber,o.endLineNumber,o.centeredLineNumber);const v=new Is(this._selections,o,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(v),this._viewLines.shouldRender()&&(this._viewLines.renderText(v),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const B=new Se(this._context.viewLayout,v,this._viewLines);for(const Y of e)Y.prepareRender(B);for(const Y of e)Y.render(B),Y.onDidRender()}delegateVerticalScrollbarPointerDown(e){this._scrollbar.delegateVerticalScrollbarPointerDown(e)}restoreState(e){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:e.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,o){const v=this._context.viewModel.model.validatePosition({lineNumber:e,column:o}),B=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(v);this._flushAccumulatedAndRenderNow();const Y=this._viewLines.visibleRangeForPosition(new me.L(B.lineNumber,B.column));return Y?Y.left:-1}getTargetAtClientPoint(e,o){const v=this._pointerHandler.getTargetAtClientPoint(e,o);return v?Tn.convertViewToModelMouseTarget(v,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(e){return new fi(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,o){if(o){this._viewLines.forceShouldRender();for(const v of this._viewParts)v.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){var o,v;let B=e.position&&e.position.range||null;if(B===null){const ce=e.position?e.position.position:null;ce!==null&&(B=new Ie.e(ce.lineNumber,ce.column,ce.lineNumber,ce.column))}const Y=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,B,Y,(v=(o=e.position)===null||o===void 0?void 0:o.positionAffinity)!==null&&v!==void 0?v:null),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const o=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,o)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}function es(yt){try{return yt()}catch(e){(0,P.dL)(e)}}var xn=i(55343);class Wn{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new xn.rS(new Ie.e(1,1,1,1),0,new me.L(1,1),0),new xn.rS(new Ie.e(1,1,1,1),0,new me.L(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){!this._trackSelection||(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new xn.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(e){const o=e.model._getTrackedRange(this._selTrackedRange);return re.Y.fromRange(o,this.modelState.selection.getDirection())}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,o,v){this._setState(e,o,v)}static _validatePositionWithCache(e,o,v,B){return o.equals(v)?B:e.normalizePosition(o,2)}static _validateViewState(e,o){const v=o.position,B=o.selectionStart.getStartPosition(),Y=o.selectionStart.getEndPosition(),ce=e.normalizePosition(v,2),De=this._validatePositionWithCache(e,B,v,ce),Fe=this._validatePositionWithCache(e,Y,B,De);return v.equals(ce)&&B.equals(De)&&Y.equals(Fe)?o:new xn.rS(Ie.e.fromPositions(De,Fe),o.selectionStartLeftoverVisibleColumns+B.column-De.column,ce,o.leftoverVisibleColumns+v.column-ce.column)}_setState(e,o,v){if(v&&(v=Wn._validateViewState(e.viewModel,v)),o){const B=e.model.validateRange(o.selectionStart),Y=o.selectionStart.equalsRange(B)?o.selectionStartLeftoverVisibleColumns:0,ce=e.model.validatePosition(o.position),De=o.position.equals(ce)?o.leftoverVisibleColumns:0;o=new xn.rS(B,Y,ce,De)}else{if(!v)return;const B=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(v.selectionStart)),Y=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(v.position));o=new xn.rS(B,v.selectionStartLeftoverVisibleColumns,Y,v.leftoverVisibleColumns)}if(v){const B=e.coordinatesConverter.validateViewRange(v.selectionStart,o.selectionStart),Y=e.coordinatesConverter.validateViewPosition(v.position,o.position);v=new xn.rS(B,o.selectionStartLeftoverVisibleColumns,Y,o.leftoverVisibleColumns)}else{const B=e.coordinatesConverter.convertModelPositionToViewPosition(new me.L(o.selectionStart.startLineNumber,o.selectionStart.startColumn)),Y=e.coordinatesConverter.convertModelPositionToViewPosition(new me.L(o.selectionStart.endLineNumber,o.selectionStart.endColumn)),ce=new Ie.e(B.lineNumber,B.column,Y.lineNumber,Y.column),De=e.coordinatesConverter.convertModelPositionToViewPosition(o.position);v=new xn.rS(ce,o.selectionStartLeftoverVisibleColumns,De,o.leftoverVisibleColumns)}this.modelState=o,this.viewState=v,this._updateTrackedRange(e)}}class Ns{constructor(e){this.context=e,this.cursors=[new Wn(e)],this.lastAddedCursorIndex=0}dispose(){for(const e of this.cursors)e.dispose(this.context)}startTrackingSelections(){for(const e of this.cursors)e.startTrackingSelection(this.context)}stopTrackingSelections(){for(const e of this.cursors)e.stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){for(const e of this.cursors)e.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(e=>e.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(e=>e.asCursorState())}getViewPositions(){return this.cursors.map(e=>e.viewState.position)}getTopMostViewPosition(){return(0,l.VJ)(this.cursors,(0,l.tT)(e=>e.viewState.position,me.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,l.jV)(this.cursors,(0,l.tT)(e=>e.viewState.position,me.L.compare)).viewState.position}getSelections(){return this.cursors.map(e=>e.modelState.selection)}getViewSelections(){return this.cursors.map(e=>e.viewState.selection)}setSelections(e){this.setStates(xn.Vi.fromModelSelections(e))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(e){e!==null&&(this.cursors[0].setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const o=this.cursors.length-1,v=e.length;if(o<v){const B=v-o;for(let Y=0;Y<B;Y++)this._addSecondaryCursor()}else if(o>v){const B=o-v;for(let Y=0;Y<B;Y++)this._removeSecondaryCursor(this.cursors.length-2)}for(let B=0;B<v;B++)this.cursors[B+1].setState(this.context,e[B].modelState,e[B].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new Wn(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.cursors[e+1].dispose(this.context),this.cursors.splice(e+1,1)}normalize(){if(this.cursors.length===1)return;const e=this.cursors.slice(0),o=[];for(let v=0,B=e.length;v<B;v++)o.push({index:v,selection:e[v].modelState.selection});o.sort((0,l.tT)(v=>v.selection,Ie.e.compareRangesUsingStarts));for(let v=0;v<o.length-1;v++){const B=o[v],Y=o[v+1],ce=B.selection,De=Y.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let Fe;if(De.isEmpty()||ce.isEmpty()?Fe=De.getStartPosition().isBeforeOrEqual(ce.getEndPosition()):Fe=De.getStartPosition().isBefore(ce.getEndPosition()),Fe){const Ue=B.index<Y.index?v:v+1,tt=B.index<Y.index?v+1:v,gt=o[tt].index,It=o[Ue].index,Nt=o[tt].selection,zt=o[Ue].selection;if(!Nt.equalsSelection(zt)){const qt=Nt.plusRange(zt),si=Nt.selectionStartLineNumber===Nt.startLineNumber&&Nt.selectionStartColumn===Nt.startColumn,ci=zt.selectionStartLineNumber===zt.startLineNumber&&zt.selectionStartColumn===zt.startColumn;let vi;gt===this.lastAddedCursorIndex?(vi=si,this.lastAddedCursorIndex=It):vi=ci;let gi;vi?gi=new re.Y(qt.startLineNumber,qt.startColumn,qt.endLineNumber,qt.endColumn):gi=new re.Y(qt.endLineNumber,qt.endColumn,qt.startLineNumber,qt.startColumn),o[Ue].selection=gi;const Bi=xn.Vi.fromModelSelection(gi);e[It].setState(this.context,Bi.modelState,Bi.viewState)}for(const qt of o)qt.index>gt&&qt.index--;e.splice(gt,1),o.splice(tt,1),this._removeSecondaryCursor(gt-1),v--}}}}class zs{constructor(e,o,v,B){this._cursorContextBrand=void 0,this.model=e,this.viewModel=o,this.coordinatesConverter=v,this.cursorConfig=B}}var ur=i(29436),gs=i(51336),xs=i(14706);class Ms{constructor(){this.type=0}}class No{constructor(){this.type=1}}class hr{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class fr{constructor(e,o){this.type=3,this.selections=e,this.modelSelections=o}}class Ks{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class lo{constructor(){this.type=5}}class Ts{constructor(e){this.type=6,this.isFocused=e}}class Vo{constructor(){this.type=7}}class co{constructor(){this.type=8}}class Ho{constructor(e,o){this.fromLineNumber=e,this.count=o,this.type=9}}class Kn{constructor(e,o){this.type=10,this.fromLineNumber=e,this.toLineNumber=o}}class js{constructor(e,o){this.type=11,this.fromLineNumber=e,this.toLineNumber=o}}class uo{constructor(e,o,v,B,Y,ce,De){this.source=e,this.minimalReveal=o,this.range=v,this.selections=B,this.verticalType=Y,this.revealHorizontal=ce,this.scrollType=De,this.type=12}}class gr{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class mr{constructor(e){this.theme=e,this.type=14}}class xo{constructor(e){this.type=15,this.ranges=e}}class Ur{constructor(){this.type=16}}class Ln{constructor(){this.type=17}}class pr extends L.JT{constructor(){super(),this._onEvent=this._register(new A.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOutgoingEvents()}_addOutgoingEvent(e){for(let o=0,v=this._outgoingEvents.length;o<v;o++){const B=this._outgoingEvents[o].kind===e.kind?this._outgoingEvents[o].attemptToMerge(e):null;if(B){this._outgoingEvents[o]=B;return}}this._outgoingEvents.push(e)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let o=0,v=this._eventHandlers.length;o<v;o++)this._eventHandlers[o]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let o=0;o<this._eventHandlers.length;o++)if(this._eventHandlers[o]===e){this._eventHandlers.splice(o,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new _r),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,o=this._collector.viewEvents;this._collector=null;for(const v of e)this._addOutgoingEvent(v);o.length>0&&this._emitMany(o)}this._emitOutgoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const o=this._eventHandlers.slice(0);for(const v of o)v.handleEvents(e)}}}class _r{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class Uo{constructor(e,o,v,B){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=o,this.contentWidth=v,this.contentHeight=B,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(e){return e.kind!==this.kind?null:new Uo(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class io{constructor(e,o){this.kind=1,this.oldHasFocus=e,this.hasFocus=o}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(e){return e.kind!==this.kind?null:new io(this.oldHasFocus,e.hasFocus)}}class $s{constructor(e,o,v,B,Y,ce,De,Fe){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=o,this._oldScrollHeight=v,this._oldScrollTop=B,this.scrollWidth=Y,this.scrollLeft=ce,this.scrollHeight=De,this.scrollTop=Fe,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(e){return e.kind!==this.kind?null:new $s(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class vr{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Cr{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class Ys{constructor(e,o,v,B,Y,ce,De){this.kind=6,this.oldSelections=e,this.selections=o,this.oldModelVersionId=v,this.modelVersionId=B,this.source=Y,this.reason=ce,this.reachedMaxCursorCount=De}static _selectionsAreEqual(e,o){if(!e&&!o)return!0;if(!e||!o)return!1;const v=e.length,B=o.length;if(v!==B)return!1;for(let Y=0;Y<v;Y++)if(!e[Y].equalsSelection(o[Y]))return!1;return!0}isNoOp(){return Ys._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(e){return e.kind!==this.kind?null:new Ys(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class zo{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(e){return e.kind!==this.kind?null:this}}class ss{constructor(e){this.event=e,this.kind=7}isNoOp(){return!1}attemptToMerge(e){return null}}class Os{constructor(e){this.event=e,this.kind=8}isNoOp(){return!1}attemptToMerge(e){return null}}class Xn{constructor(e){this.event=e,this.kind=9}isNoOp(){return!1}attemptToMerge(e){return null}}class zi{constructor(e){this.event=e,this.kind=10}isNoOp(){return!1}attemptToMerge(e){return null}}class ho{constructor(e){this.event=e,this.kind=11}isNoOp(){return!1}attemptToMerge(e){return null}}class fo{constructor(e){this.event=e,this.kind=12}isNoOp(){return!1}attemptToMerge(e){return null}}class ms extends L.JT{constructor(e,o,v,B){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=o,this._coordinatesConverter=v,this.context=new zs(this._model,this._viewModel,this._coordinatesConverter,B),this._cursors=new Ns(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,L.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new zs(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const e=this._cursors.getSelections();for(let o=0;o<this._autoClosedActions.length;o++){const v=this._autoClosedActions[o];v.isValid(e)||(v.dispose(),this._autoClosedActions.splice(o,1),o--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,o,v,B){let Y=!1;B!==null&&B.length>ms.MAX_CURSOR_COUNT&&(B=B.slice(0,ms.MAX_CURSOR_COUNT),Y=!0);const ce=is.from(this._model,this);return this._cursors.setStates(B),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,o,v,ce,Y)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,o,v,B,Y,ce){const De=this._cursors.getViewPositions();let Fe=null,Ue=null;De.length>1?Ue=this._cursors.getViewSelections():Fe=Ie.e.fromPositions(De[0],De[0]),e.emitViewEvent(new uo(o,v,Fe,Ue,B,Y,ce))}saveState(){const e=[],o=this._cursors.getSelections();for(let v=0,B=o.length;v<B;v++){const Y=o[v];e.push({inSelectionMode:!Y.isEmpty(),selectionStart:{lineNumber:Y.selectionStartLineNumber,column:Y.selectionStartColumn},position:{lineNumber:Y.positionLineNumber,column:Y.positionColumn}})}return e}restoreState(e,o){const v=[];for(let B=0,Y=o.length;B<Y;B++){const ce=o[B];let De=1,Fe=1;ce.position&&ce.position.lineNumber&&(De=ce.position.lineNumber),ce.position&&ce.position.column&&(Fe=ce.position.column);let Ue=De,tt=Fe;ce.selectionStart&&ce.selectionStart.lineNumber&&(Ue=ce.selectionStart.lineNumber),ce.selectionStart&&ce.selectionStart.column&&(tt=ce.selectionStart.column),v.push({selectionStartLineNumber:Ue,selectionStartColumn:tt,positionLineNumber:De,positionColumn:Fe})}this.setStates(e,"restoreState",0,xn.Vi.fromModelSelections(v)),this.revealPrimary(e,"restoreState",!1,0,!0,1)}onModelContentChanged(e,o){if(o instanceof xs.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(e,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const v=o.rawContentChangedEvent;if(this._knownModelVersionId=v.versionId,this._isHandling)return;const B=v.containsEvent(1);if(this._prevEditOperationType=0,B)this._cursors.dispose(),this._cursors=new Ns(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&v.resultingSelection&&v.resultingSelection.length>0){const Y=xn.Vi.fromModelSelections(v.resultingSelection);this.setStates(e,"modelChange",v.isUndoing?5:v.isRedoing?6:2,Y)&&this.revealPrimary(e,"modelChange",!1,0,!0,0)}else{const Y=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,xn.Vi.fromModelSelections(Y))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),o=e.viewState.selectionStart.getStartPosition(),v=e.viewState.position;return{isReal:!1,fromViewLineNumber:o.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,o),toViewLineNumber:v.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,v)}}getSelections(){return this._cursors.getSelections()}setSelections(e,o,v,B){this.setStates(e,o,B,xn.Vi.fromModelSelections(v))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,o){const v=[],B=[];for(let De=0,Fe=e.length;De<Fe;De++)v.push({range:e[De],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),B.push({range:o[De],options:{description:"auto-closed-enclosing",stickiness:1}});const Y=this._model.deltaDecorations([],v),ce=this._model.deltaDecorations([],B);this._autoClosedActions.push(new go(this._model,Y,ce))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const o=no.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(o){this._interpretCommandResult(o);const v=[],B=[];for(let Y=0;Y<e.commands.length;Y++){const ce=e.commands[Y];ce instanceof gs.g_&&ce.enclosingRange&&ce.closeCharacterRange&&(v.push(ce.closeCharacterRange),B.push(ce.enclosingRange))}v.length>0&&this._pushAutoClosedAction(v,B),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,o,v,B,Y){const ce=is.from(this._model,this);if(ce.equals(B))return!1;const De=this._cursors.getSelections(),Fe=this._cursors.getViewSelections();if(e.emitViewEvent(new fr(Fe,De)),!B||B.cursorState.length!==ce.cursorState.length||ce.cursorState.some((Ue,tt)=>!Ue.modelState.equals(B.cursorState[tt].modelState))){const Ue=B?B.cursorState.map(gt=>gt.modelState.selection):null,tt=B?B.modelVersionId:0;e.emitOutgoingEvent(new Ys(Ue,De,tt,ce.modelVersionId,o||"keyboard",v,Y))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;const o=[];for(let v=0,B=e.length;v<B;v++){const Y=e[v];if(!Y.text||Y.text.indexOf(`
`)>=0)return null;const ce=Y.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!ce)return null;const De=ce[1],Fe=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(De);if(!Fe||Fe.length!==1)return null;const Ue=Fe[0].open,tt=Y.text.length-ce[2].length-1,gt=Y.text.lastIndexOf(Ue,tt-1);if(gt===-1)return null;o.push([gt,tt])}return o}executeEdits(e,o,v,B){let Y=null;o==="snippet"&&(Y=this._findAutoClosingPairs(v)),Y&&(v[0]._isTracked=!0);const ce=[],De=[],Fe=this._model.pushEditOperations(this.getSelections(),v,Ue=>{if(Y)for(let gt=0,It=Y.length;gt<It;gt++){const[Nt,zt]=Y[gt],qt=Ue[gt],si=qt.range.startLineNumber,ci=qt.range.startColumn-1+Nt,vi=qt.range.startColumn-1+zt;ce.push(new Ie.e(si,vi+1,si,vi+2)),De.push(new Ie.e(si,ci+1,si,vi+2))}const tt=B(Ue);return tt&&(this._isHandling=!0),tt});Fe&&(this._isHandling=!1,this.setSelections(e,o,Fe,0)),ce.length>0&&this._pushAutoClosedAction(ce,De)}_executeEdit(e,o,v,B=0){if(this.context.cursorConfig.readOnly)return;const Y=is.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(ce){(0,P.dL)(ce)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,v,B,Y,!1)&&this.revealPrimary(o,v,!1,0,!0,0)}getAutoClosedCharacters(){return go.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._compositionState=new sn(this._model,this.getSelections())}endComposition(e,o){const v=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{o==="keyboard"&&this._executeEditOperation(gs.u6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,v,this.getSelections(),this.getAutoClosedCharacters()))},e,o)}type(e,o,v){this._executeEdit(()=>{if(v==="keyboard"){const B=o.length;let Y=0;for(;Y<B;){const ce=Le.vH(o,Y),De=o.substr(Y,ce);this._executeEditOperation(gs.u6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),De)),Y+=ce}}else this._executeEditOperation(gs.u6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o))},e,v)}compositionType(e,o,v,B,Y,ce){if(o.length===0&&v===0&&B===0){if(Y!==0){const De=this.getSelections().map(Fe=>{const Ue=Fe.getPosition();return new re.Y(Ue.lineNumber,Ue.column+Y,Ue.lineNumber,Ue.column+Y)});this.setSelections(e,ce,De,0)}return}this._executeEdit(()=>{this._executeEditOperation(gs.u6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o,v,B,Y))},e,ce)}paste(e,o,v,B,Y){this._executeEdit(()=>{this._executeEditOperation(gs.u6.paste(this.context.cursorConfig,this._model,this.getSelections(),o,v,B||[]))},e,Y,4)}cut(e,o){this._executeEdit(()=>{this._executeEditOperation(ur.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,o)}executeCommand(e,o,v){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new xn.Tp(0,[o],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,v)}executeCommands(e,o,v){this._executeEdit(()=>{this._executeEditOperation(new xn.Tp(0,o,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,v)}}ms.MAX_CURSOR_COUNT=1e4;class is{constructor(e,o){this.modelVersionId=e,this.cursorState=o}static from(e,o){return new is(e.getVersionId(),o.getCursorStates())}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let o=0,v=this.cursorState.length;o<v;o++)if(!this.cursorState[o].equals(e.cursorState[o]))return!1;return!0}}class go{constructor(e,o,v){this._model=e,this._autoClosedCharactersDecorations=o,this._autoClosedEnclosingDecorations=v}static getAllAutoClosedCharacters(e){let o=[];for(const v of e)o=o.concat(v.getAutoClosedCharactersRanges());return o}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const e=[];for(let o=0;o<this._autoClosedCharactersDecorations.length;o++){const v=this._model.getDecorationRange(this._autoClosedCharactersDecorations[o]);v&&e.push(v)}return e}isValid(e){const o=[];for(let v=0;v<this._autoClosedEnclosingDecorations.length;v++){const B=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[v]);if(B&&(o.push(B),B.startLineNumber!==B.endLineNumber))return!1}o.sort(Ie.e.compareRangesUsingStarts),e.sort(Ie.e.compareRangesUsingStarts);for(let v=0;v<e.length;v++)if(v>=o.length||!o[v].strictContainsRange(e[v]))return!1;return!0}}class no{static executeCommands(e,o,v){const B={model:e,selectionsBefore:o,trackedRanges:[],trackedRangesDirection:[]},Y=this._innerExecuteCommands(B,v);for(let ce=0,De=B.trackedRanges.length;ce<De;ce++)B.model._setTrackedRange(B.trackedRanges[ce],null,0);return Y}static _innerExecuteCommands(e,o){if(this._arrayIsEmpty(o))return null;const v=this._getEditOperations(e,o);if(v.operations.length===0)return null;const B=v.operations,Y=this._getLoserCursorMap(B);if(Y.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const ce=[];for(let Ue=0,tt=B.length;Ue<tt;Ue++)Y.hasOwnProperty(B[Ue].identifier.major.toString())||ce.push(B[Ue]);v.hadTrackedEditOperation&&ce.length>0&&(ce[0]._isTracked=!0);let De=e.model.pushEditOperations(e.selectionsBefore,ce,Ue=>{const tt=[];for(let Nt=0;Nt<e.selectionsBefore.length;Nt++)tt[Nt]=[];for(const Nt of Ue)!Nt.identifier||tt[Nt.identifier.major].push(Nt);const gt=(Nt,zt)=>Nt.identifier.minor-zt.identifier.minor,It=[];for(let Nt=0;Nt<e.selectionsBefore.length;Nt++)tt[Nt].length>0?(tt[Nt].sort(gt),It[Nt]=o[Nt].computeCursorState(e.model,{getInverseEditOperations:()=>tt[Nt],getTrackedSelection:zt=>{const qt=parseInt(zt,10),si=e.model._getTrackedRange(e.trackedRanges[qt]);return e.trackedRangesDirection[qt]===0?new re.Y(si.startLineNumber,si.startColumn,si.endLineNumber,si.endColumn):new re.Y(si.endLineNumber,si.endColumn,si.startLineNumber,si.startColumn)}})):It[Nt]=e.selectionsBefore[Nt];return It});De||(De=e.selectionsBefore);const Fe=[];for(const Ue in Y)Y.hasOwnProperty(Ue)&&Fe.push(parseInt(Ue,10));Fe.sort((Ue,tt)=>tt-Ue);for(const Ue of Fe)De.splice(Ue,1);return De}static _arrayIsEmpty(e){for(let o=0,v=e.length;o<v;o++)if(e[o])return!1;return!0}static _getEditOperations(e,o){let v=[],B=!1;for(let Y=0,ce=o.length;Y<ce;Y++){const De=o[Y];if(De){const Fe=this._getEditOperationsFromCommand(e,Y,De);v=v.concat(Fe.operations),B=B||Fe.hadTrackedEditOperation}}return{operations:v,hadTrackedEditOperation:B}}static _getEditOperationsFromCommand(e,o,v){const B=[];let Y=0;const ce=(gt,It,Nt=!1)=>{Ie.e.isEmpty(gt)&&It===""||B.push({identifier:{major:o,minor:Y++},range:gt,text:It,forceMoveMarkers:Nt,isAutoWhitespaceEdit:v.insertsAutoWhitespace})};let De=!1;const tt={addEditOperation:ce,addTrackedEditOperation:(gt,It,Nt)=>{De=!0,ce(gt,It,Nt)},trackSelection:(gt,It)=>{const Nt=re.Y.liftSelection(gt);let zt;if(Nt.isEmpty())if(typeof It=="boolean")It?zt=2:zt=3;else{const ci=e.model.getLineMaxColumn(Nt.startLineNumber);Nt.startColumn===ci?zt=2:zt=3}else zt=1;const qt=e.trackedRanges.length,si=e.model._setTrackedRange(null,Nt,zt);return e.trackedRanges[qt]=si,e.trackedRangesDirection[qt]=Nt.getDirection(),qt.toString()}};try{v.getEditOperations(e.model,tt)}catch(gt){return(0,P.dL)(gt),{operations:[],hadTrackedEditOperation:!1}}return{operations:B,hadTrackedEditOperation:De}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((v,B)=>-Ie.e.compareRangesUsingEnds(v.range,B.range));const o={};for(let v=1;v<e.length;v++){const B=e[v-1],Y=e[v];if(Ie.e.getStartPosition(B.range).isBefore(Ie.e.getEndPosition(Y.range))){let ce;B.identifier.major>Y.identifier.major?ce=B.identifier.major:ce=Y.identifier.major,o[ce.toString()]=!0;for(let De=0;De<e.length;De++)e[De].identifier.major===ce&&(e.splice(De,1),De<v&&v--,De--);v>0&&v--}}return o}}class Mo{constructor(e,o,v){this.text=e,this.startSelection=o,this.endSelection=v}}class sn{constructor(e,o){this._original=sn._capture(e,o)}static _capture(e,o){const v=[];for(const B of o){if(B.startLineNumber!==B.endLineNumber)return null;v.push(new Mo(e.getLineContent(B.startLineNumber),B.startColumn-1,B.endColumn-1))}return v}deduceOutcome(e,o){if(!this._original)return null;const v=sn._capture(e,o);if(!v||this._original.length!==v.length)return null;const B=[];for(let Y=0,ce=this._original.length;Y<ce;Y++)B.push(sn._deduceOutcome(this._original[Y],v[Y]));return B}static _deduceOutcome(e,o){const v=Math.min(e.startSelection,o.startSelection,Le.Mh(e.text,o.text)),B=Math.min(e.text.length-e.endSelection,o.text.length-o.endSelection,Le.P1(e.text,o.text)),Y=e.text.substring(v,e.text.length-B),ce=o.text.substring(v,o.text.length-B);return new gs.Nu(Y,e.startSelection-v,e.endSelection-v,ce,o.startSelection-v,o.endSelection-v)}}var Mn=i(30653),Zn=i(96518),gn=i(29102),rs=i(92035),ns=i(68801),ps=i(82963),br=i(76633);class Ss{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const o=this._inserts,v=this._changes,B=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(o,v,B)}}class so{constructor(e,o,v,B,Y){this.id=e,this.afterLineNumber=o,this.ordinal=v,this.height=B,this.minWidth=Y,this.prefixSum=0}}class mo{constructor(e,o,v,B){this._instanceId=Le.PJ(++mo.INSTANCE_COUNT),this._pendingChanges=new Ss,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=o,this._paddingTop=v,this._paddingBottom=B}static findInsertionIndex(e,o,v){let B=0,Y=e.length;for(;B<Y;){const ce=B+Y>>>1;o===e[ce].afterLineNumber?v<e[ce].ordinal?Y=ce:B=ce+1:o<e[ce].afterLineNumber?Y=ce:B=ce+1}return B}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,o){this._paddingTop=e,this._paddingBottom=o}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let o=!1;try{e({insertWhitespace:(B,Y,ce,De)=>{o=!0,B=B|0,Y=Y|0,ce=ce|0,De=De|0;const Fe=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new so(Fe,B,Y,ce,De)),Fe},changeOneWhitespace:(B,Y,ce)=>{o=!0,Y=Y|0,ce=ce|0,this._pendingChanges.change({id:B,newAfterLineNumber:Y,newHeight:ce})},removeWhitespace:B=>{o=!0,this._pendingChanges.remove({id:B})}})}finally{this._pendingChanges.commit(this)}return o}_commitPendingChanges(e,o,v){if((e.length>0||v.length>0)&&(this._minWidth=-1),e.length+o.length+v.length<=1){for(const Fe of e)this._insertWhitespace(Fe);for(const Fe of o)this._changeOneWhitespace(Fe.id,Fe.newAfterLineNumber,Fe.newHeight);for(const Fe of v){const Ue=this._findWhitespaceIndex(Fe.id);Ue!==-1&&this._removeWhitespace(Ue)}return}const B=new Set;for(const Fe of v)B.add(Fe.id);const Y=new Map;for(const Fe of o)Y.set(Fe.id,Fe);const ce=Fe=>{const Ue=[];for(const tt of Fe)if(!B.has(tt.id)){if(Y.has(tt.id)){const gt=Y.get(tt.id);tt.afterLineNumber=gt.newAfterLineNumber,tt.height=gt.newHeight}Ue.push(tt)}return Ue},De=ce(this._arr).concat(ce(e));De.sort((Fe,Ue)=>Fe.afterLineNumber===Ue.afterLineNumber?Fe.ordinal-Ue.ordinal:Fe.afterLineNumber-Ue.afterLineNumber),this._arr=De,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const o=mo.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(o,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,o-1)}_findWhitespaceIndex(e){const o=this._arr;for(let v=0,B=o.length;v<B;v++)if(o[v].id===e)return v;return-1}_changeOneWhitespace(e,o,v){const B=this._findWhitespaceIndex(e);if(B!==-1&&(this._arr[B].height!==v&&(this._arr[B].height=v,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,B-1)),this._arr[B].afterLineNumber!==o)){const Y=this._arr[B];this._removeWhitespace(B),Y.afterLineNumber=o,this._insertWhitespace(Y)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,o){this._checkPendingChanges(),e=e|0,o=o|0,this._lineCount-=o-e+1;for(let v=0,B=this._arr.length;v<B;v++){const Y=this._arr[v].afterLineNumber;e<=Y&&Y<=o?this._arr[v].afterLineNumber=e-1:Y>o&&(this._arr[v].afterLineNumber-=o-e+1)}}onLinesInserted(e,o){this._checkPendingChanges(),e=e|0,o=o|0,this._lineCount+=o-e+1;for(let v=0,B=this._arr.length;v<B;v++){const Y=this._arr[v].afterLineNumber;e<=Y&&(this._arr[v].afterLineNumber+=o-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let o=Math.max(0,this._prefixSumValidIndex+1);o===0&&(this._arr[0].prefixSum=this._arr[0].height,o++);for(let v=o;v<=e;v++)this._arr[v].prefixSum=this._arr[v-1].prefixSum+this._arr[v].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,o=this.getWhitespacesTotalHeight();return e+o+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const o=this._findLastWhitespaceBeforeLineNumber(e);return o===-1?0:this.getWhitespacesAccumulatedHeight(o)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const o=this._arr;let v=0,B=o.length-1;for(;v<=B;){const ce=(B-v|0)/2|0,De=v+ce|0;if(o[De].afterLineNumber<e){if(De+1>=o.length||o[De+1].afterLineNumber>=e)return De;v=De+1|0}else B=De-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const v=this._findLastWhitespaceBeforeLineNumber(e)+1;return v<this._arr.length?v:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e,o=!1){this._checkPendingChanges(),e=e|0;let v;e>1?v=this._lineHeight*(e-1):v=0;const B=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e-(o?1:0));return v+B+this._paddingTop}getVerticalOffsetAfterLineNumber(e,o=!1){this._checkPendingChanges(),e=e|0;const v=this._lineHeight*e,B=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e+(o?1:0));return v+B+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let o=0,v=this._arr.length;o<v;o++)e=Math.max(e,this._arr[o].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const o=this.getLinesTotalHeight();return e>o}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const o=this.getLinesTotalHeight();return e>=o-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const o=this._lineCount|0,v=this._lineHeight;let B=1,Y=o;for(;B<Y;){const ce=(B+Y)/2|0,De=this.getVerticalOffsetForLineNumber(ce)|0;if(e>=De+v)B=ce+1;else{if(e>=De)return ce;Y=ce}}return B>o?o:B}getLinesViewportData(e,o){this._checkPendingChanges(),e=e|0,o=o|0;const v=this._lineHeight,B=this.getLineNumberAtOrAfterVerticalOffset(e)|0,Y=this.getVerticalOffsetForLineNumber(B)|0;let ce=this._lineCount|0,De=this.getFirstWhitespaceIndexAfterLineNumber(B)|0;const Fe=this.getWhitespacesCount()|0;let Ue,tt;De===-1?(De=Fe,tt=ce+1,Ue=0):(tt=this.getAfterLineNumberForWhitespaceIndex(De)|0,Ue=this.getHeightForWhitespaceIndex(De)|0);let gt=Y,It=gt;const Nt=5e5;let zt=0;Y>=Nt&&(zt=Math.floor(Y/Nt)*Nt,zt=Math.floor(zt/v)*v,It-=zt);const qt=[],si=e+(o-e)/2;let ci=-1;for(let Ai=B;Ai<=ce;Ai++){if(ci===-1){const Wi=gt,Ui=gt+v;(Wi<=si&&si<Ui||Wi>si)&&(ci=Ai)}for(gt+=v,qt[Ai-B]=It,It+=v;tt===Ai;)It+=Ue,gt+=Ue,De++,De>=Fe?tt=ce+1:(tt=this.getAfterLineNumberForWhitespaceIndex(De)|0,Ue=this.getHeightForWhitespaceIndex(De)|0);if(gt>=o){ce=Ai;break}}ci===-1&&(ci=ce);const vi=this.getVerticalOffsetForLineNumber(ce)|0;let gi=B,Bi=ce;return gi<Bi&&Y<e&&gi++,gi<Bi&&vi+v>o&&Bi--,{bigNumbersDelta:zt,startLineNumber:B,endLineNumber:ce,relativeVerticalOffset:qt,centeredLineNumber:ci,completelyVisibleStartLineNumber:gi,completelyVisibleEndLineNumber:Bi}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const o=this.getAfterLineNumberForWhitespaceIndex(e);let v;o>=1?v=this._lineHeight*o:v=0;let B;return e>0?B=this.getWhitespacesAccumulatedHeight(e-1):B=0,v+B+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let o=0,v=this.getWhitespacesCount()-1;if(v<0)return-1;const B=this.getVerticalOffsetForWhitespaceIndex(v),Y=this.getHeightForWhitespaceIndex(v);if(e>=B+Y)return-1;for(;o<v;){const ce=Math.floor((o+v)/2),De=this.getVerticalOffsetForWhitespaceIndex(ce),Fe=this.getHeightForWhitespaceIndex(ce);if(e>=De+Fe)o=ce+1;else{if(e>=De)return ce;v=ce}}return o}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const o=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(o<0||o>=this.getWhitespacesCount())return null;const v=this.getVerticalOffsetForWhitespaceIndex(o);if(v>e)return null;const B=this.getHeightForWhitespaceIndex(o),Y=this.getIdForWhitespaceIndex(o),ce=this.getAfterLineNumberForWhitespaceIndex(o);return{id:Y,afterLineNumber:ce,verticalOffset:v,height:B}}getWhitespaceViewportData(e,o){this._checkPendingChanges(),e=e|0,o=o|0;const v=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),B=this.getWhitespacesCount()-1;if(v<0)return[];const Y=[];for(let ce=v;ce<=B;ce++){const De=this.getVerticalOffsetForWhitespaceIndex(ce),Fe=this.getHeightForWhitespaceIndex(ce);if(De>=o)break;Y.push({id:this.getIdForWhitespaceIndex(ce),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(ce),verticalOffset:De,height:Fe})}return Y}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}}mo.INSTANCE_COUNT=0;const zr=125;class To{constructor(e,o,v,B){e=e|0,o=o|0,v=v|0,B=B|0,e<0&&(e=0),o<0&&(o=0),v<0&&(v=0),B<0&&(B=0),this.width=e,this.contentWidth=o,this.scrollWidth=Math.max(e,o),this.height=v,this.contentHeight=B,this.scrollHeight=Math.max(v,B)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class xa extends L.JT{constructor(e,o){super(),this._onDidContentSizeChange=this._register(new A.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new To(0,0,0,0),this._scrollable=this._register(new br.Rm({forceIntegerValues:!0,smoothScrollDuration:e,scheduleAtNextAnimationFrame:o})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const o=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const v=o.contentWidth!==e.contentWidth,B=o.contentHeight!==e.contentHeight;(v||B)&&this._onDidContentSizeChange.fire(new Uo(o.contentWidth,o.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class us extends L.JT{constructor(e,o,v){super(),this._configuration=e;const B=this._configuration.options,Y=B.get(133),ce=B.get(77);this._linesLayout=new mo(o,B.get(61),ce.top,ce.bottom),this._scrollable=this._register(new xa(0,v)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new To(Y.contentWidth,0,Y.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(105)?zr:0)}onConfigurationChanged(e){const o=this._configuration.options;if(e.hasChanged(61)&&this._linesLayout.setLineHeight(o.get(61)),e.hasChanged(77)){const v=o.get(77);this._linesLayout.setPadding(v.top,v.bottom)}if(e.hasChanged(133)){const v=o.get(133),B=v.contentWidth,Y=v.height,ce=this._scrollable.getScrollDimensions(),De=ce.contentWidth;this._scrollable.setScrollDimensions(new To(B,ce.contentWidth,Y,this._getContentHeight(B,Y,De)))}else this._updateHeight();e.hasChanged(105)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,o){this._linesLayout.onLinesDeleted(e,o)}onLinesInserted(e,o){this._linesLayout.onLinesInserted(e,o)}_getHorizontalScrollbarHeight(e,o){const B=this._configuration.options.get(94);return B.horizontal===2||e>=o?0:B.horizontalScrollbarSize}_getContentHeight(e,o,v){const B=this._configuration.options;let Y=this._linesLayout.getLinesTotalHeight();return B.get(96)?Y+=Math.max(0,o-B.get(61)-B.get(77).bottom):Y+=this._getHorizontalScrollbarHeight(e,v),Y}_updateHeight(){const e=this._scrollable.getScrollDimensions(),o=e.width,v=e.height,B=e.contentWidth;this._scrollable.setScrollDimensions(new To(o,e.contentWidth,v,this._getContentHeight(o,v,B)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),o=this._scrollable.getCurrentScrollPosition();return new nn.l_(o.scrollTop,o.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),o=this._scrollable.getFutureScrollPosition();return new nn.l_(o.scrollTop,o.scrollLeft,e.width,e.height)}_computeContentWidth(e){const o=this._configuration.options,v=o.get(134),B=o.get(46),Y=o.get(133);if(v.isViewportWrapping){const ce=o.get(67);return e>Y.contentWidth+B.typicalHalfwidthCharacterWidth&&ce.enabled&&ce.side==="right"?e+Y.verticalScrollbarWidth:e}else{const ce=o.get(95)*B.typicalHalfwidthCharacterWidth,De=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+ce+Y.verticalScrollbarWidth,De)}}setMaxLineWidth(e){const o=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new To(o.width,this._computeContentWidth(e),o.height,o.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition(),o=e.scrollTop,v=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(o),B=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(v);return{scrollTop:o,scrollTopWithoutViewZones:o-B,scrollLeft:e.scrollLeft}}changeWhitespace(e){const o=this._linesLayout.changeWhitespace(e);return o&&this.onHeightMaybeChanged(),o}getVerticalOffsetForLineNumber(e,o=!1){return this._linesLayout.getVerticalOffsetForLineNumber(e,o)}getVerticalOffsetAfterLineNumber(e,o=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(e,o)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const o=this._scrollable.getScrollDimensions();return e+o.height>o.scrollHeight&&(e=o.scrollHeight-o.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+o.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,o){o===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,o){const v=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:v.scrollLeft+e,scrollTop:v.scrollTop+o})}}var _s=i(30168),hs=i(77378);function po(yt,e){return yt===null?e?Ko.INSTANCE:jo.INSTANCE:new Ma(yt,e)}class Ma{constructor(e,o){this._projectionData=e,this._isVisible=o}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(e,o,v){this._assertVisible();const B=v>0?this._projectionData.breakOffsets[v-1]:0,Y=this._projectionData.breakOffsets[v];let ce;if(this._projectionData.injectionOffsets!==null){const De=this._projectionData.injectionOffsets.map((Ue,tt)=>new xs.gk(0,0,Ue+1,this._projectionData.injectionOptions[tt],0));ce=xs.gk.applyInjectedText(e.getLineContent(o),De).substring(B,Y)}else ce=e.getValueInRange({startLineNumber:o,startColumn:B+1,endLineNumber:o,endColumn:Y+1});return v>0&&(ce=_o(this._projectionData.wrappedTextIndentLength)+ce),ce}getViewLineLength(e,o,v){return this._assertVisible(),this._projectionData.getLineLength(v)}getViewLineMinColumn(e,o,v){return this._assertVisible(),this._projectionData.getMinOutputOffset(v)+1}getViewLineMaxColumn(e,o,v){return this._assertVisible(),this._projectionData.getMaxOutputOffset(v)+1}getViewLineData(e,o,v){const B=new Array;return this.getViewLinesData(e,o,v,1,0,[!0],B),B[0]}getViewLinesData(e,o,v,B,Y,ce,De){this._assertVisible();const Fe=this._projectionData,Ue=Fe.injectionOffsets,tt=Fe.injectionOptions;let gt=null;if(Ue){gt=[];let Nt=0,zt=0;for(let qt=0;qt<Fe.getOutputLineCount();qt++){const si=new Array;gt[qt]=si;const ci=qt>0?Fe.breakOffsets[qt-1]:0,vi=Fe.breakOffsets[qt];for(;zt<Ue.length;){const gi=tt[zt].content.length,Bi=Ue[zt]+Nt,Ai=Bi+gi;if(Bi>vi)break;if(ci<Ai){const Wi=tt[zt];if(Wi.inlineClassName){const Ui=qt>0?Fe.wrappedTextIndentLength:0,Ri=Ui+Math.max(Bi-ci,0),Zi=Ui+Math.min(Ai-ci,vi);Ri!==Zi&&si.push(new nn.Wx(Ri,Zi,Wi.inlineClassName,Wi.inlineClassNameAffectsLetterSpacing))}}if(Ai<=vi)Nt+=gi,zt++;else break}}}let It;Ue?It=e.tokenization.getLineTokens(o).withInserted(Ue.map((Nt,zt)=>({offset:Nt,text:tt[zt].content,tokenMetadata:hs.A.defaultTokenMetadata}))):It=e.tokenization.getLineTokens(o);for(let Nt=v;Nt<v+B;Nt++){const zt=Y+Nt-v;if(!ce[zt]){De[zt]=null;continue}De[zt]=this._getViewLineData(It,gt?gt[Nt]:null,Nt)}}_getViewLineData(e,o,v){this._assertVisible();const B=this._projectionData,Y=v>0?B.wrappedTextIndentLength:0,ce=v>0?B.breakOffsets[v-1]:0,De=B.breakOffsets[v],Fe=e.sliceAndInflate(ce,De,Y);let Ue=Fe.getLineContent();v>0&&(Ue=_o(B.wrappedTextIndentLength)+Ue);const tt=this._projectionData.getMinOutputOffset(v)+1,gt=Ue.length+1,It=v+1<this.getViewLineCount(),Nt=v===0?0:B.breakOffsetsVisibleColumn[v-1];return new nn.IP(Ue,It,tt,gt,Nt,Fe,o)}getModelColumnOfViewPosition(e,o){return this._assertVisible(),this._projectionData.translateToInputOffset(e,o-1)+1}getViewPositionOfModelPosition(e,o,v=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(o-1,v).toPosition(e)}getViewLineNumberOfModelPosition(e,o){this._assertVisible();const v=this._projectionData.translateToOutputPosition(o-1);return e+v.outputLineIndex}normalizePosition(e,o,v){const B=o.lineNumber-e;return this._projectionData.normalizeOutputPosition(e,o.column-1,v).toPosition(B)}getInjectedTextAt(e,o){return this._projectionData.getInjectedText(e,o-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class Ko{constructor(){}isVisible(){return!0}setVisible(e){return e?this:jo.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(e,o,v){return e.getLineContent(o)}getViewLineLength(e,o,v){return e.getLineLength(o)}getViewLineMinColumn(e,o,v){return e.getLineMinColumn(o)}getViewLineMaxColumn(e,o,v){return e.getLineMaxColumn(o)}getViewLineData(e,o,v){const B=e.tokenization.getLineTokens(o),Y=B.getLineContent();return new nn.IP(Y,!1,1,Y.length+1,0,B.inflate(),null)}getViewLinesData(e,o,v,B,Y,ce,De){if(!ce[Y]){De[Y]=null;return}De[Y]=this.getViewLineData(e,o,0)}getModelColumnOfViewPosition(e,o){return o}getViewPositionOfModelPosition(e,o){return new me.L(e,o)}getViewLineNumberOfModelPosition(e,o){return e}normalizePosition(e,o,v){return o}getInjectedTextAt(e,o){return null}}Ko.INSTANCE=new Ko;class jo{constructor(){}isVisible(){return!1}setVisible(e){return e?Ko.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(e,o,v){throw new Error("Not supported")}getViewLineLength(e,o,v){throw new Error("Not supported")}getViewLineMinColumn(e,o,v){throw new Error("Not supported")}getViewLineMaxColumn(e,o,v){throw new Error("Not supported")}getViewLineData(e,o,v){throw new Error("Not supported")}getViewLinesData(e,o,v,B,Y,ce,De){throw new Error("Not supported")}getModelColumnOfViewPosition(e,o){throw new Error("Not supported")}getViewPositionOfModelPosition(e,o){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,o){throw new Error("Not supported")}normalizePosition(e,o,v){throw new Error("Not supported")}getInjectedTextAt(e,o){throw new Error("Not supported")}}jo.INSTANCE=new jo;const Xs=[""];function _o(yt){if(yt>=Xs.length)for(let e=1;e<=yt;e++)Xs[e]=Ao(e);return Xs[yt]}function Ao(yt){return new Array(yt+1).join(" ")}var Kr=i(90310);class jr{constructor(e,o,v,B,Y,ce,De,Fe,Ue){this._editorId=e,this.model=o,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=v,this._monospaceLineBreaksComputerFactory=B,this.fontInfo=Y,this.tabSize=ce,this.wrappingStrategy=De,this.wrappingColumn=Fe,this.wrappingIndent=Ue,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new Go(this)}_constructLines(e,o){this.modelLineProjections=[],e&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const v=this.model.getLinesContent(),B=this.model.getInjectedTextDecorations(this._editorId),Y=v.length,ce=this.createLineBreaksComputer(),De=new l.H9(xs.gk.fromDecorations(B));for(let qt=0;qt<Y;qt++){const si=De.takeWhile(ci=>ci.lineNumber===qt+1);ce.addRequest(v[qt],si,o?o[qt]:null)}const Fe=ce.finalize(),Ue=[],tt=this.hiddenAreasDecorationIds.map(qt=>this.model.getDecorationRange(qt)).sort(Ie.e.compareRangesUsingStarts);let gt=1,It=0,Nt=-1,zt=Nt+1<tt.length?It+1:Y+2;for(let qt=0;qt<Y;qt++){const si=qt+1;si===zt&&(Nt++,gt=tt[Nt].startLineNumber,It=tt[Nt].endLineNumber,zt=Nt+1<tt.length?It+1:Y+2);const ci=si>=gt&&si<=It,vi=po(Fe[qt],!ci);Ue[qt]=vi.getViewLineCount(),this.modelLineProjections[qt]=vi}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new Kr.Ck(Ue)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(e=>this.model.getDecorationRange(e))}setHiddenAreas(e){const o=e.map(It=>this.model.validateRange(It)),v=Ta(o),B=this.hiddenAreasDecorationIds.map(It=>this.model.getDecorationRange(It)).sort(Ie.e.compareRangesUsingStarts);if(v.length===B.length){let It=!1;for(let Nt=0;Nt<v.length;Nt++)if(!v[Nt].equalsRange(B[Nt])){It=!0;break}if(!It)return!1}const Y=v.map(It=>({range:It,options:rs.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,Y);const ce=v;let De=1,Fe=0,Ue=-1,tt=Ue+1<ce.length?Fe+1:this.modelLineProjections.length+2,gt=!1;for(let It=0;It<this.modelLineProjections.length;It++){const Nt=It+1;Nt===tt&&(Ue++,De=ce[Ue].startLineNumber,Fe=ce[Ue].endLineNumber,tt=Ue+1<ce.length?Fe+1:this.modelLineProjections.length+2);let zt=!1;if(Nt>=De&&Nt<=Fe?this.modelLineProjections[It].isVisible()&&(this.modelLineProjections[It]=this.modelLineProjections[It].setVisible(!1),zt=!0):(gt=!0,this.modelLineProjections[It].isVisible()||(this.modelLineProjections[It]=this.modelLineProjections[It].setVisible(!0),zt=!0)),zt){const qt=this.modelLineProjections[It].getViewLineCount();this.projectedModelLineLineCounts.setValue(It,qt)}}return gt||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,o){return e<1||e>this.modelLineProjections.length?!1:this.modelLineProjections[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.modelLineProjections.length?1:this.modelLineProjections[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,o,v,B){const Y=this.fontInfo.equals(e),ce=this.wrappingStrategy===o,De=this.wrappingColumn===v,Fe=this.wrappingIndent===B;if(Y&&ce&&De&&Fe)return!1;const Ue=Y&&ce&&!De&&Fe;this.fontInfo=e,this.wrappingStrategy=o,this.wrappingColumn=v,this.wrappingIndent=B;let tt=null;if(Ue){tt=[];for(let gt=0,It=this.modelLineProjections.length;gt<It;gt++)tt[gt]=this.modelLineProjections[gt].getProjectionData()}return this._constructLines(!1,tt),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,o,v){if(!e||e<=this._validModelVersionId)return null;const B=o===1?1:this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,Y=this.projectedModelLineLineCounts.getPrefixSum(v);return this.modelLineProjections.splice(o-1,v-o+1),this.projectedModelLineLineCounts.removeValues(o-1,v-o+1),new Kn(B,Y)}onModelLinesInserted(e,o,v,B){if(!e||e<=this._validModelVersionId)return null;const Y=o>2&&!this.modelLineProjections[o-2].isVisible(),ce=o===1?1:this.projectedModelLineLineCounts.getPrefixSum(o-1)+1;let De=0;const Fe=[],Ue=[];for(let tt=0,gt=B.length;tt<gt;tt++){const It=po(B[tt],!Y);Fe.push(It);const Nt=It.getViewLineCount();De+=Nt,Ue[tt]=Nt}return this.modelLineProjections=this.modelLineProjections.slice(0,o-1).concat(Fe).concat(this.modelLineProjections.slice(o-1)),this.projectedModelLineLineCounts.insertValues(o-1,Ue),new js(ce,ce+De-1)}onModelLineChanged(e,o,v){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];const B=o-1,Y=this.modelLineProjections[B].getViewLineCount(),ce=this.modelLineProjections[B].isVisible(),De=po(v,ce);this.modelLineProjections[B]=De;const Fe=this.modelLineProjections[B].getViewLineCount();let Ue=!1,tt=0,gt=-1,It=0,Nt=-1,zt=0,qt=-1;Y>Fe?(tt=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,gt=tt+Fe-1,zt=gt+1,qt=zt+(Y-Fe)-1,Ue=!0):Y<Fe?(tt=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,gt=tt+Y-1,It=gt+1,Nt=It+(Fe-Y)-1,Ue=!0):(tt=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,gt=tt+Fe-1),this.projectedModelLineLineCounts.setValue(B,Fe);const si=tt<=gt?new Ho(tt,gt-tt+1):null,ci=It<=Nt?new js(It,Nt):null,vi=zt<=qt?new Kn(zt,qt):null;return[Ue,si,ci,vi]}acceptVersionId(e){this._validModelVersionId=e,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(e){if(e<1)return 1;const o=this.getViewLineCount();return e>o?o:e|0}getActiveIndentGuide(e,o,v){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o),v=this._toValidViewLineNumber(v);const B=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),Y=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),ce=this.convertViewPositionToModelPosition(v,this.getViewLineMinColumn(v)),De=this.model.guides.getActiveIndentGuide(B.lineNumber,Y.lineNumber,ce.lineNumber),Fe=this.convertModelPositionToViewPosition(De.startLineNumber,1),Ue=this.convertModelPositionToViewPosition(De.endLineNumber,this.model.getLineMaxColumn(De.endLineNumber));return{startLineNumber:Fe.lineNumber,endLineNumber:Ue.lineNumber,indent:De.indent}}getViewLineInfo(e){e=this._toValidViewLineNumber(e);const o=this.projectedModelLineLineCounts.getIndexOf(e-1),v=o.index,B=o.remainder;return new Sr(v+1,B)}getMinColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(e){return this.modelLineProjections[e.modelLineNumber-1].getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(e){const o=this.modelLineProjections[e.modelLineNumber-1],v=o.getViewLineMinColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),B=o.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,v);return new me.L(e.modelLineNumber,B)}getModelEndPositionOfViewLine(e){const o=this.modelLineProjections[e.modelLineNumber-1],v=o.getViewLineMaxColumn(this.model,e.modelLineNumber,e.modelLineWrappedLineIdx),B=o.getModelColumnOfViewPosition(e.modelLineWrappedLineIdx,v);return new me.L(e.modelLineNumber,B)}getViewLineInfosGroupedByModelRanges(e,o){const v=this.getViewLineInfo(e),B=this.getViewLineInfo(o),Y=new Array;let ce=this.getModelStartPositionOfViewLine(v),De=new Array;for(let Fe=v.modelLineNumber;Fe<=B.modelLineNumber;Fe++){const Ue=this.modelLineProjections[Fe-1];if(Ue.isVisible()){const tt=Fe===v.modelLineNumber?v.modelLineWrappedLineIdx:0,gt=Fe===B.modelLineNumber?B.modelLineWrappedLineIdx+1:Ue.getViewLineCount();for(let It=tt;It<gt;It++)De.push(new Sr(Fe,It))}if(!Ue.isVisible()&&ce){const tt=new me.L(Fe-1,this.model.getLineMaxColumn(Fe-1)+1),gt=Ie.e.fromPositions(ce,tt);Y.push(new $o(gt,De)),De=[],ce=null}else Ue.isVisible()&&!ce&&(ce=new me.L(Fe,1))}if(ce){const Fe=Ie.e.fromPositions(ce,this.getModelEndPositionOfViewLine(B));Y.push(new $o(Fe,De))}return Y}getViewLinesBracketGuides(e,o,v,B){const Y=v?this.convertViewPositionToModelPosition(v.lineNumber,v.column):null,ce=[];for(const De of this.getViewLineInfosGroupedByModelRanges(e,o)){const Fe=De.modelRange.startLineNumber,Ue=this.model.guides.getLinesBracketGuides(Fe,De.modelRange.endLineNumber,Y,B);for(const tt of De.viewLines){const It=Ue[tt.modelLineNumber-Fe].map(Nt=>{if(Nt.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[tt.modelLineNumber-1].getViewPositionOfModelPosition(0,Nt.forWrappedLinesAfterColumn).lineNumber>=tt.modelLineWrappedLineIdx||Nt.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[tt.modelLineNumber-1].getViewPositionOfModelPosition(0,Nt.forWrappedLinesBeforeOrAtColumn).lineNumber<tt.modelLineWrappedLineIdx)return;if(!Nt.horizontalLine)return Nt;let zt=-1;if(Nt.column!==-1){const ci=this.modelLineProjections[tt.modelLineNumber-1].getViewPositionOfModelPosition(0,Nt.column);if(ci.lineNumber===tt.modelLineWrappedLineIdx)zt=ci.column;else if(ci.lineNumber<tt.modelLineWrappedLineIdx)zt=this.getMinColumnOfViewLine(tt);else if(ci.lineNumber>tt.modelLineWrappedLineIdx)return}const qt=this.convertModelPositionToViewPosition(tt.modelLineNumber,Nt.horizontalLine.endColumn),si=this.modelLineProjections[tt.modelLineNumber-1].getViewPositionOfModelPosition(0,Nt.horizontalLine.endColumn);return si.lineNumber===tt.modelLineWrappedLineIdx?new Oi.UO(Nt.visibleColumn,zt,Nt.className,new Oi.vW(Nt.horizontalLine.top,qt.column),-1,-1):si.lineNumber<tt.modelLineWrappedLineIdx||Nt.visibleColumn!==-1?void 0:new Oi.UO(Nt.visibleColumn,zt,Nt.className,new Oi.vW(Nt.horizontalLine.top,this.getMaxColumnOfViewLine(tt)),-1,-1)});ce.push(It.filter(Nt=>!!Nt))}}return ce}getViewLinesIndentGuides(e,o){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o);const v=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),B=this.convertViewPositionToModelPosition(o,this.getViewLineMaxColumn(o));let Y=[];const ce=[],De=[],Fe=v.lineNumber-1,Ue=B.lineNumber-1;let tt=null;for(let zt=Fe;zt<=Ue;zt++){const qt=this.modelLineProjections[zt];if(qt.isVisible()){const si=qt.getViewLineNumberOfModelPosition(0,zt===Fe?v.column:1),ci=qt.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(zt+1)),vi=ci-si+1;let gi=0;vi>1&&qt.getViewLineMinColumn(this.model,zt+1,ci)===1&&(gi=si===0?1:2),ce.push(vi),De.push(gi),tt===null&&(tt=new me.L(zt+1,0))}else tt!==null&&(Y=Y.concat(this.model.guides.getLinesIndentGuides(tt.lineNumber,zt)),tt=null)}tt!==null&&(Y=Y.concat(this.model.guides.getLinesIndentGuides(tt.lineNumber,B.lineNumber)),tt=null);const gt=o-e+1,It=new Array(gt);let Nt=0;for(let zt=0,qt=Y.length;zt<qt;zt++){let si=Y[zt];const ci=Math.min(gt-Nt,ce[zt]),vi=De[zt];let gi;vi===2?gi=0:vi===1?gi=1:gi=ci;for(let Bi=0;Bi<ci;Bi++)Bi===gi&&(si=0),It[Nt++]=si}return It}getViewLineContent(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineContent(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineLength(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineLength(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineMinColumn(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineMinColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineMaxColumn(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineMaxColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineData(e){const o=this.getViewLineInfo(e);return this.modelLineProjections[o.modelLineNumber-1].getViewLineData(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLinesData(e,o,v){e=this._toValidViewLineNumber(e),o=this._toValidViewLineNumber(o);const B=this.projectedModelLineLineCounts.getIndexOf(e-1);let Y=e;const ce=B.index,De=B.remainder,Fe=[];for(let Ue=ce,tt=this.model.getLineCount();Ue<tt;Ue++){const gt=this.modelLineProjections[Ue];if(!gt.isVisible())continue;const It=Ue===ce?De:0;let Nt=gt.getViewLineCount()-It,zt=!1;if(Y+Nt>o&&(zt=!0,Nt=o-Y+1),gt.getViewLinesData(this.model,Ue+1,It,Nt,Y-e,v,Fe),Y+=Nt,zt)break}return Fe}validateViewPosition(e,o,v){e=this._toValidViewLineNumber(e);const B=this.projectedModelLineLineCounts.getIndexOf(e-1),Y=B.index,ce=B.remainder,De=this.modelLineProjections[Y],Fe=De.getViewLineMinColumn(this.model,Y+1,ce),Ue=De.getViewLineMaxColumn(this.model,Y+1,ce);o<Fe&&(o=Fe),o>Ue&&(o=Ue);const tt=De.getModelColumnOfViewPosition(ce,o);return this.model.validatePosition(new me.L(Y+1,tt)).equals(v)?new me.L(e,o):this.convertModelPositionToViewPosition(v.lineNumber,v.column)}validateViewRange(e,o){const v=this.validateViewPosition(e.startLineNumber,e.startColumn,o.getStartPosition()),B=this.validateViewPosition(e.endLineNumber,e.endColumn,o.getEndPosition());return new Ie.e(v.lineNumber,v.column,B.lineNumber,B.column)}convertViewPositionToModelPosition(e,o){const v=this.getViewLineInfo(e),B=this.modelLineProjections[v.modelLineNumber-1].getModelColumnOfViewPosition(v.modelLineWrappedLineIdx,o);return this.model.validatePosition(new me.L(v.modelLineNumber,B))}convertViewRangeToModelRange(e){const o=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),v=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new Ie.e(o.lineNumber,o.column,v.lineNumber,v.column)}convertModelPositionToViewPosition(e,o,v=2){const B=this.model.validatePosition(new me.L(e,o)),Y=B.lineNumber,ce=B.column;let De=Y-1,Fe=!1;for(;De>0&&!this.modelLineProjections[De].isVisible();)De--,Fe=!0;if(De===0&&!this.modelLineProjections[De].isVisible())return new me.L(1,1);const Ue=1+this.projectedModelLineLineCounts.getPrefixSum(De);let tt;return Fe?tt=this.modelLineProjections[De].getViewPositionOfModelPosition(Ue,this.model.getLineMaxColumn(De+1),v):tt=this.modelLineProjections[Y-1].getViewPositionOfModelPosition(Ue,ce,v),tt}convertModelRangeToViewRange(e,o=0){if(e.isEmpty()){const v=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,o);return Ie.e.fromPositions(v)}else{const v=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),B=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new Ie.e(v.lineNumber,v.column,B.lineNumber,B.column)}}getViewLineNumberOfModelPosition(e,o){let v=e-1;if(this.modelLineProjections[v].isVisible()){const Y=1+this.projectedModelLineLineCounts.getPrefixSum(v);return this.modelLineProjections[v].getViewLineNumberOfModelPosition(Y,o)}for(;v>0&&!this.modelLineProjections[v].isVisible();)v--;if(v===0&&!this.modelLineProjections[v].isVisible())return 1;const B=1+this.projectedModelLineLineCounts.getPrefixSum(v);return this.modelLineProjections[v].getViewLineNumberOfModelPosition(B,this.model.getLineMaxColumn(v+1))}getDecorationsInRange(e,o,v){const B=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),Y=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(Y.lineNumber-B.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new Ie.e(B.lineNumber,1,Y.lineNumber,Y.column),o,v);let ce=[];const De=B.lineNumber-1,Fe=Y.lineNumber-1;let Ue=null;for(let Nt=De;Nt<=Fe;Nt++)if(this.modelLineProjections[Nt].isVisible())Ue===null&&(Ue=new me.L(Nt+1,Nt===De?B.column:1));else if(Ue!==null){const qt=this.model.getLineMaxColumn(Nt);ce=ce.concat(this.model.getDecorationsInRange(new Ie.e(Ue.lineNumber,Ue.column,Nt,qt),o,v)),Ue=null}Ue!==null&&(ce=ce.concat(this.model.getDecorationsInRange(new Ie.e(Ue.lineNumber,Ue.column,Y.lineNumber,Y.column),o,v)),Ue=null),ce.sort((Nt,zt)=>{const qt=Ie.e.compareRangesUsingStarts(Nt.range,zt.range);return qt===0?Nt.id<zt.id?-1:Nt.id>zt.id?1:0:qt});const tt=[];let gt=0,It=null;for(const Nt of ce){const zt=Nt.id;It!==zt&&(It=zt,tt[gt++]=Nt)}return tt}getInjectedTextAt(e){const o=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[o.modelLineNumber-1].getInjectedTextAt(o.modelLineWrappedLineIdx,e.column)}normalizePosition(e,o){const v=this.getViewLineInfo(e.lineNumber);return this.modelLineProjections[v.modelLineNumber-1].normalizePosition(v.modelLineWrappedLineIdx,e,o)}getLineIndentColumn(e){const o=this.getViewLineInfo(e);return o.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(o.modelLineNumber):0}}function Ta(yt){if(yt.length===0)return[];const e=yt.slice();e.sort(Ie.e.compareRangesUsingStarts);const o=[];let v=e[0].startLineNumber,B=e[0].endLineNumber;for(let Y=1,ce=e.length;Y<ce;Y++){const De=e[Y];De.startLineNumber>B+1?(o.push(new Ie.e(v,1,B,1)),v=De.startLineNumber,B=De.endLineNumber):De.endLineNumber>B&&(B=De.endLineNumber)}return o.push(new Ie.e(v,1,B,1)),o}class Sr{constructor(e,o){this.modelLineNumber=e,this.modelLineWrappedLineIdx=o}}class $o{constructor(e,o){this.modelRange=e,this.viewLines=o}}class Go{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,o){return this._lines.validateViewPosition(e.lineNumber,e.column,o)}validateViewRange(e,o){return this._lines.validateViewRange(e,o)}convertModelPositionToViewPosition(e,o){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,o)}convertModelRangeToViewRange(e,o){return this._lines.convertModelRangeToViewRange(e,o)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}getViewLineNumberOfModelPosition(e,o){return this._lines.getViewLineNumberOfModelPosition(e,o)}}class Aa{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new Ro(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,o,v,B){return!1}createLineBreaksComputer(){const e=[];return{addRequest:(o,v,B)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,o,v){return new Kn(o,v)}onModelLinesInserted(e,o,v,B){return new js(o,v)}onModelLineChanged(e,o,v){return[!1,new Ho(o,1),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,o,v){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesBracketGuides(e,o,v){return new Array(o-e+1).fill([])}getViewLinesIndentGuides(e,o){const v=o-e+1,B=new Array(v);for(let Y=0;Y<v;Y++)B[Y]=0;return B}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){const o=this.model.tokenization.getLineTokens(e),v=o.getLineContent();return new nn.IP(v,!1,1,v.length+1,0,o.inflate(),null)}getViewLinesData(e,o,v){const B=this.model.getLineCount();e=Math.min(Math.max(1,e),B),o=Math.min(Math.max(1,o),B);const Y=[];for(let ce=e;ce<=o;ce++){const De=ce-e;Y[De]=v[De]?this.getViewLineData(ce):null}return Y}getDecorationsInRange(e,o,v){return this.model.getDecorationsInRange(e,o,v)}normalizePosition(e,o){return this.model.normalizePosition(e,o)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class Ro{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,o){return this._validPosition(o)}validateViewRange(e,o){return this._validRange(o)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const o=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>o)}getModelLineViewLineCount(e){return 1}getViewLineNumberOfModelPosition(e,o){return e}}const Ra=!0;class Zo extends L.JT{constructor(e,o,v,B,Y,ce,De,Fe){if(super(),this.languageConfigurationService=De,this._themeService=Fe,this._editorId=e,this._configuration=o,this.model=v,this._eventDispatcher=new pr,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new xn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new ge.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new ge.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=Qo.create(this.model),Ra&&this.model.isTooLargeForTokenization())this._lines=new Aa(this.model);else{const Ue=this._configuration.options,tt=Ue.get(46),gt=Ue.get(127),It=Ue.get(134),Nt=Ue.get(126);this._lines=new jr(this._editorId,this.model,B,Y,tt,this.model.getOptions().tabSize,gt,It.wrappingColumn,Nt)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new ms(v,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new us(this._configuration,this.getLineCount(),ce)),this._register(this.viewLayout.onDidScroll(Ue=>{Ue.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),Ue.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new gr(Ue)),this._eventDispatcher.emitOutgoingEvent(new $s(Ue.oldScrollWidth,Ue.oldScrollLeft,Ue.oldScrollHeight,Ue.oldScrollTop,Ue.scrollWidth,Ue.scrollLeft,Ue.scrollHeight,Ue.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(Ue=>{this._eventDispatcher.emitOutgoingEvent(Ue)})),this._decorations=new _s.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(Ue=>{try{const tt=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(tt,Ue)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(En.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new Ur)})),this._register(this._themeService.onDidColorThemeChange(Ue=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new mr(Ue))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),o=new Ie.e(e.startLineNumber,this.getLineMinColumn(e.startLineNumber),e.endLineNumber,this.getLineMaxColumn(e.endLineNumber)),v=this._toModelVisibleRanges(o);for(const B of v)this.model.tokenization.tokenizeViewport(B.startLineNumber,B.endLineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new Ts(e)),this._eventDispatcher.emitOutgoingEvent(new io(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new Ms)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new No)}_onConfigurationChanged(e,o){let v=null;if(this._viewportStart.isValid){const tt=new me.L(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber));v=this.coordinatesConverter.convertViewPositionToModelPosition(tt)}let B=!1;const Y=this._configuration.options,ce=Y.get(46),De=Y.get(127),Fe=Y.get(134),Ue=Y.get(126);if(this._lines.setWrappingSettings(ce,De,Fe.wrappingColumn,Ue)&&(e.emitViewEvent(new lo),e.emitViewEvent(new co),e.emitViewEvent(new Ks(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(B=!0),this._updateConfigurationViewLineCount.schedule()),o.hasChanged(83)&&(this._decorations.reset(),e.emitViewEvent(new Ks(null))),e.emitViewEvent(new hr(o)),this.viewLayout.onConfigurationChanged(o),B&&v){const tt=this.coordinatesConverter.convertModelPositionToViewPosition(v),gt=this.viewLayout.getVerticalOffsetForLineNumber(tt.lineNumber);this.viewLayout.setScrollPosition({scrollTop:gt+this._viewportStart.startLineDelta},1)}xn.LM.shouldRecreate(o)&&(this.cursorConfig=new xn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const v=this._eventDispatcher.beginEmitViewEvents();let B=!1,Y=!1;const ce=e instanceof xs.fV?e.rawContentChangedEvent.changes:e.changes,De=e instanceof xs.fV?e.rawContentChangedEvent.versionId:null,Fe=this._lines.createLineBreaksComputer();for(const gt of ce)switch(gt.changeType){case 4:{for(let It=0;It<gt.detail.length;It++){const Nt=gt.detail[It];let zt=gt.injectedTexts[It];zt&&(zt=zt.filter(qt=>!qt.ownerId||qt.ownerId===this._editorId)),Fe.addRequest(Nt,zt,null)}break}case 2:{let It=null;gt.injectedText&&(It=gt.injectedText.filter(Nt=>!Nt.ownerId||Nt.ownerId===this._editorId)),Fe.addRequest(gt.detail,It,null);break}}const Ue=Fe.finalize(),tt=new l.H9(Ue);for(const gt of ce)switch(gt.changeType){case 1:{this._lines.onModelFlushed(),v.emitViewEvent(new lo),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),B=!0;break}case 3:{const It=this._lines.onModelLinesDeleted(De,gt.fromLineNumber,gt.toLineNumber);It!==null&&(v.emitViewEvent(It),this.viewLayout.onLinesDeleted(It.fromLineNumber,It.toLineNumber)),B=!0;break}case 4:{const It=tt.takeCount(gt.detail.length),Nt=this._lines.onModelLinesInserted(De,gt.fromLineNumber,gt.toLineNumber,It);Nt!==null&&(v.emitViewEvent(Nt),this.viewLayout.onLinesInserted(Nt.fromLineNumber,Nt.toLineNumber)),B=!0;break}case 2:{const It=tt.dequeue(),[Nt,zt,qt,si]=this._lines.onModelLineChanged(De,gt.lineNumber,It);Y=Nt,zt&&v.emitViewEvent(zt),qt&&(v.emitViewEvent(qt),this.viewLayout.onLinesInserted(qt.fromLineNumber,qt.toLineNumber)),si&&(v.emitViewEvent(si),this.viewLayout.onLinesDeleted(si.fromLineNumber,si.toLineNumber));break}case 5:break}De!==null&&this._lines.acceptVersionId(De),this.viewLayout.onHeightMaybeChanged(),!B&&Y&&(v.emitViewEvent(new co),v.emitViewEvent(new Ks(null)),this._cursor.onLineMappingChanged(v),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const o=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&o){const v=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(v){const B=this.coordinatesConverter.convertModelPositionToViewPosition(v.getStartPosition()),Y=this.viewLayout.getVerticalOffsetForLineNumber(B.lineNumber);this.viewLayout.setScrollPosition({scrollTop:Y+this._viewportStart.startLineDelta},1)}}try{const v=this._eventDispatcher.beginEmitViewEvents();e instanceof xs.fV&&v.emitOutgoingEvent(new zi(e.contentChangedEvent)),this._cursor.onModelContentChanged(v,e)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(e=>{const o=[];for(let v=0,B=e.ranges.length;v<B;v++){const Y=e.ranges[v],ce=this.coordinatesConverter.convertModelPositionToViewPosition(new me.L(Y.fromLineNumber,1)).lineNumber,De=this.coordinatesConverter.convertModelPositionToViewPosition(new me.L(Y.toLineNumber,this.model.getLineMaxColumn(Y.toLineNumber))).lineNumber;o[v]={fromLineNumber:ce,toLineNumber:De}}this._eventDispatcher.emitSingleViewEvent(new xo(o)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitOutgoingEvent(new fo(e))})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new Vo),this.cursorConfig=new xn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Xn(e))})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new xn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Os(e))})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const o=this._eventDispatcher.beginEmitViewEvents();o.emitViewEvent(new lo),o.emitViewEvent(new co),o.emitViewEvent(new Ks(null)),this._cursor.onLineMappingChanged(o),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new xn.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new ho(e))})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Ks(e)),this._eventDispatcher.emitOutgoingEvent(new ss(e))}))}setHiddenAreas(e){let o=!1;try{const v=this._eventDispatcher.beginEmitViewEvents();o=this._lines.setHiddenAreas(e),o&&(v.emitViewEvent(new lo),v.emitViewEvent(new co),v.emitViewEvent(new Ks(null)),this._cursor.onLineMappingChanged(v),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),o&&this._eventDispatcher.emitOutgoingEvent(new Cr)}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(133),o=this._configuration.options.get(61),v=Math.max(20,Math.round(e.height/o)),B=this.viewLayout.getLinesViewportData(),Y=Math.max(1,B.completelyVisibleStartLineNumber-v),ce=Math.min(this.getLineCount(),B.completelyVisibleEndLineNumber+v);return this._toModelVisibleRanges(new Ie.e(Y,this.getLineMinColumn(Y),ce,this.getLineMaxColumn(ce)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(e){const o=this.coordinatesConverter.convertViewRangeToModelRange(e),v=this._lines.getHiddenAreas();if(v.length===0)return[o];const B=[];let Y=0,ce=o.startLineNumber,De=o.startColumn;const Fe=o.endLineNumber,Ue=o.endColumn;for(let tt=0,gt=v.length;tt<gt;tt++){const It=v[tt].startLineNumber,Nt=v[tt].endLineNumber;Nt<ce||It>Fe||(ce<It&&(B[Y++]=new Ie.e(ce,De,It-1,this.model.getLineMaxColumn(It-1))),ce=Nt+1,De=1)}return(ce<Fe||ce===Fe&&De<Ue)&&(B[Y++]=new Ie.e(ce,De,Fe,Ue)),B}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),o=e.completelyVisibleStartLineNumber,v=e.completelyVisibleEndLineNumber;return new Ie.e(o,this.getLineMinColumn(o),v,this.getLineMaxColumn(v))}getCompletelyVisibleViewRangeAtScrollTop(e){const o=this.viewLayout.getLinesViewportDataAtScrollTop(e),v=o.completelyVisibleStartLineNumber,B=o.completelyVisibleEndLineNumber;return new Ie.e(v,this.getLineMinColumn(v),B,this.getLineMaxColumn(B))}saveState(){const e=this.viewLayout.saveState(),o=e.scrollTop,v=this.viewLayout.getLineNumberAtVerticalOffset(o),B=this.coordinatesConverter.convertViewPositionToModelPosition(new me.L(v,this.getLineMinColumn(v))),Y=this.viewLayout.getVerticalOffsetForLineNumber(v)-o;return{scrollLeft:e.scrollLeft,firstPosition:B,firstPositionDeltaTop:Y}}reduceRestoreState(e){if(typeof e.firstPosition>"u")return this._reduceRestoreStateCompatibility(e);const o=this.model.validatePosition(e.firstPosition),v=this.coordinatesConverter.convertModelPositionToViewPosition(o),B=this.viewLayout.getVerticalOffsetForLineNumber(v.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:B}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,o,v){this._viewportStart.update(this,e)}getActiveIndentGuide(e,o,v){return this._lines.getActiveIndentGuide(e,o,v)}getLinesIndentGuides(e,o){return this._lines.getViewLinesIndentGuides(e,o)}getBracketGuidesInRangeByLine(e,o,v,B){return this._lines.getViewLinesBracketGuides(e,o,v,B)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const o=Le.LC(this.getLineContent(e));return o===-1?0:o+1}getLineLastNonWhitespaceColumn(e){const o=Le.ow(this.getLineContent(e));return o===-1?0:o+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewportViewLineRenderingData(e,o){const B=this._decorations.getDecorationsViewportData(e).inlineDecorations[o-e.startLineNumber];return this._getViewLineRenderingData(o,B)}getViewLineRenderingData(e){const o=this._decorations.getInlineDecorationsOnLine(e);return this._getViewLineRenderingData(e,o)}_getViewLineRenderingData(e,o){const v=this.model.mightContainRTL(),B=this.model.mightContainNonBasicASCII(),Y=this.getTabSize(),ce=this._lines.getViewLineData(e);return ce.inlineDecorations&&(o=[...o,...ce.inlineDecorations.map(De=>De.toInlineDecoration(e))]),new nn.wA(ce.minColumn,ce.maxColumn,ce.content,ce.continuesWithWrappedLine,v,B,ce.tokens,o,Y,ce.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,o,v){const B=this._lines.getViewLinesData(e,o,v);return new nn.ud(this.getTabSize(),B)}getAllOverviewRulerDecorations(e){const o=this.model.getOverviewRulerDecorations(this._editorId,(0,I.$J)(this._configuration.options)),v=new wr;for(const B of o){const Y=B.options,ce=Y.overviewRuler;if(!ce)continue;const De=ce.position;if(De===0)continue;const Fe=ce.getColor(e.value),Ue=this.coordinatesConverter.getViewLineNumberOfModelPosition(B.range.startLineNumber,B.range.startColumn),tt=this.coordinatesConverter.getViewLineNumberOfModelPosition(B.range.endLineNumber,B.range.endColumn);v.accept(Fe,Y.zIndex,Ue,tt,De)}return v.asArray}_invalidateDecorationsColorCache(){const e=this.model.getOverviewRulerDecorations();for(const o of e){const v=o.options.overviewRuler;v&&v.invalidateCachedColor();const B=o.options.minimap;B&&B.invalidateCachedColor()}}getValueInRange(e,o){const v=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(v,o)}deduceModelPositionRelativeToViewPosition(e,o,v){const B=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(o<0?o-=v:o+=v);const ce=this.model.getOffsetAt(B)+o;return this.model.getPositionAt(ce)}getPlainTextToCopy(e,o,v){const B=v?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(Ie.e.compareRangesUsingStarts);let Y=!1,ce=!1;for(const Fe of e)Fe.isEmpty()?Y=!0:ce=!0;if(!ce){if(!o)return"";const Fe=e.map(tt=>tt.startLineNumber);let Ue="";for(let tt=0;tt<Fe.length;tt++)tt>0&&Fe[tt-1]===Fe[tt]||(Ue+=this.model.getLineContent(Fe[tt])+B);return Ue}if(Y&&o){const Fe=[];let Ue=0;for(const tt of e){const gt=tt.startLineNumber;tt.isEmpty()?gt!==Ue&&Fe.push(this.model.getLineContent(gt)):Fe.push(this.model.getValueInRange(tt,v?2:0)),Ue=gt}return Fe.length===1?Fe[0]:Fe}const De=[];for(const Fe of e)Fe.isEmpty()||De.push(this.model.getValueInRange(Fe,v?2:0));return De.length===1?De[0]:De}getRichTextToCopy(e,o){const v=this.model.getLanguageId();if(v===ns.bd||e.length!==1)return null;let B=e[0];if(B.isEmpty()){if(!o)return null;const tt=B.startLineNumber;B=new Ie.e(tt,this.model.getLineMinColumn(tt),tt,this.model.getLineMaxColumn(tt))}const Y=this._configuration.options.get(46),ce=this._getColorMap(),Fe=/[:;\\\/<>]/.test(Y.fontFamily)||Y.fontFamily===I.hL.fontFamily;let Ue;return Fe?Ue=I.hL.fontFamily:(Ue=Y.fontFamily,Ue=Ue.replace(/"/g,"'"),/[,']/.test(Ue)||/[+ ]/.test(Ue)&&(Ue=`'${Ue}'`),Ue=`${Ue}, ${I.hL.fontFamily}`),{mode:v,html:`<div style="color: ${ce[1]};background-color: ${ce[2]};font-family: ${Ue};font-weight: ${Y.fontWeight};font-size: ${Y.fontSize}px;line-height: ${Y.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(B,ce)+"</div>"}}_getHTMLToCopy(e,o){const v=e.startLineNumber,B=e.startColumn,Y=e.endLineNumber,ce=e.endColumn,De=this.getTabSize();let Fe="";for(let Ue=v;Ue<=Y;Ue++){const tt=this.model.tokenization.getLineTokens(Ue),gt=tt.getLineContent(),It=Ue===v?B-1:0,Nt=Ue===Y?ce-1:gt.length;gt===""?Fe+="<br>":Fe+=(0,ps.Fq)(gt,tt.inflate(),o,It,Nt,De,a.ED)}return Fe}_getColorMap(){const e=Si.RW.getColorMap(),o=["#000000"];if(e)for(let v=1,B=e.length;v<B;v++)o[v]=mi.Il.Format.CSS.formatHex(e[v]);return o}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,o,v){return this._withViewEventsCollector(B=>this._cursor.setStates(B,e,o,v))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,o,v=0){this._withViewEventsCollector(B=>this._cursor.setSelections(B,e,o,v))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(o=>this._cursor.restoreState(o,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new zo);return}this._withViewEventsCollector(e)}executeEdits(e,o,v){this._executeCursorEdit(B=>this._cursor.executeEdits(B,e,o,v))}startComposition(){this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._executeCursorEdit(o=>this._cursor.endComposition(o,e))}type(e,o){this._executeCursorEdit(v=>this._cursor.type(v,e,o))}compositionType(e,o,v,B,Y){this._executeCursorEdit(ce=>this._cursor.compositionType(ce,e,o,v,B,Y))}paste(e,o,v,B){this._executeCursorEdit(Y=>this._cursor.paste(Y,e,o,v,B))}cut(e){this._executeCursorEdit(o=>this._cursor.cut(o,e))}executeCommand(e,o){this._executeCursorEdit(v=>this._cursor.executeCommand(v,e,o))}executeCommands(e,o){this._executeCursorEdit(v=>this._cursor.executeCommands(v,e,o))}revealPrimaryCursor(e,o,v=!1){this._withViewEventsCollector(B=>this._cursor.revealPrimary(B,e,v,0,o,0))}revealTopMostCursor(e){const o=this._cursor.getTopMostViewPosition(),v=new Ie.e(o.lineNumber,o.column,o.lineNumber,o.column);this._withViewEventsCollector(B=>B.emitViewEvent(new uo(e,!1,v,null,0,!0,0)))}revealBottomMostCursor(e){const o=this._cursor.getBottomMostViewPosition(),v=new Ie.e(o.lineNumber,o.column,o.lineNumber,o.column);this._withViewEventsCollector(B=>B.emitViewEvent(new uo(e,!1,v,null,0,!0,0)))}revealRange(e,o,v,B,Y){this._withViewEventsCollector(ce=>ce.emitViewEvent(new uo(e,!1,v,null,B,o,Y)))}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new Ln),this._eventDispatcher.emitOutgoingEvent(new vr))}_withViewEventsCollector(e){try{const o=this._eventDispatcher.beginEmitViewEvents();return e(o)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,o){return this._lines.normalizePosition(e,o)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class Qo{constructor(e,o,v,B,Y){this._model=e,this._viewLineNumber=o,this._isValid=v,this._modelTrackedRange=B,this._startLineDelta=Y}static create(e){const o=e._setTrackedRange(null,new Ie.e(1,1,1,1),1);return new Qo(e,1,!1,o,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(e,o){const v=e.coordinatesConverter.convertViewPositionToModelPosition(new me.L(o,e.getLineMinColumn(o))),B=e.model._setTrackedRange(this._modelTrackedRange,new Ie.e(v.lineNumber,v.column,v.lineNumber,v.column),1),Y=e.viewLayout.getVerticalOffsetForLineNumber(o),ce=e.viewLayout.getCurrentScrollTop();this._viewLineNumber=o,this._isValid=!0,this._modelTrackedRange=B,this._startLineDelta=ce-Y}invalidate(){this._isValid=!1}}class wr{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(e,o,v,B,Y){const ce=this._asMap[e];if(ce){const De=ce.data,Fe=De[De.length-3],Ue=De[De.length-1];if(Fe===Y&&Ue+1>=v){B>Ue&&(De[De.length-1]=B);return}De.push(Y,v,B)}else{const De=new nn.SQ(e,o,[Y,v,B]);this._asMap[e]=De,this.asArray.push(De)}}}var Yo=i(94565),$r=i(16141),Pa=i(72065),Gr=i(60972),Js=i(59422),vo=i(44906);class ks{constructor(e,o,v,B,Y){this.injectionOffsets=e,this.injectionOptions=o,this.breakOffsets=v,this.breakOffsetsVisibleColumn=B,this.wrappedTextIndentLength=Y}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const o=e>0?this.breakOffsets[e-1]:0;let B=this.breakOffsets[e]-o;return e>0&&(B+=this.wrappedTextIndentLength),B}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,o){e>0&&(o=Math.max(0,o-this.wrappedTextIndentLength));let B=e===0?o:this.breakOffsets[e-1]+o;if(this.injectionOffsets!==null)for(let Y=0;Y<this.injectionOffsets.length&&B>this.injectionOffsets[Y];Y++)B<this.injectionOffsets[Y]+this.injectionOptions[Y].content.length?B=this.injectionOffsets[Y]:B-=this.injectionOptions[Y].content.length;return B}translateToOutputPosition(e,o=2){let v=e;if(this.injectionOffsets!==null)for(let B=0;B<this.injectionOffsets.length&&!(e<this.injectionOffsets[B]||o!==1&&e===this.injectionOffsets[B]);B++)v+=this.injectionOptions[B].content.length;return this.offsetInInputWithInjectionsToOutputPosition(v,o)}offsetInInputWithInjectionsToOutputPosition(e,o=2){let v=0,B=this.breakOffsets.length-1,Y=0,ce=0;for(;v<=B;){Y=v+(B-v)/2|0;const Fe=this.breakOffsets[Y];if(ce=Y>0?this.breakOffsets[Y-1]:0,o===0)if(e<=ce)B=Y-1;else if(e>Fe)v=Y+1;else break;else if(e<ce)B=Y-1;else if(e>=Fe)v=Y+1;else break}let De=e-ce;return Y>0&&(De+=this.wrappedTextIndentLength),new Co(Y,De)}normalizeOutputPosition(e,o,v){if(this.injectionOffsets!==null){const B=this.outputPositionToOffsetInInputWithInjections(e,o),Y=this.normalizeOffsetInInputWithInjectionsAroundInjections(B,v);if(Y!==B)return this.offsetInInputWithInjectionsToOutputPosition(Y,v)}if(v===0){if(e>0&&o===this.getMinOutputOffset(e))return new Co(e-1,this.getMaxOutputOffset(e-1))}else if(v===1){const B=this.getOutputLineCount()-1;if(e<B&&o===this.getMaxOutputOffset(e))return new Co(e+1,this.getMinOutputOffset(e+1))}return new Co(e,o)}outputPositionToOffsetInInputWithInjections(e,o){return e>0&&(o=Math.max(0,o-this.wrappedTextIndentLength)),(e>0?this.breakOffsets[e-1]:0)+o}normalizeOffsetInInputWithInjectionsAroundInjections(e,o){const v=this.getInjectedTextAtOffset(e);if(!v)return e;if(o===2){if(e===v.offsetInInputWithInjections+v.length&&Zr(this.injectionOptions[v.injectedTextIndex].cursorStops))return v.offsetInInputWithInjections+v.length;{let B=v.offsetInInputWithInjections;if(Qr(this.injectionOptions[v.injectedTextIndex].cursorStops))return B;let Y=v.injectedTextIndex-1;for(;Y>=0&&this.injectionOffsets[Y]===this.injectionOffsets[v.injectedTextIndex]&&!(Zr(this.injectionOptions[Y].cursorStops)||(B-=this.injectionOptions[Y].content.length,Qr(this.injectionOptions[Y].cursorStops)));)Y--;return B}}else if(o===1||o===4){let B=v.offsetInInputWithInjections+v.length,Y=v.injectedTextIndex;for(;Y+1<this.injectionOffsets.length&&this.injectionOffsets[Y+1]===this.injectionOffsets[Y];)B+=this.injectionOptions[Y+1].content.length,Y++;return B}else if(o===0||o===3){let B=v.offsetInInputWithInjections,Y=v.injectedTextIndex;for(;Y-1>=0&&this.injectionOffsets[Y-1]===this.injectionOffsets[Y];)B-=this.injectionOptions[Y-1].content.length,Y--;return B}(0,Gt.vE)(o)}getInjectedText(e,o){const v=this.outputPositionToOffsetInInputWithInjections(e,o),B=this.getInjectedTextAtOffset(v);return B?{options:this.injectionOptions[B.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const o=this.injectionOffsets,v=this.injectionOptions;if(o!==null){let B=0;for(let Y=0;Y<o.length;Y++){const ce=v[Y].content.length,De=o[Y]+B,Fe=o[Y]+B+ce;if(De>e)break;if(e<=Fe)return{injectedTextIndex:Y,offsetInInputWithInjections:De,length:ce};B+=ce}}}}function Zr(yt){return yt==null?!0:yt===F.RM.Right||yt===F.RM.Both}function Qr(yt){return yt==null?!0:yt===F.RM.Left||yt===F.RM.Both}class Gl{constructor(e){this.options=e}}class Co{constructor(e,o){this.outputLineIndex=e,this.outputOffset=o}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new me.L(e+this.outputLineIndex,this.outputOffset+1)}}class yr{constructor(e,o){this.classifier=new Fs(e,o)}static create(e){return new yr(e.get(122),e.get(121))}createLineBreaksComputer(e,o,v,B){const Y=[],ce=[],De=[];return{addRequest:(Fe,Ue,tt)=>{Y.push(Fe),ce.push(Ue),De.push(tt)},finalize:()=>{const Fe=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,Ue=[];for(let tt=0,gt=Y.length;tt<gt;tt++){const It=ce[tt],Nt=De[tt];Nt&&!Nt.injectionOptions&&!It?Ue[tt]=Yr(this.classifier,Nt,Y[tt],o,v,Fe,B):Ue[tt]=Jo(this.classifier,Y[tt],It,o,v,Fe,B)}return Xo.length=0,bo.length=0,Ue}}}}class Fs extends vo.N{constructor(e,o){super(0);for(let v=0;v<e.length;v++)this.set(e.charCodeAt(v),1);for(let v=0;v<o.length;v++)this.set(o.charCodeAt(v),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let Xo=[],bo=[];function Yr(yt,e,o,v,B,Y,ce){if(B===-1)return null;const De=o.length;if(De<=1)return null;const Fe=e.breakOffsets,Ue=e.breakOffsetsVisibleColumn,tt=Lr(o,v,B,Y,ce),gt=B-tt,It=Xo,Nt=bo;let zt=0,qt=0,si=0,ci=B;const vi=Fe.length;let gi=0;if(gi>=0){let Bi=Math.abs(Ue[gi]-ci);for(;gi+1<vi;){const Ai=Math.abs(Ue[gi+1]-ci);if(Ai>=Bi)break;Bi=Ai,gi++}}for(;gi<vi;){let Bi=gi<0?0:Fe[gi],Ai=gi<0?0:Ue[gi];qt>Bi&&(Bi=qt,Ai=si);let Wi=0,Ui=0,Ri=0,Zi=0;if(Ai<=ci){let on=Ai,kn=Bi===0?0:o.charCodeAt(Bi-1),Pn=Bi===0?0:yt.get(kn),Jn=!0;for(let Nn=Bi;Nn<De;Nn++){const Vn=Nn,qn=o.charCodeAt(Nn);let Yn,as;if(Le.ZG(qn)?(Nn++,Yn=0,as=2):(Yn=yt.get(qn),as=qs(qn,on,v,Y)),Vn>qt&&qo(kn,Pn,qn,Yn)&&(Wi=Vn,Ui=on),on+=as,on>ci){Vn>qt?(Ri=Vn,Zi=on-as):(Ri=Nn+1,Zi=on),on-Ui>gt&&(Wi=0),Jn=!1;break}kn=qn,Pn=Yn}if(Jn){zt>0&&(It[zt]=Fe[Fe.length-1],Nt[zt]=Ue[Fe.length-1],zt++);break}}if(Wi===0){let on=Ai,kn=o.charCodeAt(Bi),Pn=yt.get(kn),Jn=!1;for(let Nn=Bi-1;Nn>=qt;Nn--){const Vn=Nn+1,qn=o.charCodeAt(Nn);if(qn===9){Jn=!0;break}let Yn,as;if(Le.YK(qn)?(Nn--,Yn=0,as=2):(Yn=yt.get(qn),as=Le.K7(qn)?Y:1),on<=ci){if(Ri===0&&(Ri=Vn,Zi=on),on<=ci-gt)break;if(qo(qn,Yn,kn,Pn)){Wi=Vn,Ui=on;break}}on-=as,kn=qn,Pn=Yn}if(Wi!==0){const Nn=gt-(Zi-Ui);if(Nn<=v){const Vn=o.charCodeAt(Ri);let qn;Le.ZG(Vn)?qn=2:qn=qs(Vn,Zi,v,Y),Nn-qn<0&&(Wi=0)}}if(Jn){gi--;continue}}if(Wi===0&&(Wi=Ri,Ui=Zi),Wi<=qt){const on=o.charCodeAt(qt);Le.ZG(on)?(Wi=qt+2,Ui=si+2):(Wi=qt+1,Ui=si+qs(on,si,v,Y))}for(qt=Wi,It[zt]=Wi,si=Ui,Nt[zt]=Ui,zt++,ci=Ui+gt;gi<0||gi<vi&&Ue[gi]<Ui;)gi++;let vn=Math.abs(Ue[gi]-ci);for(;gi+1<vi;){const on=Math.abs(Ue[gi+1]-ci);if(on>=vn)break;vn=on,gi++}}return zt===0?null:(It.length=zt,Nt.length=zt,Xo=e.breakOffsets,bo=e.breakOffsetsVisibleColumn,e.breakOffsets=It,e.breakOffsetsVisibleColumn=Nt,e.wrappedTextIndentLength=tt,e)}function Jo(yt,e,o,v,B,Y,ce){const De=xs.gk.applyInjectedText(e,o);let Fe,Ue;if(o&&o.length>0?(Fe=o.map(Ui=>Ui.options),Ue=o.map(Ui=>Ui.column-1)):(Fe=null,Ue=null),B===-1)return Fe?new ks(Ue,Fe,[De.length],[],0):null;const tt=De.length;if(tt<=1)return Fe?new ks(Ue,Fe,[De.length],[],0):null;const gt=Lr(De,v,B,Y,ce),It=B-gt,Nt=[],zt=[];let qt=0,si=0,ci=0,vi=B,gi=De.charCodeAt(0),Bi=yt.get(gi),Ai=qs(gi,0,v,Y),Wi=1;Le.ZG(gi)&&(Ai+=1,gi=De.charCodeAt(1),Bi=yt.get(gi),Wi++);for(let Ui=Wi;Ui<tt;Ui++){const Ri=Ui,Zi=De.charCodeAt(Ui);let vn,on;Le.ZG(Zi)?(Ui++,vn=0,on=2):(vn=yt.get(Zi),on=qs(Zi,Ai,v,Y)),qo(gi,Bi,Zi,vn)&&(si=Ri,ci=Ai),Ai+=on,Ai>vi&&((si===0||Ai-ci>It)&&(si=Ri,ci=Ai-on),Nt[qt]=si,zt[qt]=ci,qt++,vi=ci+It,si=0),gi=Zi,Bi=vn}return qt===0&&(!o||o.length===0)?null:(Nt[qt]=tt,zt[qt]=Ai,new ks(Ue,Fe,Nt,zt,gt))}function qs(yt,e,o,v){return yt===9?o-e%o:Le.K7(yt)||yt<32?v:1}function Xr(yt,e){return e-yt%e}function qo(yt,e,o,v){return o!==32&&(e===2&&v!==2||e!==1&&v===1||e===3&&v!==2||v===3&&e!==1)}function Lr(yt,e,o,v,B){let Y=0;if(B!==0){const ce=Le.LC(yt);if(ce!==-1){for(let Fe=0;Fe<ce;Fe++)Y+=yt.charCodeAt(Fe)===9?Xr(Y,e):1;const De=B===3?2:B===2?1:0;for(let Fe=0;Fe<De;Fe++)Y+=Xr(Y,e);Y+v>o&&(Y=0)}}return Y}var er;const Dr=(er=window.trustedTypes)===null||er===void 0?void 0:er.createPolicy("domLineBreaksComputer",{createHTML:yt=>yt});class Er{static create(){return new Er}constructor(){}createLineBreaksComputer(e,o,v,B){const Y=[],ce=[];return{addRequest:(De,Fe,Ue)=>{Y.push(De),ce.push(Fe)},finalize:()=>Oa(Y,e,o,v,B,ce)}}}function Oa(yt,e,o,v,B,Y){var ce;function De(Ri){const Zi=Y[Ri];if(Zi){const vn=xs.gk.applyInjectedText(yt[Ri],Zi),on=Zi.map(Pn=>Pn.options),kn=Zi.map(Pn=>Pn.column-1);return new ks(kn,on,[vn.length],[],0)}else return null}if(v===-1){const Ri=[];for(let Zi=0,vn=yt.length;Zi<vn;Zi++)Ri[Zi]=De(Zi);return Ri}const Fe=Math.round(v*e.typicalHalfwidthCharacterWidth),tt=Math.round(o*(B===3?2:B===2?1:0)),gt=Math.ceil(e.spaceWidth*tt),It=document.createElement("div");(0,Qe.N)(It,e);const Nt=(0,$i.l$)(1e4),zt=[],qt=[],si=[],ci=[],vi=[];for(let Ri=0;Ri<yt.length;Ri++){const Zi=xs.gk.applyInjectedText(yt[Ri],Y[Ri]);let vn=0,on=0,kn=Fe;if(B!==0)if(vn=Le.LC(Zi),vn===-1)vn=0;else{for(let Vn=0;Vn<vn;Vn++)on+=Zi.charCodeAt(Vn)===9?o-on%o:1;const Nn=Math.ceil(e.spaceWidth*on);Nn+e.typicalFullwidthCharacterWidth>Fe?(vn=0,on=0):kn=Fe-Nn}const Pn=Zi.substr(vn),Jn=ka(Pn,on,o,kn,Nt,gt);zt[Ri]=vn,qt[Ri]=on,si[Ri]=Pn,ci[Ri]=Jn[0],vi[Ri]=Jn[1]}const gi=Nt.build(),Bi=(ce=Dr==null?void 0:Dr.createHTML(gi))!==null&&ce!==void 0?ce:gi;It.innerHTML=Bi,It.style.position="absolute",It.style.top="10000",It.style.wordWrap="break-word",document.body.appendChild(It);const Ai=document.createRange(),Wi=Array.prototype.slice.call(It.children,0),Ui=[];for(let Ri=0;Ri<yt.length;Ri++){const Zi=Wi[Ri],vn=Fa(Ai,Zi,si[Ri],ci[Ri]);if(vn===null){Ui[Ri]=De(Ri);continue}const on=zt[Ri],kn=qt[Ri]+tt,Pn=vi[Ri],Jn=[];for(let Yn=0,as=vn.length;Yn<as;Yn++)Jn[Yn]=Pn[vn[Yn]];if(on!==0)for(let Yn=0,as=vn.length;Yn<as;Yn++)vn[Yn]+=on;let Nn,Vn;const qn=Y[Ri];qn?(Nn=qn.map(Yn=>Yn.options),Vn=qn.map(Yn=>Yn.column-1)):(Nn=null,Vn=null),Ui[Ri]=new ks(Vn,Nn,vn,Jn,kn)}return document.body.removeChild(It),Ui}function ka(yt,e,o,v,B,Y){if(Y!==0){const It=String(Y);B.appendASCIIString('<div style="text-indent: -'),B.appendASCIIString(It),B.appendASCIIString("px; padding-left: "),B.appendASCIIString(It),B.appendASCIIString("px; box-sizing: border-box; width:")}else B.appendASCIIString('<div style="width:');B.appendASCIIString(String(v)),B.appendASCIIString('px;">');const ce=yt.length;let De=e,Fe=0;const Ue=[],tt=[];let gt=0<ce?yt.charCodeAt(0):0;B.appendASCIIString("<span>");for(let It=0;It<ce;It++){It!==0&&It%16384===0&&B.appendASCIIString("</span><span>"),Ue[It]=Fe,tt[It]=De;const Nt=gt;gt=It+1<ce?yt.charCodeAt(It+1):0;let zt=1,qt=1;switch(Nt){case 9:zt=o-De%o,qt=zt;for(let si=1;si<=zt;si++)si<zt?B.write1(160):B.appendASCII(32);break;case 32:gt===32?B.write1(160):B.appendASCII(32);break;case 60:B.appendASCIIString("&lt;");break;case 62:B.appendASCIIString("&gt;");break;case 38:B.appendASCIIString("&amp;");break;case 0:B.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:B.write1(65533);break;default:Le.K7(Nt)&&qt++,Nt<32?B.write1(9216+Nt):B.write1(Nt)}Fe+=zt,De+=qt}return B.appendASCIIString("</span>"),Ue[yt.length]=Fe,tt[yt.length]=De,B.appendASCIIString("</div>"),[Ue,tt]}function Fa(yt,e,o,v){if(o.length<=1)return null;const B=Array.prototype.slice.call(e.children,0),Y=[];try{Ir(yt,B,v,0,null,o.length-1,null,Y)}catch(ce){return console.log(ce),null}return Y.length===0?null:(Y.push(o.length),Y)}function Ir(yt,e,o,v,B,Y,ce,De){if(v===Y||(B=B||tr(yt,e,o[v],o[v+1]),ce=ce||tr(yt,e,o[Y],o[Y+1]),Math.abs(B[0].top-ce[0].top)<=.1))return;if(v+1===Y){De.push(Y);return}const Fe=v+(Y-v)/2|0,Ue=tr(yt,e,o[Fe],o[Fe+1]);Ir(yt,e,o,v,B,Fe,Ue,De),Ir(yt,e,o,Fe,Ue,Y,ce,De)}function tr(yt,e,o,v){return yt.setStart(e[o/16384|0].firstChild,o%16384),yt.setEnd(e[v/16384|0].firstChild,v%16384),yt.getClientRects()}var Jr=i(92896),Bs=i(51381),Nr=i(71922),qr=function(yt,e,o,v){var B=arguments.length,Y=B<3?e:v===null?v=Object.getOwnPropertyDescriptor(e,o):v,ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(yt,e,o,v);else for(var De=yt.length-1;De>=0;De--)(ce=yt[De])&&(Y=(B<3?ce(Y):B>3?ce(e,o,Y):ce(e,o))||Y);return B>3&&Y&&Object.defineProperty(e,o,Y),Y},As=function(yt,e){return function(o,v){e(o,v,yt)}},Ba=function(yt,e,o,v){function B(Y){return Y instanceof o?Y:new o(function(ce){ce(Y)})}return new(o||(o=Promise))(function(Y,ce){function De(tt){try{Ue(v.next(tt))}catch(gt){ce(gt)}}function Fe(tt){try{Ue(v.throw(tt))}catch(gt){ce(gt)}}function Ue(tt){tt.done?Y(tt.value):B(tt.value).then(De,Fe)}Ue((v=v.apply(yt,e||[])).next())})};let Wa=0;class Va{constructor(e,o,v,B,Y){this.model=e,this.viewModel=o,this.view=v,this.hasRealView=B,this.listenersToRemove=Y}dispose(){(0,L.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Po=class lr extends L.JT{constructor(e,o,v,B,Y,ce,De,Fe,Ue,tt,gt,It){super(),this.languageConfigurationService=gt,this._deliveryQueue=new A.F3,this._onDidDispose=this._register(new A.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new ea({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new ea({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onWillType=this._onWillType.event,this._onDidType=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new A.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection();const Nt=Object.assign({},o);this._domElement=e,this._overflowWidgetsDomNode=Nt.overflowWidgetsDomNode,delete Nt.overflowWidgetsDomNode,this._id=++Wa,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=v.telemetryData,this._configuration=this._register(this._createConfiguration(v.isSimpleWidget||!1,Nt,tt)),this._register(this._configuration.onDidChange(si=>{this._onDidChangeConfiguration.fire(si);const ci=this._configuration.options;if(si.hasChanged(133)){const vi=ci.get(133);this._onDidLayoutChange.fire(vi)}})),this._contextKeyService=this._register(De.createScoped(this._domElement)),this._notificationService=Ue,this._codeEditorService=Y,this._commandService=ce,this._themeService=Fe,this._register(new Ha(this,this._contextKeyService)),this._register(new ta(this,this._contextKeyService,It)),this._instantiationService=B.createChild(new Gr.y([$r.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new Ua(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let zt;Array.isArray(v.contributions)?zt=v.contributions:zt=r.Uc.getEditorContributions();for(const si of zt){if(this._contributions[si.id]){(0,P.dL)(new Error(`Cannot have two contributions with the same id ${si.id}`));continue}try{const ci=this._instantiationService.createInstance(si.ctor,this);this._contributions[si.id]=ci}catch(ci){(0,P.dL)(ci)}}r.Uc.getEditorActions().forEach(si=>{if(this._actions[si.id]){(0,P.dL)(new Error(`Cannot have two actions with the same id ${si.id}`));return}const ci=new Mn.p(si.id,si.label,si.alias,(0,Gt.f6)(si.precondition),()=>this._instantiationService.invokeFunction(vi=>Promise.resolve(si.runEditorCommand(vi,this,null))),this._contextKeyService);this._actions[ci.id]=ci});const qt=()=>!this._configuration.options.get(83)&&this._configuration.options.get(32).enabled;this._register(new M.eg(this._domElement,{onDragEnter:()=>{},onDragOver:si=>{if(!qt())return;const ci=this.getTargetAtClientPoint(si.clientX,si.clientY);ci!=null&&ci.position&&this.showDropIndicatorAt(ci.position)},onDrop:si=>Ba(this,void 0,void 0,function*(){if(!qt()||(this.removeDropIndicator(),!si.dataTransfer))return;const ci=this.getTargetAtClientPoint(si.clientX,si.clientY);ci!=null&&ci.position&&this._onDropIntoEditor.fire({position:ci.position,event:si})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(e,o,v){return new H(e,o,this._domElement,v)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Zn.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let o=0,v=e.length;o<v;o++){const B=e[o];this._contributions[B].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e||{})}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?Jr.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(119),e):null}getValue(e=null){if(!this._modelData)return"";const o=!!(e&&e.preserveBOM);let v=0;return e&&e.lineEnding&&e.lineEnding===`
`?v=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(v=2),this._modelData.model.getValue(v,o)}setValue(e){!this._modelData||this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const o=e;if(this._modelData===null&&o===null||this._modelData&&this._modelData.model===o)return;const v=this.hasTextFocus(),B=this._detachModel();this._attachModel(o),v&&this.hasModel()&&this.focus();const Y={oldModelUrl:B?B.uri:null,newModelUrl:o?o.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(Y),this._postDetachModelCleanup(B)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const e in this._decorationTypeSubtypes){const o=this._decorationTypeSubtypes[e];for(const v in o)this._removeDecorationType(e+"-"+v)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(e,o,v,B){const Y=e.model.validatePosition({lineNumber:o,column:v}),ce=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Y);return e.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(ce.lineNumber,B)}getTopForLineNumber(e,o=!1){return this._modelData?lr._getVerticalOffsetForPosition(this._modelData,e,1,o):-1}getTopForPosition(e,o){return this._modelData?lr._getVerticalOffsetForPosition(this._modelData,e,o,!1):-1}static _getVerticalOffsetForPosition(e,o,v,B=!1){const Y=e.model.validatePosition({lineNumber:o,column:v}),ce=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Y);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(ce.lineNumber,B)}getBottomForLineNumber(e,o=!1){return this._modelData?lr._getVerticalOffsetAfterPosition(this._modelData,e,1,o):-1}setHiddenAreas(e){var o;(o=this._modelData)===null||o===void 0||o.viewModel.setHiddenAreas(e.map(v=>Ie.e.lift(v)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const o=this._modelData.model.validatePosition(e),v=this._modelData.model.getOptions().tabSize;return Ge.i.visibleColumnFromColumn(this._modelData.model.getLineContent(o.lineNumber),o.column,v)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e,o="api"){if(!!this._modelData){if(!me.L.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(o,[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,o,v,B){if(!this._modelData)return;if(!Ie.e.isIRange(e))throw new Error("Invalid arguments");const Y=this._modelData.model.validateRange(e),ce=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(Y);this._modelData.viewModel.revealRange("api",v,ce,o,B)}revealLine(e,o=0){this._revealLine(e,0,o)}revealLineInCenter(e,o=0){this._revealLine(e,1,o)}revealLineInCenterIfOutsideViewport(e,o=0){this._revealLine(e,2,o)}revealLineNearTop(e,o=0){this._revealLine(e,5,o)}_revealLine(e,o,v){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Ie.e(e,1,e,1),o,!1,v)}revealPosition(e,o=0){this._revealPosition(e,0,!0,o)}revealPositionInCenter(e,o=0){this._revealPosition(e,1,!0,o)}revealPositionInCenterIfOutsideViewport(e,o=0){this._revealPosition(e,2,!0,o)}revealPositionNearTop(e,o=0){this._revealPosition(e,5,!0,o)}_revealPosition(e,o,v,B){if(!me.L.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new Ie.e(e.lineNumber,e.column,e.lineNumber,e.column),o,v,B)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e,o="api"){const v=re.Y.isISelection(e),B=Ie.e.isIRange(e);if(!v&&!B)throw new Error("Invalid arguments");if(v)this._setSelectionImpl(e,o);else if(B){const Y={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(Y,o)}}_setSelectionImpl(e,o){if(!this._modelData)return;const v=new re.Y(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections(o,[v])}revealLines(e,o,v=0){this._revealLines(e,o,0,v)}revealLinesInCenter(e,o,v=0){this._revealLines(e,o,1,v)}revealLinesInCenterIfOutsideViewport(e,o,v=0){this._revealLines(e,o,2,v)}revealLinesNearTop(e,o,v=0){this._revealLines(e,o,5,v)}_revealLines(e,o,v,B){if(typeof e!="number"||typeof o!="number")throw new Error("Invalid arguments");this._sendRevealRange(new Ie.e(e,1,o,1),v,!1,B)}revealRange(e,o=0,v=!1,B=!0){this._revealRange(e,v?1:0,B,o)}revealRangeInCenter(e,o=0){this._revealRange(e,1,!0,o)}revealRangeInCenterIfOutsideViewport(e,o=0){this._revealRange(e,2,!0,o)}revealRangeNearTop(e,o=0){this._revealRange(e,5,!0,o)}revealRangeNearTopIfOutsideViewport(e,o=0){this._revealRange(e,6,!0,o)}revealRangeAtTop(e,o=0){this._revealRange(e,3,!0,o)}_revealRange(e,o,v,B){if(!Ie.e.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(Ie.e.lift(e),o,v,B)}setSelections(e,o="api",v=0){if(!!this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let B=0,Y=e.length;B<Y;B++)if(!re.Y.isISelection(e[B]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(o,e,v)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,o=1){if(!!this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:e},o)}}setScrollTop(e,o=1){if(!!this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:e},o)}}setScrollPosition(e,o=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(e,o)}saveViewState(){if(!this._modelData)return null;const e={},o=Object.keys(this._contributions);for(const Y of o){const ce=this._contributions[Y];typeof ce.saveViewState=="function"&&(e[Y]=ce.saveViewState())}const v=this._modelData.viewModel.saveCursorState(),B=this._modelData.viewModel.saveState();return{cursorState:v,viewState:B,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const o=e;if(o&&o.cursorState&&o.viewState){const v=o.cursorState;Array.isArray(v)?v.length>0&&this._modelData.viewModel.restoreCursorState(v):this._modelData.viewModel.restoreCursorState([v]);const B=o.contributionsState||{},Y=Object.keys(this._contributions);for(let De=0,Fe=Y.length;De<Fe;De++){const Ue=Y[De],tt=this._contributions[Ue];typeof tt.restoreViewState=="function"&&tt.restoreViewState(B[Ue])}const ce=this._modelData.viewModel.reduceRestoreState(o.viewState);this._modelData.view.restoreState(ce)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],o=Object.keys(this._actions);for(let v=0,B=o.length;v<B;v++){const Y=o[v];e.push(this._actions[Y])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter(o=>o.isSupported()),e}getAction(e){return this._actions[e]||null}trigger(e,o,v){switch(v=v||{},o){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const Y=v;this._type(e,Y.text||"");return}case"replacePreviousChar":{const Y=v;this._compositionType(e,Y.text||"",Y.replaceCharCnt||0,0,0);return}case"compositionType":{const Y=v;this._compositionType(e,Y.text||"",Y.replacePrevCharCnt||0,Y.replaceNextCharCnt||0,Y.positionDelta||0);return}case"paste":{const Y=v;this._paste(e,Y.text||"",Y.pasteOnNewLine||!1,Y.multicursorText||null,Y.mode||null);return}case"cut":this._cut(e);return}const B=this.getAction(o);if(B){Promise.resolve(B.run()).then(void 0,P.dL);return}!this._modelData||this._triggerEditorCommand(e,o,v)||this._triggerCommand(o,v)}_triggerCommand(e,o){this._commandService.executeCommand(e,o)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){!this._modelData||(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,o){!this._modelData||o.length===0||(e==="keyboard"&&this._onWillType.fire(o),this._modelData.viewModel.type(o,e),e==="keyboard"&&this._onDidType.fire(o))}_compositionType(e,o,v,B,Y){!this._modelData||this._modelData.viewModel.compositionType(o,v,B,Y,e)}_paste(e,o,v,B,Y){if(!this._modelData||o.length===0)return;const ce=this._modelData.viewModel,De=ce.getSelection().getStartPosition();ce.paste(o,v,B,e);const Fe=ce.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new Ie.e(De.lineNumber,De.column,Fe.lineNumber,Fe.column),languageId:Y})}_cut(e){!this._modelData||this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,o,v){const B=r.Uc.getEditorCommand(o);return B?(v=v||{},v.source=e,this._instantiationService.invokeFunction(Y=>{Promise.resolve(B.runEditorCommand(Y,this,v)).then(void 0,P.dL)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(83)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(83)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,o,v){if(!this._modelData||this._configuration.options.get(83))return!1;let B;return v?Array.isArray(v)?B=()=>v:B=v:B=()=>null,this._modelData.viewModel.executeEdits(e,o,B),!0}executeCommand(e,o){!this._modelData||this._modelData.viewModel.executeCommand(o,e)}executeCommands(e,o){!this._modelData||this._modelData.viewModel.executeCommands(o,e)}createDecorationsCollection(e){return new za(this,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,(0,I.$J)(this._configuration.options)):null}getDecorationsInRange(e){return this._modelData?this._modelData.model.getDecorationsInRange(e,this._id,(0,I.$J)(this._configuration.options)):null}deltaDecorations(e,o){return this._modelData?e.length===0&&o.length===0?e:this._modelData.model.deltaDecorations(e,o,this._id):[]}removeDecorations(e){!this._modelData||e.length===0||this._modelData.model.changeDecorations(o=>{o.deltaDecorations(e,[])})}removeDecorationsByType(e){const o=this._decorationTypeKeysToIds[e];o&&this.deltaDecorations(o,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(133)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(e)}layout(e){this._configuration.observeContainer(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const o={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=o,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(o)}layoutContentWidget(e){const o=e.getId();if(this._contentWidgets.hasOwnProperty(o)){const v=this._contentWidgets[o];v.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(v)}}removeContentWidget(e){const o=e.getId();if(this._contentWidgets.hasOwnProperty(o)){const v=this._contentWidgets[o];delete this._contentWidgets[o],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(v)}}addOverlayWidget(e){const o={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=o,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(o)}layoutOverlayWidget(e){const o=e.getId();if(this._overlayWidgets.hasOwnProperty(o)){const v=this._overlayWidgets[o];v.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(v)}}removeOverlayWidget(e){const o=e.getId();if(this._overlayWidgets.hasOwnProperty(o)){const v=this._overlayWidgets[o];delete this._overlayWidgets[o],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(v)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,o){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,o)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const o=this._modelData.model.validatePosition(e),v=this._configuration.options,B=v.get(133),Y=lr._getVerticalOffsetForPosition(this._modelData,o.lineNumber,o.column)-this.getScrollTop(),ce=this._modelData.view.getOffsetForColumn(o.lineNumber,o.column)+B.glyphMarginWidth+B.lineNumbersWidth+B.decorationsWidth-this.getScrollLeft();return{top:Y,left:ce,height:v.get(61)}}getOffsetForColumn(e,o){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,o)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){(0,Qe.N)(e,this._configuration.options.get(46))}setBanner(e,o){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=e,this._configuration.setReservedHeight(e?o:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(e){if(!e){this._modelData=null;return}const o=[];this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setModelLineCount(e.getLineCount()),e.onBeforeAttached();const v=new Zo(this._id,this._configuration,e,Er.create(),yr.create(this._configuration.options),ce=>M.jL(ce),this.languageConfigurationService,this._themeService);o.push(e.onWillDispose(()=>this.setModel(null))),o.push(v.onEvent(ce=>{switch(ce.kind){case 0:this._onDidContentSizeChange.fire(ce);break;case 1:this._editorTextFocus.setValue(ce.hasFocus);break;case 2:this._onDidScrollChange.fire(ce);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{ce.reachedMaxCursorCount&&this._notificationService.warn($.NC("cursors.maximum","The number of cursors has been limited to {0}.",ms.MAX_CURSOR_COUNT));const De=[];for(let tt=0,gt=ce.selections.length;tt<gt;tt++)De[tt]=ce.selections[tt].getPosition();const Fe={position:De[0],secondaryPositions:De.slice(1),reason:ce.reason,source:ce.source};this._onDidChangeCursorPosition.fire(Fe);const Ue={selection:ce.selections[0],secondarySelections:ce.selections.slice(1),modelVersionId:ce.modelVersionId,oldSelections:ce.oldSelections,oldModelVersionId:ce.oldModelVersionId,source:ce.source,reason:ce.reason};this._onDidChangeCursorSelection.fire(Ue);break}case 7:this._onDidChangeModelDecorations.fire(ce.event);break;case 8:this._domElement.setAttribute("data-mode-id",e.getLanguageId()),this._onDidChangeModelLanguage.fire(ce.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(ce.event);break;case 10:this._onDidChangeModelContent.fire(ce.event);break;case 11:this._onDidChangeModelOptions.fire(ce.event);break;case 12:this._onDidChangeModelTokens.fire(ce.event);break}}));const[B,Y]=this._createView(v);if(Y){this._domElement.appendChild(B.domNode.domNode);let ce=Object.keys(this._contentWidgets);for(let De=0,Fe=ce.length;De<Fe;De++){const Ue=ce[De];B.addContentWidget(this._contentWidgets[Ue])}ce=Object.keys(this._overlayWidgets);for(let De=0,Fe=ce.length;De<Fe;De++){const Ue=ce[De];B.addOverlayWidget(this._overlayWidgets[Ue])}B.render(!1,!0),B.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new Va(e,v,B,Y,o)}_createView(e){let o;this.isSimpleWidget?o={paste:(Y,ce,De,Fe)=>{this._paste("keyboard",Y,ce,De,Fe)},type:Y=>{this._type("keyboard",Y)},compositionType:(Y,ce,De,Fe)=>{this._compositionType("keyboard",Y,ce,De,Fe)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:o={paste:(Y,ce,De,Fe)=>{const Ue={text:Y,pasteOnNewLine:ce,multicursorText:De,mode:Fe};this._commandService.executeCommand("paste",Ue)},type:Y=>{const ce={text:Y};this._commandService.executeCommand("type",ce)},compositionType:(Y,ce,De,Fe)=>{if(De||Fe){const Ue={text:Y,replacePrevCharCnt:ce,replaceNextCharCnt:De,positionDelta:Fe};this._commandService.executeCommand("compositionType",Ue)}else{const Ue={text:Y,replaceCharCnt:ce};this._commandService.executeCommand("replacePreviousChar",Ue)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const v=new Tn(e.coordinatesConverter);return v.onKeyDown=Y=>this._onKeyDown.fire(Y),v.onKeyUp=Y=>this._onKeyUp.fire(Y),v.onContextMenu=Y=>this._onContextMenu.fire(Y),v.onMouseMove=Y=>this._onMouseMove.fire(Y),v.onMouseLeave=Y=>this._onMouseLeave.fire(Y),v.onMouseDown=Y=>this._onMouseDown.fire(Y),v.onMouseUp=Y=>this._onMouseUp.fire(Y),v.onMouseDrag=Y=>this._onMouseDrag.fire(Y),v.onMouseDrop=Y=>this._onMouseDrop.fire(Y),v.onMouseDropCanceled=Y=>this._onMouseDropCanceled.fire(Y),v.onMouseWheel=Y=>this._onMouseWheel.fire(Y),[new Io(o,this._configuration,this._themeService.getColorTheme(),e,v,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e==null||e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,o=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),o&&this._domElement.contains(o)&&this._domElement.removeChild(o),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}showDropIndicatorAt(e){const o=[{range:new Ie.e(e.lineNumber,e.column,e.lineNumber,e.column),options:lr.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(o),this.revealPosition(e,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};Po.dropIntoEditorDecorationOptions=rs.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),Po=qr([As(3,Pa.TG),As(4,G.$),As(5,Yo.Hy),As(6,$r.i6),As(7,Dt.XE),As(8,Js.lT),As(9,Q.F),As(10,Bs.c_),As(11,Nr.p)],Po);class ea extends L.JT{constructor(e){super(),this._emitterOptions=e,this._onDidChangeToTrue=this._register(new A.Q5(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new A.Q5(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const o=e?2:1;this._value!==o&&(this._value=o,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class Ha extends L.JT{constructor(e,o){super(),this._editor=e,o.createKey("editorId",e.getId()),this._editorSimpleInput=gn.u.editorSimpleInput.bindTo(o),this._editorFocus=gn.u.focus.bindTo(o),this._textInputFocus=gn.u.textInputFocus.bindTo(o),this._editorTextFocus=gn.u.editorTextFocus.bindTo(o),this._editorTabMovesFocus=gn.u.tabMovesFocus.bindTo(o),this._editorReadonly=gn.u.readOnly.bindTo(o),this._inDiffEditor=gn.u.inDiffEditor.bindTo(o),this._editorColumnSelection=gn.u.columnSelection.bindTo(o),this._hasMultipleSelections=gn.u.hasMultipleSelections.bindTo(o),this._hasNonEmptySelection=gn.u.hasNonEmptySelection.bindTo(o),this._canUndo=gn.u.canUndo.bindTo(o),this._canRedo=gn.u.canRedo.bindTo(o),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(132)),this._editorReadonly.set(e.get(83)),this._inDiffEditor.set(e.get(56)),this._editorColumnSelection.set(e.get(18))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(o=>!o.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}class ta extends L.JT{constructor(e,o,v){super(),this._editor=e,this._contextKeyService=o,this._languageFeaturesService=v,this._langId=gn.u.languageId.bindTo(o),this._hasCompletionItemProvider=gn.u.hasCompletionItemProvider.bindTo(o),this._hasCodeActionsProvider=gn.u.hasCodeActionsProvider.bindTo(o),this._hasCodeLensProvider=gn.u.hasCodeLensProvider.bindTo(o),this._hasDefinitionProvider=gn.u.hasDefinitionProvider.bindTo(o),this._hasDeclarationProvider=gn.u.hasDeclarationProvider.bindTo(o),this._hasImplementationProvider=gn.u.hasImplementationProvider.bindTo(o),this._hasTypeDefinitionProvider=gn.u.hasTypeDefinitionProvider.bindTo(o),this._hasHoverProvider=gn.u.hasHoverProvider.bindTo(o),this._hasDocumentHighlightProvider=gn.u.hasDocumentHighlightProvider.bindTo(o),this._hasDocumentSymbolProvider=gn.u.hasDocumentSymbolProvider.bindTo(o),this._hasReferenceProvider=gn.u.hasReferenceProvider.bindTo(o),this._hasRenameProvider=gn.u.hasRenameProvider.bindTo(o),this._hasSignatureHelpProvider=gn.u.hasSignatureHelpProvider.bindTo(o),this._hasInlayHintsProvider=gn.u.hasInlayHintsProvider.bindTo(o),this._hasDocumentFormattingProvider=gn.u.hasDocumentFormattingProvider.bindTo(o),this._hasDocumentSelectionFormattingProvider=gn.u.hasDocumentSelectionFormattingProvider.bindTo(o),this._hasMultipleDocumentFormattingProvider=gn.u.hasMultipleDocumentFormattingProvider.bindTo(o),this._hasMultipleDocumentSelectionFormattingProvider=gn.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(o),this._isInWalkThrough=gn.u.isInWalkThroughSnippet.bindTo(o);const B=()=>this._update();this._register(e.onDidChangeModel(B)),this._register(e.onDidChangeModelLanguage(B)),this._register(v.completionProvider.onDidChange(B)),this._register(v.codeActionProvider.onDidChange(B)),this._register(v.codeLensProvider.onDidChange(B)),this._register(v.definitionProvider.onDidChange(B)),this._register(v.declarationProvider.onDidChange(B)),this._register(v.implementationProvider.onDidChange(B)),this._register(v.typeDefinitionProvider.onDidChange(B)),this._register(v.hoverProvider.onDidChange(B)),this._register(v.documentHighlightProvider.onDidChange(B)),this._register(v.documentSymbolProvider.onDidChange(B)),this._register(v.referenceProvider.onDidChange(B)),this._register(v.renameProvider.onDidChange(B)),this._register(v.documentFormattingEditProvider.onDidChange(B)),this._register(v.documentRangeFormattingEditProvider.onDidChange(B)),this._register(v.signatureHelpProvider.onDidChange(B)),this._register(v.inlayHintsProvider.onDidChange(B)),B()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(e)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(e)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(e)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(e)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(e)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(e)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(e)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(e)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(e)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(e)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(e)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(e)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(e)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(e)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(e)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(e)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(e).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===c.lg.walkThroughSnippet)})}}class Ua extends L.JT{constructor(e){super(),this._onChange=this._register(new A.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(M.go(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class za{constructor(e,o){this._editor=e,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(o)&&o.length>0&&this.set(o)}get length(){return this._decorationIds.length}onDidChange(e,o,v){return this._editor.onDidChangeModelDecorations(B=>{this._isChangingDecorations||e.call(o,B)},v)}getRange(e){return!this._editor.hasModel()||e>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[e])}getRanges(){if(!this._editor.hasModel())return[];const e=this._editor.getModel(),o=[];for(const v of this._decorationIds){const B=e.getDecorationRange(v);B&&o.push(B)}return o}has(e){return this._decorationIds.includes(e.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(e){try{this._isChangingDecorations=!0,this._editor.changeDecorations(o=>{this._decorationIds=o.deltaDecorations(this._decorationIds,e)})}finally{this._isChangingDecorations=!1}}}const Ka=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),ia=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function oo(yt){return Ka+encodeURIComponent(yt.toString())+ia}const Ws=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),So=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function xr(yt){return Ws+encodeURIComponent(yt.toString())+So}(0,Dt.Ic)((yt,e)=>{const o=yt.getColor(Xe.b6y);o&&e.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${o}; }`);const v=yt.getColor(Xe.lXJ);v&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${oo(v)}") repeat-x bottom left; }`);const B=yt.getColor(Xe.L_H);B&&e.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${B}; }`);const Y=yt.getColor(Xe.pW3);Y&&e.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${Y}; }`);const ce=yt.getColor(Xe.uoC);ce&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${oo(ce)}") repeat-x bottom left; }`);const De=yt.getColor(Xe.gpD);De&&e.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${De}; }`);const Fe=yt.getColor(Xe.T83);Fe&&e.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${Fe}; }`);const Ue=yt.getColor(Xe.c63);Ue&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${oo(Ue)}") repeat-x bottom left; }`);const tt=yt.getColor(Xe.few);tt&&e.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${tt}; }`);const gt=yt.getColor(Xe.fEB);gt&&e.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${gt}; }`);const It=yt.getColor(Xe.Dut);It&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${xr(It)}") no-repeat bottom left; }`);const Nt=yt.getColor(bt.zu);Nt&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${Nt.rgba.a}; }`);const zt=yt.getColor(bt.kp);zt&&e.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${zt}; }`);const qt=yt.getColor(Xe.NOs)||"inherit";e.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${qt}}`)})},84527:function(Ot,Te,i){"use strict";i.d(Te,{H:function(){return n}});var w=i(36248),r=i(11640),O=i(87493),V=i(94565),D=i(16141),$=i(72065),M=i(59422),P=i(97781),A=i(31106),L=i(51381),c=i(71922),p=function(a,g,f,u){var C=arguments.length,y=C<3?g:u===null?u=Object.getOwnPropertyDescriptor(g,f):u,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(a,g,f,u);else for(var _=a.length-1;_>=0;_--)(b=a[_])&&(y=(C<3?b(y):C>3?b(g,f,y):b(g,f))||y);return C>3&&y&&Object.defineProperty(g,f,y),y},l=function(a,g){return function(f,u){g(f,u,a)}};let n=class extends O.Gm{constructor(g,f,u,C,y,b,_,E,I,R,J,Q){super(g,Object.assign(Object.assign({},u.getRawOptions()),{overflowWidgetsDomNode:u.getOverflowWidgetsDomNode()}),{},C,y,b,_,E,I,R,J,Q),this._parentEditor=u,this._overwriteOptions=f,super.updateOptions(this._overwriteOptions),this._register(u.onDidChangeConfiguration(U=>this._onParentConfigurationChanged(U)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(g){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(g){w.jB(this._overwriteOptions,g,!0),super.updateOptions(this._overwriteOptions)}};n=p([l(3,$.TG),l(4,r.$),l(5,V.Hy),l(6,D.i6),l(7,P.XE),l(8,M.lT),l(9,A.F),l(10,L.c_),l(11,c.p)],n)},61329:function(Ot,Te,i){"use strict";i.d(Te,{OY:function(){return O},Sj:function(){return V},T4:function(){return r},Uo:function(){return D},hP:function(){return $}});var w=i(3860);class r{constructor(P,A,L=!1){this._range=P,this._text=A,this.insertsAutoWhitespace=L}getEditOperations(P,A){A.addTrackedEditOperation(this._range,this._text)}computeCursorState(P,A){const c=A.getInverseEditOperations()[0].range;return w.Y.fromPositions(c.getEndPosition())}}class O{constructor(P,A){this._range=P,this._text=A}getEditOperations(P,A){A.addTrackedEditOperation(this._range,this._text)}computeCursorState(P,A){const c=A.getInverseEditOperations()[0].range;return w.Y.fromRange(c,0)}}class V{constructor(P,A,L=!1){this._range=P,this._text=A,this.insertsAutoWhitespace=L}getEditOperations(P,A){A.addTrackedEditOperation(this._range,this._text)}computeCursorState(P,A){const c=A.getInverseEditOperations()[0].range;return w.Y.fromPositions(c.getStartPosition())}}class D{constructor(P,A,L,c,p=!1){this._range=P,this._text=A,this._columnDeltaOffset=c,this._lineNumberDeltaOffset=L,this.insertsAutoWhitespace=p}getEditOperations(P,A){A.addTrackedEditOperation(this._range,this._text)}computeCursorState(P,A){const c=A.getInverseEditOperations()[0].range;return w.Y.fromPositions(c.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class ${constructor(P,A,L,c=!1){this._range=P,this._text=A,this._initialSelection=L,this._forceMoveMarkers=c,this._selectionId=null}getEditOperations(P,A){A.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=A.trackSelection(this._initialSelection)}computeCursorState(P,A){return A.getTrackedSelection(this._selectionId)}}},10291:function(Ot,Te,i){"use strict";i.d(Te,{U:function(){return c}});var w=i(97295),r=i(7988),O=i(24314),V=i(3860),D=i(1615),$=i(51381),M=function(p,l,n,a){var g=arguments.length,f=g<3?l:a===null?a=Object.getOwnPropertyDescriptor(l,n):a,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(p,l,n,a);else for(var C=p.length-1;C>=0;C--)(u=p[C])&&(f=(g<3?u(f):g>3?u(l,n,f):u(l,n))||f);return g>3&&f&&Object.defineProperty(l,n,f),f},P=function(p,l){return function(n,a){l(n,a,p)}};const A=Object.create(null);function L(p,l){if(l<=0)return"";A[p]||(A[p]=["",p]);const n=A[p];for(let a=n.length;a<=l;a++)n[a]=n[a-1]+p;return n[l]}let c=class Pl{constructor(l,n,a){this._languageConfigurationService=a,this._opts=n,this._selection=l,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(l,n,a,g,f){const u=r.i.visibleColumnFromColumn(l,n,a);if(f){const C=L(" ",g),b=r.i.prevIndentTabStop(u,g)/g;return L(C,b)}else{const C="	",b=r.i.prevRenderTabStop(u,a)/a;return L(C,b)}}static shiftIndent(l,n,a,g,f){const u=r.i.visibleColumnFromColumn(l,n,a);if(f){const C=L(" ",g),b=r.i.nextIndentTabStop(u,g)/g;return L(C,b)}else{const C="	",b=r.i.nextRenderTabStop(u,a)/a;return L(C,b)}}_addEditOperation(l,n,a){this._useLastEditRangeForCursorEndPosition?l.addTrackedEditOperation(n,a):l.addEditOperation(n,a)}getEditOperations(l,n){const a=this._selection.startLineNumber;let g=this._selection.endLineNumber;this._selection.endColumn===1&&a!==g&&(g=g-1);const{tabSize:f,indentSize:u,insertSpaces:C}=this._opts,y=a===g;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(l.getLineContent(a))&&(this._useLastEditRangeForCursorEndPosition=!0);let b=0,_=0;for(let E=a;E<=g;E++,b=_){_=0;const I=l.getLineContent(E);let R=w.LC(I);if(this._opts.isUnshift&&(I.length===0||R===0)||!y&&!this._opts.isUnshift&&I.length===0)continue;if(R===-1&&(R=I.length),E>1&&r.i.visibleColumnFromColumn(I,R+1,f)%u!==0&&l.tokenization.isCheapToTokenize(E-1)){const U=(0,D.A)(this._opts.autoIndent,l,new O.e(E-1,l.getLineMaxColumn(E-1),E-1,l.getLineMaxColumn(E-1)),this._languageConfigurationService);if(U){if(_=b,U.appendText)for(let K=0,H=U.appendText.length;K<H&&_<u&&U.appendText.charCodeAt(K)===32;K++)_++;U.removeText&&(_=Math.max(0,_-U.removeText));for(let K=0;K<_&&!(R===0||I.charCodeAt(R-1)!==32);K++)R--}}if(this._opts.isUnshift&&R===0)continue;let J;this._opts.isUnshift?J=Pl.unshiftIndent(I,R+1,f,u,C):J=Pl.shiftIndent(I,R+1,f,u,C),this._addEditOperation(n,new O.e(E,1,E,R+1),J),E===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=R+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&l.getLineLength(a)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const b=C?L(" ",u):"	";for(let _=a;_<=g;_++){const E=l.getLineContent(_);let I=w.LC(E);if(!(this._opts.isUnshift&&(E.length===0||I===0))&&!(!y&&!this._opts.isUnshift&&E.length===0)&&(I===-1&&(I=E.length),!(this._opts.isUnshift&&I===0)))if(this._opts.isUnshift){I=Math.min(I,u);for(let R=0;R<I;R++)if(E.charCodeAt(R)===9){I=R+1;break}this._addEditOperation(n,new O.e(_,1,_,I+1),"")}else this._addEditOperation(n,new O.e(_,1,_,1),b),_===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=n.trackSelection(this._selection)}computeCursorState(l,n){if(this._useLastEditRangeForCursorEndPosition){const g=n.getInverseEditOperations()[0];return new V.Y(g.range.endLineNumber,g.range.endColumn,g.range.endLineNumber,g.range.endColumn)}const a=n.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const g=this._selection.startColumn;return a.startColumn<=g?a:a.getDirection()===0?new V.Y(a.startLineNumber,g,a.endLineNumber,a.endColumn):new V.Y(a.endLineNumber,a.endColumn,a.startLineNumber,g)}return a}};c=M([P(2,$.c_)],c)},800:function(Ot,Te,i){"use strict";i.d(Te,{Pe:function(){return p},ei:function(){return c},wk:function(){return $}});var w=i(64141),r=i(22075),O=i(63580),V=i(23193),D=i(89872);const $=Object.freeze({id:"editor",order:5,type:"object",title:O.NC("editorConfigurationTitle","Editor"),scope:5}),M=Object.assign(Object.assign({},$),{properties:{"editor.tabSize":{type:"number",default:r.D.tabSize,minimum:1,markdownDescription:O.NC("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:r.D.insertSpaces,markdownDescription:O.NC("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:r.D.detectIndentation,markdownDescription:O.NC("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:r.D.trimAutoWhitespace,description:O.NC("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:r.D.largeFileOptimizations,description:O.NC("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:O.NC("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[O.NC("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),O.NC("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),O.NC("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:O.NC("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[O.NC("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),O.NC("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),O.NC("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:O.NC("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:O.NC("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:O.NC("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:["array","null"],default:null,description:O.NC("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:O.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:O.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:O.NC("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:O.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:O.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:O.NC("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:O.NC("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:O.NC("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:O.NC("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:O.NC("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:O.NC("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:O.NC("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[O.NC("wordWrap.off","Lines will never wrap."),O.NC("wordWrap.on","Lines will wrap at the viewport width."),O.NC("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function P(n){return typeof n.type<"u"||typeof n.anyOf<"u"}for(const n of w.Bc){const a=n.schema;if(typeof a<"u")if(P(a))M.properties[`editor.${n.name}`]=a;else for(const g in a)Object.hasOwnProperty.call(a,g)&&(M.properties[g]=a[g])}let A=null;function L(){return A===null&&(A=Object.create(null),Object.keys(M.properties).forEach(n=>{A[n]=!0})),A}function c(n){return L()[`editor.${n}`]||!1}function p(n){return L()[`diffEditor.${n}`]||!1}D.B.as(V.IP.Configuration).registerConfiguration(M)},64141:function(Ot,Te,i){"use strict";i.d(Te,{$J:function(){return ye},Av:function(){return xe},BH:function(){return mt},Bb:function(){return P},Bc:function(){return ft},LJ:function(){return A},NY:function(){return b},O7:function(){return a},Zc:function(){return f},d2:function(){return U},gk:function(){return S},hL:function(){return Ge},n0:function(){return x},qt:function(){return Ye},rk:function(){return c},y0:function(){return M}});var w=i(63580),r=i(1432),O=i(270),V=i(9488),D=i(36248),$=i(22075);const M=8;class P{constructor(Oe){this._values=Oe}hasChanged(Oe){return this._values[Oe]}}class A{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class L{constructor(Oe,lt,Bt,Zt){this.id=Oe,this.name=lt,this.defaultValue=Bt,this.schema=Zt}applyUpdate(Oe,lt){return p(Oe,lt)}compute(Oe,lt,Bt){return Bt}}class c{constructor(Oe,lt){this.newValue=Oe,this.didChange=lt}}function p(wt,Oe){if(typeof wt!="object"||typeof Oe!="object"||!wt||!Oe)return new c(Oe,wt!==Oe);if(Array.isArray(wt)||Array.isArray(Oe)){const Bt=Array.isArray(wt)&&Array.isArray(Oe)&&V.fS(wt,Oe);return new c(Oe,!Bt)}let lt=!1;for(const Bt in Oe)if(Oe.hasOwnProperty(Bt)){const Zt=p(wt[Bt],Oe[Bt]);Zt.didChange&&(wt[Bt]=Zt.newValue,lt=!0)}return new c(wt,lt)}class l{constructor(Oe){this.schema=void 0,this.id=Oe,this.name="_never_",this.defaultValue=void 0}applyUpdate(Oe,lt){return p(Oe,lt)}validate(Oe){return this.defaultValue}}class n{constructor(Oe,lt,Bt,Zt){this.id=Oe,this.name=lt,this.defaultValue=Bt,this.schema=Zt}applyUpdate(Oe,lt){return p(Oe,lt)}validate(Oe){return typeof Oe>"u"?this.defaultValue:Oe}compute(Oe,lt,Bt){return Bt}}function a(wt,Oe){return typeof wt>"u"?Oe:wt==="false"?!1:Boolean(wt)}class g extends n{constructor(Oe,lt,Bt,Zt=void 0){typeof Zt<"u"&&(Zt.type="boolean",Zt.default=Bt),super(Oe,lt,Bt,Zt)}validate(Oe){return a(Oe,this.defaultValue)}}function f(wt,Oe,lt,Bt){if(typeof wt>"u")return Oe;let Zt=parseInt(wt,10);return isNaN(Zt)?Oe:(Zt=Math.max(lt,Zt),Zt=Math.min(Bt,Zt),Zt|0)}class u extends n{constructor(Oe,lt,Bt,Zt,pi,Li=void 0){typeof Li<"u"&&(Li.type="integer",Li.default=Bt,Li.minimum=Zt,Li.maximum=pi),super(Oe,lt,Bt,Li),this.minimum=Zt,this.maximum=pi}static clampedInt(Oe,lt,Bt,Zt){return f(Oe,lt,Bt,Zt)}validate(Oe){return u.clampedInt(Oe,this.defaultValue,this.minimum,this.maximum)}}class C extends n{constructor(Oe,lt,Bt,Zt,pi){typeof pi<"u"&&(pi.type="number",pi.default=Bt),super(Oe,lt,Bt,pi),this.validationFn=Zt}static clamp(Oe,lt,Bt){return Oe<lt?lt:Oe>Bt?Bt:Oe}static float(Oe,lt){if(typeof Oe=="number")return Oe;if(typeof Oe>"u")return lt;const Bt=parseFloat(Oe);return isNaN(Bt)?lt:Bt}validate(Oe){return this.validationFn(C.float(Oe,this.defaultValue))}}class y extends n{static string(Oe,lt){return typeof Oe!="string"?lt:Oe}constructor(Oe,lt,Bt,Zt=void 0){typeof Zt<"u"&&(Zt.type="string",Zt.default=Bt),super(Oe,lt,Bt,Zt)}validate(Oe){return y.string(Oe,this.defaultValue)}}function b(wt,Oe,lt){return typeof wt!="string"||lt.indexOf(wt)===-1?Oe:wt}class _ extends n{constructor(Oe,lt,Bt,Zt,pi=void 0){typeof pi<"u"&&(pi.type="string",pi.enum=Zt,pi.default=Bt),super(Oe,lt,Bt,pi),this._allowedValues=Zt}validate(Oe){return b(Oe,this.defaultValue,this._allowedValues)}}class E extends L{constructor(Oe,lt,Bt,Zt,pi,Li,ot=void 0){typeof ot<"u"&&(ot.type="string",ot.enum=pi,ot.default=Zt),super(Oe,lt,Bt,ot),this._allowedValues=pi,this._convert=Li}validate(Oe){return typeof Oe!="string"?this.defaultValue:this._allowedValues.indexOf(Oe)===-1?this.defaultValue:this._convert(Oe)}}function I(wt){switch(wt){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class R extends L{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[w.NC("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),w.NC("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),w.NC("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:w.NC("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(Oe){switch(Oe){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Oe,lt,Bt){return Bt===0?Oe.accessibilitySupport:Bt}}class J extends L{constructor(){const Oe={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",Oe,{"editor.comments.insertSpace":{type:"boolean",default:Oe.insertSpace,description:w.NC("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Oe.ignoreEmptyLines,description:w.NC("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(Oe){if(!Oe||typeof Oe!="object")return this.defaultValue;const lt=Oe;return{insertSpace:a(lt.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:a(lt.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function Q(wt){switch(wt){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var U;(function(wt){wt[wt.Line=1]="Line",wt[wt.Block=2]="Block",wt[wt.Underline=3]="Underline",wt[wt.LineThin=4]="LineThin",wt[wt.BlockOutline=5]="BlockOutline",wt[wt.UnderlineThin=6]="UnderlineThin"})(U||(U={}));function K(wt){switch(wt){case"line":return U.Line;case"block":return U.Block;case"underline":return U.Underline;case"line-thin":return U.LineThin;case"block-outline":return U.BlockOutline;case"underline-thin":return U.UnderlineThin}}class H extends l{constructor(){super(130)}compute(Oe,lt,Bt){const Zt=["monaco-editor"];return lt.get(35)&&Zt.push(lt.get(35)),Oe.extraEditorClassName&&Zt.push(Oe.extraEditorClassName),lt.get(68)==="default"?Zt.push("mouse-default"):lt.get(68)==="copy"&&Zt.push("mouse-copy"),lt.get(102)&&Zt.push("showUnused"),lt.get(128)&&Zt.push("showDeprecated"),Zt.join(" ")}}class X extends g{constructor(){super(33,"emptySelectionClipboard",!0,{description:w.NC("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(Oe,lt,Bt){return Bt&&Oe.emptySelectionClipboard}}class j extends L{constructor(){const Oe={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(37,"find",Oe,{"editor.find.cursorMoveOnType":{type:"boolean",default:Oe.cursorMoveOnType,description:w.NC("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Oe.seedSearchStringFromSelection,enumDescriptions:[w.NC("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),w.NC("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),w.NC("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:w.NC("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Oe.autoFindInSelection,enumDescriptions:[w.NC("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),w.NC("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),w.NC("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:w.NC("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Oe.globalFindClipboard,description:w.NC("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:r.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Oe.addExtraSpaceOnTop,description:w.NC("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Oe.loop,description:w.NC("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(Oe){if(!Oe||typeof Oe!="object")return this.defaultValue;const lt=Oe;return{cursorMoveOnType:a(lt.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof Oe.seedSearchStringFromSelection=="boolean"?Oe.seedSearchStringFromSelection?"always":"never":b(lt.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof Oe.autoFindInSelection=="boolean"?Oe.autoFindInSelection?"always":"never":b(lt.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:a(lt.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:a(lt.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:a(lt.loop,this.defaultValue.loop)}}}class x extends L{constructor(){super(47,"fontLigatures",x.OFF,{anyOf:[{type:"boolean",description:w.NC("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:w.NC("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:w.NC("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(Oe){return typeof Oe>"u"?this.defaultValue:typeof Oe=="string"?Oe==="false"?x.OFF:Oe==="true"?x.ON:Oe:Boolean(Oe)?x.ON:x.OFF}}x.OFF='"liga" off, "calt" off',x.ON='"liga" on, "calt" on';class Z extends l{constructor(){super(46)}compute(Oe,lt,Bt){return Oe.fontInfo}}class T extends n{constructor(){super(48,"fontSize",Ge.fontSize,{type:"number",minimum:6,maximum:100,default:Ge.fontSize,description:w.NC("fontSize","Controls the font size in pixels.")})}validate(Oe){const lt=C.float(Oe,this.defaultValue);return lt===0?Ge.fontSize:C.clamp(lt,6,100)}compute(Oe,lt,Bt){return Oe.fontInfo.fontSize}}class z extends L{constructor(){super(49,"fontWeight",Ge.fontWeight,{anyOf:[{type:"number",minimum:z.MINIMUM_VALUE,maximum:z.MAXIMUM_VALUE,errorMessage:w.NC("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:z.SUGGESTION_VALUES}],default:Ge.fontWeight,description:w.NC("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(Oe){return Oe==="normal"||Oe==="bold"?Oe:String(u.clampedInt(Oe,Ge.fontWeight,z.MINIMUM_VALUE,z.MAXIMUM_VALUE))}}z.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],z.MINIMUM_VALUE=1,z.MAXIMUM_VALUE=1e3;class G extends L{constructor(){const Oe={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},lt={type:"string",enum:["peek","gotoAndPeek","goto"],default:Oe.multiple,enumDescriptions:[w.NC("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),w.NC("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),w.NC("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},Bt=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(53,"gotoLocation",Oe,{"editor.gotoLocation.multiple":{deprecationMessage:w.NC("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:w.NC("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},lt),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:w.NC("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},lt),"editor.gotoLocation.multipleDeclarations":Object.assign({description:w.NC("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},lt),"editor.gotoLocation.multipleImplementations":Object.assign({description:w.NC("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},lt),"editor.gotoLocation.multipleReferences":Object.assign({description:w.NC("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},lt),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Oe.alternativeDefinitionCommand,enum:Bt,description:w.NC("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Oe.alternativeTypeDefinitionCommand,enum:Bt,description:w.NC("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Oe.alternativeDeclarationCommand,enum:Bt,description:w.NC("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Oe.alternativeImplementationCommand,enum:Bt,description:w.NC("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Oe.alternativeReferenceCommand,enum:Bt,description:w.NC("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(Oe){var lt,Bt,Zt,pi,Li;if(!Oe||typeof Oe!="object")return this.defaultValue;const ot=Oe;return{multiple:b(ot.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(lt=ot.multipleDefinitions)!==null&&lt!==void 0?lt:b(ot.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Bt=ot.multipleTypeDefinitions)!==null&&Bt!==void 0?Bt:b(ot.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Zt=ot.multipleDeclarations)!==null&&Zt!==void 0?Zt:b(ot.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(pi=ot.multipleImplementations)!==null&&pi!==void 0?pi:b(ot.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Li=ot.multipleReferences)!==null&&Li!==void 0?Li:b(ot.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:y.string(ot.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:y.string(ot.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:y.string(ot.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:y.string(ot.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:y.string(ot.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class re extends L{constructor(){const Oe={enabled:!0,delay:300,sticky:!0,above:!0};super(55,"hover",Oe,{"editor.hover.enabled":{type:"boolean",default:Oe.enabled,description:w.NC("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Oe.delay,minimum:0,maximum:1e4,description:w.NC("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Oe.sticky,description:w.NC("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:Oe.above,description:w.NC("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(Oe){if(!Oe||typeof Oe!="object")return this.defaultValue;const lt=Oe;return{enabled:a(lt.enabled,this.defaultValue.enabled),delay:u.clampedInt(lt.delay,this.defaultValue.delay,0,1e4),sticky:a(lt.sticky,this.defaultValue.sticky),above:a(lt.above,this.defaultValue.above)}}}class S extends l{constructor(){super(133)}compute(Oe,lt,Bt){return S.computeLayout(lt,{memory:Oe.memory,outerWidth:Oe.outerWidth,outerHeight:Oe.outerHeight,isDominatedByLongLines:Oe.isDominatedByLongLines,lineHeight:Oe.fontInfo.lineHeight,viewLineCount:Oe.viewLineCount,lineNumbersDigitCount:Oe.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Oe.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Oe.fontInfo.maxDigitWidth,pixelRatio:Oe.pixelRatio})}static computeContainedMinimapLineCount(Oe){const lt=Oe.height/Oe.lineHeight,Bt=Oe.scrollBeyondLastLine?lt-1:0,Zt=(Oe.viewLineCount+Bt)/(Oe.pixelRatio*Oe.height),pi=Math.floor(Oe.viewLineCount/Zt);return{typicalViewportLineCount:lt,extraLinesBeyondLastLine:Bt,desiredRatio:Zt,minimapLineCount:pi}}static _computeMinimapLayout(Oe,lt){const Bt=Oe.outerWidth,Zt=Oe.outerHeight,pi=Oe.pixelRatio;if(!Oe.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(pi*Zt),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Zt};const Li=lt.stableMinimapLayoutInput,ot=Li&&Oe.outerHeight===Li.outerHeight&&Oe.lineHeight===Li.lineHeight&&Oe.typicalHalfwidthCharacterWidth===Li.typicalHalfwidthCharacterWidth&&Oe.pixelRatio===Li.pixelRatio&&Oe.scrollBeyondLastLine===Li.scrollBeyondLastLine&&Oe.minimap.enabled===Li.minimap.enabled&&Oe.minimap.side===Li.minimap.side&&Oe.minimap.size===Li.minimap.size&&Oe.minimap.showSlider===Li.minimap.showSlider&&Oe.minimap.renderCharacters===Li.minimap.renderCharacters&&Oe.minimap.maxColumn===Li.minimap.maxColumn&&Oe.minimap.scale===Li.minimap.scale&&Oe.verticalScrollbarWidth===Li.verticalScrollbarWidth&&Oe.isViewportWrapping===Li.isViewportWrapping,Ft=Oe.lineHeight,Yt=Oe.typicalHalfwidthCharacterWidth,_i=Oe.scrollBeyondLastLine,Ci=Oe.minimap.renderCharacters;let bi=pi>=2?Math.round(Oe.minimap.scale*2):Oe.minimap.scale;const ai=Oe.minimap.maxColumn,Mt=Oe.minimap.size,Ut=Oe.minimap.side,vt=Oe.verticalScrollbarWidth,_t=Oe.viewLineCount,nt=Oe.remainingWidth,be=Oe.isViewportWrapping,Le=Ci?2:3;let Qe=Math.floor(pi*Zt);const je=Qe/pi;let ht=!1,bt=!1,Dt=Le*bi,Ht=bi/pi,ei=1;if(Mt==="fill"||Mt==="fit"){const{typicalViewportLineCount:fn,extraLinesBeyondLastLine:Fi,desiredRatio:Ni,minimapLineCount:Dn}=S.computeContainedMinimapLineCount({viewLineCount:_t,scrollBeyondLastLine:_i,height:Zt,lineHeight:Ft,pixelRatio:pi});if(_t/Dn>1)ht=!0,bt=!0,bi=1,Dt=1,Ht=bi/pi;else{let $i=!1,pn=bi+1;if(Mt==="fit"){const Sn=Math.ceil((_t+Fi)*Dt);be&&ot&&nt<=lt.stableFitRemainingWidth?($i=!0,pn=lt.stableFitMaxMinimapScale):$i=Sn>Qe}if(Mt==="fill"||$i){ht=!0;const Sn=bi;Dt=Math.min(Ft*pi,Math.max(1,Math.floor(1/Ni))),be&&ot&&nt<=lt.stableFitRemainingWidth&&(pn=lt.stableFitMaxMinimapScale),bi=Math.min(pn,Math.max(1,Math.floor(Dt/Le))),bi>Sn&&(ei=Math.min(2,bi/Sn)),Ht=bi/pi/ei,Qe=Math.ceil(Math.max(fn,_t+Fi)*Dt),be?(lt.stableMinimapLayoutInput=Oe,lt.stableFitRemainingWidth=nt,lt.stableFitMaxMinimapScale=bi):(lt.stableMinimapLayoutInput=null,lt.stableFitRemainingWidth=0)}}}const ui=Math.floor(ai*Ht),xi=Math.min(ui,Math.max(0,Math.floor((nt-vt-2)*Ht/(Yt+Ht)))+M);let Si=Math.floor(pi*xi);const mi=Si/pi;Si=Math.floor(Si*ei);const mn=Ci?1:2,Mi=Ut==="left"?0:Bt-xi-vt;return{renderMinimap:mn,minimapLeft:Mi,minimapWidth:xi,minimapHeightIsEditorHeight:ht,minimapIsSampling:bt,minimapScale:bi,minimapLineHeight:Dt,minimapCanvasInnerWidth:Si,minimapCanvasInnerHeight:Qe,minimapCanvasOuterWidth:mi,minimapCanvasOuterHeight:je}}static computeLayout(Oe,lt){const Bt=lt.outerWidth|0,Zt=lt.outerHeight|0,pi=lt.lineHeight|0,Li=lt.lineNumbersDigitCount|0,ot=lt.typicalHalfwidthCharacterWidth,Ft=lt.maxDigitWidth,Yt=lt.pixelRatio,_i=lt.viewLineCount,Ci=Oe.get(125),bi=Ci==="inherit"?Oe.get(124):Ci,ai=bi==="inherit"?Oe.get(120):bi,Mt=Oe.get(123),Ut=Oe.get(2),vt=lt.isDominatedByLongLines,_t=Oe.get(52),nt=Oe.get(62).renderType!==0,be=Oe.get(63),Le=Oe.get(96),Qe=Oe.get(67),je=Oe.get(94),ht=je.verticalScrollbarSize,bt=je.verticalHasArrows,Dt=je.arrowSize,Ht=je.horizontalScrollbarSize,ei=Oe.get(60),ui=Oe.get(39),xi=Oe.get(101)!=="never";let Si;if(typeof ei=="string"&&/^\d+(\.\d+)?ch$/.test(ei)){const Rt=parseFloat(ei.substr(0,ei.length-2));Si=u.clampedInt(Rt*ot,0,0,1e3)}else Si=u.clampedInt(ei,0,0,1e3);ui&&xi&&(Si+=16);let mi=0;if(nt){const Rt=Math.max(Li,be);mi=Math.round(Rt*Ft)}let mn=0;_t&&(mn=pi);let Mi=0,fn=Mi+mn,Fi=fn+mi,Ni=Fi+Si;const Dn=Bt-mn-mi-Si;let Tn=!1,$i=!1,pn=-1;Ut!==2&&(bi==="inherit"&&vt?(Tn=!0,$i=!0):ai==="on"||ai==="bounded"?$i=!0:ai==="wordWrapColumn"&&(pn=Mt));const Sn=S._computeMinimapLayout({outerWidth:Bt,outerHeight:Zt,lineHeight:pi,typicalHalfwidthCharacterWidth:ot,pixelRatio:Yt,scrollBeyondLastLine:Le,minimap:Qe,verticalScrollbarWidth:ht,viewLineCount:_i,remainingWidth:Dn,isViewportWrapping:$i},lt.memory||new A);Sn.renderMinimap!==0&&Sn.minimapLeft===0&&(Mi+=Sn.minimapWidth,fn+=Sn.minimapWidth,Fi+=Sn.minimapWidth,Ni+=Sn.minimapWidth);const wn=Dn-Sn.minimapWidth,li=Math.max(1,Math.floor((wn-ht-2)/ot)),Ke=bt?Dt:0;return $i&&(pn=Math.max(1,li),ai==="bounded"&&(pn=Math.min(pn,Mt))),{width:Bt,height:Zt,glyphMarginLeft:Mi,glyphMarginWidth:mn,lineNumbersLeft:fn,lineNumbersWidth:mi,decorationsLeft:Fi,decorationsWidth:Si,contentLeft:Ni,contentWidth:wn,minimap:Sn,viewportColumn:li,isWordWrapMinified:Tn,isViewportWrapping:$i,wrappingColumn:pn,verticalScrollbarWidth:ht,horizontalScrollbarHeight:Ht,overviewRuler:{top:Ke,width:ht,height:Zt-2*Ke,right:0}}}}class he extends L{constructor(){const Oe={enabled:!0};super(59,"lightbulb",Oe,{"editor.lightbulb.enabled":{type:"boolean",default:Oe.enabled,description:w.NC("codeActions","Enables the code action lightbulb in the editor.")}})}validate(Oe){return!Oe||typeof Oe!="object"?this.defaultValue:{enabled:a(Oe.enabled,this.defaultValue.enabled)}}}class Ce extends L{constructor(){const Oe={stickyScroll:{enabled:!1}};super(34,"experimental",Oe,{"editor.experimental.stickyScroll.enabled":{type:"boolean",default:Oe.stickyScroll.enabled,description:w.NC("editor.experimental.stickyScroll","Shows the nested current scopes during the scroll at the top of the editor.")}})}validate(Oe){var lt;return!Oe||typeof Oe!="object"?this.defaultValue:{stickyScroll:{enabled:a((lt=Oe.stickyScroll)===null||lt===void 0?void 0:lt.enabled,this.defaultValue.stickyScroll.enabled)}}}}class ge extends L{constructor(){const Oe={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(129,"inlayHints",Oe,{"editor.inlayHints.enabled":{type:"string",default:Oe.enabled,description:w.NC("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[w.NC("editor.inlayHints.on","Inlay hints are enabled"),w.NC("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding `Ctrl+Alt`"),w.NC("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding `Ctrl+Alt`"),w.NC("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:Oe.fontSize,markdownDescription:w.NC("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:Oe.fontFamily,markdownDescription:w.NC("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:Oe.padding,description:w.NC("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(Oe){if(!Oe||typeof Oe!="object")return this.defaultValue;const lt=Oe;return typeof lt.enabled=="boolean"&&(lt.enabled=lt.enabled?"on":"off"),{enabled:b(lt.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:u.clampedInt(lt.fontSize,this.defaultValue.fontSize,0,100),fontFamily:y.string(lt.fontFamily,this.defaultValue.fontFamily),padding:a(lt.padding,this.defaultValue.padding)}}}class pe extends C{constructor(){super(61,"lineHeight",Ge.lineHeight,Oe=>C.clamp(Oe,0,150),{markdownDescription:w.NC("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(Oe,lt,Bt){return Oe.fontInfo.lineHeight}}class ee extends L{constructor(){const Oe={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(67,"minimap",Oe,{"editor.minimap.enabled":{type:"boolean",default:Oe.enabled,description:w.NC("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:Oe.autohide,description:w.NC("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[w.NC("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),w.NC("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),w.NC("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Oe.size,description:w.NC("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Oe.side,description:w.NC("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Oe.showSlider,description:w.NC("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Oe.scale,minimum:1,maximum:3,enum:[1,2,3],description:w.NC("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Oe.renderCharacters,description:w.NC("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Oe.maxColumn,description:w.NC("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(Oe){if(!Oe||typeof Oe!="object")return this.defaultValue;const lt=Oe;return{enabled:a(lt.enabled,this.defaultValue.enabled),autohide:a(lt.autohide,this.defaultValue.autohide),size:b(lt.size,this.defaultValue.size,["proportional","fill","fit"]),side:b(lt.side,this.defaultValue.side,["right","left"]),showSlider:b(lt.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:a(lt.renderCharacters,this.defaultValue.renderCharacters),scale:u.clampedInt(lt.scale,1,1,3),maxColumn:u.clampedInt(lt.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function se(wt){return wt==="ctrlCmd"?r.dz?"metaKey":"ctrlKey":"altKey"}class ne extends L{constructor(){super(77,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:w.NC("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:w.NC("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(Oe){if(!Oe||typeof Oe!="object")return this.defaultValue;const lt=Oe;return{top:u.clampedInt(lt.top,0,0,1e3),bottom:u.clampedInt(lt.bottom,0,0,1e3)}}}class oe extends L{constructor(){const Oe={enabled:!0,cycle:!1};super(78,"parameterHints",Oe,{"editor.parameterHints.enabled":{type:"boolean",default:Oe.enabled,description:w.NC("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Oe.cycle,description:w.NC("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(Oe){if(!Oe||typeof Oe!="object")return this.defaultValue;const lt=Oe;return{enabled:a(lt.enabled,this.defaultValue.enabled),cycle:a(lt.cycle,this.defaultValue.cycle)}}}class Se extends l{constructor(){super(131)}compute(Oe,lt,Bt){return Oe.pixelRatio}}class Ee extends L{constructor(){const Oe={other:"on",comments:"off",strings:"off"},lt=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[w.NC("on","Quick suggestions show inside the suggest widget"),w.NC("inline","Quick suggestions show as ghost text"),w.NC("off","Quick suggestions are disabled")]}];super(81,"quickSuggestions",Oe,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:lt,default:Oe.strings,description:w.NC("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:lt,default:Oe.comments,description:w.NC("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:lt,default:Oe.other,description:w.NC("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:Oe,markdownDescription:w.NC("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=Oe}validate(Oe){if(typeof Oe=="boolean"){const Yt=Oe?"on":"off";return{comments:Yt,strings:Yt,other:Yt}}if(!Oe||typeof Oe!="object")return this.defaultValue;const{other:lt,comments:Bt,strings:Zt}=Oe,pi=["on","inline","off"];let Li,ot,Ft;return typeof lt=="boolean"?Li=lt?"on":"off":Li=b(lt,this.defaultValue.other,pi),typeof Bt=="boolean"?ot=Bt?"on":"off":ot=b(Bt,this.defaultValue.comments,pi),typeof Zt=="boolean"?Ft=Zt?"on":"off":Ft=b(Zt,this.defaultValue.strings,pi),{other:Li,comments:ot,strings:Ft}}}class Me extends L{constructor(){super(62,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[w.NC("lineNumbers.off","Line numbers are not rendered."),w.NC("lineNumbers.on","Line numbers are rendered as absolute number."),w.NC("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),w.NC("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:w.NC("lineNumbers","Controls the display of line numbers.")})}validate(Oe){let lt=this.defaultValue.renderType,Bt=this.defaultValue.renderFn;return typeof Oe<"u"&&(typeof Oe=="function"?(lt=4,Bt=Oe):Oe==="interval"?lt=3:Oe==="relative"?lt=2:Oe==="on"?lt=1:lt=0),{renderType:lt,renderFn:Bt}}}function ye(wt){const Oe=wt.get(89);return Oe==="editable"?wt.get(83):Oe!=="on"}class le extends L{constructor(){const Oe=[],lt={type:"number",description:w.NC("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(93,"rulers",Oe,{type:"array",items:{anyOf:[lt,{type:["object"],properties:{column:lt,color:{type:"string",description:w.NC("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Oe,description:w.NC("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(Oe){if(Array.isArray(Oe)){const lt=[];for(const Bt of Oe)if(typeof Bt=="number")lt.push({column:u.clampedInt(Bt,0,0,1e4),color:null});else if(Bt&&typeof Bt=="object"){const Zt=Bt;lt.push({column:u.clampedInt(Zt.column,0,0,1e4),color:Zt.color})}return lt.sort((Bt,Zt)=>Bt.column-Zt.column),lt}return this.defaultValue}}function ie(wt,Oe){if(typeof wt!="string")return Oe;switch(wt){case"hidden":return 2;case"visible":return 3;default:return 1}}class ve extends L{constructor(){const Oe={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(94,"scrollbar",Oe,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[w.NC("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),w.NC("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),w.NC("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:w.NC("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[w.NC("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),w.NC("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),w.NC("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:w.NC("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Oe.verticalScrollbarSize,description:w.NC("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Oe.horizontalScrollbarSize,description:w.NC("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Oe.scrollByPage,description:w.NC("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(Oe){if(!Oe||typeof Oe!="object")return this.defaultValue;const lt=Oe,Bt=u.clampedInt(lt.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Zt=u.clampedInt(lt.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:u.clampedInt(lt.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:ie(lt.vertical,this.defaultValue.vertical),horizontal:ie(lt.horizontal,this.defaultValue.horizontal),useShadows:a(lt.useShadows,this.defaultValue.useShadows),verticalHasArrows:a(lt.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:a(lt.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:a(lt.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:a(lt.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Bt,horizontalSliderSize:u.clampedInt(lt.horizontalSliderSize,Bt,0,1e3),verticalScrollbarSize:Zt,verticalSliderSize:u.clampedInt(lt.verticalSliderSize,Zt,0,1e3),scrollByPage:a(lt.scrollByPage,this.defaultValue.scrollByPage)}}}const xe="inUntrustedWorkspace",Ye={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class at extends L{constructor(){const Oe={nonBasicASCII:xe,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:xe,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(115,"unicodeHighlight",Oe,{[Ye.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,xe],default:Oe.nonBasicASCII,description:w.NC("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[Ye.invisibleCharacters]:{restricted:!0,type:"boolean",default:Oe.invisibleCharacters,description:w.NC("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[Ye.ambiguousCharacters]:{restricted:!0,type:"boolean",default:Oe.ambiguousCharacters,description:w.NC("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[Ye.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,xe],default:Oe.includeComments,description:w.NC("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[Ye.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,xe],default:Oe.includeStrings,description:w.NC("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[Ye.allowedCharacters]:{restricted:!0,type:"object",default:Oe.allowedCharacters,description:w.NC("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[Ye.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:Oe.allowedLocales,description:w.NC("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(Oe,lt){let Bt=!1;lt.allowedCharacters&&Oe&&(D.fS(Oe.allowedCharacters,lt.allowedCharacters)||(Oe=Object.assign(Object.assign({},Oe),{allowedCharacters:lt.allowedCharacters}),Bt=!0)),lt.allowedLocales&&Oe&&(D.fS(Oe.allowedLocales,lt.allowedLocales)||(Oe=Object.assign(Object.assign({},Oe),{allowedLocales:lt.allowedLocales}),Bt=!0));const Zt=super.applyUpdate(Oe,lt);return Bt?new c(Zt.newValue,!0):Zt}validate(Oe){if(!Oe||typeof Oe!="object")return this.defaultValue;const lt=Oe;return{nonBasicASCII:st(lt.nonBasicASCII,xe,[!0,!1,xe]),invisibleCharacters:a(lt.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:a(lt.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:st(lt.includeComments,xe,[!0,!1,xe]),includeStrings:st(lt.includeStrings,xe,[!0,!1,xe]),allowedCharacters:this.validateBooleanMap(Oe.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(Oe.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(Oe,lt){if(typeof Oe!="object"||!Oe)return lt;const Bt={};for(const[Zt,pi]of Object.entries(Oe))pi===!0&&(Bt[Zt]=!0);return Bt}}class qe extends L{constructor(){const Oe={enabled:!0,mode:"subwordSmart"};super(57,"inlineSuggest",Oe,{"editor.inlineSuggest.enabled":{type:"boolean",default:Oe.enabled,description:w.NC("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(Oe){if(!Oe||typeof Oe!="object")return this.defaultValue;const lt=Oe;return{enabled:a(lt.enabled,this.defaultValue.enabled),mode:b(lt.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class Re extends L{constructor(){const Oe={enabled:$.D.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:$.D.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",Oe,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Oe.enabled,markdownDescription:w.NC("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:Oe.independentColorPoolPerBracketType,description:w.NC("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(Oe){if(!Oe||typeof Oe!="object")return this.defaultValue;const lt=Oe;return{enabled:a(lt.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:a(lt.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class Je extends L{constructor(){const Oe={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",Oe,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[w.NC("editor.guides.bracketPairs.true","Enables bracket pair guides."),w.NC("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),w.NC("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Oe.bracketPairs,description:w.NC("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[w.NC("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),w.NC("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),w.NC("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Oe.bracketPairsHorizontal,description:w.NC("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Oe.highlightActiveBracketPair,description:w.NC("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:Oe.indentation,description:w.NC("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[w.NC("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),w.NC("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),w.NC("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:Oe.highlightActiveIndentation,description:w.NC("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(Oe){if(!Oe||typeof Oe!="object")return this.defaultValue;const lt=Oe;return{bracketPairs:st(lt.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:st(lt.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:a(lt.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:a(lt.indentation,this.defaultValue.indentation),highlightActiveIndentation:st(lt.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function st(wt,Oe,lt){const Bt=lt.indexOf(wt);return Bt===-1?Oe:lt[Bt]}class et extends L{constructor(){const Oe={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(108,"suggest",Oe,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[w.NC("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),w.NC("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Oe.insertMode,description:w.NC("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Oe.filterGraceful,description:w.NC("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Oe.localityBonus,description:w.NC("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Oe.shareSuggestSelections,markdownDescription:w.NC("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Oe.snippetsPreventQuickSuggestions,description:w.NC("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Oe.showIcons,description:w.NC("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Oe.showStatusBar,description:w.NC("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Oe.preview,description:w.NC("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Oe.showInlineDetails,description:w.NC("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:w.NC("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:w.NC("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:w.NC("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(Oe){if(!Oe||typeof Oe!="object")return this.defaultValue;const lt=Oe;return{insertMode:b(lt.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:a(lt.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:a(lt.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:a(lt.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:a(lt.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:a(lt.showIcons,this.defaultValue.showIcons),showStatusBar:a(lt.showStatusBar,this.defaultValue.showStatusBar),preview:a(lt.preview,this.defaultValue.preview),previewMode:b(lt.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:a(lt.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:a(lt.showMethods,this.defaultValue.showMethods),showFunctions:a(lt.showFunctions,this.defaultValue.showFunctions),showConstructors:a(lt.showConstructors,this.defaultValue.showConstructors),showDeprecated:a(lt.showDeprecated,this.defaultValue.showDeprecated),showFields:a(lt.showFields,this.defaultValue.showFields),showVariables:a(lt.showVariables,this.defaultValue.showVariables),showClasses:a(lt.showClasses,this.defaultValue.showClasses),showStructs:a(lt.showStructs,this.defaultValue.showStructs),showInterfaces:a(lt.showInterfaces,this.defaultValue.showInterfaces),showModules:a(lt.showModules,this.defaultValue.showModules),showProperties:a(lt.showProperties,this.defaultValue.showProperties),showEvents:a(lt.showEvents,this.defaultValue.showEvents),showOperators:a(lt.showOperators,this.defaultValue.showOperators),showUnits:a(lt.showUnits,this.defaultValue.showUnits),showValues:a(lt.showValues,this.defaultValue.showValues),showConstants:a(lt.showConstants,this.defaultValue.showConstants),showEnums:a(lt.showEnums,this.defaultValue.showEnums),showEnumMembers:a(lt.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:a(lt.showKeywords,this.defaultValue.showKeywords),showWords:a(lt.showWords,this.defaultValue.showWords),showColors:a(lt.showColors,this.defaultValue.showColors),showFiles:a(lt.showFiles,this.defaultValue.showFiles),showReferences:a(lt.showReferences,this.defaultValue.showReferences),showFolders:a(lt.showFolders,this.defaultValue.showFolders),showTypeParameters:a(lt.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:a(lt.showSnippets,this.defaultValue.showSnippets),showUsers:a(lt.showUsers,this.defaultValue.showUsers),showIssues:a(lt.showIssues,this.defaultValue.showIssues)}}}class we extends L{constructor(){super(104,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:w.NC("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(Oe){return!Oe||typeof Oe!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:a(Oe.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class Ne extends l{constructor(){super(132)}compute(Oe,lt,Bt){return lt.get(83)?!0:Oe.tabFocusMode}}function de(wt){switch(wt){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class Pe extends l{constructor(){super(134)}compute(Oe,lt,Bt){const Zt=lt.get(133);return{isDominatedByLongLines:Oe.isDominatedByLongLines,isWordWrapMinified:Zt.isWordWrapMinified,isViewportWrapping:Zt.isViewportWrapping,wrappingColumn:Zt.wrappingColumn}}}class He extends L{constructor(){const Oe={enabled:!0};super(32,"dropIntoEditor",Oe,{"editor.dropIntoEditor.enabled":{type:"boolean",default:Oe.enabled,markdownDescription:w.NC("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")}})}validate(Oe){return!Oe||typeof Oe!="object"?this.defaultValue:{enabled:a(Oe.enabled,this.defaultValue.enabled)}}}const $e="Consolas, 'Courier New', monospace",me="Menlo, Monaco, 'Courier New', monospace",Ie="'Droid Sans Mono', 'monospace', monospace",Ge={fontFamily:r.dz?me:r.IJ?Ie:$e,fontWeight:"normal",fontSize:r.dz?12:14,lineHeight:0,letterSpacing:0},ft=[];function ze(wt){return ft[wt.id]=wt,wt}const mt={acceptSuggestionOnCommitCharacter:ze(new g(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:w.NC("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`; `) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:ze(new _(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",w.NC("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:w.NC("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:ze(new R),accessibilityPageSize:ze(new u(3,"accessibilityPageSize",10,1,1073741824,{description:w.NC("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:ze(new y(4,"ariaLabel",w.NC("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:ze(new _(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",w.NC("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),w.NC("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:w.NC("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:ze(new _(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",w.NC("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:w.NC("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:ze(new _(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",w.NC("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:w.NC("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:ze(new _(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",w.NC("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),w.NC("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:w.NC("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:ze(new E(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],I,{enumDescriptions:[w.NC("editor.autoIndent.none","The editor will not insert indentation automatically."),w.NC("editor.autoIndent.keep","The editor will keep the current line's indentation."),w.NC("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),w.NC("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),w.NC("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:w.NC("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:ze(new g(10,"automaticLayout",!1)),autoSurround:ze(new _(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[w.NC("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),w.NC("editor.autoSurround.quotes","Surround with quotes but not brackets."),w.NC("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:w.NC("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:ze(new Re),bracketPairGuides:ze(new Je),stickyTabStops:ze(new g(106,"stickyTabStops",!1,{description:w.NC("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:ze(new g(14,"codeLens",!0,{description:w.NC("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:ze(new y(15,"codeLensFontFamily","",{description:w.NC("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:ze(new u(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:w.NC("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:ze(new g(17,"colorDecorators",!0,{description:w.NC("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:ze(new g(18,"columnSelection",!1,{description:w.NC("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:ze(new J),contextmenu:ze(new g(20,"contextmenu",!0)),copyWithSyntaxHighlighting:ze(new g(21,"copyWithSyntaxHighlighting",!0,{description:w.NC("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:ze(new E(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],Q,{description:w.NC("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:ze(new g(23,"cursorSmoothCaretAnimation",!1,{description:w.NC("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:ze(new E(24,"cursorStyle",U.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],K,{description:w.NC("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:ze(new u(25,"cursorSurroundingLines",0,0,1073741824,{description:w.NC("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:ze(new _(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[w.NC("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),w.NC("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:w.NC("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:ze(new u(27,"cursorWidth",0,0,1073741824,{markdownDescription:w.NC("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:ze(new g(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:ze(new g(29,"disableMonospaceOptimizations",!1)),domReadOnly:ze(new g(30,"domReadOnly",!1)),dragAndDrop:ze(new g(31,"dragAndDrop",!0,{description:w.NC("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:ze(new X),dropIntoEditor:ze(new He),experimental:ze(new Ce),extraEditorClassName:ze(new y(35,"extraEditorClassName","")),fastScrollSensitivity:ze(new C(36,"fastScrollSensitivity",5,wt=>wt<=0?5:wt,{markdownDescription:w.NC("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:ze(new j),fixedOverflowWidgets:ze(new g(38,"fixedOverflowWidgets",!1)),folding:ze(new g(39,"folding",!0,{description:w.NC("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:ze(new _(40,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[w.NC("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),w.NC("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:w.NC("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:ze(new g(41,"foldingHighlight",!0,{description:w.NC("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:ze(new g(42,"foldingImportsByDefault",!1,{description:w.NC("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:ze(new u(43,"foldingMaximumRegions",5e3,10,65e3,{description:w.NC("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:ze(new g(44,"unfoldOnClickAfterEndOfLine",!1,{description:w.NC("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:ze(new y(45,"fontFamily",Ge.fontFamily,{description:w.NC("fontFamily","Controls the font family.")})),fontInfo:ze(new Z),fontLigatures2:ze(new x),fontSize:ze(new T),fontWeight:ze(new z),formatOnPaste:ze(new g(50,"formatOnPaste",!1,{description:w.NC("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:ze(new g(51,"formatOnType",!1,{description:w.NC("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:ze(new g(52,"glyphMargin",!0,{description:w.NC("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:ze(new G),hideCursorInOverviewRuler:ze(new g(54,"hideCursorInOverviewRuler",!1,{description:w.NC("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:ze(new re),inDiffEditor:ze(new g(56,"inDiffEditor",!1)),letterSpacing:ze(new C(58,"letterSpacing",Ge.letterSpacing,wt=>C.clamp(wt,-5,20),{description:w.NC("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:ze(new he),lineDecorationsWidth:ze(new n(60,"lineDecorationsWidth",10)),lineHeight:ze(new pe),lineNumbers:ze(new Me),lineNumbersMinChars:ze(new u(63,"lineNumbersMinChars",5,1,300)),linkedEditing:ze(new g(64,"linkedEditing",!1,{description:w.NC("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:ze(new g(65,"links",!0,{description:w.NC("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:ze(new _(66,"matchBrackets","always",["always","near","never"],{description:w.NC("matchBrackets","Highlight matching brackets.")})),minimap:ze(new ee),mouseStyle:ze(new _(68,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ze(new C(69,"mouseWheelScrollSensitivity",1,wt=>wt===0?1:wt,{markdownDescription:w.NC("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:ze(new g(70,"mouseWheelZoom",!1,{markdownDescription:w.NC("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:ze(new g(71,"multiCursorMergeOverlapping",!0,{description:w.NC("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:ze(new E(72,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],se,{markdownEnumDescriptions:[w.NC("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),w.NC("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:w.NC({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:ze(new _(73,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[w.NC("multiCursorPaste.spread","Each cursor pastes a single line of the text."),w.NC("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:w.NC("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:ze(new g(74,"occurrencesHighlight",!0,{description:w.NC("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:ze(new g(75,"overviewRulerBorder",!0,{description:w.NC("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:ze(new u(76,"overviewRulerLanes",3,0,3)),padding:ze(new ne),parameterHints:ze(new oe),peekWidgetDefaultFocus:ze(new _(79,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[w.NC("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),w.NC("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:w.NC("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:ze(new g(80,"definitionLinkOpensInPeek",!1,{description:w.NC("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:ze(new Ee),quickSuggestionsDelay:ze(new u(82,"quickSuggestionsDelay",10,0,1073741824,{description:w.NC("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:ze(new g(83,"readOnly",!1)),renameOnType:ze(new g(84,"renameOnType",!1,{description:w.NC("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:w.NC("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:ze(new g(85,"renderControlCharacters",!0,{description:w.NC("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:ze(new g(86,"renderFinalNewline",!0,{description:w.NC("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:ze(new _(87,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",w.NC("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:w.NC("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:ze(new g(88,"renderLineHighlightOnlyWhenFocus",!1,{description:w.NC("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:ze(new _(89,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ze(new _(90,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",w.NC("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),w.NC("renderWhitespace.selection","Render whitespace characters only on selected text."),w.NC("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:w.NC("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:ze(new u(91,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:ze(new g(92,"roundedSelection",!0,{description:w.NC("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:ze(new le),scrollbar:ze(new ve),scrollBeyondLastColumn:ze(new u(95,"scrollBeyondLastColumn",4,0,1073741824,{description:w.NC("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:ze(new g(96,"scrollBeyondLastLine",!0,{description:w.NC("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:ze(new g(97,"scrollPredominantAxis",!0,{description:w.NC("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:ze(new g(98,"selectionClipboard",!0,{description:w.NC("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:r.IJ})),selectionHighlight:ze(new g(99,"selectionHighlight",!0,{description:w.NC("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:ze(new g(100,"selectOnLineNumbers",!0)),showFoldingControls:ze(new _(101,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[w.NC("showFoldingControls.always","Always show the folding controls."),w.NC("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),w.NC("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:w.NC("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:ze(new g(102,"showUnused",!0,{description:w.NC("showUnused","Controls fading out of unused code.")})),showDeprecated:ze(new g(128,"showDeprecated",!0,{description:w.NC("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:ze(new ge),snippetSuggestions:ze(new _(103,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[w.NC("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),w.NC("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),w.NC("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),w.NC("snippetSuggestions.none","Do not show snippet suggestions.")],description:w.NC("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:ze(new we),smoothScrolling:ze(new g(105,"smoothScrolling",!1,{description:w.NC("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:ze(new u(107,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ze(new et),inlineSuggest:ze(new qe),suggestFontSize:ze(new u(109,"suggestFontSize",0,0,1e3,{markdownDescription:w.NC("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:ze(new u(110,"suggestLineHeight",0,0,1e3,{markdownDescription:w.NC("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:ze(new g(111,"suggestOnTriggerCharacters",!0,{description:w.NC("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:ze(new _(112,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[w.NC("suggestSelection.first","Always select the first suggestion."),w.NC("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),w.NC("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:w.NC("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:ze(new _(113,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[w.NC("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),w.NC("tabCompletion.off","Disable tab completions."),w.NC("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:w.NC("tabCompletion","Enables tab completions.")})),tabIndex:ze(new u(114,"tabIndex",0,-1,1073741824)),unicodeHighlight:ze(new at),unusualLineTerminators:ze(new _(116,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[w.NC("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),w.NC("unusualLineTerminators.off","Unusual line terminators are ignored."),w.NC("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:w.NC("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:ze(new g(117,"useShadowDOM",!0)),useTabStops:ze(new g(118,"useTabStops",!0,{description:w.NC("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:ze(new y(119,"wordSeparators",O.vu,{description:w.NC("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:ze(new _(120,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[w.NC("wordWrap.off","Lines will never wrap."),w.NC("wordWrap.on","Lines will wrap at the viewport width."),w.NC({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),w.NC({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:w.NC({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:ze(new y(121,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:ze(new y(122,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:ze(new u(123,"wordWrapColumn",80,1,1073741824,{markdownDescription:w.NC({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:ze(new _(124,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ze(new _(125,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:ze(new E(126,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],de,{enumDescriptions:[w.NC("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),w.NC("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),w.NC("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),w.NC("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:w.NC("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:ze(new _(127,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[w.NC("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),w.NC("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:w.NC("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:ze(new H),pixelRatio:ze(new Se),tabFocusMode:ze(new Ne),layoutInfo:ze(new S),wrappingInfo:ze(new Pe)}},82334:function(Ot,Te,i){"use strict";i.d(Te,{C:function(){return r}});var w=i(4669);const r=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new w.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(O){O=Math.min(Math.max(-5,O),20),this._zoomLevel!==O&&(this._zoomLevel=O,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},27374:function(Ot,Te,i){"use strict";i.d(Te,{E4:function(){return $},pR:function(){return P}});var w=i(1432),r=i(64141),O=i(82334);const V=w.dz?1.5:1.35,D=8;class ${constructor(L){this._bareFontInfoBrand=void 0,this.pixelRatio=L.pixelRatio,this.fontFamily=String(L.fontFamily),this.fontWeight=String(L.fontWeight),this.fontSize=L.fontSize,this.fontFeatureSettings=L.fontFeatureSettings,this.lineHeight=L.lineHeight|0,this.letterSpacing=L.letterSpacing}static createFromValidatedSettings(L,c,p){const l=L.get(45),n=L.get(49),a=L.get(48),g=L.get(47),f=L.get(61),u=L.get(58);return $._create(l,n,a,g,f,u,c,p)}static _create(L,c,p,l,n,a,g,f){n===0?n=V*p:n<D&&(n=n*p),n=Math.round(n),n<D&&(n=D);const u=1+(f?0:O.C.getZoomLevel()*.1);return p*=u,n*=u,new $({pixelRatio:g,fontFamily:L,fontWeight:c,fontSize:p,fontFeatureSettings:l,lineHeight:n,letterSpacing:a})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const L=r.hL.fontFamily,c=$._wrapInQuotes(this.fontFamily);return L&&this.fontFamily!==L?`${c}, ${L}`:c}static _wrapInQuotes(L){return/[,"']/.test(L)?L:/[+ ]/.test(L)?`"${L}"`:L}}const M=1;class P extends ${constructor(L,c){super(L),this._editorStylingBrand=void 0,this.version=M,this.isTrusted=c,this.isMonospace=L.isMonospace,this.typicalHalfwidthCharacterWidth=L.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=L.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=L.canUseHalfwidthRightwardsArrow,this.spaceWidth=L.spaceWidth,this.middotWidth=L.middotWidth,this.wsmiddotWidth=L.wsmiddotWidth,this.maxDigitWidth=L.maxDigitWidth}equals(L){return this.fontFamily===L.fontFamily&&this.fontWeight===L.fontWeight&&this.fontSize===L.fontSize&&this.fontFeatureSettings===L.fontFeatureSettings&&this.lineHeight===L.lineHeight&&this.letterSpacing===L.letterSpacing&&this.typicalHalfwidthCharacterWidth===L.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===L.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===L.canUseHalfwidthRightwardsArrow&&this.spaceWidth===L.spaceWidth&&this.middotWidth===L.middotWidth&&this.wsmiddotWidth===L.wsmiddotWidth&&this.maxDigitWidth===L.maxDigitWidth}}},44906:function(Ot,Te,i){"use strict";i.d(Te,{N:function(){return r},q:function(){return O}});var w=i(85427);class r{constructor(D){const $=(0,w.K)(D);this._defaultValue=$,this._asciiMap=r._createAsciiMap($),this._map=new Map}static _createAsciiMap(D){const $=new Uint8Array(256);for(let M=0;M<256;M++)$[M]=D;return $}set(D,$){const M=(0,w.K)($);D>=0&&D<256?this._asciiMap[D]=M:this._map.set(D,M)}get(D){return D>=0&&D<256?this._asciiMap[D]:this._map.get(D)||this._defaultValue}}class O{constructor(){this._actual=new r(0)}add(D){this._actual.set(D,1)}has(D){return this._actual.get(D)===1}}},7988:function(Ot,Te,i){"use strict";i.d(Te,{i:function(){return r}});var w=i(97295);class r{static _nextVisibleColumn(V,D,$){return V===9?r.nextRenderTabStop(D,$):w.K7(V)||w.C8(V)?D+2:D+1}static visibleColumnFromColumn(V,D,$){const M=Math.min(D-1,V.length),P=V.substring(0,M),A=new w.W1(P);let L=0;for(;!A.eol();){const c=w.ZH(P,M,A.offset);A.nextGraphemeLength(),L=this._nextVisibleColumn(c,L,$)}return L}static columnFromVisibleColumn(V,D,$){if(D<=0)return 1;const M=V.length,P=new w.W1(V);let A=0,L=1;for(;!P.eol();){const c=w.ZH(V,M,P.offset);P.nextGraphemeLength();const p=this._nextVisibleColumn(c,A,$),l=P.offset+1;if(p>=D){const n=D-A;return p-D<n?l:L}A=p,L=l}return M+1}static nextRenderTabStop(V,D){return V+D-V%D}static nextIndentTabStop(V,D){return V+D-V%D}static prevRenderTabStop(V,D){return Math.max(0,V-1-(V-1)%D)}static prevIndentTabStop(V,D){return Math.max(0,V-1-(V-1)%D)}}},69386:function(Ot,Te,i){"use strict";i.d(Te,{h:function(){return r}});var w=i(24314);class r{static insert(V,D){return{range:new w.e(V.lineNumber,V.column,V.lineNumber,V.column),text:D,forceMoveMarkers:!0}}static delete(V){return{range:V,text:null}}static replace(V,D){return{range:V,text:D}}static replaceMove(V,D){return{range:V,text:D,forceMoveMarkers:!0}}}},8625:function(Ot,Te,i){"use strict";i.d(Te,{CE:function(){return S},DD:function(){return C},DS:function(){return ne},Dl:function(){return E},HV:function(){return ve},IO:function(){return X},Jn:function(){return Se},Kh:function(){return $},L7:function(){return ie},Mm:function(){return M},N5:function(){return H},Qb:function(){return Me},Re:function(){return T},TC:function(){return _},To:function(){return le},UP:function(){return he},Vs:function(){return re},YF:function(){return Ee},Ym:function(){return g},eS:function(){return z},e_:function(){return R},f9:function(){return xe},fY:function(){return l},hw:function(){return f},kp:function(){return Q},lK:function(){return Z},lS:function(){return oe},m$:function(){return se},m1:function(){return ge},m3:function(){return ye},m9:function(){return x},n0:function(){return p},oV:function(){return ee},r0:function(){return Ce},tR:function(){return a},ts:function(){return pe},x3:function(){return K},zJ:function(){return G},zk:function(){return y},zu:function(){return U},zw:function(){return I}});var w=i(63580),r=i(41264),O=i(73910),V=i(97781),D=i(92321);const $=(0,O.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},w.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),M=(0,O.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:O.lRK},w.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),P=(0,O.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},w.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),A=(0,O.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:O.xL1,hcLight:O.xL1},w.NC("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),L=(0,O.P6G)("editor.symbolHighlightBackground",{dark:O.MUv,light:O.MUv,hcDark:null,hcLight:null},w.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),c=(0,O.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:O.xL1,hcLight:O.xL1},w.NC("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),p=(0,O.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:r.Il.black,hcDark:r.Il.white,hcLight:"#0F4A85"},w.NC("caret","Color of the editor cursor.")),l=(0,O.P6G)("editorCursor.background",null,w.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),n=(0,O.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},w.NC("editorWhitespaces","Color of whitespace characters in the editor.")),a=(0,O.P6G)("editorIndentGuide.background",{dark:n,light:n,hcDark:n,hcLight:n},w.NC("editorIndentGuides","Color of the editor indentation guides.")),g=(0,O.P6G)("editorIndentGuide.activeBackground",{dark:n,light:n,hcDark:n,hcLight:n},w.NC("editorActiveIndentGuide","Color of the active editor indentation guides.")),f=(0,O.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:r.Il.white,hcLight:"#292929"},w.NC("editorLineNumbers","Color of editor line numbers.")),u=(0,O.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:O.xL1,hcLight:O.xL1},w.NC("editorActiveLineNumber","Color of editor active line number"),!1,w.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),C=(0,O.P6G)("editorLineNumber.activeForeground",{dark:u,light:u,hcDark:u,hcLight:u},w.NC("editorActiveLineNumber","Color of editor active line number")),y=(0,O.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:r.Il.lightgrey,hcDark:r.Il.white,hcLight:"#292929"},w.NC("editorRuler","Color of the editor rulers.")),b=(0,O.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},w.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),_=(0,O.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},w.NC("editorBracketMatchBackground","Background color behind matching brackets")),E=(0,O.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:O.lRK,hcLight:O.lRK},w.NC("editorBracketMatchBorder","Color for matching brackets boxes")),I=(0,O.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},w.NC("editorOverviewRulerBorder","Color of the overview ruler border.")),R=(0,O.P6G)("editorOverviewRuler.background",null,w.NC("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),J=(0,O.P6G)("editorGutter.background",{dark:O.cvW,light:O.cvW,hcDark:O.cvW,hcLight:O.cvW},w.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),Q=(0,O.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:r.Il.fromHex("#fff").transparent(.8),hcLight:O.lRK},w.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),U=(0,O.P6G)("editorUnnecessaryCode.opacity",{dark:r.Il.fromHex("#000a"),light:r.Il.fromHex("#0007"),hcDark:null,hcLight:null},w.NC("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),K=(0,O.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:r.Il.fromHex("#fff").transparent(.8),hcLight:r.Il.fromHex("#292929").transparent(.8)},w.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),H=(0,O.P6G)("editorGhostText.foreground",{dark:r.Il.fromHex("#ffffff56"),light:r.Il.fromHex("#0007"),hcDark:null,hcLight:null},w.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),X=(0,O.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},w.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),j=new r.Il(new r.VS(0,122,204,.6)),x=(0,O.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:j,light:j,hcDark:j,hcLight:j},w.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Z=(0,O.P6G)("editorOverviewRuler.errorForeground",{dark:new r.Il(new r.VS(255,18,18,.7)),light:new r.Il(new r.VS(255,18,18,.7)),hcDark:new r.Il(new r.VS(255,50,50,1)),hcLight:"#B5200D"},w.NC("overviewRuleError","Overview ruler marker color for errors.")),T=(0,O.P6G)("editorOverviewRuler.warningForeground",{dark:O.uoC,light:O.uoC,hcDark:O.pW3,hcLight:O.pW3},w.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),z=(0,O.P6G)("editorOverviewRuler.infoForeground",{dark:O.c63,light:O.c63,hcDark:O.T83,hcLight:O.T83},w.NC("overviewRuleInfo","Overview ruler marker color for infos.")),G=(0,O.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},w.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),re=(0,O.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},w.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),S=(0,O.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},w.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),he=(0,O.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Ce=(0,O.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),ge=(0,O.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),pe=(0,O.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new r.Il(new r.VS(255,18,18,.8)),light:new r.Il(new r.VS(255,18,18,.8)),hcDark:new r.Il(new r.VS(255,50,50,1)),hcLight:""},w.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),ee=(0,O.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),se=(0,O.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),ne=(0,O.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),oe=(0,O.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Se=(0,O.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Ee=(0,O.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Me=(0,O.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),ye=(0,O.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),le=(0,O.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),ie=(0,O.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),ve=(0,O.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),xe=(0,O.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},w.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),Ye=(0,O.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:""},w.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),at=(0,O.P6G)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:""},w.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));(0,V.Ic)((qe,Re)=>{const Je=qe.getColor(O.cvW);Je&&Re.addRule(`.monaco-editor, .monaco-editor-background { background-color: ${Je}; }`);const st=qe.getColor($),et=st&&!st.isTransparent()?st:Je;et&&Re.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${et}; }`);const we=qe.getColor(O.NOs);we&&Re.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${we}; }`);const Ne=qe.getColor(J);Ne&&Re.addRule(`.monaco-editor .margin { background-color: ${Ne}; }`);const de=qe.getColor(P);de&&Re.addRule(`.monaco-editor .rangeHighlight { background-color: ${de}; }`);const Pe=qe.getColor(A);Pe&&Re.addRule(`.monaco-editor .rangeHighlight { border: 1px ${(0,D.c3)(qe.type)?"dotted":"solid"} ${Pe}; }`);const He=qe.getColor(L);He&&Re.addRule(`.monaco-editor .symbolHighlight { background-color: ${He}; }`);const $e=qe.getColor(c);$e&&Re.addRule(`.monaco-editor .symbolHighlight { border: 1px ${(0,D.c3)(qe.type)?"dotted":"solid"} ${$e}; }`);const me=qe.getColor(n);me&&(Re.addRule(`.monaco-editor .mtkw { color: ${me} !important; }`),Re.addRule(`.monaco-editor .mtkz { color: ${me} !important; }`))})},23795:function(Ot,Te,i){"use strict";i.d(Te,{Q:function(){return w}});function w(r){let O=0,V=0,D=0,$=0;for(let M=0,P=r.length;M<P;M++){const A=r.charCodeAt(M);A===13?(O===0&&(V=M),O++,M+1<P&&r.charCodeAt(M+1)===10?($|=2,M++):$|=3,D=M+1):A===10&&($|=1,O===0&&(V=M),O++,D=M+1)}return O===0&&(V=r.length),[O,V,r.length-D,$]}},83158:function(Ot,Te,i){"use strict";i.d(Te,{x:function(){return V}});var w=i(97295),r=i(7988);function O(D,$,M){let P=0;for(let L=0;L<D.length;L++)D.charAt(L)==="	"?P=r.i.nextIndentTabStop(P,$):P++;let A="";if(!M){const L=Math.floor(P/$);P=P%$;for(let c=0;c<L;c++)A+="	"}for(let L=0;L<P;L++)A+=" ";return A}function V(D,$,M){let P=w.LC(D);return P===-1&&(P=D.length),O(D.substring(0,P),$,M)+D.substring(P)}},50187:function(Ot,Te,i){"use strict";i.d(Te,{L:function(){return w}});class w{constructor(O,V){this.lineNumber=O,this.column=V}with(O=this.lineNumber,V=this.column){return O===this.lineNumber&&V===this.column?this:new w(O,V)}delta(O=0,V=0){return this.with(this.lineNumber+O,this.column+V)}equals(O){return w.equals(this,O)}static equals(O,V){return!O&&!V?!0:!!O&&!!V&&O.lineNumber===V.lineNumber&&O.column===V.column}isBefore(O){return w.isBefore(this,O)}static isBefore(O,V){return O.lineNumber<V.lineNumber?!0:V.lineNumber<O.lineNumber?!1:O.column<V.column}isBeforeOrEqual(O){return w.isBeforeOrEqual(this,O)}static isBeforeOrEqual(O,V){return O.lineNumber<V.lineNumber?!0:V.lineNumber<O.lineNumber?!1:O.column<=V.column}static compare(O,V){const D=O.lineNumber|0,$=V.lineNumber|0;if(D===$){const M=O.column|0,P=V.column|0;return M-P}return D-$}clone(){return new w(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(O){return new w(O.lineNumber,O.column)}static isIPosition(O){return O&&typeof O.lineNumber=="number"&&typeof O.column=="number"}}},24314:function(Ot,Te,i){"use strict";i.d(Te,{e:function(){return r}});var w=i(50187);class r{constructor(V,D,$,M){V>$||V===$&&D>M?(this.startLineNumber=$,this.startColumn=M,this.endLineNumber=V,this.endColumn=D):(this.startLineNumber=V,this.startColumn=D,this.endLineNumber=$,this.endColumn=M)}isEmpty(){return r.isEmpty(this)}static isEmpty(V){return V.startLineNumber===V.endLineNumber&&V.startColumn===V.endColumn}containsPosition(V){return r.containsPosition(this,V)}static containsPosition(V,D){return!(D.lineNumber<V.startLineNumber||D.lineNumber>V.endLineNumber||D.lineNumber===V.startLineNumber&&D.column<V.startColumn||D.lineNumber===V.endLineNumber&&D.column>V.endColumn)}static strictContainsPosition(V,D){return!(D.lineNumber<V.startLineNumber||D.lineNumber>V.endLineNumber||D.lineNumber===V.startLineNumber&&D.column<=V.startColumn||D.lineNumber===V.endLineNumber&&D.column>=V.endColumn)}containsRange(V){return r.containsRange(this,V)}static containsRange(V,D){return!(D.startLineNumber<V.startLineNumber||D.endLineNumber<V.startLineNumber||D.startLineNumber>V.endLineNumber||D.endLineNumber>V.endLineNumber||D.startLineNumber===V.startLineNumber&&D.startColumn<V.startColumn||D.endLineNumber===V.endLineNumber&&D.endColumn>V.endColumn)}strictContainsRange(V){return r.strictContainsRange(this,V)}static strictContainsRange(V,D){return!(D.startLineNumber<V.startLineNumber||D.endLineNumber<V.startLineNumber||D.startLineNumber>V.endLineNumber||D.endLineNumber>V.endLineNumber||D.startLineNumber===V.startLineNumber&&D.startColumn<=V.startColumn||D.endLineNumber===V.endLineNumber&&D.endColumn>=V.endColumn)}plusRange(V){return r.plusRange(this,V)}static plusRange(V,D){let $,M,P,A;return D.startLineNumber<V.startLineNumber?($=D.startLineNumber,M=D.startColumn):D.startLineNumber===V.startLineNumber?($=D.startLineNumber,M=Math.min(D.startColumn,V.startColumn)):($=V.startLineNumber,M=V.startColumn),D.endLineNumber>V.endLineNumber?(P=D.endLineNumber,A=D.endColumn):D.endLineNumber===V.endLineNumber?(P=D.endLineNumber,A=Math.max(D.endColumn,V.endColumn)):(P=V.endLineNumber,A=V.endColumn),new r($,M,P,A)}intersectRanges(V){return r.intersectRanges(this,V)}static intersectRanges(V,D){let $=V.startLineNumber,M=V.startColumn,P=V.endLineNumber,A=V.endColumn;const L=D.startLineNumber,c=D.startColumn,p=D.endLineNumber,l=D.endColumn;return $<L?($=L,M=c):$===L&&(M=Math.max(M,c)),P>p?(P=p,A=l):P===p&&(A=Math.min(A,l)),$>P||$===P&&M>A?null:new r($,M,P,A)}equalsRange(V){return r.equalsRange(this,V)}static equalsRange(V,D){return!!V&&!!D&&V.startLineNumber===D.startLineNumber&&V.startColumn===D.startColumn&&V.endLineNumber===D.endLineNumber&&V.endColumn===D.endColumn}getEndPosition(){return r.getEndPosition(this)}static getEndPosition(V){return new w.L(V.endLineNumber,V.endColumn)}getStartPosition(){return r.getStartPosition(this)}static getStartPosition(V){return new w.L(V.startLineNumber,V.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(V,D){return new r(this.startLineNumber,this.startColumn,V,D)}setStartPosition(V,D){return new r(V,D,this.endLineNumber,this.endColumn)}collapseToStart(){return r.collapseToStart(this)}static collapseToStart(V){return new r(V.startLineNumber,V.startColumn,V.startLineNumber,V.startColumn)}static fromPositions(V,D=V){return new r(V.lineNumber,V.column,D.lineNumber,D.column)}static lift(V){return V?new r(V.startLineNumber,V.startColumn,V.endLineNumber,V.endColumn):null}static isIRange(V){return V&&typeof V.startLineNumber=="number"&&typeof V.startColumn=="number"&&typeof V.endLineNumber=="number"&&typeof V.endColumn=="number"}static areIntersectingOrTouching(V,D){return!(V.endLineNumber<D.startLineNumber||V.endLineNumber===D.startLineNumber&&V.endColumn<D.startColumn||D.endLineNumber<V.startLineNumber||D.endLineNumber===V.startLineNumber&&D.endColumn<V.startColumn)}static areIntersecting(V,D){return!(V.endLineNumber<D.startLineNumber||V.endLineNumber===D.startLineNumber&&V.endColumn<=D.startColumn||D.endLineNumber<V.startLineNumber||D.endLineNumber===V.startLineNumber&&D.endColumn<=V.startColumn)}static compareRangesUsingStarts(V,D){if(V&&D){const P=V.startLineNumber|0,A=D.startLineNumber|0;if(P===A){const L=V.startColumn|0,c=D.startColumn|0;if(L===c){const p=V.endLineNumber|0,l=D.endLineNumber|0;if(p===l){const n=V.endColumn|0,a=D.endColumn|0;return n-a}return p-l}return L-c}return P-A}return(V?1:0)-(D?1:0)}static compareRangesUsingEnds(V,D){return V.endLineNumber===D.endLineNumber?V.endColumn===D.endColumn?V.startLineNumber===D.startLineNumber?V.startColumn-D.startColumn:V.startLineNumber-D.startLineNumber:V.endColumn-D.endColumn:V.endLineNumber-D.endLineNumber}static spansMultipleLines(V){return V.endLineNumber>V.startLineNumber}toJSON(){return this}}},3860:function(Ot,Te,i){"use strict";i.d(Te,{Y:function(){return O}});var w=i(50187),r=i(24314);class O extends r.e{constructor(D,$,M,P){super(D,$,M,P),this.selectionStartLineNumber=D,this.selectionStartColumn=$,this.positionLineNumber=M,this.positionColumn=P}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(D){return O.selectionsEqual(this,D)}static selectionsEqual(D,$){return D.selectionStartLineNumber===$.selectionStartLineNumber&&D.selectionStartColumn===$.selectionStartColumn&&D.positionLineNumber===$.positionLineNumber&&D.positionColumn===$.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(D,$){return this.getDirection()===0?new O(this.startLineNumber,this.startColumn,D,$):new O(D,$,this.startLineNumber,this.startColumn)}getPosition(){return new w.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new w.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(D,$){return this.getDirection()===0?new O(D,$,this.endLineNumber,this.endColumn):new O(this.endLineNumber,this.endColumn,D,$)}static fromPositions(D,$=D){return new O(D.lineNumber,D.column,$.lineNumber,$.column)}static fromRange(D,$){return $===0?new O(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):new O(D.endLineNumber,D.endColumn,D.startLineNumber,D.startColumn)}static liftSelection(D){return new O(D.selectionStartLineNumber,D.selectionStartColumn,D.positionLineNumber,D.positionColumn)}static selectionsArrEqual(D,$){if(D&&!$||!D&&$)return!1;if(!D&&!$)return!0;if(D.length!==$.length)return!1;for(let M=0,P=D.length;M<P;M++)if(!this.selectionsEqual(D[M],$[M]))return!1;return!0}static isISelection(D){return D&&typeof D.selectionStartLineNumber=="number"&&typeof D.selectionStartColumn=="number"&&typeof D.positionLineNumber=="number"&&typeof D.positionColumn=="number"}static createWithDirection(D,$,M,P,A){return A===0?new O(D,$,M,P):new O(M,P,D,$)}}},50072:function(Ot,Te,i){"use strict";i.d(Te,{kH:function(){return p},l$:function(){return c},lZ:function(){return L},oe:function(){return A}});var w=i(97295),r=i(1432),O=i(53060);let V;function D(){return V||(V=new TextDecoder("UTF-16LE")),V}let $;function M(){return $||($=new TextDecoder("UTF-16BE")),$}let P;function A(){return P||(P=r.r()?D():M()),P}const L=typeof TextDecoder<"u";let c,p;L?(c=f=>new a(f),p=l):(c=f=>new g,p=n);function l(f,u,C){const y=new Uint16Array(f.buffer,u,C);return C>0&&(y[0]===65279||y[0]===65534)?n(f,u,C):D().decode(y)}function n(f,u,C){const y=[];let b=0;for(let _=0;_<C;_++){const E=O.mP(f,u);u+=2,y[b++]=String.fromCharCode(E)}return y.join("")}class a{constructor(u){this._capacity=u|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const u=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return A().decode(u)}_flushBuffer(){const u=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[u]:this._completedStrings[this._completedStrings.length]=u}write1(u){const C=this._capacity-this._bufferLength;C<=1&&(C===0||w.ZG(u))&&this._flushBuffer(),this._buffer[this._bufferLength++]=u}appendASCII(u){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=u}appendASCIIString(u){const C=u.length;if(this._bufferLength+C>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=u;return}for(let y=0;y<C;y++)this._buffer[this._bufferLength++]=u.charCodeAt(y)}}class g{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(u){this._pieces[this._piecesLen++]=String.fromCharCode(u)}appendASCII(u){this._pieces[this._piecesLen++]=String.fromCharCode(u)}appendASCIIString(u){this._pieces[this._piecesLen++]=u}}},93033:function(Ot,Te,i){"use strict";i.d(Te,{b:function(){return D},q:function(){return V}});var w=i(53060),r=i(50072);function O(M){return M.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class V{constructor(P,A,L,c){this.oldPosition=P,this.oldText=A,this.newPosition=L,this.newText=c}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${O(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${O(this.oldText)}")`:`(replace@${this.oldPosition} "${O(this.oldText)}" with "${O(this.newText)}")`}static _writeStringSize(P){return 4+2*P.length}static _writeString(P,A,L){const c=A.length;w.T4(P,c,L),L+=4;for(let p=0;p<c;p++)w.oq(P,A.charCodeAt(p),L),L+=2;return L}static _readString(P,A){const L=w.Ag(P,A);return A+=4,(0,r.kH)(P,A,L)}writeSize(){return 4+4+V._writeStringSize(this.oldText)+V._writeStringSize(this.newText)}write(P,A){return w.T4(P,this.oldPosition,A),A+=4,w.T4(P,this.newPosition,A),A+=4,A=V._writeString(P,this.oldText,A),A=V._writeString(P,this.newText,A),A}static read(P,A,L){const c=w.Ag(P,A);A+=4;const p=w.Ag(P,A);A+=4;const l=V._readString(P,A);A+=V._writeStringSize(l);const n=V._readString(P,A);return A+=V._writeStringSize(n),L.push(new V(c,l,p,n)),A}}function D(M,P){return M===null||M.length===0?P:new $(M,P).compress()}class ${constructor(P,A){this._prevEdits=P,this._currEdits=A,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let P=0,A=0,L=this._getPrev(P),c=this._getCurr(A);for(;P<this._prevLen||A<this._currLen;){if(L===null){this._acceptCurr(c),c=this._getCurr(++A);continue}if(c===null){this._acceptPrev(L),L=this._getPrev(++P);continue}if(c.oldEnd<=L.newPosition){this._acceptCurr(c),c=this._getCurr(++A);continue}if(L.newEnd<=c.oldPosition){this._acceptPrev(L),L=this._getPrev(++P);continue}if(c.oldPosition<L.newPosition){const[g,f]=$._splitCurr(c,L.newPosition-c.oldPosition);this._acceptCurr(g),c=f;continue}if(L.newPosition<c.oldPosition){const[g,f]=$._splitPrev(L,c.oldPosition-L.newPosition);this._acceptPrev(g),L=f;continue}let n,a;if(c.oldEnd===L.newEnd)n=L,a=c,L=this._getPrev(++P),c=this._getCurr(++A);else if(c.oldEnd<L.newEnd){const[g,f]=$._splitPrev(L,c.oldLength);n=g,a=c,L=f,c=this._getCurr(++A)}else{const[g,f]=$._splitCurr(c,L.newLength);n=L,a=g,L=this._getPrev(++P),c=f}this._result[this._resultLen++]=new V(n.oldPosition,n.oldText,a.newPosition,a.newText),this._prevDeltaOffset+=n.newLength-n.oldLength,this._currDeltaOffset+=a.newLength-a.oldLength}const p=$._merge(this._result);return $._removeNoOps(p)}_acceptCurr(P){this._result[this._resultLen++]=$._rebaseCurr(this._prevDeltaOffset,P),this._currDeltaOffset+=P.newLength-P.oldLength}_getCurr(P){return P<this._currLen?this._currEdits[P]:null}_acceptPrev(P){this._result[this._resultLen++]=$._rebasePrev(this._currDeltaOffset,P),this._prevDeltaOffset+=P.newLength-P.oldLength}_getPrev(P){return P<this._prevLen?this._prevEdits[P]:null}static _rebaseCurr(P,A){return new V(A.oldPosition-P,A.oldText,A.newPosition,A.newText)}static _rebasePrev(P,A){return new V(A.oldPosition,A.oldText,A.newPosition+P,A.newText)}static _splitPrev(P,A){const L=P.newText.substr(0,A),c=P.newText.substr(A);return[new V(P.oldPosition,P.oldText,P.newPosition,L),new V(P.oldEnd,"",P.newPosition+A,c)]}static _splitCurr(P,A){const L=P.oldText.substr(0,A),c=P.oldText.substr(A);return[new V(P.oldPosition,L,P.newPosition,P.newText),new V(P.oldPosition+A,c,P.newEnd,"")]}static _merge(P){if(P.length===0)return P;const A=[];let L=0,c=P[0];for(let p=1;p<P.length;p++){const l=P[p];c.oldEnd===l.oldPosition?c=new V(c.oldPosition,c.oldText+l.oldText,c.newPosition,c.newText+l.newText):(A[L++]=c,c=l)}return A[L++]=c,A}static _removeNoOps(P){if(P.length===0)return P;const A=[];let L=0;for(let c=0;c<P.length;c++){const p=P[c];p.oldText!==p.newText&&(A[L++]=p)}return A}}},22075:function(Ot,Te,i){"use strict";i.d(Te,{D:function(){return w}});const w={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},24929:function(Ot,Te,i){"use strict";i.d(Te,{u:function(){return V}});var w=i(44906);class r extends w.N{constructor($){super(0);for(let M=0,P=$.length;M<P;M++)this.set($.charCodeAt(M),2);this.set(32,1),this.set(9,1)}}function O(D){const $={};return M=>($.hasOwnProperty(M)||($[M]=D(M)),$[M])}const V=O(D=>new r(D))},270:function(Ot,Te,i){"use strict";i.d(Te,{Af:function(){return D},eq:function(){return $},t2:function(){return P},vu:function(){return O}});var w=i(53725),r=i(91741);const O="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function V(L=""){let c="(-?\\d*\\.\\d\\w*)|([^";for(const p of O)L.indexOf(p)>=0||(c+="\\"+p);return c+="\\s]+)",new RegExp(c,"g")}const D=V();function $(L){let c=D;if(L&&L instanceof RegExp)if(L.global)c=L;else{let p="g";L.ignoreCase&&(p+="i"),L.multiline&&(p+="m"),L.unicode&&(p+="u"),c=new RegExp(L.source,p)}return c.lastIndex=0,c}const M=new r.S;M.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function P(L,c,p,l,n){if(n||(n=w.$.first(M)),p.length>n.maxLen){let C=L-n.maxLen/2;return C<0?C=0:l+=C,p=p.substring(C,L+n.maxLen/2),P(L,c,p,l,n)}const a=Date.now(),g=L-1-l;let f=-1,u=null;for(let C=1;!(Date.now()-a>=n.timeBudget);C++){const y=g-n.windowSize*C;c.lastIndex=Math.max(0,y);const b=A(c,p,g,f);if(!b&&u||(u=b,y<=0))break;f=y}if(u){const C={word:u[0],startColumn:l+1+u.index,endColumn:l+1+u.index+u[0].length};return c.lastIndex=0,C}return null}function A(L,c,p,l){let n;for(;n=L.exec(c);){const a=n.index||0;if(a<=p&&L.lastIndex>=p)return n;if(l>0&&a>l)return null}return null}},55343:function(Ot,Te,i){"use strict";i.d(Te,{LM:function(){return L},LN:function(){return g},Tp:function(){return a},Vi:function(){return c},rS:function(){return n}});var w=i(50187),r=i(24314),O=i(3860),V=i(19111),D=i(7988),$=i(83158);const M=()=>!0,P=()=>!1,A=f=>f===" "||f==="	";class L{constructor(u,C,y,b){this.languageConfigurationService=b,this._cursorMoveConfigurationBrand=void 0,this._languageId=u;const _=y.options,E=_.get(133);this.readOnly=_.get(83),this.tabSize=C.tabSize,this.indentSize=C.indentSize,this.insertSpaces=C.insertSpaces,this.stickyTabStops=_.get(106),this.lineHeight=_.get(61),this.pageSize=Math.max(1,Math.floor(E.height/this.lineHeight)-2),this.useTabStops=_.get(118),this.wordSeparators=_.get(119),this.emptySelectionClipboard=_.get(33),this.copyWithSyntaxHighlighting=_.get(21),this.multiCursorMergeOverlapping=_.get(71),this.multiCursorPaste=_.get(73),this.autoClosingBrackets=_.get(5),this.autoClosingQuotes=_.get(8),this.autoClosingDelete=_.get(6),this.autoClosingOvertype=_.get(7),this.autoSurround=_.get(11),this.autoIndent=_.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(u,this.autoClosingQuotes),bracket:this._getShouldAutoClose(u,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(u).getAutoClosingPairs();const I=this.languageConfigurationService.getLanguageConfiguration(u).getSurroundingPairs();if(I)for(const R of I)this.surroundingPairs[R.open]=R.close}static shouldRecreate(u){return u.hasChanged(133)||u.hasChanged(119)||u.hasChanged(33)||u.hasChanged(71)||u.hasChanged(73)||u.hasChanged(5)||u.hasChanged(8)||u.hasChanged(6)||u.hasChanged(7)||u.hasChanged(11)||u.hasChanged(118)||u.hasChanged(61)||u.hasChanged(83)}get electricChars(){var u;if(!this._electricChars){this._electricChars={};const C=(u=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||u===void 0?void 0:u.getElectricCharacters();if(C)for(const y of C)this._electricChars[y]=!0}return this._electricChars}onElectricCharacter(u,C,y){const b=(0,V.wH)(C,y-1),_=this.languageConfigurationService.getLanguageConfiguration(b.languageId).electricCharacter;return _?_.onElectricCharacter(u,b,y-b.firstCharOffset):null}normalizeIndentation(u){return(0,$.x)(u,this.indentSize,this.insertSpaces)}_getShouldAutoClose(u,C){switch(C){case"beforeWhitespace":return A;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(u);case"always":return M;case"never":return P}}_getLanguageDefinedShouldAutoClose(u){const C=this.languageConfigurationService.getLanguageConfiguration(u).getAutoCloseBeforeSet();return y=>C.indexOf(y)!==-1}visibleColumnFromColumn(u,C){return D.i.visibleColumnFromColumn(u.getLineContent(C.lineNumber),C.column,this.tabSize)}columnFromVisibleColumn(u,C,y){const b=D.i.columnFromVisibleColumn(u.getLineContent(C),y,this.tabSize),_=u.getLineMinColumn(C);if(b<_)return _;const E=u.getLineMaxColumn(C);return b>E?E:b}}class c{constructor(u,C){this._cursorStateBrand=void 0,this.modelState=u,this.viewState=C}static fromModelState(u){return new p(u)}static fromViewState(u){return new l(u)}static fromModelSelection(u){const C=O.Y.liftSelection(u),y=new n(r.e.fromPositions(C.getSelectionStart()),0,C.getPosition(),0);return c.fromModelState(y)}static fromModelSelections(u){const C=[];for(let y=0,b=u.length;y<b;y++)C[y]=this.fromModelSelection(u[y]);return C}equals(u){return this.viewState.equals(u.viewState)&&this.modelState.equals(u.modelState)}}class p{constructor(u){this.modelState=u,this.viewState=null}}class l{constructor(u){this.modelState=null,this.viewState=u}}class n{constructor(u,C,y,b){this._singleCursorStateBrand=void 0,this.selectionStart=u,this.selectionStartLeftoverVisibleColumns=C,this.position=y,this.leftoverVisibleColumns=b,this.selection=n._computeSelection(this.selectionStart,this.position)}equals(u){return this.selectionStartLeftoverVisibleColumns===u.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===u.leftoverVisibleColumns&&this.position.equals(u.position)&&this.selectionStart.equalsRange(u.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(u,C,y,b){return u?new n(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new w.L(C,y),b):new n(new r.e(C,y,C,y),b,new w.L(C,y),b)}static _computeSelection(u,C){return u.isEmpty()||!C.isBeforeOrEqual(u.getStartPosition())?O.Y.fromPositions(u.getStartPosition(),C):O.Y.fromPositions(u.getEndPosition(),C)}}class a{constructor(u,C,y){this._editOperationResultBrand=void 0,this.type=u,this.commands=C,this.shouldPushStackElementBefore=y.shouldPushStackElementBefore,this.shouldPushStackElementAfter=y.shouldPushStackElementAfter}}function g(f){return f==="'"||f==='"'||f==="`"}},47128:function(Ot,Te,i){"use strict";i.d(Te,{l:function(){return r}});var w=i(7988);class r{static whitespaceVisibleColumn(V,D,$){const M=V.length;let P=0,A=-1,L=-1;for(let c=0;c<M;c++){if(c===D)return[A,L,P];switch(P%$===0&&(A=c,L=P),V.charCodeAt(c)){case 32:P+=1;break;case 9:P=w.i.nextRenderTabStop(P,$);break;default:return[-1,-1,-1]}}return D===M?[A,L,P]:[-1,-1,-1]}static atomicPosition(V,D,$,M){const P=V.length,[A,L,c]=r.whitespaceVisibleColumn(V,D,$);if(c===-1)return-1;let p;switch(M){case 0:p=!0;break;case 1:p=!1;break;case 2:if(c%$===0)return D;p=c%$<=$/2;break}if(p){if(A===-1)return-1;let a=L;for(let g=A;g<P;++g){if(a===L+$)return A;switch(V.charCodeAt(g)){case 32:a+=1;break;case 9:a=w.i.nextRenderTabStop(a,$);break;default:return-1}}return a===L+$?A:-1}const l=w.i.nextRenderTabStop(c,$);let n=c;for(let a=D;a<P;a++){if(n===l)return a;switch(V.charCodeAt(a)){case 32:n+=1;break;case 9:n=w.i.nextRenderTabStop(n,$);break;default:return-1}}return n===l?P:-1}}},29436:function(Ot,Te,i){"use strict";i.d(Te,{A:function(){return P}});var w=i(97295),r=i(61329),O=i(55343),V=i(7988),D=i(10839),$=i(24314),M=i(50187);class P{static deleteRight(L,c,p,l){const n=[];let a=L!==3;for(let g=0,f=l.length;g<f;g++){const u=l[g];let C=u;if(C.isEmpty()){const y=u.getPosition(),b=D.o.right(c,p,y);C=new $.e(b.lineNumber,b.column,y.lineNumber,y.column)}if(C.isEmpty()){n[g]=null;continue}C.startLineNumber!==C.endLineNumber&&(a=!0),n[g]=new r.T4(C,"")}return[a,n]}static isAutoClosingPairDelete(L,c,p,l,n,a,g){if(c==="never"&&p==="never"||L==="never")return!1;for(let f=0,u=a.length;f<u;f++){const C=a[f],y=C.getPosition();if(!C.isEmpty())return!1;const b=n.getLineContent(y.lineNumber);if(y.column<2||y.column>=b.length+1)return!1;const _=b.charAt(y.column-2),E=l.get(_);if(!E)return!1;if((0,O.LN)(_)){if(p==="never")return!1}else if(c==="never")return!1;const I=b.charAt(y.column-1);let R=!1;for(const J of E)J.open===_&&J.close===I&&(R=!0);if(!R)return!1;if(L==="auto"){let J=!1;for(let Q=0,U=g.length;Q<U;Q++){const K=g[Q];if(y.lineNumber===K.startLineNumber&&y.column===K.startColumn){J=!0;break}}if(!J)return!1}}return!0}static _runAutoClosingPairDelete(L,c,p){const l=[];for(let n=0,a=p.length;n<a;n++){const g=p[n].getPosition(),f=new $.e(g.lineNumber,g.column-1,g.lineNumber,g.column+1);l[n]=new r.T4(f,"")}return[!0,l]}static deleteLeft(L,c,p,l,n){if(this.isAutoClosingPairDelete(c.autoClosingDelete,c.autoClosingBrackets,c.autoClosingQuotes,c.autoClosingPairs.autoClosingPairsOpenByEnd,p,l,n))return this._runAutoClosingPairDelete(c,p,l);const a=[];let g=L!==2;for(let f=0,u=l.length;f<u;f++){const C=P.getDeleteRange(l[f],p,c);if(C.isEmpty()){a[f]=null;continue}C.startLineNumber!==C.endLineNumber&&(g=!0),a[f]=new r.T4(C,"")}return[g,a]}static getDeleteRange(L,c,p){if(!L.isEmpty())return L;const l=L.getPosition();if(p.useTabStops&&l.column>1){const n=c.getLineContent(l.lineNumber),a=w.LC(n),g=a===-1?n.length+1:a+1;if(l.column<=g){const f=p.visibleColumnFromColumn(c,l),u=V.i.prevIndentTabStop(f,p.indentSize),C=p.columnFromVisibleColumn(c,l.lineNumber,u);return new $.e(l.lineNumber,C,l.lineNumber,l.column)}}return $.e.fromPositions(P.getPositionAfterDeleteLeft(l,c),l)}static getPositionAfterDeleteLeft(L,c){if(L.column>1){const p=w.oH(L.column-1,c.getLineContent(L.lineNumber));return L.with(void 0,p+1)}else if(L.lineNumber>1){const p=L.lineNumber-1;return new M.L(p,c.getLineMaxColumn(p))}else return L}static cut(L,c,p){const l=[];let n=null;p.sort((a,g)=>M.L.compare(a.getStartPosition(),g.getEndPosition()));for(let a=0,g=p.length;a<g;a++){const f=p[a];if(f.isEmpty())if(L.emptySelectionClipboard){const u=f.getPosition();let C,y,b,_;u.lineNumber<c.getLineCount()?(C=u.lineNumber,y=1,b=u.lineNumber+1,_=1):u.lineNumber>1&&(n==null?void 0:n.endLineNumber)!==u.lineNumber?(C=u.lineNumber-1,y=c.getLineMaxColumn(u.lineNumber-1),b=u.lineNumber,_=c.getLineMaxColumn(u.lineNumber)):(C=u.lineNumber,y=1,b=u.lineNumber,_=c.getLineMaxColumn(u.lineNumber));const E=new $.e(C,y,b,_);n=E,E.isEmpty()?l[a]=null:l[a]=new r.T4(E,"")}else l[a]=null;else l[a]=new r.T4(f,"")}return new O.Tp(0,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},28108:function(Ot,Te,i){"use strict";i.d(Te,{N:function(){return P},P:function(){return M}});var w=i(98401),r=i(55343),O=i(10839),V=i(92896),D=i(50187),$=i(24314);class M{static addCursorDown(L,c,p){const l=[];let n=0;for(let a=0,g=c.length;a<g;a++){const f=c[a];l[n++]=new r.Vi(f.modelState,f.viewState),p?l[n++]=r.Vi.fromModelState(O.o.translateDown(L.cursorConfig,L.model,f.modelState)):l[n++]=r.Vi.fromViewState(O.o.translateDown(L.cursorConfig,L,f.viewState))}return l}static addCursorUp(L,c,p){const l=[];let n=0;for(let a=0,g=c.length;a<g;a++){const f=c[a];l[n++]=new r.Vi(f.modelState,f.viewState),p?l[n++]=r.Vi.fromModelState(O.o.translateUp(L.cursorConfig,L.model,f.modelState)):l[n++]=r.Vi.fromViewState(O.o.translateUp(L.cursorConfig,L,f.viewState))}return l}static moveToBeginningOfLine(L,c,p){const l=[];for(let n=0,a=c.length;n<a;n++){const g=c[n];l[n]=this._moveToLineStart(L,g,p)}return l}static _moveToLineStart(L,c,p){const l=c.viewState.position.column,n=c.modelState.position.column,a=l===n,g=c.viewState.position.lineNumber,f=L.getLineFirstNonWhitespaceColumn(g);return!a&&!(l===f)?this._moveToLineStartByView(L,c,p):this._moveToLineStartByModel(L,c,p)}static _moveToLineStartByView(L,c,p){return r.Vi.fromViewState(O.o.moveToBeginningOfLine(L.cursorConfig,L,c.viewState,p))}static _moveToLineStartByModel(L,c,p){return r.Vi.fromModelState(O.o.moveToBeginningOfLine(L.cursorConfig,L.model,c.modelState,p))}static moveToEndOfLine(L,c,p,l){const n=[];for(let a=0,g=c.length;a<g;a++){const f=c[a];n[a]=this._moveToLineEnd(L,f,p,l)}return n}static _moveToLineEnd(L,c,p,l){const n=c.viewState.position,a=L.getLineMaxColumn(n.lineNumber),g=n.column===a,f=c.modelState.position,u=L.model.getLineMaxColumn(f.lineNumber),C=a-n.column===u-f.column;return g||C?this._moveToLineEndByModel(L,c,p,l):this._moveToLineEndByView(L,c,p,l)}static _moveToLineEndByView(L,c,p,l){return r.Vi.fromViewState(O.o.moveToEndOfLine(L.cursorConfig,L,c.viewState,p,l))}static _moveToLineEndByModel(L,c,p,l){return r.Vi.fromModelState(O.o.moveToEndOfLine(L.cursorConfig,L.model,c.modelState,p,l))}static expandLineSelection(L,c){const p=[];for(let l=0,n=c.length;l<n;l++){const a=c[l],g=a.modelState.selection.startLineNumber,f=L.model.getLineCount();let u=a.modelState.selection.endLineNumber,C;u===f?C=L.model.getLineMaxColumn(f):(u++,C=1),p[l]=r.Vi.fromModelState(new r.rS(new $.e(g,1,g,1),0,new D.L(u,C),0))}return p}static moveToBeginningOfBuffer(L,c,p){const l=[];for(let n=0,a=c.length;n<a;n++){const g=c[n];l[n]=r.Vi.fromModelState(O.o.moveToBeginningOfBuffer(L.cursorConfig,L.model,g.modelState,p))}return l}static moveToEndOfBuffer(L,c,p){const l=[];for(let n=0,a=c.length;n<a;n++){const g=c[n];l[n]=r.Vi.fromModelState(O.o.moveToEndOfBuffer(L.cursorConfig,L.model,g.modelState,p))}return l}static selectAll(L,c){const p=L.model.getLineCount(),l=L.model.getLineMaxColumn(p);return r.Vi.fromModelState(new r.rS(new $.e(1,1,1,1),0,new D.L(p,l),0))}static line(L,c,p,l,n){const a=L.model.validatePosition(l),g=n?L.coordinatesConverter.validateViewPosition(new D.L(n.lineNumber,n.column),a):L.coordinatesConverter.convertModelPositionToViewPosition(a);if(!p||!c.modelState.hasSelection()){const u=L.model.getLineCount();let C=a.lineNumber+1,y=1;return C>u&&(C=u,y=L.model.getLineMaxColumn(C)),r.Vi.fromModelState(new r.rS(new $.e(a.lineNumber,1,C,y),0,new D.L(C,y),0))}const f=c.modelState.selectionStart.getStartPosition().lineNumber;if(a.lineNumber<f)return r.Vi.fromViewState(c.viewState.move(c.modelState.hasSelection(),g.lineNumber,1,0));if(a.lineNumber>f){const u=L.getLineCount();let C=g.lineNumber+1,y=1;return C>u&&(C=u,y=L.getLineMaxColumn(C)),r.Vi.fromViewState(c.viewState.move(c.modelState.hasSelection(),C,y,0))}else{const u=c.modelState.selectionStart.getEndPosition();return r.Vi.fromModelState(c.modelState.move(c.modelState.hasSelection(),u.lineNumber,u.column,0))}}static word(L,c,p,l){const n=L.model.validatePosition(l);return r.Vi.fromModelState(V.w.word(L.cursorConfig,L.model,c.modelState,p,n))}static cancelSelection(L,c){if(!c.modelState.hasSelection())return new r.Vi(c.modelState,c.viewState);const p=c.viewState.position.lineNumber,l=c.viewState.position.column;return r.Vi.fromViewState(new r.rS(new $.e(p,l,p,l),0,new D.L(p,l),0))}static moveTo(L,c,p,l,n){const a=L.model.validatePosition(l),g=n?L.coordinatesConverter.validateViewPosition(new D.L(n.lineNumber,n.column),a):L.coordinatesConverter.convertModelPositionToViewPosition(a);return r.Vi.fromViewState(c.viewState.move(p,g.lineNumber,g.column,0))}static simpleMove(L,c,p,l,n,a){switch(p){case 0:return a===4?this._moveHalfLineLeft(L,c,l):this._moveLeft(L,c,l,n);case 1:return a===4?this._moveHalfLineRight(L,c,l):this._moveRight(L,c,l,n);case 2:return a===2?this._moveUpByViewLines(L,c,l,n):this._moveUpByModelLines(L,c,l,n);case 3:return a===2?this._moveDownByViewLines(L,c,l,n):this._moveDownByModelLines(L,c,l,n);case 4:return a===2?c.map(g=>r.Vi.fromViewState(O.o.moveToPrevBlankLine(L.cursorConfig,L,g.viewState,l))):c.map(g=>r.Vi.fromModelState(O.o.moveToPrevBlankLine(L.cursorConfig,L.model,g.modelState,l)));case 5:return a===2?c.map(g=>r.Vi.fromViewState(O.o.moveToNextBlankLine(L.cursorConfig,L,g.viewState,l))):c.map(g=>r.Vi.fromModelState(O.o.moveToNextBlankLine(L.cursorConfig,L.model,g.modelState,l)));case 6:return this._moveToViewMinColumn(L,c,l);case 7:return this._moveToViewFirstNonWhitespaceColumn(L,c,l);case 8:return this._moveToViewCenterColumn(L,c,l);case 9:return this._moveToViewMaxColumn(L,c,l);case 10:return this._moveToViewLastNonWhitespaceColumn(L,c,l);default:return null}}static viewportMove(L,c,p,l,n){const a=L.getCompletelyVisibleViewRange(),g=L.coordinatesConverter.convertViewRangeToModelRange(a);switch(p){case 11:{const f=this._firstLineNumberInRange(L.model,g,n),u=L.model.getLineFirstNonWhitespaceColumn(f);return[this._moveToModelPosition(L,c[0],l,f,u)]}case 13:{const f=this._lastLineNumberInRange(L.model,g,n),u=L.model.getLineFirstNonWhitespaceColumn(f);return[this._moveToModelPosition(L,c[0],l,f,u)]}case 12:{const f=Math.round((g.startLineNumber+g.endLineNumber)/2),u=L.model.getLineFirstNonWhitespaceColumn(f);return[this._moveToModelPosition(L,c[0],l,f,u)]}case 14:{const f=[];for(let u=0,C=c.length;u<C;u++){const y=c[u];f[u]=this.findPositionInViewportIfOutside(L,y,a,l)}return f}default:return null}}static findPositionInViewportIfOutside(L,c,p,l){const n=c.viewState.position.lineNumber;if(p.startLineNumber<=n&&n<=p.endLineNumber-1)return new r.Vi(c.modelState,c.viewState);{let a;n>p.endLineNumber-1?a=p.endLineNumber-1:n<p.startLineNumber?a=p.startLineNumber:a=n;const g=O.o.vertical(L.cursorConfig,L,n,c.viewState.position.column,c.viewState.leftoverVisibleColumns,a,!1);return r.Vi.fromViewState(c.viewState.move(l,g.lineNumber,g.column,g.leftoverVisibleColumns))}}static _firstLineNumberInRange(L,c,p){let l=c.startLineNumber;return c.startColumn!==L.getLineMinColumn(l)&&l++,Math.min(c.endLineNumber,l+p-1)}static _lastLineNumberInRange(L,c,p){let l=c.startLineNumber;return c.startColumn!==L.getLineMinColumn(l)&&l++,Math.max(l,c.endLineNumber-p+1)}static _moveLeft(L,c,p,l){return c.map(n=>r.Vi.fromViewState(O.o.moveLeft(L.cursorConfig,L,n.viewState,p,l)))}static _moveHalfLineLeft(L,c,p){const l=[];for(let n=0,a=c.length;n<a;n++){const g=c[n],f=g.viewState.position.lineNumber,u=Math.round(L.getLineContent(f).length/2);l[n]=r.Vi.fromViewState(O.o.moveLeft(L.cursorConfig,L,g.viewState,p,u))}return l}static _moveRight(L,c,p,l){return c.map(n=>r.Vi.fromViewState(O.o.moveRight(L.cursorConfig,L,n.viewState,p,l)))}static _moveHalfLineRight(L,c,p){const l=[];for(let n=0,a=c.length;n<a;n++){const g=c[n],f=g.viewState.position.lineNumber,u=Math.round(L.getLineContent(f).length/2);l[n]=r.Vi.fromViewState(O.o.moveRight(L.cursorConfig,L,g.viewState,p,u))}return l}static _moveDownByViewLines(L,c,p,l){const n=[];for(let a=0,g=c.length;a<g;a++){const f=c[a];n[a]=r.Vi.fromViewState(O.o.moveDown(L.cursorConfig,L,f.viewState,p,l))}return n}static _moveDownByModelLines(L,c,p,l){const n=[];for(let a=0,g=c.length;a<g;a++){const f=c[a];n[a]=r.Vi.fromModelState(O.o.moveDown(L.cursorConfig,L.model,f.modelState,p,l))}return n}static _moveUpByViewLines(L,c,p,l){const n=[];for(let a=0,g=c.length;a<g;a++){const f=c[a];n[a]=r.Vi.fromViewState(O.o.moveUp(L.cursorConfig,L,f.viewState,p,l))}return n}static _moveUpByModelLines(L,c,p,l){const n=[];for(let a=0,g=c.length;a<g;a++){const f=c[a];n[a]=r.Vi.fromModelState(O.o.moveUp(L.cursorConfig,L.model,f.modelState,p,l))}return n}static _moveToViewPosition(L,c,p,l,n){return r.Vi.fromViewState(c.viewState.move(p,l,n,0))}static _moveToModelPosition(L,c,p,l,n){return r.Vi.fromModelState(c.modelState.move(p,l,n,0))}static _moveToViewMinColumn(L,c,p){const l=[];for(let n=0,a=c.length;n<a;n++){const g=c[n],f=g.viewState.position.lineNumber,u=L.getLineMinColumn(f);l[n]=this._moveToViewPosition(L,g,p,f,u)}return l}static _moveToViewFirstNonWhitespaceColumn(L,c,p){const l=[];for(let n=0,a=c.length;n<a;n++){const g=c[n],f=g.viewState.position.lineNumber,u=L.getLineFirstNonWhitespaceColumn(f);l[n]=this._moveToViewPosition(L,g,p,f,u)}return l}static _moveToViewCenterColumn(L,c,p){const l=[];for(let n=0,a=c.length;n<a;n++){const g=c[n],f=g.viewState.position.lineNumber,u=Math.round((L.getLineMaxColumn(f)+L.getLineMinColumn(f))/2);l[n]=this._moveToViewPosition(L,g,p,f,u)}return l}static _moveToViewMaxColumn(L,c,p){const l=[];for(let n=0,a=c.length;n<a;n++){const g=c[n],f=g.viewState.position.lineNumber,u=L.getLineMaxColumn(f);l[n]=this._moveToViewPosition(L,g,p,f,u)}return l}static _moveToViewLastNonWhitespaceColumn(L,c,p){const l=[];for(let n=0,a=c.length;n<a;n++){const g=c[n],f=g.viewState.position.lineNumber,u=L.getLineLastNonWhitespaceColumn(f);l[n]=this._moveToViewPosition(L,g,p,f,u)}return l}}var P;(function(A){const L=function(p){if(!w.Kn(p))return!1;const l=p;return!(!w.HD(l.to)||!w.o8(l.select)&&!w.jn(l.select)||!w.o8(l.by)&&!w.HD(l.by)||!w.o8(l.value)&&!w.hj(l.value))};A.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:L,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},A.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},A.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function c(p){if(!p.to)return null;let l;switch(p.to){case A.RawDirection.Left:l=0;break;case A.RawDirection.Right:l=1;break;case A.RawDirection.Up:l=2;break;case A.RawDirection.Down:l=3;break;case A.RawDirection.PrevBlankLine:l=4;break;case A.RawDirection.NextBlankLine:l=5;break;case A.RawDirection.WrappedLineStart:l=6;break;case A.RawDirection.WrappedLineFirstNonWhitespaceCharacter:l=7;break;case A.RawDirection.WrappedLineColumnCenter:l=8;break;case A.RawDirection.WrappedLineEnd:l=9;break;case A.RawDirection.WrappedLineLastNonWhitespaceCharacter:l=10;break;case A.RawDirection.ViewPortTop:l=11;break;case A.RawDirection.ViewPortBottom:l=13;break;case A.RawDirection.ViewPortCenter:l=12;break;case A.RawDirection.ViewPortIfOutside:l=14;break;default:return null}let n=0;switch(p.by){case A.RawUnit.Line:n=1;break;case A.RawUnit.WrappedLine:n=2;break;case A.RawUnit.Character:n=3;break;case A.RawUnit.HalfLine:n=4;break}return{direction:l,unit:n,select:!!p.select,value:p.value||1}}A.parse=c})(P||(P={}))},10839:function(Ot,Te,i){"use strict";i.d(Te,{o:function(){return P}});var w=i(55343),r=i(7988),O=i(50187),V=i(24314),D=i(97295),$=i(47128);class M{constructor(L,c,p){this._cursorPositionBrand=void 0,this.lineNumber=L,this.column=c,this.leftoverVisibleColumns=p}}class P{static leftPosition(L,c){if(c.column>L.getLineMinColumn(c.lineNumber))return c.delta(void 0,-D.HO(L.getLineContent(c.lineNumber),c.column-1));if(c.lineNumber>1){const p=c.lineNumber-1;return new O.L(p,L.getLineMaxColumn(p))}else return c}static leftPositionAtomicSoftTabs(L,c,p){if(c.column<=L.getLineIndentColumn(c.lineNumber)){const l=L.getLineMinColumn(c.lineNumber),n=L.getLineContent(c.lineNumber),a=$.l.atomicPosition(n,c.column-1,p,0);if(a!==-1&&a+1>=l)return new O.L(c.lineNumber,a+1)}return this.leftPosition(L,c)}static left(L,c,p){const l=L.stickyTabStops?P.leftPositionAtomicSoftTabs(c,p,L.tabSize):P.leftPosition(c,p);return new M(l.lineNumber,l.column,0)}static moveLeft(L,c,p,l,n){let a,g;if(p.hasSelection()&&!l)a=p.selection.startLineNumber,g=p.selection.startColumn;else{const f=p.position.delta(void 0,-(n-1)),u=c.normalizePosition(P.clipPositionColumn(f,c),0),C=P.left(L,c,u);a=C.lineNumber,g=C.column}return p.move(l,a,g,0)}static clipPositionColumn(L,c){return new O.L(L.lineNumber,P.clipRange(L.column,c.getLineMinColumn(L.lineNumber),c.getLineMaxColumn(L.lineNumber)))}static clipRange(L,c,p){return L<c?c:L>p?p:L}static rightPosition(L,c,p){return p<L.getLineMaxColumn(c)?p=p+D.vH(L.getLineContent(c),p-1):c<L.getLineCount()&&(c=c+1,p=L.getLineMinColumn(c)),new O.L(c,p)}static rightPositionAtomicSoftTabs(L,c,p,l,n){if(p<L.getLineIndentColumn(c)){const a=L.getLineContent(c),g=$.l.atomicPosition(a,p-1,l,1);if(g!==-1)return new O.L(c,g+1)}return this.rightPosition(L,c,p)}static right(L,c,p){const l=L.stickyTabStops?P.rightPositionAtomicSoftTabs(c,p.lineNumber,p.column,L.tabSize,L.indentSize):P.rightPosition(c,p.lineNumber,p.column);return new M(l.lineNumber,l.column,0)}static moveRight(L,c,p,l,n){let a,g;if(p.hasSelection()&&!l)a=p.selection.endLineNumber,g=p.selection.endColumn;else{const f=p.position.delta(void 0,n-1),u=c.normalizePosition(P.clipPositionColumn(f,c),1),C=P.right(L,c,u);a=C.lineNumber,g=C.column}return p.move(l,a,g,0)}static vertical(L,c,p,l,n,a,g,f){const u=r.i.visibleColumnFromColumn(c.getLineContent(p),l,L.tabSize)+n,C=c.getLineCount(),y=p===1&&l===1,b=p===C&&l===c.getLineMaxColumn(p),_=a<p?y:b;if(p=a,p<1?(p=1,g?l=c.getLineMinColumn(p):l=Math.min(c.getLineMaxColumn(p),l)):p>C?(p=C,g?l=c.getLineMaxColumn(p):l=Math.min(c.getLineMaxColumn(p),l)):l=L.columnFromVisibleColumn(c,p,u),_?n=0:n=u-r.i.visibleColumnFromColumn(c.getLineContent(p),l,L.tabSize),f!==void 0){const E=new O.L(p,l),I=c.normalizePosition(E,f);n=n+(l-I.column),p=I.lineNumber,l=I.column}return new M(p,l,n)}static down(L,c,p,l,n,a,g){return this.vertical(L,c,p,l,n,p+a,g,4)}static moveDown(L,c,p,l,n){let a,g;p.hasSelection()&&!l?(a=p.selection.endLineNumber,g=p.selection.endColumn):(a=p.position.lineNumber,g=p.position.column);const f=P.down(L,c,a,g,p.leftoverVisibleColumns,n,!0);return p.move(l,f.lineNumber,f.column,f.leftoverVisibleColumns)}static translateDown(L,c,p){const l=p.selection,n=P.down(L,c,l.selectionStartLineNumber,l.selectionStartColumn,p.selectionStartLeftoverVisibleColumns,1,!1),a=P.down(L,c,l.positionLineNumber,l.positionColumn,p.leftoverVisibleColumns,1,!1);return new w.rS(new V.e(n.lineNumber,n.column,n.lineNumber,n.column),n.leftoverVisibleColumns,new O.L(a.lineNumber,a.column),a.leftoverVisibleColumns)}static up(L,c,p,l,n,a,g){return this.vertical(L,c,p,l,n,p-a,g,3)}static moveUp(L,c,p,l,n){let a,g;p.hasSelection()&&!l?(a=p.selection.startLineNumber,g=p.selection.startColumn):(a=p.position.lineNumber,g=p.position.column);const f=P.up(L,c,a,g,p.leftoverVisibleColumns,n,!0);return p.move(l,f.lineNumber,f.column,f.leftoverVisibleColumns)}static translateUp(L,c,p){const l=p.selection,n=P.up(L,c,l.selectionStartLineNumber,l.selectionStartColumn,p.selectionStartLeftoverVisibleColumns,1,!1),a=P.up(L,c,l.positionLineNumber,l.positionColumn,p.leftoverVisibleColumns,1,!1);return new w.rS(new V.e(n.lineNumber,n.column,n.lineNumber,n.column),n.leftoverVisibleColumns,new O.L(a.lineNumber,a.column),a.leftoverVisibleColumns)}static _isBlankLine(L,c){return L.getLineFirstNonWhitespaceColumn(c)===0}static moveToPrevBlankLine(L,c,p,l){let n=p.position.lineNumber;for(;n>1&&this._isBlankLine(c,n);)n--;for(;n>1&&!this._isBlankLine(c,n);)n--;return p.move(l,n,c.getLineMinColumn(n),0)}static moveToNextBlankLine(L,c,p,l){const n=c.getLineCount();let a=p.position.lineNumber;for(;a<n&&this._isBlankLine(c,a);)a++;for(;a<n&&!this._isBlankLine(c,a);)a++;return p.move(l,a,c.getLineMinColumn(a),0)}static moveToBeginningOfLine(L,c,p,l){const n=p.position.lineNumber,a=c.getLineMinColumn(n),g=c.getLineFirstNonWhitespaceColumn(n)||a;let f;return p.position.column===g?f=a:f=g,p.move(l,n,f,0)}static moveToEndOfLine(L,c,p,l,n){const a=p.position.lineNumber,g=c.getLineMaxColumn(a);return p.move(l,a,g,n?1073741824-g:0)}static moveToBeginningOfBuffer(L,c,p,l){return p.move(l,1,1,0)}static moveToEndOfBuffer(L,c,p,l){const n=c.getLineCount(),a=c.getLineMaxColumn(n);return p.move(l,n,a,0)}}},51336:function(Ot,Te,i){"use strict";i.d(Te,{Nu:function(){return C},u6:function(){return f},g_:function(){return u}});var w=i(17301),r=i(97295),O=i(61329),V=i(10291),D=i(24314),$=i(3860);class M{constructor(R,J,Q){this._range=R,this._charBeforeSelection=J,this._charAfterSelection=Q}getEditOperations(R,J){J.addTrackedEditOperation(new D.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),J.addTrackedEditOperation(new D.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(R,J){const Q=J.getInverseEditOperations(),U=Q[0].range,K=Q[1].range;return new $.Y(U.endLineNumber,U.endColumn,K.endLineNumber,K.endColumn-this._charAfterSelection.length)}}class P{constructor(R,J,Q){this._position=R,this._text=J,this._charAfter=Q}getEditOperations(R,J){J.addTrackedEditOperation(new D.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(R,J){const U=J.getInverseEditOperations()[0].range;return new $.Y(U.endLineNumber,U.startColumn,U.endLineNumber,U.endColumn-this._charAfter.length)}}var A=i(55343),L=i(24929),c=i(50187),p=i(49119),l=i(51381),n=i(19111),a=i(75383),g=i(1615);class f{static indent(R,J,Q){if(J===null||Q===null)return[];const U=[];for(let K=0,H=Q.length;K<H;K++)U[K]=new V.U(Q[K],{isUnshift:!1,tabSize:R.tabSize,indentSize:R.indentSize,insertSpaces:R.insertSpaces,useTabStops:R.useTabStops,autoIndent:R.autoIndent},R.languageConfigurationService);return U}static outdent(R,J,Q){const U=[];for(let K=0,H=Q.length;K<H;K++)U[K]=new V.U(Q[K],{isUnshift:!0,tabSize:R.tabSize,indentSize:R.indentSize,insertSpaces:R.insertSpaces,useTabStops:R.useTabStops,autoIndent:R.autoIndent},R.languageConfigurationService);return U}static shiftIndent(R,J,Q){return Q=Q||1,V.U.shiftIndent(J,J.length+Q,R.tabSize,R.indentSize,R.insertSpaces)}static unshiftIndent(R,J,Q){return Q=Q||1,V.U.unshiftIndent(J,J.length+Q,R.tabSize,R.indentSize,R.insertSpaces)}static _distributedPaste(R,J,Q,U){const K=[];for(let H=0,X=Q.length;H<X;H++)K[H]=new O.T4(Q[H],U[H]);return new A.Tp(0,K,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(R,J,Q,U,K){const H=[];for(let X=0,j=Q.length;X<j;X++){const x=Q[X],Z=x.getPosition();if(K&&!x.isEmpty()&&(K=!1),K&&U.indexOf(`
`)!==U.length-1&&(K=!1),K){const T=new D.e(Z.lineNumber,1,Z.lineNumber,1);H[X]=new O.hP(T,U,x,!0)}else H[X]=new O.T4(x,U)}return new A.Tp(0,H,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(R,J,Q,U,K){if(U||J.length===1)return null;if(K&&K.length===J.length)return K;if(R.multiCursorPaste==="spread"){Q.charCodeAt(Q.length-1)===10&&(Q=Q.substr(0,Q.length-1)),Q.charCodeAt(Q.length-1)===13&&(Q=Q.substr(0,Q.length-1));const H=r.uq(Q);if(H.length===J.length)return H}return null}static paste(R,J,Q,U,K,H){const X=this._distributePasteToCursors(R,Q,U,K,H);return X?(Q=Q.sort(D.e.compareRangesUsingStarts),this._distributedPaste(R,J,Q,X)):this._simplePaste(R,J,Q,U,K)}static _goodIndentForLine(R,J,Q){let U=null,K="";const H=(0,a.r7)(R.autoIndent,J,Q,!1,R.languageConfigurationService);if(H)U=H.action,K=H.indentation;else if(Q>1){let X;for(X=Q-1;X>=1;X--){const Z=J.getLineContent(X);if(r.ow(Z)>=0)break}if(X<1)return null;const j=J.getLineMaxColumn(X),x=(0,g.A)(R.autoIndent,J,new D.e(X,j,X,j),R.languageConfigurationService);x&&(K=x.indentation+x.appendText)}return U&&(U===p.wU.Indent&&(K=f.shiftIndent(R,K)),U===p.wU.Outdent&&(K=f.unshiftIndent(R,K)),K=R.normalizeIndentation(K)),K||null}static _replaceJumpToNextIndent(R,J,Q,U){let K="";const H=Q.getStartPosition();if(R.insertSpaces){const X=R.visibleColumnFromColumn(J,H),j=R.indentSize,x=j-X%j;for(let Z=0;Z<x;Z++)K+=" "}else K="	";return new O.T4(Q,K,U)}static tab(R,J,Q){const U=[];for(let K=0,H=Q.length;K<H;K++){const X=Q[K];if(X.isEmpty()){const j=J.getLineContent(X.startLineNumber);if(/^\s*$/.test(j)&&J.tokenization.isCheapToTokenize(X.startLineNumber)){let x=this._goodIndentForLine(R,J,X.startLineNumber);x=x||"	";const Z=R.normalizeIndentation(x);if(!j.startsWith(Z)){U[K]=new O.T4(new D.e(X.startLineNumber,1,X.startLineNumber,j.length+1),Z,!0);continue}}U[K]=this._replaceJumpToNextIndent(R,J,X,!0)}else{if(X.startLineNumber===X.endLineNumber){const j=J.getLineMaxColumn(X.startLineNumber);if(X.startColumn!==1||X.endColumn!==j){U[K]=this._replaceJumpToNextIndent(R,J,X,!1);continue}}U[K]=new V.U(X,{isUnshift:!1,tabSize:R.tabSize,indentSize:R.indentSize,insertSpaces:R.insertSpaces,useTabStops:R.useTabStops,autoIndent:R.autoIndent},R.languageConfigurationService)}}return U}static compositionType(R,J,Q,U,K,H,X,j){const x=U.map(Z=>this._compositionType(Q,Z,K,H,X,j));return new A.Tp(4,x,{shouldPushStackElementBefore:b(R,4),shouldPushStackElementAfter:!1})}static _compositionType(R,J,Q,U,K,H){if(!J.isEmpty())return null;const X=J.getPosition(),j=Math.max(1,X.column-U),x=Math.min(R.getLineMaxColumn(X.lineNumber),X.column+K),Z=new D.e(X.lineNumber,j,X.lineNumber,x);return R.getValueInRange(Z)===Q&&H===0?null:new O.Uo(Z,Q,0,H)}static _typeCommand(R,J,Q){return Q?new O.Sj(R,J,!0):new O.T4(R,J,!0)}static _enter(R,J,Q,U){if(R.autoIndent===0)return f._typeCommand(U,`
`,Q);if(!J.tokenization.isCheapToTokenize(U.getStartPosition().lineNumber)||R.autoIndent===1){const j=J.getLineContent(U.startLineNumber),x=r.V8(j).substring(0,U.startColumn-1);return f._typeCommand(U,`
`+R.normalizeIndentation(x),Q)}const K=(0,g.A)(R.autoIndent,J,U,R.languageConfigurationService);if(K){if(K.indentAction===p.wU.None)return f._typeCommand(U,`
`+R.normalizeIndentation(K.indentation+K.appendText),Q);if(K.indentAction===p.wU.Indent)return f._typeCommand(U,`
`+R.normalizeIndentation(K.indentation+K.appendText),Q);if(K.indentAction===p.wU.IndentOutdent){const j=R.normalizeIndentation(K.indentation),x=R.normalizeIndentation(K.indentation+K.appendText),Z=`
`+x+`
`+j;return Q?new O.Sj(U,Z,!0):new O.Uo(U,Z,-1,x.length-j.length,!0)}else if(K.indentAction===p.wU.Outdent){const j=f.unshiftIndent(R,K.indentation);return f._typeCommand(U,`
`+R.normalizeIndentation(j+K.appendText),Q)}}const H=J.getLineContent(U.startLineNumber),X=r.V8(H).substring(0,U.startColumn-1);if(R.autoIndent>=4){const j=(0,a.UF)(R.autoIndent,J,U,{unshiftIndent:x=>f.unshiftIndent(R,x),shiftIndent:x=>f.shiftIndent(R,x),normalizeIndentation:x=>R.normalizeIndentation(x)},R.languageConfigurationService);if(j){let x=R.visibleColumnFromColumn(J,U.getEndPosition());const Z=U.endColumn,T=J.getLineContent(U.endLineNumber),z=r.LC(T);if(z>=0?U=U.setEndPosition(U.endLineNumber,Math.max(U.endColumn,z+1)):U=U.setEndPosition(U.endLineNumber,J.getLineMaxColumn(U.endLineNumber)),Q)return new O.Sj(U,`
`+R.normalizeIndentation(j.afterEnter),!0);{let G=0;return Z<=z+1&&(R.insertSpaces||(x=Math.ceil(x/R.indentSize)),G=Math.min(x+1-R.normalizeIndentation(j.afterEnter).length-1,0)),new O.Uo(U,`
`+R.normalizeIndentation(j.afterEnter),0,G,!0)}}}return f._typeCommand(U,`
`+R.normalizeIndentation(X),Q)}static _isAutoIndentType(R,J,Q){if(R.autoIndent<4)return!1;for(let U=0,K=Q.length;U<K;U++)if(!J.tokenization.isCheapToTokenize(Q[U].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(R,J,Q,U){const K=(0,l.u0)(J,Q.startLineNumber,Q.startColumn),H=(0,a.$9)(R.autoIndent,J,Q,U,{shiftIndent:X=>f.shiftIndent(R,X),unshiftIndent:X=>f.unshiftIndent(R,X)},R.languageConfigurationService);if(H===null)return null;if(H!==R.normalizeIndentation(K)){const X=J.getLineFirstNonWhitespaceColumn(Q.startLineNumber);return X===0?f._typeCommand(new D.e(Q.startLineNumber,1,Q.endLineNumber,Q.endColumn),R.normalizeIndentation(H)+U,!1):f._typeCommand(new D.e(Q.startLineNumber,1,Q.endLineNumber,Q.endColumn),R.normalizeIndentation(H)+J.getLineContent(Q.startLineNumber).substring(X-1,Q.startColumn-1)+U,!1)}return null}static _isAutoClosingOvertype(R,J,Q,U,K){if(R.autoClosingOvertype==="never"||!R.autoClosingPairs.autoClosingPairsCloseSingleChar.has(K))return!1;for(let H=0,X=Q.length;H<X;H++){const j=Q[H];if(!j.isEmpty())return!1;const x=j.getPosition(),Z=J.getLineContent(x.lineNumber);if(Z.charAt(x.column-1)!==K)return!1;const z=(0,A.LN)(K);if((x.column>2?Z.charCodeAt(x.column-2):0)===92&&z)return!1;if(R.autoClosingOvertype==="auto"){let re=!1;for(let S=0,he=U.length;S<he;S++){const Ce=U[S];if(x.lineNumber===Ce.startLineNumber&&x.column===Ce.startColumn){re=!0;break}}if(!re)return!1}}return!0}static _runAutoClosingOvertype(R,J,Q,U,K){const H=[];for(let X=0,j=U.length;X<j;X++){const Z=U[X].getPosition(),T=new D.e(Z.lineNumber,Z.column,Z.lineNumber,Z.column+1);H[X]=new O.T4(T,K)}return new A.Tp(4,H,{shouldPushStackElementBefore:b(R,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(R,J){const Q=J.charAt(0),U=R.autoClosingPairs.autoClosingPairsOpenByStart.get(Q)||[],K=R.autoClosingPairs.autoClosingPairsCloseByStart.get(Q)||[],H=U.some(j=>J.startsWith(j.open)),X=K.some(j=>J.startsWith(j.close));return!H&&X}static _findAutoClosingPairOpen(R,J,Q,U){const K=R.autoClosingPairs.autoClosingPairsOpenByEnd.get(U);if(!K)return null;let H=null;for(const X of K)if(H===null||X.open.length>H.open.length){let j=!0;for(const x of Q)if(J.getValueInRange(new D.e(x.lineNumber,x.column-X.open.length+1,x.lineNumber,x.column))+U!==X.open){j=!1;break}j&&(H=X)}return H}static _findContainedAutoClosingPair(R,J){if(J.open.length<=1)return null;const Q=J.close.charAt(J.close.length-1),U=R.autoClosingPairs.autoClosingPairsCloseByEnd.get(Q)||[];let K=null;for(const H of U)H.open!==J.open&&J.open.includes(H.open)&&J.close.endsWith(H.close)&&(!K||H.open.length>K.open.length)&&(K=H);return K}static _getAutoClosingPairClose(R,J,Q,U,K){const H=(0,A.LN)(U),X=H?R.autoClosingQuotes:R.autoClosingBrackets,j=H?R.shouldAutoCloseBefore.quote:R.shouldAutoCloseBefore.bracket;if(X==="never")return null;for(const re of Q)if(!re.isEmpty())return null;const x=Q.map(re=>{const S=re.getPosition();return K?{lineNumber:S.lineNumber,beforeColumn:S.column-U.length,afterColumn:S.column}:{lineNumber:S.lineNumber,beforeColumn:S.column,afterColumn:S.column}}),Z=this._findAutoClosingPairOpen(R,J,x.map(re=>new c.L(re.lineNumber,re.beforeColumn)),U);if(!Z)return null;const T=this._findContainedAutoClosingPair(R,Z),z=T?T.close:"";let G=!0;for(const re of x){const{lineNumber:S,beforeColumn:he,afterColumn:Ce}=re,ge=J.getLineContent(S),pe=ge.substring(0,he-1),ee=ge.substring(Ce-1);if(ee.startsWith(z)||(G=!1),ee.length>0){const Se=ee.charAt(0);if(!f._isBeforeClosingBrace(R,ee)&&!j(Se))return null}if(Z.open.length===1&&(U==="'"||U==='"')&&X!=="always"){const Se=(0,L.u)(R.wordSeparators);if(pe.length>0){const Ee=pe.charCodeAt(pe.length-1);if(Se.get(Ee)===0)return null}}if(!J.tokenization.isCheapToTokenize(S))return null;J.tokenization.forceTokenization(S);const se=J.tokenization.getLineTokens(S),ne=(0,n.wH)(se,he-1);if(!Z.shouldAutoClose(ne,he-ne.firstCharOffset))return null;const oe=Z.findNeutralCharacter();if(oe){const Se=J.tokenization.getTokenTypeIfInsertingCharacter(S,he,oe);if(!Z.isOK(Se))return null}}return G?Z.close.substring(0,Z.close.length-z.length):Z.close}static _runAutoClosingOpenCharType(R,J,Q,U,K,H,X){const j=[];for(let x=0,Z=U.length;x<Z;x++){const T=U[x];j[x]=new u(T,K,!H,X)}return new A.Tp(4,j,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(R,J){return(0,A.LN)(J)?R.autoSurround==="quotes"||R.autoSurround==="languageDefined":R.autoSurround==="brackets"||R.autoSurround==="languageDefined"}static _isSurroundSelectionType(R,J,Q,U){if(!f._shouldSurroundChar(R,U)||!R.surroundingPairs.hasOwnProperty(U))return!1;const K=(0,A.LN)(U);for(const H of Q){if(H.isEmpty())return!1;let X=!0;for(let j=H.startLineNumber;j<=H.endLineNumber;j++){const x=J.getLineContent(j),Z=j===H.startLineNumber?H.startColumn-1:0,T=j===H.endLineNumber?H.endColumn-1:x.length,z=x.substring(Z,T);if(/[^ \t]/.test(z)){X=!1;break}}if(X)return!1;if(K&&H.startLineNumber===H.endLineNumber&&H.startColumn+1===H.endColumn){const j=J.getValueInRange(H);if((0,A.LN)(j))return!1}}return!0}static _runSurroundSelectionType(R,J,Q,U,K){const H=[];for(let X=0,j=U.length;X<j;X++){const x=U[X],Z=J.surroundingPairs[K];H[X]=new M(x,K,Z)}return new A.Tp(0,H,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(R,J,Q){return!!(Q.length===1&&J.tokenization.isCheapToTokenize(Q[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(R,J,Q,U,K){if(!J.electricChars.hasOwnProperty(K)||!U.isEmpty())return null;const H=U.getPosition();Q.tokenization.forceTokenization(H.lineNumber);const X=Q.tokenization.getLineTokens(H.lineNumber);let j;try{j=J.onElectricCharacter(K,X,H.column)}catch(x){return(0,w.dL)(x),null}if(!j)return null;if(j.matchOpenBracket){const x=(X.getLineContent()+K).lastIndexOf(j.matchOpenBracket)+1,Z=Q.bracketPairs.findMatchingBracketUp(j.matchOpenBracket,{lineNumber:H.lineNumber,column:x},500);if(Z){if(Z.startLineNumber===H.lineNumber)return null;const T=Q.getLineContent(Z.startLineNumber),z=r.V8(T),G=J.normalizeIndentation(z),re=Q.getLineContent(H.lineNumber),S=Q.getLineFirstNonWhitespaceColumn(H.lineNumber)||H.column,he=re.substring(S-1,H.column-1),Ce=G+he+K,ge=new D.e(H.lineNumber,1,H.lineNumber,H.column),pe=new O.T4(ge,Ce);return new A.Tp(y(Ce,R),[pe],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(R,J,Q,U,K,H){if(!U)return null;let X=null;for(const T of U)if(X===null)X=T.insertedText;else if(X!==T.insertedText)return null;if(!X||X.length!==1)return null;const j=X;let x=!1;for(const T of U)if(T.deletedText.length!==0){x=!0;break}if(x){if(!f._shouldSurroundChar(J,j)||!J.surroundingPairs.hasOwnProperty(j))return null;const T=(0,A.LN)(j);for(const re of U)if(re.deletedSelectionStart!==0||re.deletedSelectionEnd!==re.deletedText.length||/^[ \t]+$/.test(re.deletedText)||T&&(0,A.LN)(re.deletedText))return null;const z=[];for(const re of K){if(!re.isEmpty())return null;z.push(re.getPosition())}if(z.length!==U.length)return null;const G=[];for(let re=0,S=z.length;re<S;re++)G.push(new P(z[re],U[re].deletedText,j));return new A.Tp(4,G,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(J,Q,K,H,j)){const T=K.map(z=>new O.T4(new D.e(z.positionLineNumber,z.positionColumn,z.positionLineNumber,z.positionColumn+1),"",!1));return new A.Tp(4,T,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const Z=this._getAutoClosingPairClose(J,Q,K,j,!0);return Z!==null?this._runAutoClosingOpenCharType(R,J,Q,K,j,!0,Z):null}static typeWithInterceptors(R,J,Q,U,K,H,X){if(!R&&X===`
`){const Z=[];for(let T=0,z=K.length;T<z;T++)Z[T]=f._enter(Q,U,!1,K[T]);return new A.Tp(4,Z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!R&&this._isAutoIndentType(Q,U,K)){const Z=[];let T=!1;for(let z=0,G=K.length;z<G;z++)if(Z[z]=this._runAutoIndentType(Q,U,K[z],X),!Z[z]){T=!0;break}if(!T)return new A.Tp(4,Z,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(Q,U,K,H,X))return this._runAutoClosingOvertype(J,Q,U,K,X);if(!R){const Z=this._getAutoClosingPairClose(Q,U,K,X,!1);if(Z)return this._runAutoClosingOpenCharType(J,Q,U,K,X,!1,Z)}if(!R&&this._isSurroundSelectionType(Q,U,K,X))return this._runSurroundSelectionType(J,Q,U,K,X);if(!R&&this._isTypeInterceptorElectricChar(Q,U,K)){const Z=this._typeInterceptorElectricChar(J,Q,U,K[0],X);if(Z)return Z}const j=[];for(let Z=0,T=K.length;Z<T;Z++)j[Z]=new O.T4(K[Z],X);const x=y(X,J);return new A.Tp(x,j,{shouldPushStackElementBefore:b(J,x),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(R,J,Q,U,K){const H=[];for(let j=0,x=U.length;j<x;j++)H[j]=new O.T4(U[j],K);const X=y(K,R);return new A.Tp(X,H,{shouldPushStackElementBefore:b(R,X),shouldPushStackElementAfter:!1})}static lineInsertBefore(R,J,Q){if(J===null||Q===null)return[];const U=[];for(let K=0,H=Q.length;K<H;K++){let X=Q[K].positionLineNumber;if(X===1)U[K]=new O.Sj(new D.e(1,1,1,1),`
`);else{X--;const j=J.getLineMaxColumn(X);U[K]=this._enter(R,J,!1,new D.e(X,j,X,j))}}return U}static lineInsertAfter(R,J,Q){if(J===null||Q===null)return[];const U=[];for(let K=0,H=Q.length;K<H;K++){const X=Q[K].positionLineNumber,j=J.getLineMaxColumn(X);U[K]=this._enter(R,J,!1,new D.e(X,j,X,j))}return U}static lineBreakInsert(R,J,Q){const U=[];for(let K=0,H=Q.length;K<H;K++)U[K]=this._enter(R,J,!0,Q[K]);return U}}class u extends O.Uo{constructor(R,J,Q,U){super(R,(Q?J:"")+U,0,-U.length),this._openCharacter=J,this._closeCharacter=U,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(R,J){const U=J.getInverseEditOperations()[0].range;return this.closeCharacterRange=new D.e(U.startLineNumber,U.endColumn-this._closeCharacter.length,U.endLineNumber,U.endColumn),this.enclosingRange=new D.e(U.startLineNumber,U.endColumn-this._openCharacter.length-this._closeCharacter.length,U.endLineNumber,U.endColumn),super.computeCursorState(R,J)}}class C{constructor(R,J,Q,U,K,H){this.deletedText=R,this.deletedSelectionStart=J,this.deletedSelectionEnd=Q,this.insertedText=U,this.insertedSelectionStart=K,this.insertedSelectionEnd=H}}function y(I,R){return I===" "?R===5||R===6?6:5:4}function b(I,R){return E(I)&&!E(R)?!0:I===5?!1:_(I)!==_(R)}function _(I){return I===6||I===5?"space":I}function E(I){return I===4||I===5||I===6}},92896:function(Ot,Te,i){"use strict";i.d(Te,{L:function(){return P},w:function(){return M}});var w=i(97295),r=i(55343),O=i(29436),V=i(24929),D=i(50187),$=i(24314);class M{static _createWord(c,p,l,n,a){return{start:n,end:a,wordType:p,nextCharClass:l}}static _findPreviousWordOnLine(c,p,l){const n=p.getLineContent(l.lineNumber);return this._doFindPreviousWordOnLine(n,c,l)}static _doFindPreviousWordOnLine(c,p,l){let n=0;for(let a=l.column-2;a>=0;a--){const g=c.charCodeAt(a),f=p.get(g);if(f===0){if(n===2)return this._createWord(c,n,f,a+1,this._findEndOfWord(c,p,n,a+1));n=1}else if(f===2){if(n===1)return this._createWord(c,n,f,a+1,this._findEndOfWord(c,p,n,a+1));n=2}else if(f===1&&n!==0)return this._createWord(c,n,f,a+1,this._findEndOfWord(c,p,n,a+1))}return n!==0?this._createWord(c,n,1,0,this._findEndOfWord(c,p,n,0)):null}static _findEndOfWord(c,p,l,n){const a=c.length;for(let g=n;g<a;g++){const f=c.charCodeAt(g),u=p.get(f);if(u===1||l===1&&u===2||l===2&&u===0)return g}return a}static _findNextWordOnLine(c,p,l){const n=p.getLineContent(l.lineNumber);return this._doFindNextWordOnLine(n,c,l)}static _doFindNextWordOnLine(c,p,l){let n=0;const a=c.length;for(let g=l.column-1;g<a;g++){const f=c.charCodeAt(g),u=p.get(f);if(u===0){if(n===2)return this._createWord(c,n,u,this._findStartOfWord(c,p,n,g-1),g);n=1}else if(u===2){if(n===1)return this._createWord(c,n,u,this._findStartOfWord(c,p,n,g-1),g);n=2}else if(u===1&&n!==0)return this._createWord(c,n,u,this._findStartOfWord(c,p,n,g-1),g)}return n!==0?this._createWord(c,n,1,this._findStartOfWord(c,p,n,a-1),a):null}static _findStartOfWord(c,p,l,n){for(let a=n;a>=0;a--){const g=c.charCodeAt(a),f=p.get(g);if(f===1||l===1&&f===2||l===2&&f===0)return a+1}return 0}static moveWordLeft(c,p,l,n){let a=l.lineNumber,g=l.column;g===1&&a>1&&(a=a-1,g=p.getLineMaxColumn(a));let f=M._findPreviousWordOnLine(c,p,new D.L(a,g));if(n===0)return new D.L(a,f?f.start+1:1);if(n===1)return f&&f.wordType===2&&f.end-f.start===1&&f.nextCharClass===0&&(f=M._findPreviousWordOnLine(c,p,new D.L(a,f.start+1))),new D.L(a,f?f.start+1:1);if(n===3){for(;f&&f.wordType===2;)f=M._findPreviousWordOnLine(c,p,new D.L(a,f.start+1));return new D.L(a,f?f.start+1:1)}return f&&g<=f.end+1&&(f=M._findPreviousWordOnLine(c,p,new D.L(a,f.start+1))),new D.L(a,f?f.end+1:1)}static _moveWordPartLeft(c,p){const l=p.lineNumber,n=c.getLineMaxColumn(l);if(p.column===1)return l>1?new D.L(l-1,c.getLineMaxColumn(l-1)):p;const a=c.getLineContent(l);for(let g=p.column-1;g>1;g--){const f=a.charCodeAt(g-2),u=a.charCodeAt(g-1);if(f===95&&u!==95)return new D.L(l,g);if((w.mK(f)||w.T5(f))&&w.df(u))return new D.L(l,g);if(w.df(f)&&w.df(u)&&g+1<n){const C=a.charCodeAt(g);if(w.mK(C)||w.T5(C))return new D.L(l,g)}}return new D.L(l,1)}static moveWordRight(c,p,l,n){let a=l.lineNumber,g=l.column,f=!1;g===p.getLineMaxColumn(a)&&a<p.getLineCount()&&(f=!0,a=a+1,g=1);let u=M._findNextWordOnLine(c,p,new D.L(a,g));if(n===2)u&&u.wordType===2&&u.end-u.start===1&&u.nextCharClass===0&&(u=M._findNextWordOnLine(c,p,new D.L(a,u.end+1))),u?g=u.end+1:g=p.getLineMaxColumn(a);else if(n===3){for(f&&(g=0);u&&(u.wordType===2||u.start+1<=g);)u=M._findNextWordOnLine(c,p,new D.L(a,u.end+1));u?g=u.start+1:g=p.getLineMaxColumn(a)}else u&&!f&&g>=u.start+1&&(u=M._findNextWordOnLine(c,p,new D.L(a,u.end+1))),u?g=u.start+1:g=p.getLineMaxColumn(a);return new D.L(a,g)}static _moveWordPartRight(c,p){const l=p.lineNumber,n=c.getLineMaxColumn(l);if(p.column===n)return l<c.getLineCount()?new D.L(l+1,1):p;const a=c.getLineContent(l);for(let g=p.column+1;g<n;g++){const f=a.charCodeAt(g-2),u=a.charCodeAt(g-1);if(f!==95&&u===95)return new D.L(l,g);if((w.mK(f)||w.T5(f))&&w.df(u))return new D.L(l,g);if(w.df(f)&&w.df(u)&&g+1<n){const C=a.charCodeAt(g);if(w.mK(C)||w.T5(C))return new D.L(l,g)}}return new D.L(l,n)}static _deleteWordLeftWhitespace(c,p){const l=c.getLineContent(p.lineNumber),n=p.column-2,a=w.ow(l,n);return a+1<n?new $.e(p.lineNumber,a+2,p.lineNumber,p.column):null}static deleteWordLeft(c,p){const l=c.wordSeparators,n=c.model,a=c.selection,g=c.whitespaceHeuristics;if(!a.isEmpty())return a;if(O.A.isAutoClosingPairDelete(c.autoClosingDelete,c.autoClosingBrackets,c.autoClosingQuotes,c.autoClosingPairs.autoClosingPairsOpenByEnd,c.model,[c.selection],c.autoClosedCharacters)){const b=c.selection.getPosition();return new $.e(b.lineNumber,b.column-1,b.lineNumber,b.column+1)}const f=new D.L(a.positionLineNumber,a.positionColumn);let u=f.lineNumber,C=f.column;if(u===1&&C===1)return null;if(g){const b=this._deleteWordLeftWhitespace(n,f);if(b)return b}let y=M._findPreviousWordOnLine(l,n,f);return p===0?y?C=y.start+1:C>1?C=1:(u--,C=n.getLineMaxColumn(u)):(y&&C<=y.end+1&&(y=M._findPreviousWordOnLine(l,n,new D.L(u,y.start+1))),y?C=y.end+1:C>1?C=1:(u--,C=n.getLineMaxColumn(u))),new $.e(u,C,f.lineNumber,f.column)}static deleteInsideWord(c,p,l){if(!l.isEmpty())return l;const n=new D.L(l.positionLineNumber,l.positionColumn),a=this._deleteInsideWordWhitespace(p,n);return a||this._deleteInsideWordDetermineDeleteRange(c,p,n)}static _charAtIsWhitespace(c,p){const l=c.charCodeAt(p);return l===32||l===9}static _deleteInsideWordWhitespace(c,p){const l=c.getLineContent(p.lineNumber),n=l.length;if(n===0)return null;let a=Math.max(p.column-2,0);if(!this._charAtIsWhitespace(l,a))return null;let g=Math.min(p.column-1,n-1);if(!this._charAtIsWhitespace(l,g))return null;for(;a>0&&this._charAtIsWhitespace(l,a-1);)a--;for(;g+1<n&&this._charAtIsWhitespace(l,g+1);)g++;return new $.e(p.lineNumber,a+1,p.lineNumber,g+2)}static _deleteInsideWordDetermineDeleteRange(c,p,l){const n=p.getLineContent(l.lineNumber),a=n.length;if(a===0)return l.lineNumber>1?new $.e(l.lineNumber-1,p.getLineMaxColumn(l.lineNumber-1),l.lineNumber,1):l.lineNumber<p.getLineCount()?new $.e(l.lineNumber,1,l.lineNumber+1,1):new $.e(l.lineNumber,1,l.lineNumber,1);const g=b=>b.start+1<=l.column&&l.column<=b.end+1,f=(b,_)=>(b=Math.min(b,l.column),_=Math.max(_,l.column),new $.e(l.lineNumber,b,l.lineNumber,_)),u=b=>{let _=b.start+1,E=b.end+1,I=!1;for(;E-1<a&&this._charAtIsWhitespace(n,E-1);)I=!0,E++;if(!I)for(;_>1&&this._charAtIsWhitespace(n,_-2);)_--;return f(_,E)},C=M._findPreviousWordOnLine(c,p,l);if(C&&g(C))return u(C);const y=M._findNextWordOnLine(c,p,l);return y&&g(y)?u(y):C&&y?f(C.end+1,y.start+1):C?f(C.start+1,C.end+1):y?f(y.start+1,y.end+1):f(1,a+1)}static _deleteWordPartLeft(c,p){if(!p.isEmpty())return p;const l=p.getPosition(),n=M._moveWordPartLeft(c,l);return new $.e(l.lineNumber,l.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(c,p){const l=c.length;for(let n=p;n<l;n++){const a=c.charAt(n);if(a!==" "&&a!=="	")return n}return l}static _deleteWordRightWhitespace(c,p){const l=c.getLineContent(p.lineNumber),n=p.column-1,a=this._findFirstNonWhitespaceChar(l,n);return n+1<a?new $.e(p.lineNumber,p.column,p.lineNumber,a+1):null}static deleteWordRight(c,p){const l=c.wordSeparators,n=c.model,a=c.selection,g=c.whitespaceHeuristics;if(!a.isEmpty())return a;const f=new D.L(a.positionLineNumber,a.positionColumn);let u=f.lineNumber,C=f.column;const y=n.getLineCount(),b=n.getLineMaxColumn(u);if(u===y&&C===b)return null;if(g){const E=this._deleteWordRightWhitespace(n,f);if(E)return E}let _=M._findNextWordOnLine(l,n,f);return p===2?_?C=_.end+1:C<b||u===y?C=b:(u++,_=M._findNextWordOnLine(l,n,new D.L(u,1)),_?C=_.start+1:C=n.getLineMaxColumn(u)):(_&&C>=_.start+1&&(_=M._findNextWordOnLine(l,n,new D.L(u,_.end+1))),_?C=_.start+1:C<b||u===y?C=b:(u++,_=M._findNextWordOnLine(l,n,new D.L(u,1)),_?C=_.start+1:C=n.getLineMaxColumn(u))),new $.e(u,C,f.lineNumber,f.column)}static _deleteWordPartRight(c,p){if(!p.isEmpty())return p;const l=p.getPosition(),n=M._moveWordPartRight(c,l);return new $.e(l.lineNumber,l.column,n.lineNumber,n.column)}static _createWordAtPosition(c,p,l){const n=new $.e(p,l.start+1,p,l.end+1);return{word:c.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(c,p,l){const n=(0,V.u)(p),a=M._findPreviousWordOnLine(n,c,l);if(a&&a.wordType===1&&a.start<=l.column-1&&l.column-1<=a.end)return M._createWordAtPosition(c,l.lineNumber,a);const g=M._findNextWordOnLine(n,c,l);return g&&g.wordType===1&&g.start<=l.column-1&&l.column-1<=g.end?M._createWordAtPosition(c,l.lineNumber,g):null}static word(c,p,l,n,a){const g=(0,V.u)(c.wordSeparators),f=M._findPreviousWordOnLine(g,p,a),u=M._findNextWordOnLine(g,p,a);if(!n){let E,I;return f&&f.wordType===1&&f.start<=a.column-1&&a.column-1<=f.end?(E=f.start+1,I=f.end+1):u&&u.wordType===1&&u.start<=a.column-1&&a.column-1<=u.end?(E=u.start+1,I=u.end+1):(f?E=f.end+1:E=1,u?I=u.start+1:I=p.getLineMaxColumn(a.lineNumber)),new r.rS(new $.e(a.lineNumber,E,a.lineNumber,I),0,new D.L(a.lineNumber,I),0)}let C,y;f&&f.wordType===1&&f.start<a.column-1&&a.column-1<f.end?(C=f.start+1,y=f.end+1):u&&u.wordType===1&&u.start<a.column-1&&a.column-1<u.end?(C=u.start+1,y=u.end+1):(C=a.column,y=a.column);const b=a.lineNumber;let _;if(l.selectionStart.containsPosition(a))_=l.selectionStart.endColumn;else if(a.isBeforeOrEqual(l.selectionStart.getStartPosition())){_=C;const E=new D.L(b,_);l.selectionStart.containsPosition(E)&&(_=l.selectionStart.endColumn)}else{_=y;const E=new D.L(b,_);l.selectionStart.containsPosition(E)&&(_=l.selectionStart.startColumn)}return l.move(!0,b,_,0)}}class P extends M{static deleteWordPartLeft(c){const p=A([M.deleteWordLeft(c,0),M.deleteWordLeft(c,2),M._deleteWordPartLeft(c.model,c.selection)]);return p.sort($.e.compareRangesUsingEnds),p[2]}static deleteWordPartRight(c){const p=A([M.deleteWordRight(c,0),M.deleteWordRight(c,2),M._deleteWordPartRight(c.model,c.selection)]);return p.sort($.e.compareRangesUsingStarts),p[0]}static moveWordPartLeft(c,p,l){const n=A([M.moveWordLeft(c,p,l,0),M.moveWordLeft(c,p,l,2),M._moveWordPartLeft(p,l)]);return n.sort(D.L.compare),n[2]}static moveWordPartRight(c,p,l){const n=A([M.moveWordRight(c,p,l,0),M.moveWordRight(c,p,l,2),M._moveWordPartRight(p,l)]);return n.sort(D.L.compare),n[0]}}function A(L){return L.filter(c=>Boolean(c))}},30653:function(Ot,Te,i){"use strict";i.d(Te,{p:function(){return w}});class w{constructor(O,V,D,$,M,P){this.id=O,this.label=V,this.alias=D,this._precondition=$,this._run=M,this._contextKeyService=P}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},96518:function(Ot,Te,i){"use strict";i.d(Te,{g:function(){return w}});const w={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},29102:function(Ot,Te,i){"use strict";i.d(Te,{u:function(){return O}});var w=i(63580),r=i(16141),O;(function(V){V.editorSimpleInput=new r.uy("editorSimpleInput",!1,!0),V.editorTextFocus=new r.uy("editorTextFocus",!1,w.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),V.focus=new r.uy("editorFocus",!1,w.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),V.textInputFocus=new r.uy("textInputFocus",!1,w.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),V.readOnly=new r.uy("editorReadonly",!1,w.NC("editorReadonly","Whether the editor is read only")),V.inDiffEditor=new r.uy("inDiffEditor",!1,w.NC("inDiffEditor","Whether the context is a diff editor")),V.columnSelection=new r.uy("editorColumnSelection",!1,w.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),V.writable=V.readOnly.toNegated(),V.hasNonEmptySelection=new r.uy("editorHasSelection",!1,w.NC("editorHasSelection","Whether the editor has text selected")),V.hasOnlyEmptySelection=V.hasNonEmptySelection.toNegated(),V.hasMultipleSelections=new r.uy("editorHasMultipleSelections",!1,w.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),V.hasSingleSelection=V.hasMultipleSelections.toNegated(),V.tabMovesFocus=new r.uy("editorTabMovesFocus",!1,w.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),V.tabDoesNotMoveFocus=V.tabMovesFocus.toNegated(),V.isInWalkThroughSnippet=new r.uy("isInEmbeddedEditor",!1,!0),V.canUndo=new r.uy("canUndo",!1,!0),V.canRedo=new r.uy("canRedo",!1,!0),V.hoverVisible=new r.uy("editorHoverVisible",!1,w.NC("editorHoverVisible","Whether the editor hover is visible")),V.inCompositeEditor=new r.uy("inCompositeEditor",void 0,w.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),V.notInCompositeEditor=V.inCompositeEditor.toNegated(),V.languageId=new r.uy("editorLangId","",w.NC("editorLangId","The language identifier of the editor")),V.hasCompletionItemProvider=new r.uy("editorHasCompletionItemProvider",!1,w.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),V.hasCodeActionsProvider=new r.uy("editorHasCodeActionsProvider",!1,w.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),V.hasCodeLensProvider=new r.uy("editorHasCodeLensProvider",!1,w.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),V.hasDefinitionProvider=new r.uy("editorHasDefinitionProvider",!1,w.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),V.hasDeclarationProvider=new r.uy("editorHasDeclarationProvider",!1,w.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),V.hasImplementationProvider=new r.uy("editorHasImplementationProvider",!1,w.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),V.hasTypeDefinitionProvider=new r.uy("editorHasTypeDefinitionProvider",!1,w.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),V.hasHoverProvider=new r.uy("editorHasHoverProvider",!1,w.NC("editorHasHoverProvider","Whether the editor has a hover provider")),V.hasDocumentHighlightProvider=new r.uy("editorHasDocumentHighlightProvider",!1,w.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),V.hasDocumentSymbolProvider=new r.uy("editorHasDocumentSymbolProvider",!1,w.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),V.hasReferenceProvider=new r.uy("editorHasReferenceProvider",!1,w.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),V.hasRenameProvider=new r.uy("editorHasRenameProvider",!1,w.NC("editorHasRenameProvider","Whether the editor has a rename provider")),V.hasSignatureHelpProvider=new r.uy("editorHasSignatureHelpProvider",!1,w.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),V.hasInlayHintsProvider=new r.uy("editorHasInlayHintsProvider",!1,w.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),V.hasDocumentFormattingProvider=new r.uy("editorHasDocumentFormattingProvider",!1,w.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),V.hasDocumentSelectionFormattingProvider=new r.uy("editorHasDocumentSelectionFormattingProvider",!1,w.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),V.hasMultipleDocumentFormattingProvider=new r.uy("editorHasMultipleDocumentFormattingProvider",!1,w.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),V.hasMultipleDocumentSelectionFormattingProvider=new r.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,w.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(O||(O={}))},45797:function(Ot,Te,i){"use strict";i.d(Te,{N:function(){return w}});class w{static getLanguageId(O){return(O&255)>>>0}static getTokenType(O){return(O&768)>>>8}static containsBalancedBrackets(O){return(O&1024)!==0}static getFontStyle(O){return(O&30720)>>>11}static getForeground(O){return(O&16744448)>>>15}static getBackground(O){return(O&4278190080)>>>24}static getClassNameFromMetadata(O){const V=this.getForeground(O);let D="mtk"+V;const $=this.getFontStyle(O);return $&1&&(D+=" mtki"),$&2&&(D+=" mtkb"),$&4&&(D+=" mtku"),$&8&&(D+=" mtks"),D}static getInlineStyleFromMetadata(O,V){const D=this.getForeground(O),$=this.getFontStyle(O);let M=`color: ${V[D]};`;$&1&&(M+="font-style: italic;"),$&2&&(M+="font-weight: bold;");let P="";return $&4&&(P+=" underline"),$&8&&(P+=" line-through"),P&&(M+=`text-decoration:${P};`),M}static getPresentationFromMetadata(O){const V=this.getForeground(O),D=this.getFontStyle(O);return{foreground:V,italic:Boolean(D&1),bold:Boolean(D&2),underline:Boolean(D&4),strikethrough:Boolean(D&8)}}}},96887:function(Ot,Te,i){"use strict";i.d(Te,{mY:function(){return C},gX:function(){return p},MY:function(){return a},DI:function(){return c},AD:function(){return u},gl:function(){return y},bw:function(){return l},WW:function(){return n},uZ:function(){return f},WU:function(){return A},RW:function(){return b},hG:function(){return L},vx:function(){return g}});var w=i(73046),r=i(70666),O=i(24314),V=i(4669),D=i(9917),$=function(_,E,I,R){function J(Q){return Q instanceof I?Q:new I(function(U){U(Q)})}return new(I||(I=Promise))(function(Q,U){function K(j){try{X(R.next(j))}catch(x){U(x)}}function H(j){try{X(R.throw(j))}catch(x){U(x)}}function X(j){j.done?Q(j.value):J(j.value).then(K,H)}X((R=R.apply(_,E||[])).next())})};class M{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new V.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(E){this._onDidChange.fire({changedLanguages:E,changedColorMap:!1})}register(E,I){return this._map.set(E,I),this.fire([E]),(0,D.OF)(()=>{this._map.get(E)===I&&(this._map.delete(E),this.fire([E]))})}registerFactory(E,I){var R;(R=this._factories.get(E))===null||R===void 0||R.dispose();const J=new P(this,E,I);return this._factories.set(E,J),(0,D.OF)(()=>{const Q=this._factories.get(E);!Q||Q!==J||(this._factories.delete(E),Q.dispose())})}getOrCreate(E){return $(this,void 0,void 0,function*(){const I=this.get(E);if(I)return I;const R=this._factories.get(E);return!R||R.isResolved?null:(yield R.resolve(),this.get(E))})}get(E){return this._map.get(E)||null}isResolved(E){if(this.get(E))return!0;const R=this._factories.get(E);return!!(!R||R.isResolved)}setColorMap(E){this._colorMap=E,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class P extends D.JT{constructor(E,I,R){super(),this._registry=E,this._languageId=I,this._factory=R,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return $(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return $(this,void 0,void 0,function*(){const E=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,E&&!this._isDisposed&&this._register(this._registry.register(this._languageId,E))})}}class A{constructor(E,I,R){this._tokenBrand=void 0,this.offset=E,this.type=I,this.language=R}toString(){return"("+this.offset+", "+this.type+")"}}class L{constructor(E,I){this._tokenizationResultBrand=void 0,this.tokens=E,this.endState=I}}class c{constructor(E,I){this._encodedTokenizationResultBrand=void 0,this.tokens=E,this.endState=I}}var p;(function(_){const E=new Map;E.set(0,w.lA.symbolMethod),E.set(1,w.lA.symbolFunction),E.set(2,w.lA.symbolConstructor),E.set(3,w.lA.symbolField),E.set(4,w.lA.symbolVariable),E.set(5,w.lA.symbolClass),E.set(6,w.lA.symbolStruct),E.set(7,w.lA.symbolInterface),E.set(8,w.lA.symbolModule),E.set(9,w.lA.symbolProperty),E.set(10,w.lA.symbolEvent),E.set(11,w.lA.symbolOperator),E.set(12,w.lA.symbolUnit),E.set(13,w.lA.symbolValue),E.set(15,w.lA.symbolEnum),E.set(14,w.lA.symbolConstant),E.set(15,w.lA.symbolEnum),E.set(16,w.lA.symbolEnumMember),E.set(17,w.lA.symbolKeyword),E.set(27,w.lA.symbolSnippet),E.set(18,w.lA.symbolText),E.set(19,w.lA.symbolColor),E.set(20,w.lA.symbolFile),E.set(21,w.lA.symbolReference),E.set(22,w.lA.symbolCustomColor),E.set(23,w.lA.symbolFolder),E.set(24,w.lA.symbolTypeParameter),E.set(25,w.lA.account),E.set(26,w.lA.issues);function I(Q){let U=E.get(Q);return U||(console.info("No codicon found for CompletionItemKind "+Q),U=w.lA.symbolProperty),U}_.toIcon=I;const R=new Map;R.set("method",0),R.set("function",1),R.set("constructor",2),R.set("field",3),R.set("variable",4),R.set("class",5),R.set("struct",6),R.set("interface",7),R.set("module",8),R.set("property",9),R.set("event",10),R.set("operator",11),R.set("unit",12),R.set("value",13),R.set("constant",14),R.set("enum",15),R.set("enum-member",16),R.set("enumMember",16),R.set("keyword",17),R.set("snippet",27),R.set("text",18),R.set("color",19),R.set("file",20),R.set("reference",21),R.set("customcolor",22),R.set("folder",23),R.set("type-parameter",24),R.set("typeParameter",24),R.set("account",25),R.set("issue",26);function J(Q,U){let K=R.get(Q);return typeof K>"u"&&!U&&(K=9),K}_.fromString=J})(p||(p={}));var l;(function(_){_[_.Automatic=0]="Automatic",_[_.Explicit=1]="Explicit"})(l||(l={}));var n;(function(_){_[_.Invoke=1]="Invoke",_[_.TriggerCharacter=2]="TriggerCharacter",_[_.ContentChange=3]="ContentChange"})(n||(n={}));var a;(function(_){_[_.Text=0]="Text",_[_.Read=1]="Read",_[_.Write=2]="Write"})(a||(a={}));function g(_){return _&&r.o.isUri(_.uri)&&O.e.isIRange(_.range)&&(O.e.isIRange(_.originSelectionRange)||O.e.isIRange(_.targetSelectionRange))}var f;(function(_){const E=new Map;E.set(0,w.lA.symbolFile),E.set(1,w.lA.symbolModule),E.set(2,w.lA.symbolNamespace),E.set(3,w.lA.symbolPackage),E.set(4,w.lA.symbolClass),E.set(5,w.lA.symbolMethod),E.set(6,w.lA.symbolProperty),E.set(7,w.lA.symbolField),E.set(8,w.lA.symbolConstructor),E.set(9,w.lA.symbolEnum),E.set(10,w.lA.symbolInterface),E.set(11,w.lA.symbolFunction),E.set(12,w.lA.symbolVariable),E.set(13,w.lA.symbolConstant),E.set(14,w.lA.symbolString),E.set(15,w.lA.symbolNumber),E.set(16,w.lA.symbolBoolean),E.set(17,w.lA.symbolArray),E.set(18,w.lA.symbolObject),E.set(19,w.lA.symbolKey),E.set(20,w.lA.symbolNull),E.set(21,w.lA.symbolEnumMember),E.set(22,w.lA.symbolStruct),E.set(23,w.lA.symbolEvent),E.set(24,w.lA.symbolOperator),E.set(25,w.lA.symbolTypeParameter);function I(R){let J=E.get(R);return J||(console.info("No codicon found for SymbolKind "+R),J=w.lA.symbolProperty),J}_.toIcon=I})(f||(f={}));class u{constructor(E){this.value=E}}u.Comment=new u("comment"),u.Imports=new u("imports"),u.Region=new u("region");var C;(function(_){function E(I){return!I||typeof I!="object"?!1:typeof I.id=="string"&&typeof I.title=="string"}_.is=E})(C||(C={}));var y;(function(_){_[_.Type=1]="Type",_[_.Parameter=2]="Parameter"})(y||(y={}));const b=new M},75383:function(Ot,Te,i){"use strict";i.d(Te,{$9:function(){return A},UF:function(){return P},n8:function(){return M},r7:function(){return $},tI:function(){return L}});var w=i(97295),r=i(49119),O=i(19111),V=i(51381);function D(c,p,l){const n=c.tokenization.getLanguageIdAtPosition(p,0);if(p>1){let a,g=-1;for(a=p-1;a>=1;a--){if(c.tokenization.getLanguageIdAtPosition(a,0)!==n)return g;const f=c.getLineContent(a);if(l.shouldIgnore(f)||/^\s+$/.test(f)||f===""){g=a;continue}return a}}return-1}function $(c,p,l,n=!0,a){if(c<4)return null;const g=a.getLanguageConfiguration(p.tokenization.getLanguageId()).indentRulesSupport;if(!g)return null;if(l<=1)return{indentation:"",action:null};const f=D(p,l,g);if(f<0)return null;if(f<1)return{indentation:"",action:null};const u=p.getLineContent(f);if(g.shouldIncrease(u)||g.shouldIndentNextLine(u))return{indentation:w.V8(u),action:r.wU.Indent,line:f};if(g.shouldDecrease(u))return{indentation:w.V8(u),action:null,line:f};{if(f===1)return{indentation:w.V8(p.getLineContent(f)),action:null,line:f};const C=f-1,y=g.getIndentMetadata(p.getLineContent(C));if(!(y&3)&&y&4){let b=0;for(let _=C-1;_>0;_--)if(!g.shouldIndentNextLine(p.getLineContent(_))){b=_;break}return{indentation:w.V8(p.getLineContent(b+1)),action:null,line:b+1}}if(n)return{indentation:w.V8(p.getLineContent(f)),action:null,line:f};for(let b=f;b>0;b--){const _=p.getLineContent(b);if(g.shouldIncrease(_))return{indentation:w.V8(_),action:r.wU.Indent,line:b};if(g.shouldIndentNextLine(_)){let E=0;for(let I=b-1;I>0;I--)if(!g.shouldIndentNextLine(p.getLineContent(b))){E=I;break}return{indentation:w.V8(p.getLineContent(E+1)),action:null,line:E+1}}else if(g.shouldDecrease(_))return{indentation:w.V8(_),action:null,line:b}}return{indentation:w.V8(p.getLineContent(1)),action:null,line:1}}}function M(c,p,l,n,a,g){if(c<4)return null;const f=g.getLanguageConfiguration(l);if(!f)return null;const u=g.getLanguageConfiguration(l).indentRulesSupport;if(!u)return null;const C=$(c,p,n,void 0,g),y=p.getLineContent(n);if(C){const b=C.line;if(b!==void 0){const _=f.onEnter(c,"",p.getLineContent(b),"");if(_){let E=w.V8(p.getLineContent(b));return _.removeText&&(E=E.substring(0,E.length-_.removeText)),_.indentAction===r.wU.Indent||_.indentAction===r.wU.IndentOutdent?E=a.shiftIndent(E):_.indentAction===r.wU.Outdent&&(E=a.unshiftIndent(E)),u.shouldDecrease(y)&&(E=a.unshiftIndent(E)),_.appendText&&(E+=_.appendText),w.V8(E)}}return u.shouldDecrease(y)?C.action===r.wU.Indent?C.indentation:a.unshiftIndent(C.indentation):C.action===r.wU.Indent?a.shiftIndent(C.indentation):C.indentation}return null}function P(c,p,l,n,a){if(c<4)return null;p.tokenization.forceTokenization(l.startLineNumber);const g=p.tokenization.getLineTokens(l.startLineNumber),f=(0,O.wH)(g,l.startColumn-1),u=f.getLineContent();let C=!1,y;f.firstCharOffset>0&&g.getLanguageId(0)!==f.languageId?(C=!0,y=u.substr(0,l.startColumn-1-f.firstCharOffset)):y=g.getLineContent().substring(0,l.startColumn-1);let b;l.isEmpty()?b=u.substr(l.startColumn-1-f.firstCharOffset):b=(0,V.n2)(p,l.endLineNumber,l.endColumn).getLineContent().substr(l.endColumn-1-f.firstCharOffset);const _=a.getLanguageConfiguration(f.languageId).indentRulesSupport;if(!_)return null;const E=y,I=w.V8(y),R={tokenization:{getLineTokens:K=>p.tokenization.getLineTokens(K),getLanguageId:()=>p.getLanguageId(),getLanguageIdAtPosition:(K,H)=>p.getLanguageIdAtPosition(K,H)},getLineContent:K=>K===l.startLineNumber?E:p.getLineContent(K)},J=w.V8(g.getLineContent()),Q=$(c,R,l.startLineNumber+1,void 0,a);if(!Q){const K=C?J:I;return{beforeEnter:K,afterEnter:K}}let U=C?J:Q.indentation;return Q.action===r.wU.Indent&&(U=n.shiftIndent(U)),_.shouldDecrease(b)&&(U=n.unshiftIndent(U)),{beforeEnter:C?J:I,afterEnter:U}}function A(c,p,l,n,a,g){if(c<4)return null;const f=(0,V.n2)(p,l.startLineNumber,l.startColumn);if(f.firstCharOffset)return null;const u=g.getLanguageConfiguration(f.languageId).indentRulesSupport;if(!u)return null;const C=f.getLineContent(),y=C.substr(0,l.startColumn-1-f.firstCharOffset);let b;if(l.isEmpty()?b=C.substr(l.startColumn-1-f.firstCharOffset):b=(0,V.n2)(p,l.endLineNumber,l.endColumn).getLineContent().substr(l.endColumn-1-f.firstCharOffset),!u.shouldDecrease(y+b)&&u.shouldDecrease(y+n+b)){const _=$(c,p,l.startLineNumber,!1,g);if(!_)return null;let E=_.indentation;return _.action!==r.wU.Indent&&(E=a.unshiftIndent(E)),E}return null}function L(c,p,l){const n=l.getLanguageConfiguration(c.getLanguageId()).indentRulesSupport;return!n||p<1||p>c.getLineCount()?null:n.getIndentMetadata(c.getLineContent(p))}},1615:function(Ot,Te,i){"use strict";i.d(Te,{A:function(){return O}});var w=i(49119),r=i(51381);function O(V,D,$,M){const P=(0,r.n2)(D,$.startLineNumber,$.startColumn),A=M.getLanguageConfiguration(P.languageId);if(!A)return null;const L=P.getLineContent(),c=L.substr(0,$.startColumn-1-P.firstCharOffset);let p;$.isEmpty()?p=L.substr($.startColumn-1-P.firstCharOffset):p=(0,r.n2)(D,$.endLineNumber,$.endColumn).getLineContent().substr($.endColumn-1-P.firstCharOffset);let l="";if($.startLineNumber>1&&P.firstCharOffset===0){const C=(0,r.n2)(D,$.startLineNumber-1);C.languageId===P.languageId&&(l=C.getLineContent())}const n=A.onEnter(V,l,c,p);if(!n)return null;const a=n.indentAction;let g=n.appendText;const f=n.removeText||0;g?a===w.wU.Indent&&(g="	"+g):a===w.wU.Indent||a===w.wU.IndentOutdent?g="	":g="";let u=(0,r.u0)(D,$.startLineNumber,$.startColumn);return f&&(u=u.substring(0,u.length-f)),{indentAction:a,appendText:g,removeText:f,indentation:u}}},72042:function(Ot,Te,i){"use strict";i.d(Te,{O:function(){return r}});var w=i(72065);const r=(0,w.yh)("languageService")},49119:function(Ot,Te,i){"use strict";i.d(Te,{V6:function(){return r},c$:function(){return O},wU:function(){return w}});var w;(function(D){D[D.None=0]="None",D[D.Indent=1]="Indent",D[D.IndentOutdent=2]="IndentOutdent",D[D.Outdent=3]="Outdent"})(w||(w={}));class r{constructor($){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=$.open,this.close=$.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray($.notIn))for(let M=0,P=$.notIn.length;M<P;M++)switch($.notIn[M]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK($){switch($){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose($,M){if($.getTokenCount()===0)return!0;const P=$.findTokenIndexAtOffset(M-2),A=$.getStandardTokenType(P);return this.isOK(A)}_findNeutralCharacterInRange($,M){for(let P=$;P<=M;P++){const A=String.fromCharCode(P);if(!this.open.includes(A)&&!this.close.includes(A))return A}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class O{constructor($){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const M of $)V(this.autoClosingPairsOpenByStart,M.open.charAt(0),M),V(this.autoClosingPairsOpenByEnd,M.open.charAt(M.open.length-1),M),V(this.autoClosingPairsCloseByStart,M.close.charAt(0),M),V(this.autoClosingPairsCloseByEnd,M.close.charAt(M.close.length-1),M),M.close.length===1&&M.open.length===1&&V(this.autoClosingPairsCloseSingleChar,M.close,M)}}function V(D,$,M){D.has($)?D.get($).push(M):D.set($,[M])}},51381:function(Ot,Te,i){"use strict";i.d(Te,{c_:function(){return K},u0:function(){return T},n2:function(){return z}});var w=i(4669),r=i(9917),O=i(97295),V=i(270),D=i(49119),$=i(19111);class M{constructor(ee){if(ee.autoClosingPairs?this._autoClosingPairs=ee.autoClosingPairs.map(se=>new D.V6(se)):ee.brackets?this._autoClosingPairs=ee.brackets.map(se=>new D.V6({open:se[0],close:se[1]})):this._autoClosingPairs=[],ee.__electricCharacterSupport&&ee.__electricCharacterSupport.docComment){const se=ee.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new D.V6({open:se.open,close:se.close||""}))}this._autoCloseBefore=typeof ee.autoCloseBefore=="string"?ee.autoCloseBefore:M.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=ee.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}}M.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`;var P=i(9488),A=i(34302);class L{constructor(ee){this._richEditBrackets=ee}getElectricCharacters(){const ee=[];if(this._richEditBrackets)for(const se of this._richEditBrackets.brackets)for(const ne of se.close){const oe=ne.charAt(ne.length-1);ee.push(oe)}return(0,P.EB)(ee)}onElectricCharacter(ee,se,ne){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const oe=se.findTokenIndexAtOffset(ne-1);if((0,$.Bu)(se.getStandardTokenType(oe)))return null;const Se=this._richEditBrackets.reversedRegex,Ee=se.getLineContent().substring(0,ne-1)+ee,Me=A.Vr.findPrevBracketInRange(Se,1,Ee,0,Ee.length);if(!Me)return null;const ye=Ee.substring(Me.startColumn-1,Me.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[ye])return null;const ie=se.getActualLineContentBefore(Me.startColumn-1);return/^\s*$/.test(ie)?{matchOpenBracket:ye}:null}}function c(pe){return pe.global&&(pe.lastIndex=0),!0}class p{constructor(ee){this._indentationRules=ee}shouldIncrease(ee){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&c(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(ee))}shouldDecrease(ee){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&c(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(ee))}shouldIndentNextLine(ee){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&c(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(ee))}shouldIgnore(ee){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&c(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(ee))}getIndentMetadata(ee){let se=0;return this.shouldIncrease(ee)&&(se+=1),this.shouldDecrease(ee)&&(se+=2),this.shouldIndentNextLine(ee)&&(se+=4),this.shouldIgnore(ee)&&(se+=8),se}}var l=i(17301);class n{constructor(ee){ee=ee||{},ee.brackets=ee.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],ee.brackets.forEach(se=>{const ne=n._createOpenBracketRegExp(se[0]),oe=n._createCloseBracketRegExp(se[1]);ne&&oe&&this._brackets.push({open:se[0],openRegExp:ne,close:se[1],closeRegExp:oe})}),this._regExpRules=ee.onEnterRules||[]}onEnter(ee,se,ne,oe){if(ee>=3)for(let Se=0,Ee=this._regExpRules.length;Se<Ee;Se++){const Me=this._regExpRules[Se];if([{reg:Me.beforeText,text:ne},{reg:Me.afterText,text:oe},{reg:Me.previousLineText,text:se}].every(le=>le.reg?(le.reg.lastIndex=0,le.reg.test(le.text)):!0))return Me.action}if(ee>=2&&ne.length>0&&oe.length>0)for(let Se=0,Ee=this._brackets.length;Se<Ee;Se++){const Me=this._brackets[Se];if(Me.openRegExp.test(ne)&&Me.closeRegExp.test(oe))return{indentAction:D.wU.IndentOutdent}}if(ee>=2&&ne.length>0){for(let Se=0,Ee=this._brackets.length;Se<Ee;Se++)if(this._brackets[Se].openRegExp.test(ne))return{indentAction:D.wU.Indent}}return null}static _createOpenBracketRegExp(ee){let se=O.ec(ee);return/\B/.test(se.charAt(0))||(se="\\b"+se),se+="\\s*$",n._safeRegExp(se)}static _createCloseBracketRegExp(ee){let se=O.ec(ee);return/\B/.test(se.charAt(se.length-1))||(se=se+"\\b"),se="^\\s*"+se,n._safeRegExp(se)}static _safeRegExp(ee){try{return new RegExp(ee)}catch(se){return(0,l.dL)(se),null}}}var a=i(72065),g=i(33108),f=i(72042),u=i(65026),C=i(68801),y=i(701);class b{constructor(ee,se){this.languageId=ee;let ne;se.colorizedBracketPairs?ne=_(se.colorizedBracketPairs.map(Ee=>[Ee[0],Ee[1]])):se.brackets?ne=_(se.brackets.map(Ee=>[Ee[0],Ee[1]]).filter(Ee=>!(Ee[0]==="<"&&Ee[1]===">"))):ne=[];const oe=new y.b(Ee=>{const Me=new Set;return{info:new I(this,Ee,Me),closing:Me}}),Se=new y.b(Ee=>{const Me=new Set;return{info:new R(this,Ee,Me),opening:Me}});for(const[Ee,Me]of ne){const ye=oe.get(Ee),le=Se.get(Me);ye.closing.add(le.info),le.opening.add(ye.info)}this._openingBrackets=new Map([...oe.cachedValues].map(([Ee,Me])=>[Ee,Me.info])),this._closingBrackets=new Map([...Se.cachedValues].map(([Ee,Me])=>[Ee,Me.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(ee){return this._openingBrackets.get(ee)}getClosingBracketInfo(ee){return this._closingBrackets.get(ee)}getBracketInfo(ee){return this.getOpeningBracketInfo(ee)||this.getClosingBracketInfo(ee)}}function _(pe){return pe.filter(([ee,se])=>ee!==""&&se!=="")}class E{constructor(ee,se){this.config=ee,this.bracketText=se}get languageId(){return this.config.languageId}}class I extends E{constructor(ee,se,ne){super(ee,se),this.openedBrackets=ne,this.isOpeningBracket=!0}}class R extends E{constructor(ee,se,ne){super(ee,se),this.closedBrackets=ne,this.isOpeningBracket=!1}closes(ee){if(ee.languageId===this.languageId&&ee.config!==this.config)throw new l.he("Brackets from different language configuration cannot be used.");return this.closedBrackets.has(ee)}getClosedBrackets(){return[...this.closedBrackets]}}var J=function(pe,ee,se,ne){var oe=arguments.length,Se=oe<3?ee:ne===null?ne=Object.getOwnPropertyDescriptor(ee,se):ne,Ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Se=Reflect.decorate(pe,ee,se,ne);else for(var Me=pe.length-1;Me>=0;Me--)(Ee=pe[Me])&&(Se=(oe<3?Ee(Se):oe>3?Ee(ee,se,Se):Ee(ee,se))||Se);return oe>3&&Se&&Object.defineProperty(ee,se,Se),Se},Q=function(pe,ee){return function(se,ne){ee(se,ne,pe)}};class U{constructor(ee){this.languageId=ee}affects(ee){return this.languageId?this.languageId===ee:!0}}const K=(0,a.yh)("languageConfigurationService");let H=class extends r.JT{constructor(ee,se){super(),this.configurationService=ee,this.languageService=se,this._registry=this._register(new Ce),this.onDidChangeEmitter=this._register(new w.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const ne=new Set(Object.values(j));this._register(this.configurationService.onDidChangeConfiguration(oe=>{const Se=oe.change.keys.some(Me=>ne.has(Me)),Ee=oe.change.overrides.filter(([Me,ye])=>ye.some(le=>ne.has(le))).map(([Me])=>Me);if(Se)this.configurations.clear(),this.onDidChangeEmitter.fire(new U(void 0));else for(const Me of Ee)this.languageService.isRegisteredLanguageId(Me)&&(this.configurations.delete(Me),this.onDidChangeEmitter.fire(new U(Me)))})),this._register(this._registry.onDidChange(oe=>{this.configurations.delete(oe.languageId),this.onDidChangeEmitter.fire(new U(oe.languageId))}))}register(ee,se,ne){return this._registry.register(ee,se,ne)}getLanguageConfiguration(ee){let se=this.configurations.get(ee);return se||(se=X(ee,this._registry,this.configurationService,this.languageService),this.configurations.set(ee,se)),se}};H=J([Q(0,g.Ui),Q(1,f.O)],H);function X(pe,ee,se,ne){let oe=ee.getLanguageConfiguration(pe);if(!oe){if(!ne.isRegisteredLanguageId(pe))throw new Error(`Language id "${pe}" is not configured nor known`);oe=new ge(pe,{})}const Se=x(oe.languageId,se),Ee=re([oe.underlyingConfig,Se]);return new ge(oe.languageId,Ee)}const j={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function x(pe,ee){const se=ee.getValue(j.brackets,{overrideIdentifier:pe}),ne=ee.getValue(j.colorizedBracketPairs,{overrideIdentifier:pe});return{brackets:Z(se),colorizedBracketPairs:Z(ne)}}function Z(pe){if(!!Array.isArray(pe))return pe.map(ee=>{if(!(!Array.isArray(ee)||ee.length!==2))return[ee[0],ee[1]]}).filter(ee=>!!ee)}function T(pe,ee,se){const ne=pe.getLineContent(ee);let oe=O.V8(ne);return oe.length>se-1&&(oe=oe.substring(0,se-1)),oe}function z(pe,ee,se){pe.tokenization.forceTokenization(ee);const ne=pe.tokenization.getLineTokens(ee),oe=typeof se>"u"?pe.getLineMaxColumn(ee)-1:se-1;return(0,$.wH)(ne,oe)}class G{constructor(ee){this.languageId=ee,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(ee,se){const ne=new S(ee,se,++this._order);return this._entries.push(ne),this._resolved=null,(0,r.OF)(()=>{for(let oe=0;oe<this._entries.length;oe++)if(this._entries[oe]===ne){this._entries.splice(oe,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const ee=this._resolve();ee&&(this._resolved=new ge(this.languageId,ee))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(S.cmp),re(this._entries.map(ee=>ee.configuration)))}}function re(pe){let ee={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const se of pe)ee={comments:se.comments||ee.comments,brackets:se.brackets||ee.brackets,wordPattern:se.wordPattern||ee.wordPattern,indentationRules:se.indentationRules||ee.indentationRules,onEnterRules:se.onEnterRules||ee.onEnterRules,autoClosingPairs:se.autoClosingPairs||ee.autoClosingPairs,surroundingPairs:se.surroundingPairs||ee.surroundingPairs,autoCloseBefore:se.autoCloseBefore||ee.autoCloseBefore,folding:se.folding||ee.folding,colorizedBracketPairs:se.colorizedBracketPairs||ee.colorizedBracketPairs,__electricCharacterSupport:se.__electricCharacterSupport||ee.__electricCharacterSupport};return ee}class S{constructor(ee,se,ne){this.configuration=ee,this.priority=se,this.order=ne}static cmp(ee,se){return ee.priority===se.priority?ee.order-se.order:ee.priority-se.priority}}class he{constructor(ee){this.languageId=ee}}class Ce extends r.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new w.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(C.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(ee,se,ne=0){let oe=this._entries.get(ee);oe||(oe=new G(ee),this._entries.set(ee,oe));const Se=oe.register(se,ne);return this._onDidChange.fire(new he(ee)),(0,r.OF)(()=>{Se.dispose(),this._onDidChange.fire(new he(ee))})}getLanguageConfiguration(ee){const se=this._entries.get(ee);return(se==null?void 0:se.getResolvedConfiguration())||null}}class ge{constructor(ee,se){this.languageId=ee,this.underlyingConfig=se,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new n(this.underlyingConfig):null,this.comments=ge._handleComments(this.underlyingConfig),this.characterPair=new M(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||V.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new p(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new b(ee,this.underlyingConfig)}getWordDefinition(){return(0,V.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new A.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new L(this.brackets)),this._electricCharacter}onEnter(ee,se,ne,oe){return this._onEnterSupport?this._onEnterSupport.onEnter(ee,se,ne,oe):null}getAutoClosingPairs(){return new D.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(ee){const se=ee.comments;if(!se)return null;const ne={};if(se.lineComment&&(ne.lineCommentToken=se.lineComment),se.blockComment){const[oe,Se]=se.blockComment;ne.blockCommentStartToken=oe,ne.blockCommentEndToken=Se}return ne}}(0,u.z)(K,H)},68801:function(Ot,Te,i){"use strict";i.d(Te,{bd:function(){return A},dQ:function(){return P}});var w=i(63580),r=i(4669),O=i(89872),V=i(81170),D=i(23193);const $={ModesRegistry:"editor.modesRegistry"};class M{constructor(){this._onDidChangeLanguages=new r.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(p){return this._languages.push(p),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let l=0,n=this._languages.length;l<n;l++)if(this._languages[l]===p){this._languages.splice(l,1);return}}}}getLanguages(){return this._languages}}const P=new M;O.B.add($.ModesRegistry,P);const A="plaintext",L=".txt";P.registerLanguage({id:A,extensions:[L],aliases:[w.NC("plainText.alias","Plain Text"),"text"],mimetypes:[V.v.text]}),O.B.as(D.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},276:function(Ot,Te,i){"use strict";i.d(Te,{Dy:function(){return V},Ri:function(){return O},TJ:function(){return r}});var w=i(96887);const r=new class{clone(){return this}equals(D){return this===D}};function O(D,$){return new w.hG([new w.WU(0,"",D)],$)}function V(D,$){const M=new Uint32Array(2);return M[0]=0,M[1]=(D<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new w.DI(M,$===null?r:$)}},19111:function(Ot,Te,i){"use strict";i.d(Te,{Bu:function(){return O},wH:function(){return w}});function w(V,D){const $=V.getCount(),M=V.findTokenIndexAtOffset(D),P=V.getLanguageId(M);let A=M;for(;A+1<$&&V.getLanguageId(A+1)===P;)A++;let L=M;for(;L>0&&V.getLanguageId(L-1)===P;)L--;return new r(V,P,L,A+1,V.getStartOffset(L),V.getEndOffset(A))}class r{constructor(D,$,M,P,A,L){this._scopedLineTokensBrand=void 0,this._actual=D,this.languageId=$,this._firstTokenIndex=M,this._lastTokenIndex=P,this.firstCharOffset=A,this._lastCharOffset=L}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(D){return this._actual.getLineContent().substring(0,this.firstCharOffset+D)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(D){return this._actual.findTokenIndexAtOffset(D+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(D){return this._actual.getStandardTokenType(D+this._firstTokenIndex)}}function O(V){return(V&3)!==0}},34302:function(Ot,Te,i){"use strict";i.d(Te,{EA:function(){return $},Vr:function(){return f}});var w=i(97295),r=i(50072),O=i(24314);class V{constructor(C,y,b,_,E,I){this._richEditBracketBrand=void 0,this.languageId=C,this.index=y,this.open=b,this.close=_,this.forwardRegex=E,this.reversedRegex=I,this._openSet=V._toSet(this.open),this._closeSet=V._toSet(this.close)}isOpen(C){return this._openSet.has(C)}isClose(C){return this._closeSet.has(C)}static _toSet(C){const y=new Set;for(const b of C)y.add(b);return y}}function D(u){const C=u.length;u=u.map(I=>[I[0].toLowerCase(),I[1].toLowerCase()]);const y=[];for(let I=0;I<C;I++)y[I]=I;const b=(I,R)=>{const[J,Q]=I,[U,K]=R;return J===U||J===K||Q===U||Q===K},_=(I,R)=>{const J=Math.min(I,R),Q=Math.max(I,R);for(let U=0;U<C;U++)y[U]===Q&&(y[U]=J)};for(let I=0;I<C;I++){const R=u[I];for(let J=I+1;J<C;J++){const Q=u[J];b(R,Q)&&_(y[I],y[J])}}const E=[];for(let I=0;I<C;I++){const R=[],J=[];for(let Q=0;Q<C;Q++)if(y[Q]===I){const[U,K]=u[Q];R.push(U),J.push(K)}R.length>0&&E.push({open:R,close:J})}return E}class ${constructor(C,y){this._richEditBracketsBrand=void 0;const b=D(y);this.brackets=b.map((_,E)=>new V(C,E,_.open,_.close,L(_.open,_.close,b,E),c(_.open,_.close,b,E))),this.forwardRegex=p(this.brackets),this.reversedRegex=l(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const _ of this.brackets){for(const E of _.open)this.textIsBracket[E]=_,this.textIsOpenBracket[E]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,E.length);for(const E of _.close)this.textIsBracket[E]=_,this.textIsOpenBracket[E]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,E.length)}}}function M(u,C,y,b){for(let _=0,E=C.length;_<E;_++){if(_===y)continue;const I=C[_];for(const R of I.open)R.indexOf(u)>=0&&b.push(R);for(const R of I.close)R.indexOf(u)>=0&&b.push(R)}}function P(u,C){return u.length-C.length}function A(u){if(u.length<=1)return u;const C=[],y=new Set;for(const b of u)y.has(b)||(C.push(b),y.add(b));return C}function L(u,C,y,b){let _=[];_=_.concat(u),_=_.concat(C);for(let E=0,I=_.length;E<I;E++)M(_[E],y,b,_);return _=A(_),_.sort(P),_.reverse(),a(_)}function c(u,C,y,b){let _=[];_=_.concat(u),_=_.concat(C);for(let E=0,I=_.length;E<I;E++)M(_[E],y,b,_);return _=A(_),_.sort(P),_.reverse(),a(_.map(g))}function p(u){let C=[];for(const y of u){for(const b of y.open)C.push(b);for(const b of y.close)C.push(b)}return C=A(C),a(C)}function l(u){let C=[];for(const y of u){for(const b of y.open)C.push(b);for(const b of y.close)C.push(b)}return C=A(C),a(C.map(g))}function n(u){const C=/^[\w ]+$/.test(u);return u=w.ec(u),C?`\\b${u}\\b`:u}function a(u){const C=`(${u.map(n).join(")|(")})`;return w.GF(C,!0)}const g=function(){function u(b){if(r.lZ){const _=new Uint16Array(b.length);let E=0;for(let I=b.length-1;I>=0;I--)_[E++]=b.charCodeAt(I);return r.oe().decode(_)}else{const _=[];let E=0;for(let I=b.length-1;I>=0;I--)_[E++]=b.charAt(I);return _.join("")}}let C=null,y=null;return function(_){return C!==_&&(C=_,y=u(C)),y}}();class f{static _findPrevBracketInText(C,y,b,_){const E=b.match(C);if(!E)return null;const I=b.length-(E.index||0),R=E[0].length,J=_+I;return new O.e(y,J-R+1,y,J+1)}static findPrevBracketInRange(C,y,b,_,E){const R=g(b).substring(b.length-E,b.length-_);return this._findPrevBracketInText(C,y,R,_)}static findNextBracketInText(C,y,b,_){const E=b.match(C);if(!E)return null;const I=E.index||0,R=E[0].length;if(R===0)return null;const J=_+I;return new O.e(y,J+1,y,J+1+R)}static findNextBracketInRange(C,y,b,_,E){const I=b.substring(_,E);return this.findNextBracketInText(C,y,I,_)}}},82963:function(Ot,Te,i){"use strict";i.d(Te,{C2:function(){return M},Fq:function(){return P}});var w=i(97295),r=i(77378),O=i(96887),V=i(276),D=function(L,c,p,l){function n(a){return a instanceof p?a:new p(function(g){g(a)})}return new(p||(p=Promise))(function(a,g){function f(y){try{C(l.next(y))}catch(b){g(b)}}function u(y){try{C(l.throw(y))}catch(b){g(b)}}function C(y){y.done?a(y.value):n(y.value).then(f,u)}C((l=l.apply(L,c||[])).next())})};const $={getInitialState:()=>V.TJ,tokenizeEncoded:(L,c,p)=>(0,V.Dy)(0,p)};function M(L,c,p){return D(this,void 0,void 0,function*(){if(!p)return A(c,L.languageIdCodec,$);const l=yield O.RW.getOrCreate(p);return A(c,L.languageIdCodec,l||$)})}function P(L,c,p,l,n,a,g){let f="<div>",u=l,C=0,y=!0;for(let b=0,_=c.getCount();b<_;b++){const E=c.getEndOffset(b);if(E<=l)continue;let I="";for(;u<E&&u<n;u++){const R=L.charCodeAt(u);switch(R){case 9:{let J=a-(u+C)%a;for(C+=J-1;J>0;)g&&y?(I+="&#160;",y=!1):(I+=" ",y=!0),J--;break}case 60:I+="&lt;",y=!1;break;case 62:I+="&gt;",y=!1;break;case 38:I+="&amp;",y=!1;break;case 0:I+="&#00;",y=!1;break;case 65279:case 8232:case 8233:case 133:I+="\uFFFD",y=!1;break;case 13:I+="&#8203",y=!1;break;case 32:g&&y?(I+="&#160;",y=!1):(I+=" ",y=!0);break;default:I+=String.fromCharCode(R),y=!1}}if(f+=`<span style="${c.getInlineStyle(b,p)}">${I}</span>`,E>n||u>=n)break}return f+="</div>",f}function A(L,c,p){let l='<div class="monaco-tokenized-source">';const n=w.uq(L);let a=p.getInitialState();for(let g=0,f=n.length;g<f;g++){const u=n[g];g>0&&(l+="<br/>");const C=p.tokenizeEncoded(u,!0,a);r.A.convertToEndOffset(C.tokens,u.length);const b=new r.A(C.tokens,u,c).inflate();let _=0;for(let E=0,I=b.getCount();E<I;E++){const R=b.getClassName(E),J=b.getEndOffset(E);l+=`<span class="${R}">${w.YU(u.substring(_,J))}</span>`,_=J}a=C.endState}return l+="</div>",l}},84973:function(Ot,Te,i){"use strict";i.d(Te,{F5:function(){return O},Hf:function(){return M},Qi:function(){return P},RM:function(){return V},Tx:function(){return A},dJ:function(){return D},je:function(){return L},pt:function(){return c},sh:function(){return r},tk:function(){return $}});var w=i(36248),r;(function(p){p[p.Left=1]="Left",p[p.Center=2]="Center",p[p.Right=4]="Right",p[p.Full=7]="Full"})(r||(r={}));var O;(function(p){p[p.Inline=1]="Inline",p[p.Gutter=2]="Gutter"})(O||(O={}));var V;(function(p){p[p.Both=0]="Both",p[p.Right=1]="Right",p[p.Left=2]="Left",p[p.None=3]="None"})(V||(V={}));class D{constructor(l){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,l.tabSize|0),this.indentSize=l.tabSize|0,this.insertSpaces=Boolean(l.insertSpaces),this.defaultEOL=l.defaultEOL|0,this.trimAutoWhitespace=Boolean(l.trimAutoWhitespace),this.bracketPairColorizationOptions=l.bracketPairColorizationOptions}equals(l){return this.tabSize===l.tabSize&&this.indentSize===l.indentSize&&this.insertSpaces===l.insertSpaces&&this.defaultEOL===l.defaultEOL&&this.trimAutoWhitespace===l.trimAutoWhitespace&&(0,w.fS)(this.bracketPairColorizationOptions,l.bracketPairColorizationOptions)}createChangeEvent(l){return{tabSize:this.tabSize!==l.tabSize,indentSize:this.indentSize!==l.indentSize,insertSpaces:this.insertSpaces!==l.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==l.trimAutoWhitespace}}}class ${constructor(l,n){this._findMatchBrand=void 0,this.range=l,this.matches=n}}function M(p){return p&&typeof p.read=="function"}class P{constructor(l,n,a,g,f,u){this.identifier=l,this.range=n,this.text=a,this.forceMoveMarkers=g,this.isAutoWhitespaceEdit=f,this._isTracked=u}}class A{constructor(l,n,a){this.regex=l,this.wordSeparators=n,this.simpleSearch=a}}class L{constructor(l,n,a){this.reverseEdits=l,this.changes=n,this.trimAutoWhitespaceLineNumbers=a}}function c(p){return!p.isTooLargeForSyncing()&&!p.isForSimpleWidget}},41720:function(Ot,Te,i){"use strict";i.d(Te,{BH:function(){return l},Dm:function(){return a},Kd:function(){return D},Y0:function(){return $},n2:function(){return n}});var w=i(7988),r=i(45035),O=i(61761);class V{constructor(f){this._length=f}get length(){return this._length}}class D extends V{constructor(f,u,C,y,b){super(f),this.openingBracket=u,this.child=C,this.closingBracket=y,this.missingOpeningBracketIds=b}static create(f,u,C){let y=f.length;return u&&(y=(0,r.Ii)(y,u.length)),C&&(y=(0,r.Ii)(y,C.length)),new D(y,f,u,C,u?u.missingOpeningBracketIds:O.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(f){switch(f){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const f=new Array;return f.push(this.openingBracket),this.child&&f.push(this.child),this.closingBracket&&f.push(this.closingBracket),f}canBeReused(f){return!(this.closingBracket===null||f.intersects(this.missingOpeningBracketIds))}deepClone(){return new D(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(f,u){return this.child?this.child.computeMinIndentation((0,r.Ii)(f,this.openingBracket.length),u):Number.MAX_SAFE_INTEGER}}class $ extends V{constructor(f,u,C){super(f),this.listHeight=u,this._missingOpeningBracketIds=C,this.cachedMinIndentation=-1}static create23(f,u,C,y=!1){let b=f.length,_=f.missingOpeningBracketIds;if(f.listHeight!==u.listHeight)throw new Error("Invalid list heights");if(b=(0,r.Ii)(b,u.length),_=_.merge(u.missingOpeningBracketIds),C){if(f.listHeight!==C.listHeight)throw new Error("Invalid list heights");b=(0,r.Ii)(b,C.length),_=_.merge(C.missingOpeningBracketIds)}return y?new P(b,f.listHeight+1,f,u,C,_):new M(b,f.listHeight+1,f,u,C,_)}static getEmpty(){return new L(r.xl,0,[],O.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const f=this.childrenLength;if(f===0)return;const u=this.getChild(f-1),C=u.kind===4?u.toMutable():u;return u!==C&&this.setChild(f-1,C),C}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const u=this.getChild(0),C=u.kind===4?u.toMutable():u;return u!==C&&this.setChild(0,C),C}canBeReused(f){if(f.intersects(this.missingOpeningBracketIds))return!1;let u=this,C;for(;u.kind===4&&(C=u.childrenLength)>0;)u=u.getChild(C-1);return u.canBeReused(f)}handleChildrenChanged(){this.throwIfImmutable();const f=this.childrenLength;let u=this.getChild(0).length,C=this.getChild(0).missingOpeningBracketIds;for(let y=1;y<f;y++){const b=this.getChild(y);u=(0,r.Ii)(u,b.length),C=C.merge(b.missingOpeningBracketIds)}this._length=u,this._missingOpeningBracketIds=C,this.cachedMinIndentation=-1}computeMinIndentation(f,u){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let C=Number.MAX_SAFE_INTEGER,y=f;for(let b=0;b<this.childrenLength;b++){const _=this.getChild(b);_&&(C=Math.min(C,_.computeMinIndentation(y,u)),y=(0,r.Ii)(y,_.length))}return this.cachedMinIndentation=C,C}}class M extends ${constructor(f,u,C,y,b,_){super(f,u,_),this._item1=C,this._item2=y,this._item3=b}get childrenLength(){return this._item3!==null?3:2}getChild(f){switch(f){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(f,u){switch(f){case 0:this._item1=u;return;case 1:this._item2=u;return;case 2:this._item3=u;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new M(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(f){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=f,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const f=this._item3;return this._item3=null,this.handleChildrenChanged(),f}prependChildOfSameHeight(f){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=f,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const f=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),f}toMutable(){return this}}class P extends M{toMutable(){return new M(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class A extends ${constructor(f,u,C,y){super(f,u,y),this._children=C}get childrenLength(){return this._children.length}getChild(f){return this._children[f]}setChild(f,u){this._children[f]=u}get children(){return this._children}deepClone(){const f=new Array(this._children.length);for(let u=0;u<this._children.length;u++)f[u]=this._children[u].deepClone();return new A(this.length,this.listHeight,f,this.missingOpeningBracketIds)}appendChildOfSameHeight(f){this.throwIfImmutable(),this._children.push(f),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const f=this._children.pop();return this.handleChildrenChanged(),f}prependChildOfSameHeight(f){this.throwIfImmutable(),this._children.unshift(f),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const f=this._children.shift();return this.handleChildrenChanged(),f}toMutable(){return this}}class L extends A{toMutable(){return new A(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const c=[];class p extends V{get listHeight(){return 0}get childrenLength(){return 0}getChild(f){return null}get children(){return c}deepClone(){return this}}class l extends p{get kind(){return 0}get missingOpeningBracketIds(){return O.tS.getEmpty()}canBeReused(f){return!0}computeMinIndentation(f,u){const C=(0,r.Hw)(f),y=(C.columnCount===0?C.lineCount:C.lineCount+1)+1,b=(0,r.W9)((0,r.Ii)(f,this.length))+1;let _=Number.MAX_SAFE_INTEGER;for(let E=y;E<=b;E++){const I=u.getLineFirstNonWhitespaceColumn(E),R=u.getLineContent(E);if(I===0)continue;const J=w.i.visibleColumnFromColumn(R,I,u.getOptions().tabSize);_=Math.min(_,J)}return _}}class n extends p{constructor(f,u,C){super(f),this.bracketInfo=u,this.bracketIds=C}static create(f,u,C){return new n(f,u,C)}get kind(){return 1}get missingOpeningBracketIds(){return O.tS.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(f){return!1}computeMinIndentation(f,u){return Number.MAX_SAFE_INTEGER}}class a extends p{constructor(f,u){super(u),this.missingOpeningBracketIds=f}get kind(){return 3}canBeReused(f){return!f.intersects(this.missingOpeningBracketIds)}computeMinIndentation(f,u){return Number.MAX_SAFE_INTEGER}}},2442:function(Ot,Te,i){"use strict";i.d(Te,{Q:function(){return r},Y:function(){return O}});var w=i(45035);class r{constructor($,M,P){this.startOffset=$,this.endOffset=M,this.newLength=P}}class O{constructor($,M){this.documentLength=M,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=$.map(P=>V.from(P))}getOffsetBeforeChange($){return this.adjustNextEdit($),this.translateCurToOld($)}getDistanceToNextChange($){this.adjustNextEdit($);const M=this.edits[this.nextEditIdx],P=M?this.translateOldToCur(M.offsetObj):this.documentLength;return(0,w.BE)($,P)}translateOldToCur($){return $.lineCount===this.deltaLineIdxInOld?(0,w.Hg)($.lineCount+this.deltaOldToNewLineCount,$.columnCount+this.deltaOldToNewColumnCount):(0,w.Hg)($.lineCount+this.deltaOldToNewLineCount,$.columnCount)}translateCurToOld($){const M=(0,w.Hw)($);return M.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,w.Hg)(M.lineCount-this.deltaOldToNewLineCount,M.columnCount-this.deltaOldToNewColumnCount):(0,w.Hg)(M.lineCount-this.deltaOldToNewLineCount,M.columnCount)}adjustNextEdit($){for(;this.nextEditIdx<this.edits.length;){const M=this.edits[this.nextEditIdx],P=this.translateOldToCur(M.endOffsetAfterObj);if((0,w.By)(P,$)){this.nextEditIdx++;const A=(0,w.Hw)(P),L=(0,w.Hw)(this.translateOldToCur(M.endOffsetBeforeObj)),c=A.lineCount-L.lineCount;this.deltaOldToNewLineCount+=c;const p=this.deltaLineIdxInOld===M.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,l=A.columnCount-L.columnCount;this.deltaOldToNewColumnCount=p+l,this.deltaLineIdxInOld=M.endOffsetBeforeObj.lineCount}else break}}}class V{constructor($,M,P){this.endOffsetBeforeObj=(0,w.Hw)(M),this.endOffsetAfterObj=(0,w.Hw)((0,w.Ii)($,P)),this.offsetObj=(0,w.Hw)($)}static from($){return new V($.startOffset,$.endOffset,$.newLength)}}},35382:function(Ot,Te,i){"use strict";i.d(Te,{Z:function(){return P}});var w=i(97295),r=i(41720),O=i(45035),V=i(61761),D=i(6735);class ${constructor(L){this.map=L,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(L,c){function p(n){return c.getKey(`${n.languageId}:::${n.bracketText}`)}const l=new Map;for(const n of L.bracketsNew.openingBrackets){const a=(0,O.Hg)(0,n.bracketText.length),g=p(n),f=V.tS.getEmpty().add(g,V.Qw);l.set(n.bracketText,new D.WU(a,1,g,f,r.n2.create(a,n,f)))}for(const n of L.bracketsNew.closingBrackets){const a=(0,O.Hg)(0,n.bracketText.length);let g=V.tS.getEmpty();const f=n.getClosedBrackets();for(const u of f)g=g.add(p(u),V.Qw);l.set(n.bracketText,new D.WU(a,2,p(f[0]),g,r.n2.create(a,n,g)))}return new $(l)}getRegExpStr(){if(this.isEmpty)return null;{const L=[...this.map.keys()];return L.sort(),L.reverse(),L.map(c=>M(c)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const L=this.getRegExpStr();this._regExpGlobal=L?new RegExp(L,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(L){return this.map.get(L.toLowerCase())}findClosingTokenText(L){for(const[c,p]of this.map)if(p.kind===2&&p.bracketIds.intersects(L))return c}get isEmpty(){return this.map.size===0}}function M(A){let L=(0,w.ec)(A);return/^[\w ]+/.test(A)&&(L=`\\b${L}`),/[\w ]+$/.test(A)&&(L=`${L}\\b`),L}class P{constructor(L,c){this.denseKeyProvider=L,this.getLanguageConfiguration=c,this.languageIdToBracketTokens=new Map}didLanguageChange(L){return this.languageIdToBracketTokens.has(L)}getSingleLanguageBracketTokens(L){let c=this.languageIdToBracketTokens.get(L);return c||(c=$.createFromLanguage(this.getLanguageConfiguration(L),this.denseKeyProvider),this.languageIdToBracketTokens.set(L,c)),c}}},45035:function(Ot,Te,i){"use strict";i.d(Te,{BE:function(){return l},By:function(){return a},F_:function(){return c},Hg:function(){return P},Hw:function(){return A},Ii:function(){return p},PZ:function(){return f},Qw:function(){return u},VR:function(){return n},W9:function(){return L},Zq:function(){return g},av:function(){return V},oR:function(){return C},xd:function(){return $},xl:function(){return D}});var w=i(97295),r=i(24314);class O{constructor(b,_){this.lineCount=b,this.columnCount=_}toString(){return`${this.lineCount},${this.columnCount}`}}O.zero=new O(0,0);function V(y,b,_,E){return y!==_?P(_-y,E):P(0,E-b)}const D=0;function $(y){return y===0}const M=Math.pow(2,26);function P(y,b){return y*M+b}function A(y){const b=y,_=Math.floor(b/M),E=b-_*M;return new O(_,E)}function L(y){return Math.floor(y/M)}function c(y){return y}function p(y,b){return b<M?y+b:y-y%M+b}function l(y,b){const _=y,E=b;if(E-_<=0)return D;const R=Math.floor(_/M),J=Math.floor(E/M),Q=E-J*M;if(R===J){const U=_-R*M;return P(0,Q-U)}else return P(J-R,Q)}function n(y,b){return y<b}function a(y,b){return y<=b}function g(y,b){return y>=b}function f(y){return P(y.lineNumber-1,y.column-1)}function u(y,b){const _=y,E=Math.floor(_/M),I=_-E*M,R=b,J=Math.floor(R/M),Q=R-J*M;return new r.e(E+1,I+1,J+1,Q+1)}function C(y){const b=(0,w.uq)(y);return P(b.length-1,b[b.length-1].length)}},13883:function(Ot,Te,i){"use strict";i.d(Te,{w:function(){return n}});var w=i(41720),r=i(2442),O=i(61761),V=i(45035);function D(g){if(g.length===0)return null;if(g.length===1)return g[0];let f=0;function u(){if(f>=g.length)return null;const _=f,E=g[_].listHeight;for(f++;f<g.length&&g[f].listHeight===E;)f++;return f-_>=2?$(_===0&&f===g.length?g:g.slice(_,f),!1):g[_]}let C=u(),y=u();if(!y)return C;for(let _=u();_;_=u())M(C,y)<=M(y,_)?(C=P(C,y),y=_):y=P(y,_);return P(C,y)}function $(g,f=!1){if(g.length===0)return null;if(g.length===1)return g[0];let u=g.length;for(;u>3;){const C=u>>1;for(let y=0;y<C;y++){const b=y<<1;g[y]=w.Y0.create23(g[b],g[b+1],b+3===u?g[b+2]:null,f)}u=C}return w.Y0.create23(g[0],g[1],u>=3?g[2]:null,f)}function M(g,f){return Math.abs(g.listHeight-f.listHeight)}function P(g,f){return g.listHeight===f.listHeight?w.Y0.create23(g,f,null,!1):g.listHeight>f.listHeight?A(g,f):L(f,g)}function A(g,f){g=g.toMutable();let u=g;const C=new Array;let y;for(;;){if(f.listHeight===u.listHeight){y=f;break}if(u.kind!==4)throw new Error("unexpected");C.push(u),u=u.makeLastElementMutable()}for(let b=C.length-1;b>=0;b--){const _=C[b];y?_.childrenLength>=3?y=w.Y0.create23(_.unappendChild(),y,null,!1):(_.appendChildOfSameHeight(y),y=void 0):_.handleChildrenChanged()}return y?w.Y0.create23(g,y,null,!1):g}function L(g,f){g=g.toMutable();let u=g;const C=new Array;for(;f.listHeight!==u.listHeight;){if(u.kind!==4)throw new Error("unexpected");C.push(u),u=u.makeFirstElementMutable()}let y=f;for(let b=C.length-1;b>=0;b--){const _=C[b];y?_.childrenLength>=3?y=w.Y0.create23(y,_.unprependChild(),null,!1):(_.prependChildOfSameHeight(y),y=void 0):_.handleChildrenChanged()}return y?w.Y0.create23(y,g,null,!1):g}class c{constructor(f){this.lastOffset=V.xl,this.nextNodes=[f],this.offsets=[V.xl],this.idxs=[]}readLongestNodeAt(f,u){if((0,V.VR)(f,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=f;;){const C=l(this.nextNodes);if(!C)return;const y=l(this.offsets);if((0,V.VR)(f,y))return;if((0,V.VR)(y,f))if((0,V.Ii)(y,C.length)<=f)this.nextNodeAfterCurrent();else{const b=p(C);b!==-1?(this.nextNodes.push(C.getChild(b)),this.offsets.push(y),this.idxs.push(b)):this.nextNodeAfterCurrent()}else{if(u(C))return this.nextNodeAfterCurrent(),C;{const b=p(C);if(b===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(C.getChild(b)),this.offsets.push(y),this.idxs.push(b)}}}}nextNodeAfterCurrent(){for(;;){const f=l(this.offsets),u=l(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const C=l(this.nextNodes),y=p(C,this.idxs[this.idxs.length-1]);if(y!==-1){this.nextNodes.push(C.getChild(y)),this.offsets.push((0,V.Ii)(f,u.length)),this.idxs[this.idxs.length-1]=y;break}else this.idxs.pop()}}}function p(g,f=-1){for(;;){if(f++,f>=g.childrenLength)return-1;if(g.getChild(f))return f}}function l(g){return g.length>0?g[g.length-1]:void 0}function n(g,f,u,C){return new a(g,f,u,C).parseDocument()}class a{constructor(f,u,C,y){if(this.tokenizer=f,this.createImmutableLists=y,this._itemsConstructed=0,this._itemsFromCache=0,C&&y)throw new Error("Not supported");this.oldNodeReader=C?new c(C):void 0,this.positionMapper=new r.Y(u,f.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let f=this.parseList(O.tS.getEmpty());return f||(f=w.Y0.getEmpty()),f}parseList(f){const u=new Array;for(;;){const y=this.tokenizer.peek();if(!y||y.kind===2&&y.bracketIds.intersects(f))break;const b=this.parseChild(f);b.kind===4&&b.childrenLength===0||u.push(b)}return this.oldNodeReader?D(u):$(u,this.createImmutableLists)}parseChild(f){if(this.oldNodeReader){const C=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,V.xd)(C)){const y=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),b=>(0,V.VR)(b.length,C)?b.canBeReused(f):!1);if(y)return this._itemsFromCache++,this.tokenizer.skip(y.length),y}}this._itemsConstructed++;const u=this.tokenizer.read();switch(u.kind){case 2:return new w.Dm(u.bracketIds,u.length);case 0:return u.astNode;case 1:{const C=f.merge(u.bracketIds),y=this.parseList(C),b=this.tokenizer.peek();return b&&b.kind===2&&(b.bracketId===u.bracketId||b.bracketIds.intersects(u.bracketIds))?(this.tokenizer.read(),w.Kd.create(u.astNode,y,b.astNode)):w.Kd.create(u.astNode,y,null)}default:throw new Error("unexpected")}}}},61761:function(Ot,Te,i){"use strict";i.d(Te,{FE:function(){return V},Qw:function(){return O},tS:function(){return r}});const w=new Array;class r{constructor($,M){this.items=$,this.additionalItems=M}static create($,M){if($<=128&&M.length===0){let P=r.cache[$];return P||(P=new r($,M),r.cache[$]=P),P}return new r($,M)}static getEmpty(){return this.empty}add($,M){const P=M.getKey($);let A=P>>5;if(A===0){const c=1<<P|this.items;return c===this.items?this:r.create(c,this.additionalItems)}A--;const L=this.additionalItems.slice(0);for(;L.length<A;)L.push(0);return L[A]|=1<<(P&31),r.create(this.items,L)}merge($){const M=this.items|$.items;if(this.additionalItems===w&&$.additionalItems===w)return M===this.items?this:M===$.items?$:r.create(M,w);const P=new Array;for(let A=0;A<Math.max(this.additionalItems.length,$.additionalItems.length);A++){const L=this.additionalItems[A]||0,c=$.additionalItems[A]||0;P.push(L|c)}return r.create(M,P)}intersects($){if((this.items&$.items)!==0)return!0;for(let M=0;M<Math.min(this.additionalItems.length,$.additionalItems.length);M++)if((this.additionalItems[M]&$.additionalItems[M])!==0)return!0;return!1}}r.cache=new Array(129),r.empty=r.create(0,w);const O={getKey(D){return D}};class V{constructor(){this.items=new Map}getKey($){let M=this.items.get($);return M===void 0&&(M=this.items.size,this.items.set($,M)),M}}},6735:function(Ot,Te,i){"use strict";i.d(Te,{WU:function(){return $},g:function(){return A},xH:function(){return M}});var w=i(17301),r=i(45797),O=i(41720),V=i(45035),D=i(61761);class ${constructor(c,p,l,n,a){this.length=c,this.kind=p,this.bracketId=l,this.bracketIds=n,this.astNode=a}}class M{constructor(c,p){this.textModel=c,this.bracketTokens=p,this.reader=new P(this.textModel,this.bracketTokens),this._offset=V.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=c.getLineCount(),this.textBufferLastLineLength=c.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,V.Hg)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(c){this.didPeek=!1,this._offset=(0,V.Ii)(this._offset,c);const p=(0,V.Hw)(this._offset);this.reader.setPosition(p.lineCount,p.columnCount)}read(){let c;return this.peeked?(this.didPeek=!1,c=this.peeked):c=this.reader.read(),c&&(this._offset=(0,V.Ii)(this._offset,c.length)),c}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class P{constructor(c,p){this.textModel=c,this.bracketTokens=p,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=c.getLineCount(),this.textBufferLastLineLength=c.getLineLength(this.textBufferLineCount)}setPosition(c,p){c===this.lineIdx?(this.lineCharOffset=p,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=c,this.lineCharOffset=p,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const a=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,V.F_)(a.length),a}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const c=this.lineIdx,p=this.lineCharOffset;let l=0;for(;;){const a=this.lineTokens,g=a.getCount();let f=null;if(this.lineTokenOffset<g){const u=a.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<g&&u===a.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const C=r.N.getTokenType(u)===0,y=r.N.containsBalancedBrackets(u),b=a.getEndOffset(this.lineTokenOffset);if(y&&C&&this.lineCharOffset<b){const _=a.getLanguageId(this.lineTokenOffset),E=this.line.substring(this.lineCharOffset,b),I=this.bracketTokens.getSingleLanguageBracketTokens(_),R=I.regExpGlobal;if(R){R.lastIndex=0;const J=R.exec(E);J&&(f=I.getToken(J[0]),f&&(this.lineCharOffset+=J.index))}}if(l+=b-this.lineCharOffset,f)if(c!==this.lineIdx||p!==this.lineCharOffset){this.peekedToken=f;break}else return this.lineCharOffset+=(0,V.F_)(f.length),f;else this.lineTokenOffset++,this.lineCharOffset=b}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,l+=33,l>1e3))break;if(l>1500)break}const n=(0,V.av)(c,p,this.lineIdx,this.lineCharOffset);return new $(n,0,-1,D.tS.getEmpty(),new O.BH(n))}}class A{constructor(c,p){this.text=c,this._offset=V.xl,this.idx=0;const l=p.getRegExpStr(),n=l?new RegExp(l+`|
`,"gi"):null,a=[];let g,f=0,u=0,C=0,y=0;const b=new Array;for(let I=0;I<60;I++)b.push(new $((0,V.Hg)(0,I),0,-1,D.tS.getEmpty(),new O.BH((0,V.Hg)(0,I))));const _=new Array;for(let I=0;I<60;I++)_.push(new $((0,V.Hg)(1,I),0,-1,D.tS.getEmpty(),new O.BH((0,V.Hg)(1,I))));if(n)for(n.lastIndex=0;(g=n.exec(c))!==null;){const I=g.index,R=g[0];if(R===`
`)f++,u=I+1;else{if(C!==I){let J;if(y===f){const Q=I-C;if(Q<b.length)J=b[Q];else{const U=(0,V.Hg)(0,Q);J=new $(U,0,-1,D.tS.getEmpty(),new O.BH(U))}}else{const Q=f-y,U=I-u;if(Q===1&&U<_.length)J=_[U];else{const K=(0,V.Hg)(Q,U);J=new $(K,0,-1,D.tS.getEmpty(),new O.BH(K))}}a.push(J)}a.push(p.getToken(R)),C=I+R.length,y=f}}const E=c.length;if(C!==E){const I=y===f?(0,V.Hg)(0,E-C):(0,V.Hg)(f-y,E-u);a.push(new $(I,0,-1,D.tS.getEmpty(),new O.BH(I)))}this.length=(0,V.Hg)(f,E-u),this.tokens=a}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(c){throw new w.B8}}},95215:function(Ot,Te,i){"use strict";i.d(Te,{NL:function(){return n},e9:function(){return l}});var w=i(63580),r=i(17301),O=i(3860),V=i(70666),D=i(93033),$=i(53060),M=i(95935);function P(a){return a.toString()}class A{constructor(g,f,u,C,y,b,_){this.beforeVersionId=g,this.afterVersionId=f,this.beforeEOL=u,this.afterEOL=C,this.beforeCursorState=y,this.afterCursorState=b,this.changes=_}static create(g,f){const u=g.getAlternativeVersionId(),C=p(g);return new A(u,u,C,C,f,f,[])}append(g,f,u,C,y){f.length>0&&(this.changes=(0,D.b)(this.changes,f)),this.afterEOL=u,this.afterVersionId=C,this.afterCursorState=y}static _writeSelectionsSize(g){return 4+4*4*(g?g.length:0)}static _writeSelections(g,f,u){if($.T4(g,f?f.length:0,u),u+=4,f)for(const C of f)$.T4(g,C.selectionStartLineNumber,u),u+=4,$.T4(g,C.selectionStartColumn,u),u+=4,$.T4(g,C.positionLineNumber,u),u+=4,$.T4(g,C.positionColumn,u),u+=4;return u}static _readSelections(g,f,u){const C=$.Ag(g,f);f+=4;for(let y=0;y<C;y++){const b=$.Ag(g,f);f+=4;const _=$.Ag(g,f);f+=4;const E=$.Ag(g,f);f+=4;const I=$.Ag(g,f);f+=4,u.push(new O.Y(b,_,E,I))}return f}serialize(){let g=10+A._writeSelectionsSize(this.beforeCursorState)+A._writeSelectionsSize(this.afterCursorState)+4;for(const C of this.changes)g+=C.writeSize();const f=new Uint8Array(g);let u=0;$.T4(f,this.beforeVersionId,u),u+=4,$.T4(f,this.afterVersionId,u),u+=4,$.Cg(f,this.beforeEOL,u),u+=1,$.Cg(f,this.afterEOL,u),u+=1,u=A._writeSelections(f,this.beforeCursorState,u),u=A._writeSelections(f,this.afterCursorState,u),$.T4(f,this.changes.length,u),u+=4;for(const C of this.changes)u=C.write(f,u);return f.buffer}static deserialize(g){const f=new Uint8Array(g);let u=0;const C=$.Ag(f,u);u+=4;const y=$.Ag(f,u);u+=4;const b=$.Q$(f,u);u+=1;const _=$.Q$(f,u);u+=1;const E=[];u=A._readSelections(f,u,E);const I=[];u=A._readSelections(f,u,I);const R=$.Ag(f,u);u+=4;const J=[];for(let Q=0;Q<R;Q++)u=D.q.read(f,u,J);return new A(C,y,b,_,E,I,J)}}class L{constructor(g,f,u,C){this.label=g,this.code=f,this.model=u,this._data=A.create(u,C)}get type(){return 0}get resource(){return V.o.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof A?this._data:A.deserialize(this._data)).changes.map(f=>f.toString()).join(", ")}matchesResource(g){return(V.o.isUri(this.model)?this.model:this.model.uri).toString()===g.toString()}setModel(g){this.model=g}canAppend(g){return this.model===g&&this._data instanceof A}append(g,f,u,C,y){this._data instanceof A&&this._data.append(g,f,u,C,y)}close(){this._data instanceof A&&(this._data=this._data.serialize())}open(){this._data instanceof A||(this._data=A.deserialize(this._data))}undo(){if(V.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof A&&(this._data=this._data.serialize());const g=A.deserialize(this._data);this.model._applyUndo(g.changes,g.beforeEOL,g.beforeVersionId,g.beforeCursorState)}redo(){if(V.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof A&&(this._data=this._data.serialize());const g=A.deserialize(this._data);this.model._applyRedo(g.changes,g.afterEOL,g.afterVersionId,g.afterCursorState)}heapSize(){return this._data instanceof A&&(this._data=this._data.serialize()),this._data.byteLength+168}}class c{constructor(g,f,u){this.label=g,this.code=f,this.type=1,this._isOpen=!0,this._editStackElementsArr=u.slice(0),this._editStackElementsMap=new Map;for(const C of this._editStackElementsArr){const y=P(C.resource);this._editStackElementsMap.set(y,C)}this._delegate=null}get resources(){return this._editStackElementsArr.map(g=>g.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(g){const f=P(g);return this._editStackElementsMap.has(f)}setModel(g){const f=P(V.o.isUri(g)?g:g.uri);this._editStackElementsMap.has(f)&&this._editStackElementsMap.get(f).setModel(g)}canAppend(g){if(!this._isOpen)return!1;const f=P(g.uri);return this._editStackElementsMap.has(f)?this._editStackElementsMap.get(f).canAppend(g):!1}append(g,f,u,C,y){const b=P(g.uri);this._editStackElementsMap.get(b).append(g,f,u,C,y)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const g of this._editStackElementsArr)g.undo()}redo(){for(const g of this._editStackElementsArr)g.redo()}heapSize(g){const f=P(g);return this._editStackElementsMap.has(f)?this._editStackElementsMap.get(f).heapSize():0}split(){return this._editStackElementsArr}toString(){const g=[];for(const f of this._editStackElementsArr)g.push(`${(0,M.EZ)(f.resource)}: ${f}`);return`{${g.join(", ")}}`}}function p(a){return a.getEOL()===`
`?0:1}function l(a){return a?a instanceof L||a instanceof c:!1}class n{constructor(g,f){this._model=g,this._undoRedoService=f}pushStackElement(){const g=this._undoRedoService.getLastElement(this._model.uri);l(g)&&g.close()}popStackElement(){const g=this._undoRedoService.getLastElement(this._model.uri);l(g)&&g.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(g){const f=this._undoRedoService.getLastElement(this._model.uri);if(l(f)&&f.canAppend(this._model))return f;const u=new L(w.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,g);return this._undoRedoService.pushElement(u),u}pushEOL(g){const f=this._getOrCreateEditStackElement(null);this._model.setEOL(g),f.append(this._model,[],p(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(g,f,u){const C=this._getOrCreateEditStackElement(g),y=this._model.applyEdits(f,!0),b=n._computeCursorState(u,y),_=y.map((E,I)=>({index:I,textChange:E.textChange}));return _.sort((E,I)=>E.textChange.oldPosition===I.textChange.oldPosition?E.index-I.index:E.textChange.oldPosition-I.textChange.oldPosition),C.append(this._model,_.map(E=>E.textChange),p(this._model),this._model.getAlternativeVersionId(),b),b}static _computeCursorState(g,f){try{return g?g(f):null}catch(u){return(0,r.dL)(u),null}}}},1516:function(Ot,Te,i){"use strict";i.d(Te,{W:function(){return A},l:function(){return P}});var w=i(9488),r=i(97295),O=i(7988),V=i(24314),D=i(94954),$=i(59616),M=i(65094);class P extends D.U{constructor(c,p){super(),this.textModel=c,this.languageConfigurationService=p}getLanguageConfiguration(c){return this.languageConfigurationService.getLanguageConfiguration(c)}_computeIndentLevel(c){return(0,$.q)(this.textModel.getLineContent(c+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(c,p,l){this.assertNotDisposed();const n=this.textModel.getLineCount();if(c<1||c>n)throw new Error("Illegal value for lineNumber");const a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,g=Boolean(a&&a.offSide);let f=-2,u=-1,C=-2,y=-1;const b=x=>{if(f!==-1&&(f===-2||f>x-1)){f=-1,u=-1;for(let Z=x-2;Z>=0;Z--){const T=this._computeIndentLevel(Z);if(T>=0){f=Z,u=T;break}}}if(C===-2){C=-1,y=-1;for(let Z=x;Z<n;Z++){const T=this._computeIndentLevel(Z);if(T>=0){C=Z,y=T;break}}}};let _=-2,E=-1,I=-2,R=-1;const J=x=>{if(_===-2){_=-1,E=-1;for(let Z=x-2;Z>=0;Z--){const T=this._computeIndentLevel(Z);if(T>=0){_=Z,E=T;break}}}if(I!==-1&&(I===-2||I<x-1)){I=-1,R=-1;for(let Z=x;Z<n;Z++){const T=this._computeIndentLevel(Z);if(T>=0){I=Z,R=T;break}}}};let Q=0,U=!0,K=0,H=!0,X=0,j=0;for(let x=0;U||H;x++){const Z=c-x,T=c+x;x>1&&(Z<1||Z<p)&&(U=!1),x>1&&(T>n||T>l)&&(H=!1),x>5e4&&(U=!1,H=!1);let z=-1;if(U&&Z>=1){const re=this._computeIndentLevel(Z-1);re>=0?(C=Z-1,y=re,z=Math.ceil(re/this.textModel.getOptions().indentSize)):(b(Z),z=this._getIndentLevelForWhitespaceLine(g,u,y))}let G=-1;if(H&&T<=n){const re=this._computeIndentLevel(T-1);re>=0?(_=T-1,E=re,G=Math.ceil(re/this.textModel.getOptions().indentSize)):(J(T),G=this._getIndentLevelForWhitespaceLine(g,E,R))}if(x===0){j=z;continue}if(x===1){if(T<=n&&G>=0&&j+1===G){U=!1,Q=T,K=T,X=G;continue}if(Z>=1&&z>=0&&z-1===j){H=!1,Q=Z,K=Z,X=z;continue}if(Q=c,K=c,X=j,X===0)return{startLineNumber:Q,endLineNumber:K,indent:X}}U&&(z>=X?Q=Z:U=!1),H&&(G>=X?K=T:H=!1)}return{startLineNumber:Q,endLineNumber:K,indent:X}}getLinesBracketGuides(c,p,l,n){var a;const g=[];for(let _=c;_<=p;_++)g.push([]);const f=!0,u=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new V.e(c,1,p,this.textModel.getLineMaxColumn(p)));let C;if(l&&u.length>0){const _=(c<=l.lineNumber&&l.lineNumber<=p?u:this.textModel.bracketPairs.getBracketPairsInRange(V.e.fromPositions(l))).filter(E=>V.e.strictContainsPosition(E.range,l));C=(a=(0,w.dF)(_,E=>f||E.range.startLineNumber!==E.range.endLineNumber))===null||a===void 0?void 0:a.range}const y=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,b=new A;for(const _ of u){if(!_.closingBracketRange)continue;const E=C&&_.range.equalsRange(C);if(!E&&!n.includeInactive)continue;const I=b.getInlineClassName(_.nestingLevel,_.nestingLevelOfEqualBracketType,y)+(n.highlightActive&&E?" "+b.activeClassName:""),R=_.openingBracketRange.getStartPosition(),J=_.closingBracketRange.getStartPosition(),Q=n.horizontalGuides===M.s6.Enabled||n.horizontalGuides===M.s6.EnabledForActive&&E;if(_.range.startLineNumber===_.range.endLineNumber){f&&Q&&g[_.range.startLineNumber-c].push(new M.UO(-1,_.openingBracketRange.getEndPosition().column,I,new M.vW(!1,J.column),-1,-1));continue}const U=this.getVisibleColumnFromPosition(J),K=this.getVisibleColumnFromPosition(_.openingBracketRange.getStartPosition()),H=Math.min(K,U,_.minVisibleColumnIndentation+1);let X=!1;r.LC(this.textModel.getLineContent(_.closingBracketRange.startLineNumber))<_.closingBracketRange.startColumn-1&&(X=!0);const Z=Math.max(R.lineNumber,c),T=Math.min(J.lineNumber,p),z=X?1:0;for(let G=Z;G<T+z;G++)g[G-c].push(new M.UO(H,-1,I,null,G===R.lineNumber?R.column:-1,G===J.lineNumber?J.column:-1));Q&&(R.lineNumber>=c&&K>H&&g[R.lineNumber-c].push(new M.UO(H,-1,I,new M.vW(!1,R.column),-1,-1)),J.lineNumber<=p&&U>H&&g[J.lineNumber-c].push(new M.UO(H,-1,I,new M.vW(!X,J.column),-1,-1)))}for(const _ of g)_.sort((E,I)=>E.visibleColumn-I.visibleColumn);return g}getVisibleColumnFromPosition(c){return O.i.visibleColumnFromColumn(this.textModel.getLineContent(c.lineNumber),c.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(c,p){this.assertNotDisposed();const l=this.textModel.getLineCount();if(c<1||c>l)throw new Error("Illegal value for startLineNumber");if(p<1||p>l)throw new Error("Illegal value for endLineNumber");const n=this.textModel.getOptions(),a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,g=Boolean(a&&a.offSide),f=new Array(p-c+1);let u=-2,C=-1,y=-2,b=-1;for(let _=c;_<=p;_++){const E=_-c,I=this._computeIndentLevel(_-1);if(I>=0){u=_-1,C=I,f[E]=Math.ceil(I/n.indentSize);continue}if(u===-2){u=-1,C=-1;for(let R=_-2;R>=0;R--){const J=this._computeIndentLevel(R);if(J>=0){u=R,C=J;break}}}if(y!==-1&&(y===-2||y<_-1)){y=-1,b=-1;for(let R=_;R<l;R++){const J=this._computeIndentLevel(R);if(J>=0){y=R,b=J;break}}}f[E]=this._getIndentLevelForWhitespaceLine(g,C,b)}return f}_getIndentLevelForWhitespaceLine(c,p,l){const n=this.textModel.getOptions();return p===-1||l===-1?0:p<l?1+Math.floor(p/n.indentSize):p===l||c?Math.ceil(l/n.indentSize):1+Math.floor(l/n.indentSize)}}class A{constructor(){this.activeClassName="indent-active"}getInlineClassName(c,p,l){return this.getInlineClassNameOfLevel(l?p:c)}getInlineClassNameOfLevel(c){return`bracket-indent-guide lvl-${c%30}`}}},90310:function(Ot,Te,i){"use strict";i.d(Te,{Ck:function(){return V},oQ:function(){return O}});var w=i(9488),r=i(85427);class O{constructor(M){this.values=M,this.prefixSum=new Uint32Array(M.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(M,P){M=(0,r.A)(M);const A=this.values,L=this.prefixSum,c=P.length;return c===0?!1:(this.values=new Uint32Array(A.length+c),this.values.set(A.subarray(0,M),0),this.values.set(A.subarray(M),M+c),this.values.set(P,M),M-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=M-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(L.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(M,P){return M=(0,r.A)(M),P=(0,r.A)(P),this.values[M]===P?!1:(this.values[M]=P,M-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=M-1),!0)}removeValues(M,P){M=(0,r.A)(M),P=(0,r.A)(P);const A=this.values,L=this.prefixSum;if(M>=A.length)return!1;const c=A.length-M;return P>=c&&(P=c),P===0?!1:(this.values=new Uint32Array(A.length-P),this.values.set(A.subarray(0,M),0),this.values.set(A.subarray(M+P),M),this.prefixSum=new Uint32Array(this.values.length),M-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=M-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(L.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(M){return M<0?0:(M=(0,r.A)(M),this._getPrefixSum(M))}_getPrefixSum(M){if(M<=this.prefixSumValidIndex[0])return this.prefixSum[M];let P=this.prefixSumValidIndex[0]+1;P===0&&(this.prefixSum[0]=this.values[0],P++),M>=this.values.length&&(M=this.values.length-1);for(let A=P;A<=M;A++)this.prefixSum[A]=this.prefixSum[A-1]+this.values[A];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],M),this.prefixSum[M]}getIndexOf(M){M=Math.floor(M),this.getTotalSum();let P=0,A=this.values.length-1,L=0,c=0,p=0;for(;P<=A;)if(L=P+(A-P)/2|0,c=this.prefixSum[L],p=c-this.values[L],M<p)A=L-1;else if(M>=c)P=L+1;else break;return new D(L,M-p)}}class V{constructor(M){this._values=M,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(M){return this._ensureValid(),M===0?0:this._prefixSum[M-1]}getIndexOf(M){this._ensureValid();const P=this._indexBySum[M],A=P>0?this._prefixSum[P-1]:0;return new D(P,M-A)}removeValues(M,P){this._values.splice(M,P),this._invalidate(M)}insertValues(M,P){this._values=(0,w.Zv)(this._values,M,P),this._invalidate(M)}_invalidate(M){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,M-1)}_ensureValid(){if(!this._isValid){for(let M=this._validEndIndex+1,P=this._values.length;M<P;M++){const A=this._values[M],L=M>0?this._prefixSum[M-1]:0;this._prefixSum[M]=L+A;for(let c=0;c<A;c++)this._indexBySum[L+c]=M}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(M,P){this._values[M]!==P&&(this._values[M]=P,this._invalidate(M))}}class D{constructor(M,P){this.index=M,this.remainder=P,this._prefixSumIndexOfResultBrand=void 0,this.index=M,this.remainder=P}}},92035:function(Ot,Te,i){"use strict";i.d(Te,{HS:function(){return oi},qx:function(){return Ii},yO:function(){return un}});var w=i(9488),r=i(41264),O=i(17301),V=i(4669),D=i(9917),$=i(97295),M=i(70666),P=i(23795),A=i(83158),L=i(50187),c=i(24314),p=i(3860),l=i(22075),n=i(72042),a=i(51381),g=i(84973);class f{constructor(N,F,d,k){this.range=N,this.nestingLevel=F,this.nestingLevelOfEqualBracketType=d,this.isInvalid=k}}class u{constructor(N,F,d,k,te,_e){this.range=N,this.openingBracketRange=F,this.closingBracketRange=d,this.nestingLevel=k,this.nestingLevelOfEqualBracketType=te,this.bracketPairNode=_e}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class C extends u{constructor(N,F,d,k,te,_e,Ae){super(N,F,d,k,te,_e),this.minVisibleColumnIndentation=Ae}}var y=i(2442),b=i(35382),_=i(45035),E=i(13883),I=i(61761),R=i(6735);class J extends D.JT{constructor(N,F){if(super(),this.textModel=N,this.getLanguageConfiguration=F,this.didChangeEmitter=new V.Q5,this.denseKeyProvider=new I.FE,this.brackets=new b.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,N.tokenization.backgroundTokenizationState===0){const d=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),k=new R.g(this.textModel.getValue(),d);this.initialAstWithoutTokens=(0,E.w)(k,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else N.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):N.tokenization.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(N){return this.brackets.didLanguageChange(N)}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const N=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,N||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:N}){const F=N.map(d=>new y.Q((0,_.Hg)(d.fromLineNumber-1,0),(0,_.Hg)(d.toLineNumber,0),(0,_.Hg)(d.toLineNumber-d.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(F,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(N){const F=N.changes.map(d=>{const k=c.e.lift(d.range);return new y.Q((0,_.PZ)(k.getStartPosition()),(0,_.PZ)(k.getEndPosition()),(0,_.oR)(d.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(F,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(F,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(N,F,d){const te=F,_e=new R.xH(this.textModel,this.brackets);return(0,E.w)(_e,N,te,d)}getBracketsInRange(N){const F=(0,_.Hg)(N.startLineNumber-1,N.startColumn-1),d=(0,_.Hg)(N.endLineNumber-1,N.endColumn-1),k=new Array,te=this.initialAstWithoutTokens||this.astWithTokens;return K(te,_.xl,te.length,F,d,k,0,new Map),k}getBracketPairsInRange(N,F){const d=new Array,k=(0,_.PZ)(N.getStartPosition()),te=(0,_.PZ)(N.getEndPosition()),_e=this.initialAstWithoutTokens||this.astWithTokens,Ae=new H(d,F,this.textModel);return X(_e,_.xl,_e.length,k,te,Ae,0,new Map),d}getFirstBracketAfter(N){const F=this.initialAstWithoutTokens||this.astWithTokens;return U(F,_.xl,F.length,(0,_.PZ)(N))}getFirstBracketBefore(N){const F=this.initialAstWithoutTokens||this.astWithTokens;return Q(F,_.xl,F.length,(0,_.PZ)(N))}}function Q(St,N,F,d){if(St.kind===4||St.kind===2){const k=[];for(const te of St.children)F=(0,_.Ii)(N,te.length),k.push({nodeOffsetStart:N,nodeOffsetEnd:F}),N=F;for(let te=k.length-1;te>=0;te--){const{nodeOffsetStart:_e,nodeOffsetEnd:Ae}=k[te];if((0,_.VR)(_e,d)){const Be=Q(St.children[te],_e,Ae,d);if(Be)return Be}}return null}else{if(St.kind===3)return null;if(St.kind===1){const k=(0,_.Qw)(N,F);return{bracketInfo:St.bracketInfo,range:k}}}return null}function U(St,N,F,d){if(St.kind===4||St.kind===2){for(const k of St.children){if(F=(0,_.Ii)(N,k.length),(0,_.VR)(d,F)){const te=U(k,N,F,d);if(te)return te}N=F}return null}else{if(St.kind===3)return null;if(St.kind===1){const k=(0,_.Qw)(N,F);return{bracketInfo:St.bracketInfo,range:k}}}return null}function K(St,N,F,d,k,te,_e,Ae){if(!(_e>200)){if(St.kind===4)for(const Be of St.children)F=(0,_.Ii)(N,Be.length),(0,_.By)(N,k)&&(0,_.Zq)(F,d)&&K(Be,N,F,d,k,te,_e,Ae),N=F;else if(St.kind===2){let Be=0;if(Ae){let rt=Ae.get(St.openingBracket.text);rt===void 0&&(rt=0),Be=rt,rt++,Ae.set(St.openingBracket.text,rt)}{const rt=St.openingBracket;if(F=(0,_.Ii)(N,rt.length),(0,_.By)(N,k)&&(0,_.Zq)(F,d)){const ct=(0,_.Qw)(N,F);te.push(new f(ct,_e,Be,!St.closingBracket))}N=F}if(St.child){const rt=St.child;F=(0,_.Ii)(N,rt.length),(0,_.By)(N,k)&&(0,_.Zq)(F,d)&&K(rt,N,F,d,k,te,_e+1,Ae),N=F}if(St.closingBracket){const rt=St.closingBracket;if(F=(0,_.Ii)(N,rt.length),(0,_.By)(N,k)&&(0,_.Zq)(F,d)){const ct=(0,_.Qw)(N,F);te.push(new f(ct,_e,Be,!1))}N=F}Ae==null||Ae.set(St.openingBracket.text,Be)}else if(St.kind===3){const Be=(0,_.Qw)(N,F);te.push(new f(Be,_e-1,0,!0))}else if(St.kind===1){const Be=(0,_.Qw)(N,F);te.push(new f(Be,_e-1,0,!1))}}}class H{constructor(N,F,d){this.result=N,this.includeMinIndentation=F,this.textModel=d}}function X(St,N,F,d,k,te,_e,Ae){var Be;if(!(_e>200))if(St.kind===2){let rt=0;if(Ae){let Et=Ae.get(St.openingBracket.text);Et===void 0&&(Et=0),rt=Et,Et++,Ae.set(St.openingBracket.text,Et)}const ct=(0,_.Ii)(N,St.openingBracket.length);let Lt=-1;if(te.includeMinIndentation&&(Lt=St.computeMinIndentation(N,te.textModel)),te.result.push(new C((0,_.Qw)(N,F),(0,_.Qw)(N,ct),St.closingBracket?(0,_.Qw)((0,_.Ii)(ct,((Be=St.child)===null||Be===void 0?void 0:Be.length)||_.xl),F):void 0,_e,rt,St,Lt)),N=ct,St.child){const Et=St.child;F=(0,_.Ii)(N,Et.length),(0,_.By)(N,k)&&(0,_.Zq)(F,d)&&X(Et,N,F,d,k,te,_e+1,Ae)}Ae==null||Ae.set(St.openingBracket.text,rt)}else{let rt=N;for(const ct of St.children){const Lt=rt;rt=(0,_.Ii)(rt,ct.length),(0,_.By)(Lt,k)&&(0,_.By)(d,rt)&&X(ct,Lt,rt,d,k,te,_e,Ae)}}}var j=i(19111),x=i(34302);class Z extends D.JT{constructor(N,F){super(),this.textModel=N,this.languageConfigurationService=F,this.bracketPairsTree=this._register(new D.XK),this.onDidChangeEmitter=new V.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(d=>{var k;(!d.languageId||((k=this.bracketPairsTree.value)===null||k===void 0?void 0:k.object.didLanguageChange(d.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get canBuildAST(){return this.textModel.getValueLength()<=5e6}handleDidChangeOptions(N){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(N){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(N){var F;(F=this.bracketPairsTree.value)===null||F===void 0||F.object.handleContentChanged(N)}handleDidChangeBackgroundTokenizationState(){var N;(N=this.bracketPairsTree.value)===null||N===void 0||N.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(N){var F;(F=this.bracketPairsTree.value)===null||F===void 0||F.object.handleDidChangeTokens(N)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const N=new D.SL;this.bracketPairsTree.value=T(N.add(new J(this.textModel,F=>this.languageConfigurationService.getLanguageConfiguration(F))),N),N.add(this.bracketPairsTree.value.object.onDidChange(F=>this.onDidChangeEmitter.fire(F))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(N){var F;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((F=this.bracketPairsTree.value)===null||F===void 0?void 0:F.object.getBracketPairsInRange(N,!1))||[]}getBracketPairsInRangeWithMinIndentation(N){var F;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((F=this.bracketPairsTree.value)===null||F===void 0?void 0:F.object.getBracketPairsInRange(N,!0))||[]}getBracketsInRange(N){var F;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((F=this.bracketPairsTree.value)===null||F===void 0?void 0:F.object.getBracketsInRange(N))||[]}findMatchingBracketUp(N,F,d){const k=this.textModel.validatePosition(F),te=this.textModel.getLanguageIdAtPosition(k.lineNumber,k.column);if(this.canBuildAST){const _e=this.languageConfigurationService.getLanguageConfiguration(te).bracketsNew.getClosingBracketInfo(N);if(!_e)return null;const Ae=(0,w.dF)(this.getBracketPairsInRange(c.e.fromPositions(F,F))||[],Be=>_e.closes(Be.openingBracketInfo));return Ae?Ae.openingBracketRange:null}else{const _e=N.toLowerCase(),Ae=this.languageConfigurationService.getLanguageConfiguration(te).brackets;if(!Ae)return null;const Be=Ae.textIsBracket[_e];return Be?re(this._findMatchingBracketUp(Be,k,z(d))):null}}matchBracket(N,F){if(this.canBuildAST){const d=(0,w.jV)(this.getBracketPairsInRange(c.e.fromPositions(N,N)).filter(k=>k.closingBracketRange!==void 0&&(k.openingBracketRange.containsPosition(N)||k.closingBracketRange.containsPosition(N))),(0,w.tT)(k=>k.openingBracketRange.containsPosition(N)?k.openingBracketRange:k.closingBracketRange,c.e.compareRangesUsingStarts));return d?[d.openingBracketRange,d.closingBracketRange]:null}else{const d=z(F);return this._matchBracket(this.textModel.validatePosition(N),d)}}_establishBracketSearchOffsets(N,F,d,k){const te=F.getCount(),_e=F.getLanguageId(k);let Ae=Math.max(0,N.column-1-d.maxBracketLength);for(let rt=k-1;rt>=0;rt--){const ct=F.getEndOffset(rt);if(ct<=Ae)break;if((0,j.Bu)(F.getStandardTokenType(rt))||F.getLanguageId(rt)!==_e){Ae=ct;break}}let Be=Math.min(F.getLineContent().length,N.column-1+d.maxBracketLength);for(let rt=k+1;rt<te;rt++){const ct=F.getStartOffset(rt);if(ct>=Be)break;if((0,j.Bu)(F.getStandardTokenType(rt))||F.getLanguageId(rt)!==_e){Be=ct;break}}return{searchStartOffset:Ae,searchEndOffset:Be}}_matchBracket(N,F){const d=N.lineNumber,k=this.textModel.tokenization.getLineTokens(d),te=this.textModel.getLineContent(d),_e=k.findTokenIndexAtOffset(N.column-1);if(_e<0)return null;const Ae=this.languageConfigurationService.getLanguageConfiguration(k.getLanguageId(_e)).brackets;if(Ae&&!(0,j.Bu)(k.getStandardTokenType(_e))){let{searchStartOffset:Be,searchEndOffset:rt}=this._establishBracketSearchOffsets(N,k,Ae,_e),ct=null;for(;;){const Lt=x.Vr.findNextBracketInRange(Ae.forwardRegex,d,te,Be,rt);if(!Lt)break;if(Lt.startColumn<=N.column&&N.column<=Lt.endColumn){const Et=te.substring(Lt.startColumn-1,Lt.endColumn-1).toLowerCase(),Vt=this._matchFoundBracket(Lt,Ae.textIsBracket[Et],Ae.textIsOpenBracket[Et],F);if(Vt){if(Vt instanceof G)return null;ct=Vt}}Be=Lt.endColumn-1}if(ct)return ct}if(_e>0&&k.getStartOffset(_e)===N.column-1){const Be=_e-1,rt=this.languageConfigurationService.getLanguageConfiguration(k.getLanguageId(Be)).brackets;if(rt&&!(0,j.Bu)(k.getStandardTokenType(Be))){const{searchStartOffset:ct,searchEndOffset:Lt}=this._establishBracketSearchOffsets(N,k,rt,Be),Et=x.Vr.findPrevBracketInRange(rt.reversedRegex,d,te,ct,Lt);if(Et&&Et.startColumn<=N.column&&N.column<=Et.endColumn){const Vt=te.substring(Et.startColumn-1,Et.endColumn-1).toLowerCase(),Xt=this._matchFoundBracket(Et,rt.textIsBracket[Vt],rt.textIsOpenBracket[Vt],F);if(Xt)return Xt instanceof G?null:Xt}}}return null}_matchFoundBracket(N,F,d,k){if(!F)return null;const te=d?this._findMatchingBracketDown(F,N.getEndPosition(),k):this._findMatchingBracketUp(F,N.getStartPosition(),k);return te?te instanceof G?te:[N,te]:null}_findMatchingBracketUp(N,F,d){const k=N.languageId,te=N.reversedRegex;let _e=-1,Ae=0;const Be=(rt,ct,Lt,Et)=>{for(;;){if(d&&++Ae%100===0&&!d())return G.INSTANCE;const Vt=x.Vr.findPrevBracketInRange(te,rt,ct,Lt,Et);if(!Vt)break;const Xt=ct.substring(Vt.startColumn-1,Vt.endColumn-1).toLowerCase();if(N.isOpen(Xt)?_e++:N.isClose(Xt)&&_e--,_e===0)return Vt;Et=Vt.startColumn-1}return null};for(let rt=F.lineNumber;rt>=1;rt--){const ct=this.textModel.tokenization.getLineTokens(rt),Lt=ct.getCount(),Et=this.textModel.getLineContent(rt);let Vt=Lt-1,Xt=Et.length,Jt=Et.length;rt===F.lineNumber&&(Vt=ct.findTokenIndexAtOffset(F.column-1),Xt=F.column-1,Jt=F.column-1);let Qt=!0;for(;Vt>=0;Vt--){const di=ct.getLanguageId(Vt)===k&&!(0,j.Bu)(ct.getStandardTokenType(Vt));if(di)Qt?Xt=ct.getStartOffset(Vt):(Xt=ct.getStartOffset(Vt),Jt=ct.getEndOffset(Vt));else if(Qt&&Xt!==Jt){const fi=Be(rt,Et,Xt,Jt);if(fi)return fi}Qt=di}if(Qt&&Xt!==Jt){const di=Be(rt,Et,Xt,Jt);if(di)return di}}return null}_findMatchingBracketDown(N,F,d){const k=N.languageId,te=N.forwardRegex;let _e=1,Ae=0;const Be=(ct,Lt,Et,Vt)=>{for(;;){if(d&&++Ae%100===0&&!d())return G.INSTANCE;const Xt=x.Vr.findNextBracketInRange(te,ct,Lt,Et,Vt);if(!Xt)break;const Jt=Lt.substring(Xt.startColumn-1,Xt.endColumn-1).toLowerCase();if(N.isOpen(Jt)?_e++:N.isClose(Jt)&&_e--,_e===0)return Xt;Et=Xt.endColumn-1}return null},rt=this.textModel.getLineCount();for(let ct=F.lineNumber;ct<=rt;ct++){const Lt=this.textModel.tokenization.getLineTokens(ct),Et=Lt.getCount(),Vt=this.textModel.getLineContent(ct);let Xt=0,Jt=0,Qt=0;ct===F.lineNumber&&(Xt=Lt.findTokenIndexAtOffset(F.column-1),Jt=F.column-1,Qt=F.column-1);let di=!0;for(;Xt<Et;Xt++){const fi=Lt.getLanguageId(Xt)===k&&!(0,j.Bu)(Lt.getStandardTokenType(Xt));if(fi)di||(Jt=Lt.getStartOffset(Xt)),Qt=Lt.getEndOffset(Xt);else if(di&&Jt!==Qt){const Ti=Be(ct,Vt,Jt,Qt);if(Ti)return Ti}di=fi}if(di&&Jt!==Qt){const fi=Be(ct,Vt,Jt,Qt);if(fi)return fi}}return null}findPrevBracket(N){var F;const d=this.textModel.validatePosition(N);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((F=this.bracketPairsTree.value)===null||F===void 0?void 0:F.object.getFirstBracketBefore(d))||null;let k=null,te=null,_e=null;for(let Ae=d.lineNumber;Ae>=1;Ae--){const Be=this.textModel.tokenization.getLineTokens(Ae),rt=Be.getCount(),ct=this.textModel.getLineContent(Ae);let Lt=rt-1,Et=ct.length,Vt=ct.length;if(Ae===d.lineNumber){Lt=Be.findTokenIndexAtOffset(d.column-1),Et=d.column-1,Vt=d.column-1;const Jt=Be.getLanguageId(Lt);k!==Jt&&(k=Jt,te=this.languageConfigurationService.getLanguageConfiguration(k).brackets,_e=this.languageConfigurationService.getLanguageConfiguration(k).bracketsNew)}let Xt=!0;for(;Lt>=0;Lt--){const Jt=Be.getLanguageId(Lt);if(k!==Jt){if(te&&_e&&Xt&&Et!==Vt){const di=x.Vr.findPrevBracketInRange(te.reversedRegex,Ae,ct,Et,Vt);if(di)return this._toFoundBracket(_e,di);Xt=!1}k=Jt,te=this.languageConfigurationService.getLanguageConfiguration(k).brackets,_e=this.languageConfigurationService.getLanguageConfiguration(k).bracketsNew}const Qt=!!te&&!(0,j.Bu)(Be.getStandardTokenType(Lt));if(Qt)Xt?Et=Be.getStartOffset(Lt):(Et=Be.getStartOffset(Lt),Vt=Be.getEndOffset(Lt));else if(_e&&te&&Xt&&Et!==Vt){const di=x.Vr.findPrevBracketInRange(te.reversedRegex,Ae,ct,Et,Vt);if(di)return this._toFoundBracket(_e,di)}Xt=Qt}if(_e&&te&&Xt&&Et!==Vt){const Jt=x.Vr.findPrevBracketInRange(te.reversedRegex,Ae,ct,Et,Vt);if(Jt)return this._toFoundBracket(_e,Jt)}}return null}findNextBracket(N){var F;const d=this.textModel.validatePosition(N);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((F=this.bracketPairsTree.value)===null||F===void 0?void 0:F.object.getFirstBracketAfter(d))||null;const k=this.textModel.getLineCount();let te=null,_e=null,Ae=null;for(let Be=d.lineNumber;Be<=k;Be++){const rt=this.textModel.tokenization.getLineTokens(Be),ct=rt.getCount(),Lt=this.textModel.getLineContent(Be);let Et=0,Vt=0,Xt=0;if(Be===d.lineNumber){Et=rt.findTokenIndexAtOffset(d.column-1),Vt=d.column-1,Xt=d.column-1;const Qt=rt.getLanguageId(Et);te!==Qt&&(te=Qt,_e=this.languageConfigurationService.getLanguageConfiguration(te).brackets,Ae=this.languageConfigurationService.getLanguageConfiguration(te).bracketsNew)}let Jt=!0;for(;Et<ct;Et++){const Qt=rt.getLanguageId(Et);if(te!==Qt){if(Ae&&_e&&Jt&&Vt!==Xt){const fi=x.Vr.findNextBracketInRange(_e.forwardRegex,Be,Lt,Vt,Xt);if(fi)return this._toFoundBracket(Ae,fi);Jt=!1}te=Qt,_e=this.languageConfigurationService.getLanguageConfiguration(te).brackets,Ae=this.languageConfigurationService.getLanguageConfiguration(te).bracketsNew}const di=!!_e&&!(0,j.Bu)(rt.getStandardTokenType(Et));if(di)Jt||(Vt=rt.getStartOffset(Et)),Xt=rt.getEndOffset(Et);else if(Ae&&_e&&Jt&&Vt!==Xt){const fi=x.Vr.findNextBracketInRange(_e.forwardRegex,Be,Lt,Vt,Xt);if(fi)return this._toFoundBracket(Ae,fi)}Jt=di}if(Ae&&_e&&Jt&&Vt!==Xt){const Qt=x.Vr.findNextBracketInRange(_e.forwardRegex,Be,Lt,Vt,Xt);if(Qt)return this._toFoundBracket(Ae,Qt)}}return null}findEnclosingBrackets(N,F){const d=this.textModel.validatePosition(N);if(this.canBuildAST){const Vt=c.e.fromPositions(d),Xt=(0,w.dF)(this.getBracketPairsInRange(c.e.fromPositions(d,d)),Jt=>Jt.closingBracketRange!==void 0&&Jt.range.strictContainsRange(Vt));return Xt?[Xt.openingBracketRange,Xt.closingBracketRange]:null}const k=z(F),te=this.textModel.getLineCount(),_e=new Map;let Ae=[];const Be=(Vt,Xt)=>{if(!_e.has(Vt)){const Jt=[];for(let Qt=0,di=Xt?Xt.brackets.length:0;Qt<di;Qt++)Jt[Qt]=0;_e.set(Vt,Jt)}Ae=_e.get(Vt)};let rt=0;const ct=(Vt,Xt,Jt,Qt,di)=>{for(;;){if(k&&++rt%100===0&&!k())return G.INSTANCE;const fi=x.Vr.findNextBracketInRange(Vt.forwardRegex,Xt,Jt,Qt,di);if(!fi)break;const Ti=Jt.substring(fi.startColumn-1,fi.endColumn-1).toLowerCase(),ln=Vt.textIsBracket[Ti];if(ln&&(ln.isOpen(Ti)?Ae[ln.index]++:ln.isClose(Ti)&&Ae[ln.index]--,Ae[ln.index]===-1))return this._matchFoundBracket(fi,ln,!1,k);Qt=fi.endColumn-1}return null};let Lt=null,Et=null;for(let Vt=d.lineNumber;Vt<=te;Vt++){const Xt=this.textModel.tokenization.getLineTokens(Vt),Jt=Xt.getCount(),Qt=this.textModel.getLineContent(Vt);let di=0,fi=0,Ti=0;if(Vt===d.lineNumber){di=Xt.findTokenIndexAtOffset(d.column-1),fi=d.column-1,Ti=d.column-1;const An=Xt.getLanguageId(di);Lt!==An&&(Lt=An,Et=this.languageConfigurationService.getLanguageConfiguration(Lt).brackets,Be(Lt,Et))}let ln=!0;for(;di<Jt;di++){const An=Xt.getLanguageId(di);if(Lt!==An){if(Et&&ln&&fi!==Ti){const Un=ct(Et,Vt,Qt,fi,Ti);if(Un)return re(Un);ln=!1}Lt=An,Et=this.languageConfigurationService.getLanguageConfiguration(Lt).brackets,Be(Lt,Et)}const Rn=!!Et&&!(0,j.Bu)(Xt.getStandardTokenType(di));if(Rn)ln||(fi=Xt.getStartOffset(di)),Ti=Xt.getEndOffset(di);else if(Et&&ln&&fi!==Ti){const Un=ct(Et,Vt,Qt,fi,Ti);if(Un)return re(Un)}ln=Rn}if(Et&&ln&&fi!==Ti){const An=ct(Et,Vt,Qt,fi,Ti);if(An)return re(An)}}return null}_toFoundBracket(N,F){if(!F)return null;let d=this.textModel.getValueInRange(F);d=d.toLowerCase();const k=N.getBracketInfo(d);return k?{range:F,bracketInfo:k}:null}}function T(St,N){return{object:St,dispose:()=>N==null?void 0:N.dispose()}}function z(St){if(typeof St>"u")return()=>!0;{const N=Date.now();return()=>Date.now()-N<=St}}class G{constructor(){this._searchCanceledBrand=void 0}}G.INSTANCE=new G;function re(St){return St instanceof G?null:St}var S=i(8625),he=i(97781);class Ce extends D.JT{constructor(N){super(),this.textModel=N,this.colorProvider=new ge,this.onDidChangeEmitter=new V.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=N.getOptions().bracketPairColorizationOptions,this._register(N.bracketPairs.onDidChange(F=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(N){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(N,F,d){if(F===void 0)return[];if(!this.colorizationOptions.enabled)return[];const k=new Array,te=this.textModel.bracketPairs.getBracketsInRange(N);for(const _e of te)k.push({id:`bracket${_e.range.toString()}-${_e.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(_e,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:_e.range});return k}getAllDecorations(N,F){return N===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new c.e(1,1,this.textModel.getLineCount(),1),N,F):[]}}class ge{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(N,F){return N.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(F?N.nestingLevelOfEqualBracketType:N.nestingLevel)}getInlineClassNameOfLevel(N){return`bracket-highlighting-${N%30}`}}(0,he.Ic)((St,N)=>{const F=[S.zJ,S.Vs,S.CE,S.UP,S.r0,S.m1],d=new ge;N.addRule(`.monaco-editor .${d.unexpectedClosingBracketClassName} { color: ${St.getColor(S.ts)}; }`);const k=F.map(te=>St.getColor(te)).filter(te=>!!te).filter(te=>!te.isTransparent());for(let te=0;te<30;te++){const _e=k[te%k.length];N.addRule(`.monaco-editor .${d.getInlineClassNameOfLevel(te)} { color: ${_e}; }`)}});var pe=i(95215),ee=i(1516);class se{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function ne(St,N,F,d,k){k.spacesDiff=0,k.looksLikeAlignment=!1;let te;for(te=0;te<N&&te<d;te++){const Et=St.charCodeAt(te),Vt=F.charCodeAt(te);if(Et!==Vt)break}let _e=0,Ae=0;for(let Et=te;Et<N;Et++)St.charCodeAt(Et)===32?_e++:Ae++;let Be=0,rt=0;for(let Et=te;Et<d;Et++)F.charCodeAt(Et)===32?Be++:rt++;if(_e>0&&Ae>0||Be>0&&rt>0)return;const ct=Math.abs(Ae-rt),Lt=Math.abs(_e-Be);if(ct===0){k.spacesDiff=Lt,Lt>0&&0<=Be-1&&Be-1<St.length&&Be<F.length&&F.charCodeAt(Be)!==32&&St.charCodeAt(Be-1)===32&&St.charCodeAt(St.length-1)===44&&(k.looksLikeAlignment=!0);return}if(Lt%ct===0){k.spacesDiff=Lt/ct;return}}function oe(St,N,F){const d=Math.min(St.getLineCount(),1e4);let k=0,te=0,_e="",Ae=0;const Be=[2,4,6,8,3,5,7],rt=8,ct=[0,0,0,0,0,0,0,0,0],Lt=new se;for(let Xt=1;Xt<=d;Xt++){const Jt=St.getLineLength(Xt),Qt=St.getLineContent(Xt),di=Jt<=65536;let fi=!1,Ti=0,ln=0,An=0;for(let Un=0,Cs=Jt;Un<Cs;Un++){const Yi=di?Qt.charCodeAt(Un):St.getLineCharCode(Xt,Un);if(Yi===9)An++;else if(Yi===32)ln++;else{fi=!0,Ti=Un;break}}if(!fi||(An>0?k++:ln>1&&te++,ne(_e,Ae,Qt,Ti,Lt),Lt.looksLikeAlignment&&!(F&&N===Lt.spacesDiff)))continue;const Rn=Lt.spacesDiff;Rn<=rt&&ct[Rn]++,_e=Qt,Ae=Ti}let Et=F;k!==te&&(Et=k<te);let Vt=N;if(Et){let Xt=Et?0:.1*d;Be.forEach(Jt=>{const Qt=ct[Jt];Qt>Xt&&(Xt=Qt,Vt=Jt)}),Vt===4&&ct[4]>0&&ct[2]>0&&ct[2]>=ct[4]/2&&(Vt=2)}return{insertSpaces:Et,tabSize:Vt}}function Se(St){return(St.metadata&1)>>>0}function Ee(St,N){St.metadata=St.metadata&254|N<<0}function Me(St){return(St.metadata&2)>>>1===1}function ye(St,N){St.metadata=St.metadata&253|(N?1:0)<<1}function le(St){return(St.metadata&4)>>>2===1}function ie(St,N){St.metadata=St.metadata&251|(N?1:0)<<2}function ve(St){return(St.metadata&24)>>>3}function xe(St,N){St.metadata=St.metadata&231|N<<3}function Ye(St){return(St.metadata&32)>>>5===1}function at(St,N){St.metadata=St.metadata&223|(N?1:0)<<5}class qe{constructor(N,F,d){this.metadata=0,this.parent=this,this.left=this,this.right=this,Ee(this,1),this.start=F,this.end=d,this.delta=0,this.maxEnd=d,this.id=N,this.ownerId=0,this.options=null,ie(this,!1),xe(this,1),at(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=d,this.range=null,ye(this,!1)}reset(N,F,d,k){this.start=F,this.end=d,this.maxEnd=d,this.cachedVersionId=N,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=d,this.range=k}setOptions(N){this.options=N;const F=this.options.className;ie(this,F==="squiggly-error"||F==="squiggly-warning"||F==="squiggly-info"),xe(this,this.options.stickiness),at(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(N,F,d){this.cachedVersionId!==d&&(this.range=null),this.cachedVersionId=d,this.cachedAbsoluteStart=N,this.cachedAbsoluteEnd=F}detach(){this.parent=null,this.left=null,this.right=null}}const Re=new qe(null,0,0);Re.parent=Re,Re.left=Re,Re.right=Re,Ee(Re,0);class Je{constructor(){this.root=Re,this.requestNormalizeDelta=!1}intervalSearch(N,F,d,k,te){return this.root===Re?[]:me(this,N,F,d,k,te)}search(N,F,d){return this.root===Re?[]:$e(this,N,F,d)}collectNodesFromOwner(N){return Pe(this,N)}collectNodesPostOrder(){return He(this)}insert(N){Ie(this,N),this._normalizeDeltaIfNecessary()}delete(N){ft(this,N),this._normalizeDeltaIfNecessary()}resolveNode(N,F){const d=N;let k=0;for(;N!==this.root;)N===N.parent.right&&(k+=N.parent.delta),N=N.parent;const te=d.start+k,_e=d.end+k;d.setCachedOffsets(te,_e,F)}acceptReplace(N,F,d,k){const te=Ne(this,N,N+F);for(let _e=0,Ae=te.length;_e<Ae;_e++){const Be=te[_e];ft(this,Be)}this._normalizeDeltaIfNecessary(),de(this,N,N+F,d),this._normalizeDeltaIfNecessary();for(let _e=0,Ae=te.length;_e<Ae;_e++){const Be=te[_e];Be.start=Be.cachedAbsoluteStart,Be.end=Be.cachedAbsoluteEnd,we(Be,N,N+F,d,k),Be.maxEnd=Be.end,Ie(this,Be)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,st(this))}}function st(St){let N=St.root,F=0;for(;N!==Re;){if(N.left!==Re&&!Me(N.left)){N=N.left;continue}if(N.right!==Re&&!Me(N.right)){F+=N.delta,N=N.right;continue}N.start=F+N.start,N.end=F+N.end,N.delta=0,Bt(N),ye(N,!0),ye(N.left,!1),ye(N.right,!1),N===N.parent.right&&(F-=N.parent.delta),N=N.parent}ye(St.root,!1)}function et(St,N,F,d){return St<F?!0:St>F||d===1?!1:d===2?!0:N}function we(St,N,F,d,k){const te=ve(St),_e=te===0||te===2,Ae=te===1||te===2,Be=F-N,rt=d,ct=Math.min(Be,rt),Lt=St.start;let Et=!1;const Vt=St.end;let Xt=!1;N<=Lt&&Vt<=F&&Ye(St)&&(St.start=N,Et=!0,St.end=N,Xt=!0);{const Qt=k?1:Be>0?2:0;!Et&&et(Lt,_e,N,Qt)&&(Et=!0),!Xt&&et(Vt,Ae,N,Qt)&&(Xt=!0)}if(ct>0&&!k){const Qt=Be>rt?2:0;!Et&&et(Lt,_e,N+ct,Qt)&&(Et=!0),!Xt&&et(Vt,Ae,N+ct,Qt)&&(Xt=!0)}{const Qt=k?1:0;!Et&&et(Lt,_e,F,Qt)&&(St.start=N+rt,Et=!0),!Xt&&et(Vt,Ae,F,Qt)&&(St.end=N+rt,Xt=!0)}const Jt=rt-Be;Et||(St.start=Math.max(0,Lt+Jt)),Xt||(St.end=Math.max(0,Vt+Jt)),St.start>St.end&&(St.end=St.start)}function Ne(St,N,F){let d=St.root,k=0,te=0,_e=0,Ae=0;const Be=[];let rt=0;for(;d!==Re;){if(Me(d)){ye(d.left,!1),ye(d.right,!1),d===d.parent.right&&(k-=d.parent.delta),d=d.parent;continue}if(!Me(d.left)){if(te=k+d.maxEnd,te<N){ye(d,!0);continue}if(d.left!==Re){d=d.left;continue}}if(_e=k+d.start,_e>F){ye(d,!0);continue}if(Ae=k+d.end,Ae>=N&&(d.setCachedOffsets(_e,Ae,0),Be[rt++]=d),ye(d,!0),d.right!==Re&&!Me(d.right)){k+=d.delta,d=d.right;continue}}return ye(St.root,!1),Be}function de(St,N,F,d){let k=St.root,te=0,_e=0,Ae=0;const Be=d-(F-N);for(;k!==Re;){if(Me(k)){ye(k.left,!1),ye(k.right,!1),k===k.parent.right&&(te-=k.parent.delta),Bt(k),k=k.parent;continue}if(!Me(k.left)){if(_e=te+k.maxEnd,_e<N){ye(k,!0);continue}if(k.left!==Re){k=k.left;continue}}if(Ae=te+k.start,Ae>F){k.start+=Be,k.end+=Be,k.delta+=Be,(k.delta<-1073741824||k.delta>1073741824)&&(St.requestNormalizeDelta=!0),ye(k,!0);continue}if(ye(k,!0),k.right!==Re&&!Me(k.right)){te+=k.delta,k=k.right;continue}}ye(St.root,!1)}function Pe(St,N){let F=St.root;const d=[];let k=0;for(;F!==Re;){if(Me(F)){ye(F.left,!1),ye(F.right,!1),F=F.parent;continue}if(F.left!==Re&&!Me(F.left)){F=F.left;continue}if(F.ownerId===N&&(d[k++]=F),ye(F,!0),F.right!==Re&&!Me(F.right)){F=F.right;continue}}return ye(St.root,!1),d}function He(St){let N=St.root;const F=[];let d=0;for(;N!==Re;){if(Me(N)){ye(N.left,!1),ye(N.right,!1),N=N.parent;continue}if(N.left!==Re&&!Me(N.left)){N=N.left;continue}if(N.right!==Re&&!Me(N.right)){N=N.right;continue}F[d++]=N,ye(N,!0)}return ye(St.root,!1),F}function $e(St,N,F,d){let k=St.root,te=0,_e=0,Ae=0;const Be=[];let rt=0;for(;k!==Re;){if(Me(k)){ye(k.left,!1),ye(k.right,!1),k===k.parent.right&&(te-=k.parent.delta),k=k.parent;continue}if(k.left!==Re&&!Me(k.left)){k=k.left;continue}_e=te+k.start,Ae=te+k.end,k.setCachedOffsets(_e,Ae,d);let ct=!0;if(N&&k.ownerId&&k.ownerId!==N&&(ct=!1),F&&le(k)&&(ct=!1),ct&&(Be[rt++]=k),ye(k,!0),k.right!==Re&&!Me(k.right)){te+=k.delta,k=k.right;continue}}return ye(St.root,!1),Be}function me(St,N,F,d,k,te){let _e=St.root,Ae=0,Be=0,rt=0,ct=0;const Lt=[];let Et=0;for(;_e!==Re;){if(Me(_e)){ye(_e.left,!1),ye(_e.right,!1),_e===_e.parent.right&&(Ae-=_e.parent.delta),_e=_e.parent;continue}if(!Me(_e.left)){if(Be=Ae+_e.maxEnd,Be<N){ye(_e,!0);continue}if(_e.left!==Re){_e=_e.left;continue}}if(rt=Ae+_e.start,rt>F){ye(_e,!0);continue}if(ct=Ae+_e.end,ct>=N){_e.setCachedOffsets(rt,ct,te);let Vt=!0;d&&_e.ownerId&&_e.ownerId!==d&&(Vt=!1),k&&le(_e)&&(Vt=!1),Vt&&(Lt[Et++]=_e)}if(ye(_e,!0),_e.right!==Re&&!Me(_e.right)){Ae+=_e.delta,_e=_e.right;continue}}return ye(St.root,!1),Lt}function Ie(St,N){if(St.root===Re)return N.parent=Re,N.left=Re,N.right=Re,Ee(N,0),St.root=N,St.root;Ge(St,N),Zt(N.parent);let F=N;for(;F!==St.root&&Se(F.parent)===1;)if(F.parent===F.parent.parent.left){const d=F.parent.parent.right;Se(d)===1?(Ee(F.parent,0),Ee(d,0),Ee(F.parent.parent,1),F=F.parent.parent):(F===F.parent.right&&(F=F.parent,wt(St,F)),Ee(F.parent,0),Ee(F.parent.parent,1),Oe(St,F.parent.parent))}else{const d=F.parent.parent.left;Se(d)===1?(Ee(F.parent,0),Ee(d,0),Ee(F.parent.parent,1),F=F.parent.parent):(F===F.parent.left&&(F=F.parent,Oe(St,F)),Ee(F.parent,0),Ee(F.parent.parent,1),wt(St,F.parent.parent))}return Ee(St.root,0),N}function Ge(St,N){let F=0,d=St.root;const k=N.start,te=N.end;for(;;)if(pi(k,te,d.start+F,d.end+F)<0)if(d.left===Re){N.start-=F,N.end-=F,N.maxEnd-=F,d.left=N;break}else d=d.left;else if(d.right===Re){N.start-=F+d.delta,N.end-=F+d.delta,N.maxEnd-=F+d.delta,d.right=N;break}else F+=d.delta,d=d.right;N.parent=d,N.left=Re,N.right=Re,Ee(N,1)}function ft(St,N){let F,d;if(N.left===Re?(F=N.right,d=N,F.delta+=N.delta,(F.delta<-1073741824||F.delta>1073741824)&&(St.requestNormalizeDelta=!0),F.start+=N.delta,F.end+=N.delta):N.right===Re?(F=N.left,d=N):(d=ze(N.right),F=d.right,F.start+=d.delta,F.end+=d.delta,F.delta+=d.delta,(F.delta<-1073741824||F.delta>1073741824)&&(St.requestNormalizeDelta=!0),d.start+=N.delta,d.end+=N.delta,d.delta=N.delta,(d.delta<-1073741824||d.delta>1073741824)&&(St.requestNormalizeDelta=!0)),d===St.root){St.root=F,Ee(F,0),N.detach(),mt(),Bt(F),St.root.parent=Re;return}const k=Se(d)===1;if(d===d.parent.left?d.parent.left=F:d.parent.right=F,d===N?F.parent=d.parent:(d.parent===N?F.parent=d:F.parent=d.parent,d.left=N.left,d.right=N.right,d.parent=N.parent,Ee(d,Se(N)),N===St.root?St.root=d:N===N.parent.left?N.parent.left=d:N.parent.right=d,d.left!==Re&&(d.left.parent=d),d.right!==Re&&(d.right.parent=d)),N.detach(),k){Zt(F.parent),d!==N&&(Zt(d),Zt(d.parent)),mt();return}Zt(F),Zt(F.parent),d!==N&&(Zt(d),Zt(d.parent));let te;for(;F!==St.root&&Se(F)===0;)F===F.parent.left?(te=F.parent.right,Se(te)===1&&(Ee(te,0),Ee(F.parent,1),wt(St,F.parent),te=F.parent.right),Se(te.left)===0&&Se(te.right)===0?(Ee(te,1),F=F.parent):(Se(te.right)===0&&(Ee(te.left,0),Ee(te,1),Oe(St,te),te=F.parent.right),Ee(te,Se(F.parent)),Ee(F.parent,0),Ee(te.right,0),wt(St,F.parent),F=St.root)):(te=F.parent.left,Se(te)===1&&(Ee(te,0),Ee(F.parent,1),Oe(St,F.parent),te=F.parent.left),Se(te.left)===0&&Se(te.right)===0?(Ee(te,1),F=F.parent):(Se(te.left)===0&&(Ee(te.right,0),Ee(te,1),wt(St,te),te=F.parent.left),Ee(te,Se(F.parent)),Ee(F.parent,0),Ee(te.left,0),Oe(St,F.parent),F=St.root));Ee(F,0),mt()}function ze(St){for(;St.left!==Re;)St=St.left;return St}function mt(){Re.parent=Re,Re.delta=0,Re.start=0,Re.end=0}function wt(St,N){const F=N.right;F.delta+=N.delta,(F.delta<-1073741824||F.delta>1073741824)&&(St.requestNormalizeDelta=!0),F.start+=N.delta,F.end+=N.delta,N.right=F.left,F.left!==Re&&(F.left.parent=N),F.parent=N.parent,N.parent===Re?St.root=F:N===N.parent.left?N.parent.left=F:N.parent.right=F,F.left=N,N.parent=F,Bt(N),Bt(F)}function Oe(St,N){const F=N.left;N.delta-=F.delta,(N.delta<-1073741824||N.delta>1073741824)&&(St.requestNormalizeDelta=!0),N.start-=F.delta,N.end-=F.delta,N.left=F.right,F.right!==Re&&(F.right.parent=N),F.parent=N.parent,N.parent===Re?St.root=F:N===N.parent.right?N.parent.right=F:N.parent.left=F,F.right=N,N.parent=F,Bt(N),Bt(F)}function lt(St){let N=St.end;if(St.left!==Re){const F=St.left.maxEnd;F>N&&(N=F)}if(St.right!==Re){const F=St.right.maxEnd+St.delta;F>N&&(N=F)}return N}function Bt(St){St.maxEnd=lt(St)}function Zt(St){for(;St!==Re;){const N=lt(St);if(St.maxEnd===N)return;St.maxEnd=N,St=St.parent}}function pi(St,N,F,d){return St===F?N-d:St-F}class Li{constructor(N,F){this.piece=N,this.color=F,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==ot)return Ft(this.right);let N=this;for(;N.parent!==ot&&N.parent.left!==N;)N=N.parent;return N.parent===ot?ot:N.parent}prev(){if(this.left!==ot)return Yt(this.left);let N=this;for(;N.parent!==ot&&N.parent.right!==N;)N=N.parent;return N.parent===ot?ot:N.parent}detach(){this.parent=null,this.left=null,this.right=null}}const ot=new Li(null,0);ot.parent=ot,ot.left=ot,ot.right=ot,ot.color=0;function Ft(St){for(;St.left!==ot;)St=St.left;return St}function Yt(St){for(;St.right!==ot;)St=St.right;return St}function _i(St){return St===ot?0:St.size_left+St.piece.length+_i(St.right)}function Ci(St){return St===ot?0:St.lf_left+St.piece.lineFeedCnt+Ci(St.right)}function bi(){ot.parent=ot}function ai(St,N){const F=N.right;F.size_left+=N.size_left+(N.piece?N.piece.length:0),F.lf_left+=N.lf_left+(N.piece?N.piece.lineFeedCnt:0),N.right=F.left,F.left!==ot&&(F.left.parent=N),F.parent=N.parent,N.parent===ot?St.root=F:N.parent.left===N?N.parent.left=F:N.parent.right=F,F.left=N,N.parent=F}function Mt(St,N){const F=N.left;N.left=F.right,F.right!==ot&&(F.right.parent=N),F.parent=N.parent,N.size_left-=F.size_left+(F.piece?F.piece.length:0),N.lf_left-=F.lf_left+(F.piece?F.piece.lineFeedCnt:0),N.parent===ot?St.root=F:N===N.parent.right?N.parent.right=F:N.parent.left=F,F.right=N,N.parent=F}function Ut(St,N){let F,d;if(N.left===ot?(d=N,F=d.right):N.right===ot?(d=N,F=d.left):(d=Ft(N.right),F=d.right),d===St.root){St.root=F,F.color=0,N.detach(),bi(),St.root.parent=ot;return}const k=d.color===1;if(d===d.parent.left?d.parent.left=F:d.parent.right=F,d===N?(F.parent=d.parent,nt(St,F)):(d.parent===N?F.parent=d:F.parent=d.parent,nt(St,F),d.left=N.left,d.right=N.right,d.parent=N.parent,d.color=N.color,N===St.root?St.root=d:N===N.parent.left?N.parent.left=d:N.parent.right=d,d.left!==ot&&(d.left.parent=d),d.right!==ot&&(d.right.parent=d),d.size_left=N.size_left,d.lf_left=N.lf_left,nt(St,d)),N.detach(),F.parent.left===F){const _e=_i(F),Ae=Ci(F);if(_e!==F.parent.size_left||Ae!==F.parent.lf_left){const Be=_e-F.parent.size_left,rt=Ae-F.parent.lf_left;F.parent.size_left=_e,F.parent.lf_left=Ae,_t(St,F.parent,Be,rt)}}if(nt(St,F.parent),k){bi();return}let te;for(;F!==St.root&&F.color===0;)F===F.parent.left?(te=F.parent.right,te.color===1&&(te.color=0,F.parent.color=1,ai(St,F.parent),te=F.parent.right),te.left.color===0&&te.right.color===0?(te.color=1,F=F.parent):(te.right.color===0&&(te.left.color=0,te.color=1,Mt(St,te),te=F.parent.right),te.color=F.parent.color,F.parent.color=0,te.right.color=0,ai(St,F.parent),F=St.root)):(te=F.parent.left,te.color===1&&(te.color=0,F.parent.color=1,Mt(St,F.parent),te=F.parent.left),te.left.color===0&&te.right.color===0?(te.color=1,F=F.parent):(te.left.color===0&&(te.right.color=0,te.color=1,ai(St,te),te=F.parent.left),te.color=F.parent.color,F.parent.color=0,te.left.color=0,Mt(St,F.parent),F=St.root));F.color=0,bi()}function vt(St,N){for(nt(St,N);N!==St.root&&N.parent.color===1;)if(N.parent===N.parent.parent.left){const F=N.parent.parent.right;F.color===1?(N.parent.color=0,F.color=0,N.parent.parent.color=1,N=N.parent.parent):(N===N.parent.right&&(N=N.parent,ai(St,N)),N.parent.color=0,N.parent.parent.color=1,Mt(St,N.parent.parent))}else{const F=N.parent.parent.left;F.color===1?(N.parent.color=0,F.color=0,N.parent.parent.color=1,N=N.parent.parent):(N===N.parent.left&&(N=N.parent,Mt(St,N)),N.parent.color=0,N.parent.parent.color=1,ai(St,N.parent.parent))}St.root.color=0}function _t(St,N,F,d){for(;N!==St.root&&N!==ot;)N.parent.left===N&&(N.parent.size_left+=F,N.parent.lf_left+=d),N=N.parent}function nt(St,N){let F=0,d=0;if(N!==St.root){for(;N!==St.root&&N===N.parent.right;)N=N.parent;if(N!==St.root)for(N=N.parent,F=_i(N.left)-N.size_left,d=Ci(N.left)-N.lf_left,N.size_left+=F,N.lf_left+=d;N!==St.root&&(F!==0||d!==0);)N.parent.left===N&&(N.parent.size_left+=F,N.parent.lf_left+=d),N=N.parent}}var be=i(77277);const Le=65535;function Qe(St){let N;return St[St.length-1]<65536?N=new Uint16Array(St.length):N=new Uint32Array(St.length),N.set(St,0),N}class je{constructor(N,F,d,k,te){this.lineStarts=N,this.cr=F,this.lf=d,this.crlf=k,this.isBasicASCII=te}}function ht(St,N=!0){const F=[0];let d=1;for(let k=0,te=St.length;k<te;k++){const _e=St.charCodeAt(k);_e===13?k+1<te&&St.charCodeAt(k+1)===10?(F[d++]=k+2,k++):F[d++]=k+1:_e===10&&(F[d++]=k+1)}return N?Qe(F):F}function bt(St,N){St.length=0,St[0]=0;let F=1,d=0,k=0,te=0,_e=!0;for(let Be=0,rt=N.length;Be<rt;Be++){const ct=N.charCodeAt(Be);ct===13?Be+1<rt&&N.charCodeAt(Be+1)===10?(te++,St[F++]=Be+2,Be++):(d++,St[F++]=Be+1):ct===10?(k++,St[F++]=Be+1):_e&&ct!==9&&(ct<32||ct>126)&&(_e=!1)}const Ae=new je(Qe(St),d,k,te,_e);return St.length=0,Ae}class Dt{constructor(N,F,d,k,te){this.bufferIndex=N,this.start=F,this.end=d,this.lineFeedCnt=k,this.length=te}}class Ht{constructor(N,F){this.buffer=N,this.lineStarts=F}}class ei{constructor(N,F){this._pieces=[],this._tree=N,this._BOM=F,this._index=0,N.root!==ot&&N.iterate(N.root,d=>(d!==ot&&this._pieces.push(d.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class ui{constructor(N){this._limit=N,this._cache=[]}get(N){for(let F=this._cache.length-1;F>=0;F--){const d=this._cache[F];if(d.nodeStartOffset<=N&&d.nodeStartOffset+d.node.piece.length>=N)return d}return null}get2(N){for(let F=this._cache.length-1;F>=0;F--){const d=this._cache[F];if(d.nodeStartLineNumber&&d.nodeStartLineNumber<N&&d.nodeStartLineNumber+d.node.piece.lineFeedCnt>=N)return d}return null}set(N){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(N)}validate(N){let F=!1;const d=this._cache;for(let k=0;k<d.length;k++){const te=d[k];if(te.node.parent===null||te.nodeStartOffset>=N){d[k]=null,F=!0;continue}}if(F){const k=[];for(const te of d)te!==null&&k.push(te);this._cache=k}}}class xi{constructor(N,F,d){this.create(N,F,d)}create(N,F,d){this._buffers=[new Ht("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=ot,this._lineCnt=1,this._length=0,this._EOL=F,this._EOLLength=F.length,this._EOLNormalized=d;let k=null;for(let te=0,_e=N.length;te<_e;te++)if(N[te].buffer.length>0){N[te].lineStarts||(N[te].lineStarts=ht(N[te].buffer));const Ae=new Dt(te+1,{line:0,column:0},{line:N[te].lineStarts.length-1,column:N[te].buffer.length-N[te].lineStarts[N[te].lineStarts.length-1]},N[te].lineStarts.length-1,N[te].buffer.length);this._buffers.push(N[te]),k=this.rbInsertRight(k,Ae)}this._searchCache=new ui(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(N){const F=Le,d=F-Math.floor(F/3),k=d*2;let te="",_e=0;const Ae=[];if(this.iterate(this.root,Be=>{const rt=this.getNodeContent(Be),ct=rt.length;if(_e<=d||_e+ct<k)return te+=rt,_e+=ct,!0;const Lt=te.replace(/\r\n|\r|\n/g,N);return Ae.push(new Ht(Lt,ht(Lt))),te=rt,_e=ct,!0}),_e>0){const Be=te.replace(/\r\n|\r|\n/g,N);Ae.push(new Ht(Be,ht(Be)))}this.create(Ae,N,!0)}getEOL(){return this._EOL}setEOL(N){this._EOL=N,this._EOLLength=this._EOL.length,this.normalizeEOL(N)}createSnapshot(N){return new ei(this,N)}getOffsetAt(N,F){let d=0,k=this.root;for(;k!==ot;)if(k.left!==ot&&k.lf_left+1>=N)k=k.left;else{if(k.lf_left+k.piece.lineFeedCnt+1>=N)return d+=k.size_left,d+=this.getAccumulatedValue(k,N-k.lf_left-2)+F-1;N-=k.lf_left+k.piece.lineFeedCnt,d+=k.size_left+k.piece.length,k=k.right}return d}getPositionAt(N){N=Math.floor(N),N=Math.max(0,N);let F=this.root,d=0;const k=N;for(;F!==ot;)if(F.size_left!==0&&F.size_left>=N)F=F.left;else if(F.size_left+F.piece.length>=N){const te=this.getIndexOf(F,N-F.size_left);if(d+=F.lf_left+te.index,te.index===0){const _e=this.getOffsetAt(d+1,1),Ae=k-_e;return new L.L(d+1,Ae+1)}return new L.L(d+1,te.remainder+1)}else if(N-=F.size_left+F.piece.length,d+=F.lf_left+F.piece.lineFeedCnt,F.right===ot){const te=this.getOffsetAt(d+1,1),_e=k-N-te;return new L.L(d+1,_e+1)}else F=F.right;return new L.L(1,1)}getValueInRange(N,F){if(N.startLineNumber===N.endLineNumber&&N.startColumn===N.endColumn)return"";const d=this.nodeAt2(N.startLineNumber,N.startColumn),k=this.nodeAt2(N.endLineNumber,N.endColumn),te=this.getValueInRange2(d,k);return F?F!==this._EOL||!this._EOLNormalized?te.replace(/\r\n|\r|\n/g,F):F===this.getEOL()&&this._EOLNormalized?te:te.replace(/\r\n|\r|\n/g,F):te}getValueInRange2(N,F){if(N.node===F.node){const Ae=N.node,Be=this._buffers[Ae.piece.bufferIndex].buffer,rt=this.offsetInBuffer(Ae.piece.bufferIndex,Ae.piece.start);return Be.substring(rt+N.remainder,rt+F.remainder)}let d=N.node;const k=this._buffers[d.piece.bufferIndex].buffer,te=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);let _e=k.substring(te+N.remainder,te+d.piece.length);for(d=d.next();d!==ot;){const Ae=this._buffers[d.piece.bufferIndex].buffer,Be=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);if(d===F.node){_e+=Ae.substring(Be,Be+F.remainder);break}else _e+=Ae.substr(Be,d.piece.length);d=d.next()}return _e}getLinesContent(){const N=[];let F=0,d="",k=!1;return this.iterate(this.root,te=>{if(te===ot)return!0;const _e=te.piece;let Ae=_e.length;if(Ae===0)return!0;const Be=this._buffers[_e.bufferIndex].buffer,rt=this._buffers[_e.bufferIndex].lineStarts,ct=_e.start.line,Lt=_e.end.line;let Et=rt[ct]+_e.start.column;if(k&&(Be.charCodeAt(Et)===10&&(Et++,Ae--),N[F++]=d,d="",k=!1,Ae===0))return!0;if(ct===Lt)return!this._EOLNormalized&&Be.charCodeAt(Et+Ae-1)===13?(k=!0,d+=Be.substr(Et,Ae-1)):d+=Be.substr(Et,Ae),!0;d+=this._EOLNormalized?Be.substring(Et,Math.max(Et,rt[ct+1]-this._EOLLength)):Be.substring(Et,rt[ct+1]).replace(/(\r\n|\r|\n)$/,""),N[F++]=d;for(let Vt=ct+1;Vt<Lt;Vt++)d=this._EOLNormalized?Be.substring(rt[Vt],rt[Vt+1]-this._EOLLength):Be.substring(rt[Vt],rt[Vt+1]).replace(/(\r\n|\r|\n)$/,""),N[F++]=d;return!this._EOLNormalized&&Be.charCodeAt(rt[Lt]+_e.end.column-1)===13?(k=!0,_e.end.column===0?F--:d=Be.substr(rt[Lt],_e.end.column-1)):d=Be.substr(rt[Lt],_e.end.column),!0}),k&&(N[F++]=d,d=""),N[F++]=d,N}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(N){return this._lastVisitedLine.lineNumber===N?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=N,N===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(N):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(N,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(N).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(N){if(N.remainder===N.node.piece.length){const F=N.node.next();if(!F)return 0;const d=this._buffers[F.piece.bufferIndex],k=this.offsetInBuffer(F.piece.bufferIndex,F.piece.start);return d.buffer.charCodeAt(k)}else{const F=this._buffers[N.node.piece.bufferIndex],k=this.offsetInBuffer(N.node.piece.bufferIndex,N.node.piece.start)+N.remainder;return F.buffer.charCodeAt(k)}}getLineCharCode(N,F){const d=this.nodeAt2(N,F+1);return this._getCharCode(d)}getLineLength(N){if(N===this.getLineCount()){const F=this.getOffsetAt(N,1);return this.getLength()-F}return this.getOffsetAt(N+1,1)-this.getOffsetAt(N,1)-this._EOLLength}findMatchesInNode(N,F,d,k,te,_e,Ae,Be,rt,ct,Lt){const Et=this._buffers[N.piece.bufferIndex],Vt=this.offsetInBuffer(N.piece.bufferIndex,N.piece.start),Xt=this.offsetInBuffer(N.piece.bufferIndex,te),Jt=this.offsetInBuffer(N.piece.bufferIndex,_e);let Qt;const di={line:0,column:0};let fi,Ti;F._wordSeparators?(fi=Et.buffer.substring(Xt,Jt),Ti=ln=>ln+Xt,F.reset(0)):(fi=Et.buffer,Ti=ln=>ln,F.reset(Xt));do if(Qt=F.next(fi),Qt){if(Ti(Qt.index)>=Jt)return ct;this.positionInBuffer(N,Ti(Qt.index)-Vt,di);const ln=this.getLineFeedCnt(N.piece.bufferIndex,te,di),An=di.line===te.line?di.column-te.column+k:di.column+1,Rn=An+Qt[0].length;if(Lt[ct++]=(0,be.iE)(new c.e(d+ln,An,d+ln,Rn),Qt,Be),Ti(Qt.index)+Qt[0].length>=Jt||ct>=rt)return ct}while(Qt);return ct}findMatchesLineByLine(N,F,d,k){const te=[];let _e=0;const Ae=new be.sz(F.wordSeparators,F.regex);let Be=this.nodeAt2(N.startLineNumber,N.startColumn);if(Be===null)return[];const rt=this.nodeAt2(N.endLineNumber,N.endColumn);if(rt===null)return[];let ct=this.positionInBuffer(Be.node,Be.remainder);const Lt=this.positionInBuffer(rt.node,rt.remainder);if(Be.node===rt.node)return this.findMatchesInNode(Be.node,Ae,N.startLineNumber,N.startColumn,ct,Lt,F,d,k,_e,te),te;let Et=N.startLineNumber,Vt=Be.node;for(;Vt!==rt.node;){const Jt=this.getLineFeedCnt(Vt.piece.bufferIndex,ct,Vt.piece.end);if(Jt>=1){const di=this._buffers[Vt.piece.bufferIndex].lineStarts,fi=this.offsetInBuffer(Vt.piece.bufferIndex,Vt.piece.start),Ti=di[ct.line+Jt],ln=Et===N.startLineNumber?N.startColumn:1;if(_e=this.findMatchesInNode(Vt,Ae,Et,ln,ct,this.positionInBuffer(Vt,Ti-fi),F,d,k,_e,te),_e>=k)return te;Et+=Jt}const Qt=Et===N.startLineNumber?N.startColumn-1:0;if(Et===N.endLineNumber){const di=this.getLineContent(Et).substring(Qt,N.endColumn-1);return _e=this._findMatchesInLine(F,Ae,di,N.endLineNumber,Qt,_e,te,d,k),te}if(_e=this._findMatchesInLine(F,Ae,this.getLineContent(Et).substr(Qt),Et,Qt,_e,te,d,k),_e>=k)return te;Et++,Be=this.nodeAt2(Et,1),Vt=Be.node,ct=this.positionInBuffer(Be.node,Be.remainder)}if(Et===N.endLineNumber){const Jt=Et===N.startLineNumber?N.startColumn-1:0,Qt=this.getLineContent(Et).substring(Jt,N.endColumn-1);return _e=this._findMatchesInLine(F,Ae,Qt,N.endLineNumber,Jt,_e,te,d,k),te}const Xt=Et===N.startLineNumber?N.startColumn:1;return _e=this.findMatchesInNode(rt.node,Ae,Et,Xt,ct,Lt,F,d,k,_e,te),te}_findMatchesInLine(N,F,d,k,te,_e,Ae,Be,rt){const ct=N.wordSeparators;if(!Be&&N.simpleSearch){const Et=N.simpleSearch,Vt=Et.length,Xt=d.length;let Jt=-Vt;for(;(Jt=d.indexOf(Et,Jt+Vt))!==-1;)if((!ct||(0,be.cM)(ct,d,Xt,Jt,Vt))&&(Ae[_e++]=new g.tk(new c.e(k,Jt+1+te,k,Jt+1+Vt+te),null),_e>=rt))return _e;return _e}let Lt;F.reset(0);do if(Lt=F.next(d),Lt&&(Ae[_e++]=(0,be.iE)(new c.e(k,Lt.index+1+te,k,Lt.index+1+Lt[0].length+te),Lt,Be),_e>=rt))return _e;while(Lt);return _e}insert(N,F,d=!1){if(this._EOLNormalized=this._EOLNormalized&&d,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==ot){const{node:k,remainder:te,nodeStartOffset:_e}=this.nodeAt(N),Ae=k.piece,Be=Ae.bufferIndex,rt=this.positionInBuffer(k,te);if(k.piece.bufferIndex===0&&Ae.end.line===this._lastChangeBufferPos.line&&Ae.end.column===this._lastChangeBufferPos.column&&_e+Ae.length===N&&F.length<Le){this.appendToNode(k,F),this.computeBufferMetadata();return}if(_e===N)this.insertContentToNodeLeft(F,k),this._searchCache.validate(N);else if(_e+k.piece.length>N){const ct=[];let Lt=new Dt(Ae.bufferIndex,rt,Ae.end,this.getLineFeedCnt(Ae.bufferIndex,rt,Ae.end),this.offsetInBuffer(Be,Ae.end)-this.offsetInBuffer(Be,rt));if(this.shouldCheckCRLF()&&this.endWithCR(F)&&this.nodeCharCodeAt(k,te)===10){const Jt={line:Lt.start.line+1,column:0};Lt=new Dt(Lt.bufferIndex,Jt,Lt.end,this.getLineFeedCnt(Lt.bufferIndex,Jt,Lt.end),Lt.length-1),F+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(F))if(this.nodeCharCodeAt(k,te-1)===13){const Jt=this.positionInBuffer(k,te-1);this.deleteNodeTail(k,Jt),F="\r"+F,k.piece.length===0&&ct.push(k)}else this.deleteNodeTail(k,rt);else this.deleteNodeTail(k,rt);const Et=this.createNewPieces(F);Lt.length>0&&this.rbInsertRight(k,Lt);let Vt=k;for(let Xt=0;Xt<Et.length;Xt++)Vt=this.rbInsertRight(Vt,Et[Xt]);this.deleteNodes(ct)}else this.insertContentToNodeRight(F,k)}else{const k=this.createNewPieces(F);let te=this.rbInsertLeft(null,k[0]);for(let _e=1;_e<k.length;_e++)te=this.rbInsertRight(te,k[_e])}this.computeBufferMetadata()}delete(N,F){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",F<=0||this.root===ot)return;const d=this.nodeAt(N),k=this.nodeAt(N+F),te=d.node,_e=k.node;if(te===_e){const Et=this.positionInBuffer(te,d.remainder),Vt=this.positionInBuffer(te,k.remainder);if(d.nodeStartOffset===N){if(F===te.piece.length){const Xt=te.next();Ut(this,te),this.validateCRLFWithPrevNode(Xt),this.computeBufferMetadata();return}this.deleteNodeHead(te,Vt),this._searchCache.validate(N),this.validateCRLFWithPrevNode(te),this.computeBufferMetadata();return}if(d.nodeStartOffset+te.piece.length===N+F){this.deleteNodeTail(te,Et),this.validateCRLFWithNextNode(te),this.computeBufferMetadata();return}this.shrinkNode(te,Et,Vt),this.computeBufferMetadata();return}const Ae=[],Be=this.positionInBuffer(te,d.remainder);this.deleteNodeTail(te,Be),this._searchCache.validate(N),te.piece.length===0&&Ae.push(te);const rt=this.positionInBuffer(_e,k.remainder);this.deleteNodeHead(_e,rt),_e.piece.length===0&&Ae.push(_e);const ct=te.next();for(let Et=ct;Et!==ot&&Et!==_e;Et=Et.next())Ae.push(Et);const Lt=te.piece.length===0?te.prev():te;this.deleteNodes(Ae),this.validateCRLFWithNextNode(Lt),this.computeBufferMetadata()}insertContentToNodeLeft(N,F){const d=[];if(this.shouldCheckCRLF()&&this.endWithCR(N)&&this.startWithLF(F)){const _e=F.piece,Ae={line:_e.start.line+1,column:0},Be=new Dt(_e.bufferIndex,Ae,_e.end,this.getLineFeedCnt(_e.bufferIndex,Ae,_e.end),_e.length-1);F.piece=Be,N+=`
`,_t(this,F,-1,-1),F.piece.length===0&&d.push(F)}const k=this.createNewPieces(N);let te=this.rbInsertLeft(F,k[k.length-1]);for(let _e=k.length-2;_e>=0;_e--)te=this.rbInsertLeft(te,k[_e]);this.validateCRLFWithPrevNode(te),this.deleteNodes(d)}insertContentToNodeRight(N,F){this.adjustCarriageReturnFromNext(N,F)&&(N+=`
`);const d=this.createNewPieces(N),k=this.rbInsertRight(F,d[0]);let te=k;for(let _e=1;_e<d.length;_e++)te=this.rbInsertRight(te,d[_e]);this.validateCRLFWithPrevNode(k)}positionInBuffer(N,F,d){const k=N.piece,te=N.piece.bufferIndex,_e=this._buffers[te].lineStarts,Be=_e[k.start.line]+k.start.column+F;let rt=k.start.line,ct=k.end.line,Lt=0,Et=0,Vt=0;for(;rt<=ct&&(Lt=rt+(ct-rt)/2|0,Vt=_e[Lt],Lt!==ct);)if(Et=_e[Lt+1],Be<Vt)ct=Lt-1;else if(Be>=Et)rt=Lt+1;else break;return d?(d.line=Lt,d.column=Be-Vt,null):{line:Lt,column:Be-Vt}}getLineFeedCnt(N,F,d){if(d.column===0)return d.line-F.line;const k=this._buffers[N].lineStarts;if(d.line===k.length-1)return d.line-F.line;const te=k[d.line+1],_e=k[d.line]+d.column;if(te>_e+1)return d.line-F.line;const Ae=_e-1;return this._buffers[N].buffer.charCodeAt(Ae)===13?d.line-F.line+1:d.line-F.line}offsetInBuffer(N,F){return this._buffers[N].lineStarts[F.line]+F.column}deleteNodes(N){for(let F=0;F<N.length;F++)Ut(this,N[F])}createNewPieces(N){if(N.length>Le){const ct=[];for(;N.length>Le;){const Et=N.charCodeAt(Le-1);let Vt;Et===13||Et>=55296&&Et<=56319?(Vt=N.substring(0,Le-1),N=N.substring(Le-1)):(Vt=N.substring(0,Le),N=N.substring(Le));const Xt=ht(Vt);ct.push(new Dt(this._buffers.length,{line:0,column:0},{line:Xt.length-1,column:Vt.length-Xt[Xt.length-1]},Xt.length-1,Vt.length)),this._buffers.push(new Ht(Vt,Xt))}const Lt=ht(N);return ct.push(new Dt(this._buffers.length,{line:0,column:0},{line:Lt.length-1,column:N.length-Lt[Lt.length-1]},Lt.length-1,N.length)),this._buffers.push(new Ht(N,Lt)),ct}let F=this._buffers[0].buffer.length;const d=ht(N,!1);let k=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===F&&F!==0&&this.startWithLF(N)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},k=this._lastChangeBufferPos;for(let ct=0;ct<d.length;ct++)d[ct]+=F+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(d.slice(1)),this._buffers[0].buffer+="_"+N,F+=1}else{if(F!==0)for(let ct=0;ct<d.length;ct++)d[ct]+=F;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(d.slice(1)),this._buffers[0].buffer+=N}const te=this._buffers[0].buffer.length,_e=this._buffers[0].lineStarts.length-1,Ae=te-this._buffers[0].lineStarts[_e],Be={line:_e,column:Ae},rt=new Dt(0,k,Be,this.getLineFeedCnt(0,k,Be),te-F);return this._lastChangeBufferPos=Be,[rt]}getLineRawContent(N,F=0){let d=this.root,k="";const te=this._searchCache.get2(N);if(te){d=te.node;const _e=this.getAccumulatedValue(d,N-te.nodeStartLineNumber-1),Ae=this._buffers[d.piece.bufferIndex].buffer,Be=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);if(te.nodeStartLineNumber+d.piece.lineFeedCnt===N)k=Ae.substring(Be+_e,Be+d.piece.length);else{const rt=this.getAccumulatedValue(d,N-te.nodeStartLineNumber);return Ae.substring(Be+_e,Be+rt-F)}}else{let _e=0;const Ae=N;for(;d!==ot;)if(d.left!==ot&&d.lf_left>=N-1)d=d.left;else if(d.lf_left+d.piece.lineFeedCnt>N-1){const Be=this.getAccumulatedValue(d,N-d.lf_left-2),rt=this.getAccumulatedValue(d,N-d.lf_left-1),ct=this._buffers[d.piece.bufferIndex].buffer,Lt=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);return _e+=d.size_left,this._searchCache.set({node:d,nodeStartOffset:_e,nodeStartLineNumber:Ae-(N-1-d.lf_left)}),ct.substring(Lt+Be,Lt+rt-F)}else if(d.lf_left+d.piece.lineFeedCnt===N-1){const Be=this.getAccumulatedValue(d,N-d.lf_left-2),rt=this._buffers[d.piece.bufferIndex].buffer,ct=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);k=rt.substring(ct+Be,ct+d.piece.length);break}else N-=d.lf_left+d.piece.lineFeedCnt,_e+=d.size_left+d.piece.length,d=d.right}for(d=d.next();d!==ot;){const _e=this._buffers[d.piece.bufferIndex].buffer;if(d.piece.lineFeedCnt>0){const Ae=this.getAccumulatedValue(d,0),Be=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);return k+=_e.substring(Be,Be+Ae-F),k}else{const Ae=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);k+=_e.substr(Ae,d.piece.length)}d=d.next()}return k}computeBufferMetadata(){let N=this.root,F=1,d=0;for(;N!==ot;)F+=N.lf_left+N.piece.lineFeedCnt,d+=N.size_left+N.piece.length,N=N.right;this._lineCnt=F,this._length=d,this._searchCache.validate(this._length)}getIndexOf(N,F){const d=N.piece,k=this.positionInBuffer(N,F),te=k.line-d.start.line;if(this.offsetInBuffer(d.bufferIndex,d.end)-this.offsetInBuffer(d.bufferIndex,d.start)===F){const _e=this.getLineFeedCnt(N.piece.bufferIndex,d.start,k);if(_e!==te)return{index:_e,remainder:0}}return{index:te,remainder:k.column}}getAccumulatedValue(N,F){if(F<0)return 0;const d=N.piece,k=this._buffers[d.bufferIndex].lineStarts,te=d.start.line+F+1;return te>d.end.line?k[d.end.line]+d.end.column-k[d.start.line]-d.start.column:k[te]-k[d.start.line]-d.start.column}deleteNodeTail(N,F){const d=N.piece,k=d.lineFeedCnt,te=this.offsetInBuffer(d.bufferIndex,d.end),_e=F,Ae=this.offsetInBuffer(d.bufferIndex,_e),Be=this.getLineFeedCnt(d.bufferIndex,d.start,_e),rt=Be-k,ct=Ae-te,Lt=d.length+ct;N.piece=new Dt(d.bufferIndex,d.start,_e,Be,Lt),_t(this,N,ct,rt)}deleteNodeHead(N,F){const d=N.piece,k=d.lineFeedCnt,te=this.offsetInBuffer(d.bufferIndex,d.start),_e=F,Ae=this.getLineFeedCnt(d.bufferIndex,_e,d.end),Be=this.offsetInBuffer(d.bufferIndex,_e),rt=Ae-k,ct=te-Be,Lt=d.length+ct;N.piece=new Dt(d.bufferIndex,_e,d.end,Ae,Lt),_t(this,N,ct,rt)}shrinkNode(N,F,d){const k=N.piece,te=k.start,_e=k.end,Ae=k.length,Be=k.lineFeedCnt,rt=F,ct=this.getLineFeedCnt(k.bufferIndex,k.start,rt),Lt=this.offsetInBuffer(k.bufferIndex,F)-this.offsetInBuffer(k.bufferIndex,te);N.piece=new Dt(k.bufferIndex,k.start,rt,ct,Lt),_t(this,N,Lt-Ae,ct-Be);const Et=new Dt(k.bufferIndex,d,_e,this.getLineFeedCnt(k.bufferIndex,d,_e),this.offsetInBuffer(k.bufferIndex,_e)-this.offsetInBuffer(k.bufferIndex,d)),Vt=this.rbInsertRight(N,Et);this.validateCRLFWithPrevNode(Vt)}appendToNode(N,F){this.adjustCarriageReturnFromNext(F,N)&&(F+=`
`);const d=this.shouldCheckCRLF()&&this.startWithLF(F)&&this.endWithCR(N),k=this._buffers[0].buffer.length;this._buffers[0].buffer+=F;const te=ht(F,!1);for(let Vt=0;Vt<te.length;Vt++)te[Vt]+=k;if(d){const Vt=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:k-Vt}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(te.slice(1));const _e=this._buffers[0].lineStarts.length-1,Ae=this._buffers[0].buffer.length-this._buffers[0].lineStarts[_e],Be={line:_e,column:Ae},rt=N.piece.length+F.length,ct=N.piece.lineFeedCnt,Lt=this.getLineFeedCnt(0,N.piece.start,Be),Et=Lt-ct;N.piece=new Dt(N.piece.bufferIndex,N.piece.start,Be,Lt,rt),this._lastChangeBufferPos=Be,_t(this,N,F.length,Et)}nodeAt(N){let F=this.root;const d=this._searchCache.get(N);if(d)return{node:d.node,nodeStartOffset:d.nodeStartOffset,remainder:N-d.nodeStartOffset};let k=0;for(;F!==ot;)if(F.size_left>N)F=F.left;else if(F.size_left+F.piece.length>=N){k+=F.size_left;const te={node:F,remainder:N-F.size_left,nodeStartOffset:k};return this._searchCache.set(te),te}else N-=F.size_left+F.piece.length,k+=F.size_left+F.piece.length,F=F.right;return null}nodeAt2(N,F){let d=this.root,k=0;for(;d!==ot;)if(d.left!==ot&&d.lf_left>=N-1)d=d.left;else if(d.lf_left+d.piece.lineFeedCnt>N-1){const te=this.getAccumulatedValue(d,N-d.lf_left-2),_e=this.getAccumulatedValue(d,N-d.lf_left-1);return k+=d.size_left,{node:d,remainder:Math.min(te+F-1,_e),nodeStartOffset:k}}else if(d.lf_left+d.piece.lineFeedCnt===N-1){const te=this.getAccumulatedValue(d,N-d.lf_left-2);if(te+F-1<=d.piece.length)return{node:d,remainder:te+F-1,nodeStartOffset:k};F-=d.piece.length-te;break}else N-=d.lf_left+d.piece.lineFeedCnt,k+=d.size_left+d.piece.length,d=d.right;for(d=d.next();d!==ot;){if(d.piece.lineFeedCnt>0){const te=this.getAccumulatedValue(d,0),_e=this.offsetOfNode(d);return{node:d,remainder:Math.min(F-1,te),nodeStartOffset:_e}}else if(d.piece.length>=F-1){const te=this.offsetOfNode(d);return{node:d,remainder:F-1,nodeStartOffset:te}}else F-=d.piece.length;d=d.next()}return null}nodeCharCodeAt(N,F){if(N.piece.lineFeedCnt<1)return-1;const d=this._buffers[N.piece.bufferIndex],k=this.offsetInBuffer(N.piece.bufferIndex,N.piece.start)+F;return d.buffer.charCodeAt(k)}offsetOfNode(N){if(!N)return 0;let F=N.size_left;for(;N!==this.root;)N.parent.right===N&&(F+=N.parent.size_left+N.parent.piece.length),N=N.parent;return F}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(N){if(typeof N=="string")return N.charCodeAt(0)===10;if(N===ot||N.piece.lineFeedCnt===0)return!1;const F=N.piece,d=this._buffers[F.bufferIndex].lineStarts,k=F.start.line,te=d[k]+F.start.column;return k===d.length-1||d[k+1]>te+1?!1:this._buffers[F.bufferIndex].buffer.charCodeAt(te)===10}endWithCR(N){return typeof N=="string"?N.charCodeAt(N.length-1)===13:N===ot||N.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(N,N.piece.length-1)===13}validateCRLFWithPrevNode(N){if(this.shouldCheckCRLF()&&this.startWithLF(N)){const F=N.prev();this.endWithCR(F)&&this.fixCRLF(F,N)}}validateCRLFWithNextNode(N){if(this.shouldCheckCRLF()&&this.endWithCR(N)){const F=N.next();this.startWithLF(F)&&this.fixCRLF(N,F)}}fixCRLF(N,F){const d=[],k=this._buffers[N.piece.bufferIndex].lineStarts;let te;N.piece.end.column===0?te={line:N.piece.end.line-1,column:k[N.piece.end.line]-k[N.piece.end.line-1]-1}:te={line:N.piece.end.line,column:N.piece.end.column-1};const _e=N.piece.length-1,Ae=N.piece.lineFeedCnt-1;N.piece=new Dt(N.piece.bufferIndex,N.piece.start,te,Ae,_e),_t(this,N,-1,-1),N.piece.length===0&&d.push(N);const Be={line:F.piece.start.line+1,column:0},rt=F.piece.length-1,ct=this.getLineFeedCnt(F.piece.bufferIndex,Be,F.piece.end);F.piece=new Dt(F.piece.bufferIndex,Be,F.piece.end,ct,rt),_t(this,F,-1,-1),F.piece.length===0&&d.push(F);const Lt=this.createNewPieces(`\r
`);this.rbInsertRight(N,Lt[0]);for(let Et=0;Et<d.length;Et++)Ut(this,d[Et])}adjustCarriageReturnFromNext(N,F){if(this.shouldCheckCRLF()&&this.endWithCR(N)){const d=F.next();if(this.startWithLF(d)){if(N+=`
`,d.piece.length===1)Ut(this,d);else{const k=d.piece,te={line:k.start.line+1,column:0},_e=k.length-1,Ae=this.getLineFeedCnt(k.bufferIndex,te,k.end);d.piece=new Dt(k.bufferIndex,te,k.end,Ae,_e),_t(this,d,-1,-1)}return!0}}return!1}iterate(N,F){if(N===ot)return F(ot);const d=this.iterate(N.left,F);return d&&F(N)&&this.iterate(N.right,F)}getNodeContent(N){if(N===ot)return"";const F=this._buffers[N.piece.bufferIndex],d=N.piece,k=this.offsetInBuffer(d.bufferIndex,d.start),te=this.offsetInBuffer(d.bufferIndex,d.end);return F.buffer.substring(k,te)}getPieceContent(N){const F=this._buffers[N.bufferIndex],d=this.offsetInBuffer(N.bufferIndex,N.start),k=this.offsetInBuffer(N.bufferIndex,N.end);return F.buffer.substring(d,k)}rbInsertRight(N,F){const d=new Li(F,1);if(d.left=ot,d.right=ot,d.parent=ot,d.size_left=0,d.lf_left=0,this.root===ot)this.root=d,d.color=0;else if(N.right===ot)N.right=d,d.parent=N;else{const te=Ft(N.right);te.left=d,d.parent=te}return vt(this,d),d}rbInsertLeft(N,F){const d=new Li(F,1);if(d.left=ot,d.right=ot,d.parent=ot,d.size_left=0,d.lf_left=0,this.root===ot)this.root=d,d.color=0;else if(N.left===ot)N.left=d,d.parent=N;else{const k=Yt(N.left);k.right=d,d.parent=k}return vt(this,d),d}}var Si=i(93033);class mi extends D.JT{constructor(N,F,d,k,te,_e,Ae){super(),this._onDidChangeContent=this._register(new V.Q5),this._BOM=F,this._mightContainNonBasicASCII=!_e,this._mightContainRTL=k,this._mightContainUnusualLineTerminators=te,this._pieceTree=new xi(N,d,Ae)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(N){return this._pieceTree.createSnapshot(N?this._BOM:"")}getOffsetAt(N,F){return this._pieceTree.getOffsetAt(N,F)}getPositionAt(N){return this._pieceTree.getPositionAt(N)}getRangeAt(N,F){const d=N+F,k=this.getPositionAt(N),te=this.getPositionAt(d);return new c.e(k.lineNumber,k.column,te.lineNumber,te.column)}getValueInRange(N,F=0){if(N.isEmpty())return"";const d=this._getEndOfLine(F);return this._pieceTree.getValueInRange(N,d)}getValueLengthInRange(N,F=0){if(N.isEmpty())return 0;if(N.startLineNumber===N.endLineNumber)return N.endColumn-N.startColumn;const d=this.getOffsetAt(N.startLineNumber,N.startColumn);return this.getOffsetAt(N.endLineNumber,N.endColumn)-d}getCharacterCountInRange(N,F=0){if(this._mightContainNonBasicASCII){let d=0;const k=N.startLineNumber,te=N.endLineNumber;for(let _e=k;_e<=te;_e++){const Ae=this.getLineContent(_e),Be=_e===k?N.startColumn-1:0,rt=_e===te?N.endColumn-1:Ae.length;for(let ct=Be;ct<rt;ct++)$.ZG(Ae.charCodeAt(ct))?(d=d+1,ct=ct+1):d=d+1}return d+=this._getEndOfLine(F).length*(te-k),d}return this.getValueLengthInRange(N,F)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(N){return this._pieceTree.getLineContent(N)}getLineCharCode(N,F){return this._pieceTree.getLineCharCode(N,F)}getLineLength(N){return this._pieceTree.getLineLength(N)}getLineFirstNonWhitespaceColumn(N){const F=$.LC(this.getLineContent(N));return F===-1?0:F+1}getLineLastNonWhitespaceColumn(N){const F=$.ow(this.getLineContent(N));return F===-1?0:F+2}_getEndOfLine(N){switch(N){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(N){this._pieceTree.setEOL(N)}applyEdits(N,F,d){let k=this._mightContainRTL,te=this._mightContainUnusualLineTerminators,_e=this._mightContainNonBasicASCII,Ae=!0,Be=[];for(let Jt=0;Jt<N.length;Jt++){const Qt=N[Jt];Ae&&Qt._isTracked&&(Ae=!1);const di=Qt.range;if(Qt.text){let Rn=!0;_e||(Rn=!$.$i(Qt.text),_e=Rn),!k&&Rn&&(k=$.Ut(Qt.text)),!te&&Rn&&(te=$.ab(Qt.text))}let fi="",Ti=0,ln=0,An=0;if(Qt.text){let Rn;[Ti,ln,An,Rn]=(0,P.Q)(Qt.text);const Un=this.getEOL();Rn===0||Rn===(Un===`\r
`?2:1)?fi=Qt.text:fi=Qt.text.replace(/\r\n|\r|\n/g,Un)}Be[Jt]={sortIndex:Jt,identifier:Qt.identifier||null,range:di,rangeOffset:this.getOffsetAt(di.startLineNumber,di.startColumn),rangeLength:this.getValueLengthInRange(di),text:fi,eolCount:Ti,firstLineLength:ln,lastLineLength:An,forceMoveMarkers:Boolean(Qt.forceMoveMarkers),isAutoWhitespaceEdit:Qt.isAutoWhitespaceEdit||!1}}Be.sort(mi._sortOpsAscending);let rt=!1;for(let Jt=0,Qt=Be.length-1;Jt<Qt;Jt++){const di=Be[Jt].range.getEndPosition(),fi=Be[Jt+1].range.getStartPosition();if(fi.isBeforeOrEqual(di)){if(fi.isBefore(di))throw new Error("Overlapping ranges are not allowed!");rt=!0}}Ae&&(Be=this._reduceOperations(Be));const ct=d||F?mi._getInverseEditRanges(Be):[],Lt=[];if(F)for(let Jt=0;Jt<Be.length;Jt++){const Qt=Be[Jt],di=ct[Jt];if(Qt.isAutoWhitespaceEdit&&Qt.range.isEmpty())for(let fi=di.startLineNumber;fi<=di.endLineNumber;fi++){let Ti="";fi===di.startLineNumber&&(Ti=this.getLineContent(Qt.range.startLineNumber),$.LC(Ti)!==-1)||Lt.push({lineNumber:fi,oldContent:Ti})}}let Et=null;if(d){let Jt=0;Et=[];for(let Qt=0;Qt<Be.length;Qt++){const di=Be[Qt],fi=ct[Qt],Ti=this.getValueInRange(di.range),ln=di.rangeOffset+Jt;Jt+=di.text.length-Ti.length,Et[Qt]={sortIndex:di.sortIndex,identifier:di.identifier,range:fi,text:Ti,textChange:new Si.q(di.rangeOffset,Ti,ln,di.text)}}rt||Et.sort((Qt,di)=>Qt.sortIndex-di.sortIndex)}this._mightContainRTL=k,this._mightContainUnusualLineTerminators=te,this._mightContainNonBasicASCII=_e;const Vt=this._doApplyEdits(Be);let Xt=null;if(F&&Lt.length>0){Lt.sort((Jt,Qt)=>Qt.lineNumber-Jt.lineNumber),Xt=[];for(let Jt=0,Qt=Lt.length;Jt<Qt;Jt++){const di=Lt[Jt].lineNumber;if(Jt>0&&Lt[Jt-1].lineNumber===di)continue;const fi=Lt[Jt].oldContent,Ti=this.getLineContent(di);Ti.length===0||Ti===fi||$.LC(Ti)!==-1||Xt.push(di)}}return this._onDidChangeContent.fire(),new g.je(Et,Vt,Xt)}_reduceOperations(N){return N.length<1e3?N:[this._toSingleEditOperation(N)]}_toSingleEditOperation(N){let F=!1;const d=N[0].range,k=N[N.length-1].range,te=new c.e(d.startLineNumber,d.startColumn,k.endLineNumber,k.endColumn);let _e=d.startLineNumber,Ae=d.startColumn;const Be=[];for(let Vt=0,Xt=N.length;Vt<Xt;Vt++){const Jt=N[Vt],Qt=Jt.range;F=F||Jt.forceMoveMarkers,Be.push(this.getValueInRange(new c.e(_e,Ae,Qt.startLineNumber,Qt.startColumn))),Jt.text.length>0&&Be.push(Jt.text),_e=Qt.endLineNumber,Ae=Qt.endColumn}const rt=Be.join(""),[ct,Lt,Et]=(0,P.Q)(rt);return{sortIndex:0,identifier:N[0].identifier,range:te,rangeOffset:this.getOffsetAt(te.startLineNumber,te.startColumn),rangeLength:this.getValueLengthInRange(te,0),text:rt,eolCount:ct,firstLineLength:Lt,lastLineLength:Et,forceMoveMarkers:F,isAutoWhitespaceEdit:!1}}_doApplyEdits(N){N.sort(mi._sortOpsDescending);const F=[];for(let d=0;d<N.length;d++){const k=N[d],te=k.range.startLineNumber,_e=k.range.startColumn,Ae=k.range.endLineNumber,Be=k.range.endColumn;if(te===Ae&&_e===Be&&k.text.length===0)continue;k.text?(this._pieceTree.delete(k.rangeOffset,k.rangeLength),this._pieceTree.insert(k.rangeOffset,k.text,!0)):this._pieceTree.delete(k.rangeOffset,k.rangeLength);const rt=new c.e(te,_e,Ae,Be);F.push({range:rt,rangeLength:k.rangeLength,text:k.text,rangeOffset:k.rangeOffset,forceMoveMarkers:k.forceMoveMarkers})}return F}findMatchesLineByLine(N,F,d,k){return this._pieceTree.findMatchesLineByLine(N,F,d,k)}static _getInverseEditRanges(N){const F=[];let d=0,k=0,te=null;for(let _e=0,Ae=N.length;_e<Ae;_e++){const Be=N[_e];let rt,ct;te?te.range.endLineNumber===Be.range.startLineNumber?(rt=d,ct=k+(Be.range.startColumn-te.range.endColumn)):(rt=d+(Be.range.startLineNumber-te.range.endLineNumber),ct=Be.range.startColumn):(rt=Be.range.startLineNumber,ct=Be.range.startColumn);let Lt;if(Be.text.length>0){const Et=Be.eolCount+1;Et===1?Lt=new c.e(rt,ct,rt,ct+Be.firstLineLength):Lt=new c.e(rt,ct,rt+Et-1,Be.lastLineLength+1)}else Lt=new c.e(rt,ct,rt,ct);d=Lt.endLineNumber,k=Lt.endColumn,F.push(Lt),te=Be}return F}static _sortOpsAscending(N,F){const d=c.e.compareRangesUsingEnds(N.range,F.range);return d===0?N.sortIndex-F.sortIndex:d}static _sortOpsDescending(N,F){const d=c.e.compareRangesUsingEnds(N.range,F.range);return d===0?F.sortIndex-N.sortIndex:-d}}class mn{constructor(N,F,d,k,te,_e,Ae,Be,rt){this._chunks=N,this._bom=F,this._cr=d,this._lf=k,this._crlf=te,this._containsRTL=_e,this._containsUnusualLineTerminators=Ae,this._isBasicASCII=Be,this._normalizeEOL=rt}_getEOL(N){const F=this._cr+this._lf+this._crlf,d=this._cr+this._crlf;return F===0?N===1?`
`:`\r
`:d>F/2?`\r
`:`
`}create(N){const F=this._getEOL(N),d=this._chunks;if(this._normalizeEOL&&(F===`\r
`&&(this._cr>0||this._lf>0)||F===`
`&&(this._cr>0||this._crlf>0)))for(let te=0,_e=d.length;te<_e;te++){const Ae=d[te].buffer.replace(/\r\n|\r|\n/g,F),Be=ht(Ae);d[te]=new Ht(Ae,Be)}const k=new mi(d,this._bom,F,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:k,disposable:k}}}class Mi{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(N){if(N.length===0)return;this.chunks.length===0&&$.uS(N)&&(this.BOM=$.c1,N=N.substr(1));const F=N.charCodeAt(N.length-1);F===13||F>=55296&&F<=56319?(this._acceptChunk1(N.substr(0,N.length-1),!1),this._hasPreviousChar=!0,this._previousChar=F):(this._acceptChunk1(N,!1),this._hasPreviousChar=!1,this._previousChar=F)}_acceptChunk1(N,F){!F&&N.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+N):this._acceptChunk2(N))}_acceptChunk2(N){const F=bt(this._tmpLineStarts,N);this.chunks.push(new Ht(N,F.lineStarts)),this.cr+=F.cr,this.lf+=F.lf,this.crlf+=F.crlf,this.isBasicASCII&&(this.isBasicASCII=F.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=$.Ut(N)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=$.ab(N))}finish(N=!0){return this._finish(),new mn(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,N)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const N=this.chunks[this.chunks.length-1];N.buffer+=String.fromCharCode(this._previousChar);const F=ht(N.buffer);N.lineStarts=F,this._previousChar===13&&this.cr++}}}var fn=i(270),Fi=i(94954),Ni=i(77378),Dn=i(96887),Tn=i(276),$i=i(84013);class pn{constructor(N,F){this._startLineNumber=N,this._tokens=F}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(N){return this._tokens[N-this._startLineNumber]}appendLineTokens(N){this._tokens.push(N)}}class Sn{constructor(){this._tokens=[]}add(N,F){if(this._tokens.length>0){const d=this._tokens[this._tokens.length-1];if(d.endLineNumber+1===N){d.appendLineTokens(F);return}}this._tokens.push(new pn(N,[F]))}finalize(){return this._tokens}}var wn=i(15393),li=i(1432);class Ke{constructor(N){this._default=N,this._store=[]}get(N){return N<this._store.length?this._store[N]:this._default}set(N,F){for(;N>=this._store.length;)this._store[this._store.length]=this._default;this._store[N]=F}delete(N,F){F===0||N>=this._store.length||this._store.splice(N,F)}insert(N,F){if(F===0||N>=this._store.length)return;const d=[];for(let k=0;k<F;k++)d[k]=this._default;this._store=w.Zv(this._store,N,d)}}class Rt{constructor(N,F){this.tokenizationSupport=N,this.initialState=F,this._lineBeginState=new Ke(null),this._lineNeedsTokenization=new Ke(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(N){this._lineNeedsTokenization.set(N,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,N)}getBeginState(N){return this._lineBeginState.get(N)}setEndState(N,F,d){if(this._lineNeedsTokenization.set(F,!1),this._firstLineNeedsTokenization=F+1,F===N-1)return;const k=this._lineBeginState.get(F+1);if(k===null||!d.equals(k)){this._lineBeginState.set(F+1,d),this.markMustBeTokenized(F+1);return}let te=F+1;for(;te<N&&!this._lineNeedsTokenization.get(te);)te++;this._firstLineNeedsTokenization=te}applyEdits(N,F){this.markMustBeTokenized(N.startLineNumber-1),this._lineBeginState.delete(N.startLineNumber,N.endLineNumber-N.startLineNumber),this._lineNeedsTokenization.delete(N.startLineNumber,N.endLineNumber-N.startLineNumber),this._lineBeginState.insert(N.startLineNumber,F),this._lineNeedsTokenization.insert(N.startLineNumber,F)}}class At extends D.JT{constructor(N,F,d){super(),this._textModel=N,this._tokenizationPart=F,this._languageIdCodec=d,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(Dn.RW.onDidChange(k=>{const te=this._textModel.getLanguageId();k.changedLanguages.indexOf(te)!==-1&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(N){if(N.isFlush){this._resetTokenizationState();return}if(this._tokenizationStateStore)for(let F=0,d=N.changes.length;F<d;F++){const k=N.changes[F],[te]=(0,P.Q)(k.text);this._tokenizationStateStore.applyEdits(k.range,te)}this._beginBackgroundTokenization()}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(N){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){const[N,F]=ni(this._textModel,this._tokenizationPart);N&&F?this._tokenizationStateStore=new Rt(N,F):this._tokenizationStateStore=null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,wn.To)(N=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(N)}))}_backgroundTokenizeWithDeadline(N){const F=Date.now()+N.timeRemaining(),d=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<F?(0,li.fn)(d):this._beginBackgroundTokenization())};d()}_backgroundTokenizeForAtLeast1ms(){const N=this._textModel.getLineCount(),F=new Sn,d=$i.G.create(!1);do if(d.elapsed()>1||this._tokenizeOneInvalidLine(F)>=N)break;while(this._hasLinesToTokenize());this._tokenizationPart.setTokens(F.finalize(),this._isTokenizationComplete())}tokenizeViewport(N,F){const d=new Sn;this._tokenizeViewport(d,N,F),this._tokenizationPart.setTokens(d.finalize(),this._isTokenizationComplete())}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(N){const F=new Sn;this._updateTokensUntilLine(F,N),this._tokenizationPart.setTokens(F.finalize(),this._isTokenizationComplete())}getTokenTypeIfInsertingCharacter(N,F){if(!this._tokenizationStateStore)return 0;this.forceTokenization(N.lineNumber);const d=this._tokenizationStateStore.getBeginState(N.lineNumber-1);if(!d)return 0;const k=this._textModel.getLanguageId(),te=this._textModel.getLineContent(N.lineNumber),_e=te.substring(0,N.column-1)+F+te.substring(N.column-1),Ae=ii(this._languageIdCodec,k,this._tokenizationStateStore.tokenizationSupport,_e,!0,d),Be=new Ni.A(Ae.tokens,_e,this._languageIdCodec);if(Be.getCount()===0)return 0;const rt=Be.findTokenIndexAtOffset(N.column-1);return Be.getStandardTokenType(rt)}tokenizeLineWithEdit(N,F,d){const k=N.lineNumber,te=N.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(k);const _e=this._tokenizationStateStore.getBeginState(k-1);if(!_e)return null;const Ae=this._textModel.getLineContent(k),Be=Ae.substring(0,te-1)+d+Ae.substring(te-1+F),rt=this._textModel.getLanguageIdAtPosition(k,0),ct=ii(this._languageIdCodec,rt,this._tokenizationStateStore.tokenizationSupport,Be,!0,_e);return new Ni.A(ct.tokens,Be,this._languageIdCodec)}isCheapToTokenize(N){if(!this._tokenizationStateStore)return!0;const F=this._tokenizationStateStore.invalidLineStartIndex+1;return N>F?!1:N<F||this._textModel.getLineLength(N)<2048}_hasLinesToTokenize(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_isTokenizationComplete(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex>=this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(N){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const F=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(N,F),F}_updateTokensUntilLine(N,F){if(!this._tokenizationStateStore)return;const d=this._textModel.getLanguageId(),k=this._textModel.getLineCount(),te=F-1;for(let _e=this._tokenizationStateStore.invalidLineStartIndex;_e<=te;_e++){const Ae=this._textModel.getLineContent(_e+1),Be=this._tokenizationStateStore.getBeginState(_e),rt=ii(this._languageIdCodec,d,this._tokenizationStateStore.tokenizationSupport,Ae,!0,Be);N.add(_e+1,rt.tokens),this._tokenizationStateStore.setEndState(k,_e,rt.endState),_e=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(N,F,d){if(!this._tokenizationStateStore||d<=this._tokenizationStateStore.invalidLineStartIndex)return;if(F<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(N,d);return}let k=this._textModel.getLineFirstNonWhitespaceColumn(F);const te=[];let _e=null;for(let rt=F-1;k>1&&rt>=1;rt--){const ct=this._textModel.getLineFirstNonWhitespaceColumn(rt);if(ct!==0&&ct<k&&(te.push(this._textModel.getLineContent(rt)),k=ct,_e=this._tokenizationStateStore.getBeginState(rt-1),_e))break}_e||(_e=this._tokenizationStateStore.initialState);const Ae=this._textModel.getLanguageId();let Be=_e;for(let rt=te.length-1;rt>=0;rt--)Be=ii(this._languageIdCodec,Ae,this._tokenizationStateStore.tokenizationSupport,te[rt],!1,Be).endState;for(let rt=F;rt<=d;rt++){const ct=this._textModel.getLineContent(rt),Lt=ii(this._languageIdCodec,Ae,this._tokenizationStateStore.tokenizationSupport,ct,!0,Be);N.add(rt,Lt.tokens),this._tokenizationStateStore.markMustBeTokenized(rt-1),Be=Lt.endState}}}function ni(St,N){if(St.isTooLargeForTokenization())return[null,null];const F=Dn.RW.get(N.getLanguageId());if(!F)return[null,null];let d;try{d=F.getInitialState()}catch(k){return(0,O.dL)(k),[null,null]}return[F,d]}function ii(St,N,F,d,k,te){let _e=null;if(F)try{_e=F.tokenizeEncoded(d,k,te.clone())}catch(Ae){(0,O.dL)(Ae)}return _e||(_e=(0,Tn.Dy)(St.encodeLanguageId(N),te)),Ni.A.convertToEndOffset(_e.tokens,d.length),_e}const xt=new Uint32Array(0).buffer;class Ve{static deleteBeginning(N,F){return N===null||N===xt?N:Ve.delete(N,0,F)}static deleteEnding(N,F){if(N===null||N===xt)return N;const d=dt(N),k=d[d.length-2];return Ve.delete(N,F,k)}static delete(N,F,d){if(N===null||N===xt||F===d)return N;const k=dt(N),te=k.length>>>1;if(F===0&&k[k.length-2]===d)return xt;const _e=Ni.A.findIndexInTokensArray(k,F),Ae=_e>0?k[_e-1<<1]:0,Be=k[_e<<1];if(d<Be){const Vt=d-F;for(let Xt=_e;Xt<te;Xt++)k[Xt<<1]-=Vt;return N}let rt,ct;Ae!==F?(k[_e<<1]=F,rt=_e+1<<1,ct=F):(rt=_e<<1,ct=Ae);const Lt=d-F;for(let Vt=_e+1;Vt<te;Vt++){const Xt=k[Vt<<1]-Lt;Xt>ct&&(k[rt++]=Xt,k[rt++]=k[(Vt<<1)+1],ct=Xt)}if(rt===k.length)return N;const Et=new Uint32Array(rt);return Et.set(k.subarray(0,rt),0),Et.buffer}static append(N,F){if(F===xt)return N;if(N===xt)return F;if(N===null)return N;if(F===null)return null;const d=dt(N),k=dt(F),te=k.length>>>1,_e=new Uint32Array(d.length+k.length);_e.set(d,0);let Ae=d.length;const Be=d[d.length-2];for(let rt=0;rt<te;rt++)_e[Ae++]=k[rt<<1]+Be,_e[Ae++]=k[(rt<<1)+1];return _e.buffer}static insert(N,F,d){if(N===null||N===xt)return N;const k=dt(N),te=k.length>>>1;let _e=Ni.A.findIndexInTokensArray(k,F);_e>0&&k[_e-1<<1]===F&&_e--;for(let Ae=_e;Ae<te;Ae++)k[Ae<<1]+=d;return N}}function dt(St){return St instanceof Uint32Array?St:new Uint32Array(St)}var Tt=i(45797);class jt{constructor(N){this._lineTokens=[],this._len=0,this._languageIdCodec=N}flush(){this._lineTokens=[],this._len=0}getTokens(N,F,d){let k=null;if(F<this._len&&(k=this._lineTokens[F]),k!==null&&k!==xt)return new Ni.A(dt(k),d,this._languageIdCodec);const te=new Uint32Array(2);return te[0]=d.length,te[1]=$t(this._languageIdCodec.encodeLanguageId(N)),new Ni.A(te,d,this._languageIdCodec)}static _massageTokens(N,F,d){const k=d?dt(d):null;if(F===0){let te=!1;if(k&&k.length>1&&(te=Tt.N.getLanguageId(k[1])!==N),!te)return xt}if(!k||k.length===0){const te=new Uint32Array(2);return te[0]=F,te[1]=$t(N),te.buffer}return k[k.length-2]=F,k.byteOffset===0&&k.byteLength===k.buffer.byteLength?k.buffer:k}_ensureLine(N){for(;N>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(N,F){F!==0&&(N+F>this._len&&(F=this._len-N),this._lineTokens.splice(N,F),this._len-=F)}_insertLines(N,F){if(F===0)return;const d=[];for(let k=0;k<F;k++)d[k]=null;this._lineTokens=w.Zv(this._lineTokens,N,d),this._len+=F}setTokens(N,F,d,k,te){const _e=jt._massageTokens(this._languageIdCodec.encodeLanguageId(N),d,k);this._ensureLine(F);const Ae=this._lineTokens[F];return this._lineTokens[F]=_e,te?!jt._equals(Ae,_e):!1}static _equals(N,F){if(!N||!F)return!N&&!F;const d=dt(N),k=dt(F);if(d.length!==k.length)return!1;for(let te=0,_e=d.length;te<_e;te++)if(d[te]!==k[te])return!1;return!0}acceptEdit(N,F,d){this._acceptDeleteRange(N),this._acceptInsertText(new L.L(N.startLineNumber,N.startColumn),F,d)}_acceptDeleteRange(N){const F=N.startLineNumber-1;if(F>=this._len)return;if(N.startLineNumber===N.endLineNumber){if(N.startColumn===N.endColumn)return;this._lineTokens[F]=Ve.delete(this._lineTokens[F],N.startColumn-1,N.endColumn-1);return}this._lineTokens[F]=Ve.deleteEnding(this._lineTokens[F],N.startColumn-1);const d=N.endLineNumber-1;let k=null;d<this._len&&(k=Ve.deleteBeginning(this._lineTokens[d],N.endColumn-1)),this._lineTokens[F]=Ve.append(this._lineTokens[F],k),this._deleteLines(N.startLineNumber,N.endLineNumber-N.startLineNumber)}_acceptInsertText(N,F,d){if(F===0&&d===0)return;const k=N.lineNumber-1;if(!(k>=this._len)){if(F===0){this._lineTokens[k]=Ve.insert(this._lineTokens[k],N.column-1,d);return}this._lineTokens[k]=Ve.deleteEnding(this._lineTokens[k],N.column-1),this._lineTokens[k]=Ve.insert(this._lineTokens[k],N.column-1,d),this._insertLines(N.lineNumber,F)}}}function $t(St){return(St<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}class Wt{constructor(N){this._pieces=[],this._isComplete=!1,this._languageIdCodec=N}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(N,F){this._pieces=N||[],this._isComplete=F}setPartial(N,F){let d=N;if(F.length>0){const te=F[0].getRange(),_e=F[F.length-1].getRange();if(!te||!_e)return N;d=N.plusRange(te).plusRange(_e)}let k=null;for(let te=0,_e=this._pieces.length;te<_e;te++){const Ae=this._pieces[te];if(Ae.endLineNumber<d.startLineNumber)continue;if(Ae.startLineNumber>d.endLineNumber){k=k||{index:te};break}if(Ae.removeTokens(d),Ae.isEmpty()){this._pieces.splice(te,1),te--,_e--;continue}if(Ae.endLineNumber<d.startLineNumber)continue;if(Ae.startLineNumber>d.endLineNumber){k=k||{index:te};continue}const[Be,rt]=Ae.split(d);if(Be.isEmpty()){k=k||{index:te};continue}rt.isEmpty()||(this._pieces.splice(te,1,Be,rt),te++,_e++,k=k||{index:te})}return k=k||{index:this._pieces.length},F.length>0&&(this._pieces=w.Zv(this._pieces,k.index,F)),d}isComplete(){return this._isComplete}addSparseTokens(N,F){if(F.getLineContent().length===0)return F;const d=this._pieces;if(d.length===0)return F;const k=Wt._findFirstPieceWithLine(d,N),te=d[k].getLineTokens(N);if(!te)return F;const _e=F.getCount(),Ae=te.getCount();let Be=0;const rt=[];let ct=0,Lt=0;const Et=(Vt,Xt)=>{Vt!==Lt&&(Lt=Vt,rt[ct++]=Vt,rt[ct++]=Xt)};for(let Vt=0;Vt<Ae;Vt++){const Xt=te.getStartCharacter(Vt),Jt=te.getEndCharacter(Vt),Qt=te.getMetadata(Vt),di=((Qt&1?2048:0)|(Qt&2?4096:0)|(Qt&4?8192:0)|(Qt&8?16384:0)|(Qt&16?16744448:0)|(Qt&32?4278190080:0))>>>0,fi=~di>>>0;for(;Be<_e&&F.getEndOffset(Be)<=Xt;)Et(F.getEndOffset(Be),F.getMetadata(Be)),Be++;for(Be<_e&&F.getStartOffset(Be)<Xt&&Et(Xt,F.getMetadata(Be));Be<_e&&F.getEndOffset(Be)<Jt;)Et(F.getEndOffset(Be),F.getMetadata(Be)&fi|Qt&di),Be++;if(Be<_e)Et(Jt,F.getMetadata(Be)&fi|Qt&di),F.getEndOffset(Be)===Jt&&Be++;else{const Ti=Math.min(Math.max(0,Be-1),_e-1);Et(Jt,F.getMetadata(Ti)&fi|Qt&di)}}for(;Be<_e;)Et(F.getEndOffset(Be),F.getMetadata(Be)),Be++;return new Ni.A(new Uint32Array(rt),F.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(N,F){let d=0,k=N.length-1;for(;d<k;){let te=d+Math.floor((k-d)/2);if(N[te].endLineNumber<F)d=te+1;else if(N[te].startLineNumber>F)k=te-1;else{for(;te>d&&N[te-1].startLineNumber<=F&&F<=N[te-1].endLineNumber;)te--;return te}}return d}acceptEdit(N,F,d,k,te){for(const _e of this._pieces)_e.acceptEdit(N,F,d,k,te)}}class We extends Fi.U{constructor(N,F,d,k,te){super(),this._languageService=N,this._languageConfigurationService=F,this._textModel=d,this.bracketPairsTextModelPart=k,this._languageId=te,this._onDidChangeLanguage=this._register(new V.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new V.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new V.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new V.Q5),this._tokens=new jt(this._languageService.languageIdCodec),this._semanticTokens=new Wt(this._languageService.languageIdCodec),this._tokenization=new At(d,this,this._languageService.languageIdCodec),this._languageRegistryListener=this._languageConfigurationService.onDidChange(_e=>{_e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})}acceptEdit(N,F,d,k,te){this._tokens.acceptEdit(N,d,k),this._semanticTokens.acceptEdit(N,d,k,te,F.length>0?F.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(N){this._tokenization.handleDidChangeContent(N)}dispose(){this._languageRegistryListener.dispose(),this._tokenization.dispose(),super.dispose()}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(N){if(this._backgroundTokenizationState===2)return;const F=N?2:1;this._backgroundTokenizationState!==F&&(this._backgroundTokenizationState=F,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}setTokens(N,F=!1){if(N.length!==0){const d=[];for(let k=0,te=N.length;k<te;k++){const _e=N[k];let Ae=0,Be=0,rt=!1;for(let ct=_e.startLineNumber;ct<=_e.endLineNumber;ct++)rt?(this._tokens.setTokens(this._languageId,ct-1,this._textModel.getLineLength(ct),_e.getLineTokens(ct),!1),Be=ct):this._tokens.setTokens(this._languageId,ct-1,this._textModel.getLineLength(ct),_e.getLineTokens(ct),!0)&&(rt=!0,Ae=ct,Be=ct);rt&&d.push({fromLineNumber:Ae,toLineNumber:Be})}d.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:d})}this.handleTokenizationProgress(F)}setSemanticTokens(N,F){this._semanticTokens.set(N,F),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:N!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(N,F){if(this.hasCompleteSemanticTokens())return;const d=this._textModel.validateRange(this._semanticTokens.setPartial(N,F));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:d.startLineNumber,toLineNumber:d.endLineNumber}]})}tokenizeViewport(N,F){N=Math.max(1,N),F=Math.min(this._textModel.getLineCount(),F),this._tokenization.tokenizeViewport(N,F)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(N){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(N),this._onDidChangeTokens.fire(N))}resetTokenization(){this._tokenization.reset()}forceTokenization(N){if(N<1||N>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(N)}isCheapToTokenize(N){return this._tokenization.isCheapToTokenize(N)}tokenizeIfCheap(N){this.isCheapToTokenize(N)&&this.forceTokenization(N)}getLineTokens(N){if(N<1||N>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(N)}_getLineTokens(N){const F=this._textModel.getLineContent(N),d=this._tokens.getTokens(this._languageId,N-1,F);return this._semanticTokens.addSparseTokens(N,d)}getTokenTypeIfInsertingCharacter(N,F,d){const k=this._textModel.validatePosition(new L.L(N,F));return this._tokenization.getTokenTypeIfInsertingCharacter(k,d)}tokenizeLineWithEdit(N,F,d){const k=this._textModel.validatePosition(N);return this._tokenization.tokenizeLineWithEdit(k,F,d)}getLanguageConfiguration(N){return this._languageConfigurationService.getLanguageConfiguration(N)}getWordAtPosition(N){this.assertNotDisposed();const F=this._textModel.validatePosition(N),d=this._textModel.getLineContent(F.lineNumber),k=this._getLineTokens(F.lineNumber),te=k.findTokenIndexAtOffset(F.column-1),[_e,Ae]=We._findLanguageBoundaries(k,te),Be=(0,fn.t2)(F.column,this.getLanguageConfiguration(k.getLanguageId(te)).getWordDefinition(),d.substring(_e,Ae),_e);if(Be&&Be.startColumn<=N.column&&N.column<=Be.endColumn)return Be;if(te>0&&_e===F.column-1){const[rt,ct]=We._findLanguageBoundaries(k,te-1),Lt=(0,fn.t2)(F.column,this.getLanguageConfiguration(k.getLanguageId(te-1)).getWordDefinition(),d.substring(rt,ct),rt);if(Lt&&Lt.startColumn<=N.column&&N.column<=Lt.endColumn)return Lt}return null}static _findLanguageBoundaries(N,F){const d=N.getLanguageId(F);let k=0;for(let _e=F;_e>=0&&N.getLanguageId(_e)===d;_e--)k=N.getStartOffset(_e);let te=N.getLineContent().length;for(let _e=F,Ae=N.getCount();_e<Ae&&N.getLanguageId(_e)===d;_e++)te=N.getEndOffset(_e);return[k,te]}getWordUntilPosition(N){const F=this.getWordAtPosition(N);return F?{word:F.word.substr(0,N.column-F.startColumn),startColumn:F.startColumn,endColumn:N.column}:{word:"",startColumn:N.column,endColumn:N.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(N,F){const d=this._textModel.validatePosition(new L.L(N,F)),k=this.getLineTokens(d.lineNumber);return k.getLanguageId(k.findTokenIndexAtOffset(d.column-1))}setLanguageId(N){if(this._languageId===N)return;const F={oldLanguage:this._languageId,newLanguage:N};this._languageId=N,this.bracketPairsTextModelPart.handleDidChangeLanguage(F),this._tokenization.handleDidChangeLanguage(F),this._onDidChangeLanguage.fire(F),this._onDidChangeLanguageConfiguration.fire({})}}var Xe=i(14706),ut=i(64862),pt=function(St,N,F,d){var k=arguments.length,te=k<3?N:d===null?d=Object.getOwnPropertyDescriptor(N,F):d,_e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")te=Reflect.decorate(St,N,F,d);else for(var Ae=St.length-1;Ae>=0;Ae--)(_e=St[Ae])&&(te=(k<3?_e(te):k>3?_e(N,F,te):_e(N,F))||te);return k>3&&te&&Object.defineProperty(N,F,te),te},kt=function(St,N){return function(F,d){N(F,d,St)}};function Kt(St){const N=new Mi;return N.acceptChunk(St),N.finish()}function Gt(St){const N=new Mi;let F;for(;typeof(F=St.read())=="string";)N.acceptChunk(F);return N.finish()}function Ei(St,N){let F;return typeof St=="string"?F=Kt(St):g.Hf(St)?F=Gt(St):F=St,F.create(N)}let Oi=0;const wi=999,Pt=1e4;class Pi{constructor(N){this._source=N,this._eos=!1}read(){if(this._eos)return null;const N=[];let F=0,d=0;do{const k=this._source.read();if(k===null)return this._eos=!0,F===0?null:N.join("");if(k.length>0&&(N[F++]=k,d+=k.length),d>=64*1024)return N.join("")}while(!0)}}const en=()=>{throw new Error("Invalid change accessor")};let un=class Br extends D.JT{constructor(N,F,d,k=null,te,_e,Ae){super(),this._undoRedoService=te,this._languageService=_e,this._languageConfigurationService=Ae,this._onWillDispose=this._register(new V.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new zn(Et=>this.handleBeforeFireDecorationsChangedEvent(Et))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new V.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new V.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new V.Q5),this._eventEmitter=this._register(new Bn),this._deltaDecorationCallCnt=0,Oi++,this.id="$model"+Oi,this.isForSimpleWidget=d.isForSimpleWidget,typeof k>"u"||k===null?this._associatedResource=M.o.parse("inmemory://model/"+Oi):this._associatedResource=k,this._attachedEditorCount=0;const{textBuffer:Be,disposable:rt}=Ei(N,d.defaultEOL);this._buffer=Be,this._bufferDisposable=rt,this._options=Br.resolveOptions(this._buffer,d),this._bracketPairs=this._register(new Z(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new ee.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new Ce(this)),this._tokenizationTextModelPart=new We(this._languageService,this._languageConfigurationService,this,this._bracketPairs,F);const ct=this._buffer.getLineCount(),Lt=this._buffer.getValueLengthInRange(new c.e(1,1,ct,this._buffer.getLineLength(ct)+1),0);d.largeFileOptimizations?this._isTooLargeForTokenization=Lt>Br.LARGE_FILE_SIZE_THRESHOLD||ct>Br.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=Lt>Br.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=$.PJ(Oi),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new an,this._commandManager=new pe.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(N,F){if(F.detectIndentation){const d=oe(N,F.tabSize,F.insertSpaces);return new g.dJ({tabSize:d.tabSize,indentSize:d.tabSize,insertSpaces:d.insertSpaces,trimAutoWhitespace:F.trimAutoWhitespace,defaultEOL:F.defaultEOL,bracketPairColorizationOptions:F.bracketPairColorizationOptions})}return new g.dJ({tabSize:F.tabSize,indentSize:F.indentSize,insertSpaces:F.insertSpaces,trimAutoWhitespace:F.trimAutoWhitespace,defaultEOL:F.defaultEOL,bracketPairColorizationOptions:F.bracketPairColorizationOptions})}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(N){return this._eventEmitter.slowEvent(F=>N(F.contentChangedEvent))}onDidChangeContentOrInjectedText(N){return(0,D.F8)(this._eventEmitter.fastEvent(F=>N(F)),this._onDidChangeInjectedText.event(F=>N(F)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const N=new mi([],"",`
`,!1,!1,!0,!0);N.dispose(),this._buffer=N,this._bufferDisposable=D.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(N,F){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(F),this._bracketPairs.handleDidChangeContent(F),this._eventEmitter.fire(new Xe.fV(N,F)))}setValue(N){if(this._assertNotDisposed(),N===null)return;const{textBuffer:F,disposable:d}=Ei(N,this._options.defaultEOL);this._setValueFromTextBuffer(F,d)}_createContentChanged2(N,F,d,k,te,_e,Ae){return{changes:[{range:N,rangeOffset:F,rangeLength:d,text:k}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:te,isRedoing:_e,isFlush:Ae}}_setValueFromTextBuffer(N,F){this._assertNotDisposed();const d=this.getFullModelRange(),k=this.getValueLengthInRange(d),te=this.getLineCount(),_e=this.getLineMaxColumn(te);this._buffer=N,this._bufferDisposable.dispose(),this._bufferDisposable=F,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new an,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Xe.dQ([new Xe.Jx],this._versionId,!1,!1),this._createContentChanged2(new c.e(1,1,te,_e),0,k,this.getValue(),!1,!1,!0))}setEOL(N){this._assertNotDisposed();const F=N===1?`\r
`:`
`;if(this._buffer.getEOL()===F)return;const d=this.getFullModelRange(),k=this.getValueLengthInRange(d),te=this.getLineCount(),_e=this.getLineMaxColumn(te);this._onBeforeEOLChange(),this._buffer.setEOL(F),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Xe.dQ([new Xe.CZ],this._versionId,!1,!1),this._createContentChanged2(new c.e(1,1,te,_e),0,k,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const N=this.getVersionId(),F=this._decorationsTree.collectNodesPostOrder();for(let d=0,k=F.length;d<k;d++){const te=F[d],_e=te.range,Ae=te.cachedAbsoluteStart-te.start,Be=this._buffer.getOffsetAt(_e.startLineNumber,_e.startColumn),rt=this._buffer.getOffsetAt(_e.endLineNumber,_e.endColumn);te.cachedAbsoluteStart=Be,te.cachedAbsoluteEnd=rt,te.cachedVersionId=N,te.start=Be-Ae,te.end=rt-Ae,Bt(te)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let N=0,F=0;const d=this._buffer.getLineCount();for(let k=1;k<=d;k++){const te=this._buffer.getLineLength(k);te>=Pt?F+=te:N+=te}return F>N}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(N){this._assertNotDisposed();const F=typeof N.tabSize<"u"?N.tabSize:this._options.tabSize,d=typeof N.indentSize<"u"?N.indentSize:this._options.indentSize,k=typeof N.insertSpaces<"u"?N.insertSpaces:this._options.insertSpaces,te=typeof N.trimAutoWhitespace<"u"?N.trimAutoWhitespace:this._options.trimAutoWhitespace,_e=typeof N.bracketColorizationOptions<"u"?N.bracketColorizationOptions:this._options.bracketPairColorizationOptions,Ae=new g.dJ({tabSize:F,indentSize:d,insertSpaces:k,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:te,bracketPairColorizationOptions:_e});if(this._options.equals(Ae))return;const Be=this._options.createChangeEvent(Ae);this._options=Ae,this._bracketPairs.handleDidChangeOptions(Be),this._decorationProvider.handleDidChangeOptions(Be),this._onDidChangeOptions.fire(Be)}detectIndentation(N,F){this._assertNotDisposed();const d=oe(this._buffer,F,N);this.updateOptions({insertSpaces:d.insertSpaces,tabSize:d.tabSize,indentSize:d.tabSize})}normalizeIndentation(N){return this._assertNotDisposed(),(0,A.x)(N,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(N=null){const F=this.findMatches($.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(N,F.map(d=>({range:d.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(N){this._assertNotDisposed();const F=this._validatePosition(N.lineNumber,N.column,0);return this._buffer.getOffsetAt(F.lineNumber,F.column)}getPositionAt(N){this._assertNotDisposed();const F=Math.min(this._buffer.getLength(),Math.max(0,N));return this._buffer.getPositionAt(F)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(N){this._versionId=N}_overwriteAlternativeVersionId(N){this._alternativeVersionId=N}_overwriteInitialUndoRedoSnapshot(N){this._initialUndoRedoSnapshot=N}getValue(N,F=!1){this._assertNotDisposed();const d=this.getFullModelRange(),k=this.getValueInRange(d,N);return F?this._buffer.getBOM()+k:k}createSnapshot(N=!1){return new Pi(this._buffer.createSnapshot(N))}getValueLength(N,F=!1){this._assertNotDisposed();const d=this.getFullModelRange(),k=this.getValueLengthInRange(d,N);return F?this._buffer.getBOM().length+k:k}getValueInRange(N,F=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(N),F)}getValueLengthInRange(N,F=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(N),F)}getCharacterCountInRange(N,F=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(N),F)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(N){if(this._assertNotDisposed(),N<1||N>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(N)}getLineLength(N){if(this._assertNotDisposed(),N<1||N>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(N)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(N){return this._assertNotDisposed(),1}getLineMaxColumn(N){if(this._assertNotDisposed(),N<1||N>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(N)+1}getLineFirstNonWhitespaceColumn(N){if(this._assertNotDisposed(),N<1||N>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(N)}getLineLastNonWhitespaceColumn(N){if(this._assertNotDisposed(),N<1||N>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(N)}_validateRangeRelaxedNoAllocations(N){const F=this._buffer.getLineCount(),d=N.startLineNumber,k=N.startColumn;let te=Math.floor(typeof d=="number"&&!isNaN(d)?d:1),_e=Math.floor(typeof k=="number"&&!isNaN(k)?k:1);if(te<1)te=1,_e=1;else if(te>F)te=F,_e=this.getLineMaxColumn(te);else if(_e<=1)_e=1;else{const Lt=this.getLineMaxColumn(te);_e>=Lt&&(_e=Lt)}const Ae=N.endLineNumber,Be=N.endColumn;let rt=Math.floor(typeof Ae=="number"&&!isNaN(Ae)?Ae:1),ct=Math.floor(typeof Be=="number"&&!isNaN(Be)?Be:1);if(rt<1)rt=1,ct=1;else if(rt>F)rt=F,ct=this.getLineMaxColumn(rt);else if(ct<=1)ct=1;else{const Lt=this.getLineMaxColumn(rt);ct>=Lt&&(ct=Lt)}return d===te&&k===_e&&Ae===rt&&Be===ct&&N instanceof c.e&&!(N instanceof p.Y)?N:new c.e(te,_e,rt,ct)}_isValidPosition(N,F,d){if(typeof N!="number"||typeof F!="number"||isNaN(N)||isNaN(F)||N<1||F<1||(N|0)!==N||(F|0)!==F)return!1;const k=this._buffer.getLineCount();if(N>k)return!1;if(F===1)return!0;const te=this.getLineMaxColumn(N);if(F>te)return!1;if(d===1){const _e=this._buffer.getLineCharCode(N,F-2);if($.ZG(_e))return!1}return!0}_validatePosition(N,F,d){const k=Math.floor(typeof N=="number"&&!isNaN(N)?N:1),te=Math.floor(typeof F=="number"&&!isNaN(F)?F:1),_e=this._buffer.getLineCount();if(k<1)return new L.L(1,1);if(k>_e)return new L.L(_e,this.getLineMaxColumn(_e));if(te<=1)return new L.L(k,1);const Ae=this.getLineMaxColumn(k);if(te>=Ae)return new L.L(k,Ae);if(d===1){const Be=this._buffer.getLineCharCode(k,te-2);if($.ZG(Be))return new L.L(k,te-1)}return new L.L(k,te)}validatePosition(N){return this._assertNotDisposed(),N instanceof L.L&&this._isValidPosition(N.lineNumber,N.column,1)?N:this._validatePosition(N.lineNumber,N.column,1)}_isValidRange(N,F){const d=N.startLineNumber,k=N.startColumn,te=N.endLineNumber,_e=N.endColumn;if(!this._isValidPosition(d,k,0)||!this._isValidPosition(te,_e,0))return!1;if(F===1){const Ae=k>1?this._buffer.getLineCharCode(d,k-2):0,Be=_e>1&&_e<=this._buffer.getLineLength(te)?this._buffer.getLineCharCode(te,_e-2):0,rt=$.ZG(Ae),ct=$.ZG(Be);return!rt&&!ct}return!0}validateRange(N){if(this._assertNotDisposed(),N instanceof c.e&&!(N instanceof p.Y)&&this._isValidRange(N,1))return N;const d=this._validatePosition(N.startLineNumber,N.startColumn,0),k=this._validatePosition(N.endLineNumber,N.endColumn,0),te=d.lineNumber,_e=d.column,Ae=k.lineNumber,Be=k.column;{const rt=_e>1?this._buffer.getLineCharCode(te,_e-2):0,ct=Be>1&&Be<=this._buffer.getLineLength(Ae)?this._buffer.getLineCharCode(Ae,Be-2):0,Lt=$.ZG(rt),Et=$.ZG(ct);return!Lt&&!Et?new c.e(te,_e,Ae,Be):te===Ae&&_e===Be?new c.e(te,_e-1,Ae,Be-1):Lt&&Et?new c.e(te,_e-1,Ae,Be+1):Lt?new c.e(te,_e-1,Ae,Be):new c.e(te,_e,Ae,Be+1)}return new c.e(te,_e,Ae,Be)}modifyPosition(N,F){this._assertNotDisposed();const d=this.getOffsetAt(N)+F;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,d)))}getFullModelRange(){this._assertNotDisposed();const N=this.getLineCount();return new c.e(1,1,N,this.getLineMaxColumn(N))}findMatchesLineByLine(N,F,d,k){return this._buffer.findMatchesLineByLine(N,F,d,k)}findMatches(N,F,d,k,te,_e,Ae=wi){this._assertNotDisposed();let Be=null;F!==null&&(Array.isArray(F)||(F=[F]),F.every(Lt=>c.e.isIRange(Lt))&&(Be=F.map(Lt=>this.validateRange(Lt)))),Be===null&&(Be=[this.getFullModelRange()]),Be=Be.sort((Lt,Et)=>Lt.startLineNumber-Et.startLineNumber||Lt.startColumn-Et.startColumn);const rt=[];rt.push(Be.reduce((Lt,Et)=>c.e.areIntersecting(Lt,Et)?Lt.plusRange(Et):(rt.push(Lt),Et)));let ct;if(!d&&N.indexOf(`
`)<0){const Et=new be.bc(N,d,k,te).parseSearchRequest();if(!Et)return[];ct=Vt=>this.findMatchesLineByLine(Vt,Et,_e,Ae)}else ct=Lt=>be.pM.findMatches(this,new be.bc(N,d,k,te),Lt,_e,Ae);return rt.map(ct).reduce((Lt,Et)=>Lt.concat(Et),[])}findNextMatch(N,F,d,k,te,_e){this._assertNotDisposed();const Ae=this.validatePosition(F);if(!d&&N.indexOf(`
`)<0){const rt=new be.bc(N,d,k,te).parseSearchRequest();if(!rt)return null;const ct=this.getLineCount();let Lt=new c.e(Ae.lineNumber,Ae.column,ct,this.getLineMaxColumn(ct)),Et=this.findMatchesLineByLine(Lt,rt,_e,1);return be.pM.findNextMatch(this,new be.bc(N,d,k,te),Ae,_e),Et.length>0||(Lt=new c.e(1,1,Ae.lineNumber,this.getLineMaxColumn(Ae.lineNumber)),Et=this.findMatchesLineByLine(Lt,rt,_e,1),Et.length>0)?Et[0]:null}return be.pM.findNextMatch(this,new be.bc(N,d,k,te),Ae,_e)}findPreviousMatch(N,F,d,k,te,_e){this._assertNotDisposed();const Ae=this.validatePosition(F);return be.pM.findPreviousMatch(this,new be.bc(N,d,k,te),Ae,_e)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(N){if((this.getEOL()===`
`?0:1)!==N)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(N)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(N){return N instanceof g.Qi?N:new g.Qi(N.identifier||null,this.validateRange(N.range),N.text,N.forceMoveMarkers||!1,N.isAutoWhitespaceEdit||!1,N._isTracked||!1)}_validateEditOperations(N){const F=[];for(let d=0,k=N.length;d<k;d++)F[d]=this._validateEditOperation(N[d]);return F}pushEditOperations(N,F,d){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(N,this._validateEditOperations(F),d)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(N,F,d){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const k=F.map(_e=>({range:this.validateRange(_e.range),text:_e.text}));let te=!0;if(N)for(let _e=0,Ae=N.length;_e<Ae;_e++){const Be=N[_e];let rt=!1;for(let ct=0,Lt=k.length;ct<Lt;ct++){const Et=k[ct].range,Vt=Et.startLineNumber>Be.endLineNumber,Xt=Be.startLineNumber>Et.endLineNumber;if(!Vt&&!Xt){rt=!0;break}}if(!rt){te=!1;break}}if(te)for(let _e=0,Ae=this._trimAutoWhitespaceLines.length;_e<Ae;_e++){const Be=this._trimAutoWhitespaceLines[_e],rt=this.getLineMaxColumn(Be);let ct=!0;for(let Lt=0,Et=k.length;Lt<Et;Lt++){const Vt=k[Lt].range,Xt=k[Lt].text;if(!(Be<Vt.startLineNumber||Be>Vt.endLineNumber)&&!(Be===Vt.startLineNumber&&Vt.startColumn===rt&&Vt.isEmpty()&&Xt&&Xt.length>0&&Xt.charAt(0)===`
`)&&!(Be===Vt.startLineNumber&&Vt.startColumn===1&&Vt.isEmpty()&&Xt&&Xt.length>0&&Xt.charAt(Xt.length-1)===`
`)){ct=!1;break}}if(ct){const Lt=new c.e(Be,1,Be,rt);F.push(new g.Qi(null,Lt,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(N,F,d)}_applyUndo(N,F,d,k){const te=N.map(_e=>{const Ae=this.getPositionAt(_e.newPosition),Be=this.getPositionAt(_e.newEnd);return{range:new c.e(Ae.lineNumber,Ae.column,Be.lineNumber,Be.column),text:_e.oldText}});this._applyUndoRedoEdits(te,F,!0,!1,d,k)}_applyRedo(N,F,d,k){const te=N.map(_e=>{const Ae=this.getPositionAt(_e.oldPosition),Be=this.getPositionAt(_e.oldEnd);return{range:new c.e(Ae.lineNumber,Ae.column,Be.lineNumber,Be.column),text:_e.newText}});this._applyUndoRedoEdits(te,F,!1,!0,d,k)}_applyUndoRedoEdits(N,F,d,k,te,_e){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=d,this._isRedoing=k,this.applyEdits(N,!1),this.setEOL(F),this._overwriteAlternativeVersionId(te)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(_e),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(N,F=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const d=this._validateEditOperations(N);return this._doApplyEdits(d,F)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(N,F){const d=this._buffer.getLineCount(),k=this._buffer.applyEdits(N,this._options.trimAutoWhitespace,F),te=this._buffer.getLineCount(),_e=k.changes;if(this._trimAutoWhitespaceLines=k.trimAutoWhitespaceLineNumbers,_e.length!==0){for(let rt=0,ct=_e.length;rt<ct;rt++){const Lt=_e[rt],[Et,Vt,Xt]=(0,P.Q)(Lt.text);this._tokenizationTextModelPart.acceptEdit(Lt.range,Lt.text,Et,Vt,Xt),this._decorationsTree.acceptReplace(Lt.rangeOffset,Lt.rangeLength,Lt.text.length,Lt.forceMoveMarkers)}const Ae=[];this._increaseVersionId();let Be=d;for(let rt=0,ct=_e.length;rt<ct;rt++){const Lt=_e[rt],[Et]=(0,P.Q)(Lt.text);this._onDidChangeDecorations.fire();const Vt=Lt.range.startLineNumber,Xt=Lt.range.endLineNumber,Jt=Xt-Vt,Qt=Et,di=Math.min(Jt,Qt),fi=Qt-Jt,Ti=te-Be-fi+Vt,ln=Ti,An=Ti+Qt,Rn=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new L.L(ln,1)),this.getOffsetAt(new L.L(An,this.getLineMaxColumn(An))),0),Un=Xe.gk.fromDecorations(Rn),Cs=new w.H9(Un);for(let Yi=di;Yi>=0;Yi--){const Qn=Vt+Yi,bs=Ti+Yi;Cs.takeFromEndWhile(ds=>ds.lineNumber>bs);const cs=Cs.takeFromEndWhile(ds=>ds.lineNumber===bs);Ae.push(new Xe.rU(Qn,this.getLineContent(bs),cs))}if(di<Jt){const Yi=Vt+di;Ae.push(new Xe.lN(Yi+1,Xt))}if(di<Qt){const Yi=new w.H9(Un),Qn=Vt+di,bs=Qt-di,cs=te-Be-bs+Qn+1,ds=[],Zs=[];for(let Qs=0;Qs<bs;Qs++){const ao=cs+Qs;Zs[Qs]=this.getLineContent(ao),Yi.takeWhile(to=>to.lineNumber<ao),ds[Qs]=Yi.takeWhile(to=>to.lineNumber===ao)}Ae.push(new Xe.Tx(Qn+1,Vt+Qt,Zs,ds))}Be+=fi}this._emitContentChangedEvent(new Xe.dQ(Ae,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:_e,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return k.reverseEdits===null?void 0:k.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(N){if(N===null||N.size===0)return;const d=Array.from(N).map(k=>new Xe.rU(k,this.getLineContent(k),this._getInjectedTextInLine(k)));this._onDidChangeInjectedText.fire(new Xe.D8(d))}changeDecorations(N,F=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(F,N)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(N,F){const d={addDecoration:(te,_e)=>this._deltaDecorationsImpl(N,[],[{range:te,options:_e}])[0],changeDecoration:(te,_e)=>{this._changeDecorationImpl(te,_e)},changeDecorationOptions:(te,_e)=>{this._changeDecorationOptionsImpl(te,yn(_e))},removeDecoration:te=>{this._deltaDecorationsImpl(N,[te],[])},deltaDecorations:(te,_e)=>te.length===0&&_e.length===0?[]:this._deltaDecorationsImpl(N,te,_e)};let k=null;try{k=F(d)}catch(te){(0,O.dL)(te)}return d.addDecoration=en,d.changeDecoration=en,d.changeDecorationOptions=en,d.removeDecoration=en,d.deltaDecorations=en,k}deltaDecorations(N,F,d=0){if(this._assertNotDisposed(),N||(N=[]),N.length===0&&F.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,O.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(d,N,F)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(N){return this.getDecorationRange(N)}_setTrackedRange(N,F,d){const k=N?this._decorations[N]:null;if(!k)return F?this._deltaDecorationsImpl(0,[],[{range:F,options:Vi[d]}])[0]:null;if(!F)return this._decorationsTree.delete(k),delete this._decorations[k.id],null;const te=this._validateRangeRelaxedNoAllocations(F),_e=this._buffer.getOffsetAt(te.startLineNumber,te.startColumn),Ae=this._buffer.getOffsetAt(te.endLineNumber,te.endColumn);return this._decorationsTree.delete(k),k.reset(this.getVersionId(),_e,Ae,te),k.setOptions(Vi[d]),this._decorationsTree.insert(k),k.id}removeAllDecorationsWithOwnerId(N){if(this._isDisposed)return;const F=this._decorationsTree.collectNodesFromOwner(N);for(let d=0,k=F.length;d<k;d++){const te=F[d];this._decorationsTree.delete(te),delete this._decorations[te.id]}}getDecorationOptions(N){const F=this._decorations[N];return F?F.options:null}getDecorationRange(N){const F=this._decorations[N];return F?this._decorationsTree.getNodeRange(this,F):null}getLineDecorations(N,F=0,d=!1){return N<1||N>this.getLineCount()?[]:this.getLinesDecorations(N,N,F,d)}getLinesDecorations(N,F,d=0,k=!1){const te=this.getLineCount(),_e=Math.min(te,Math.max(1,N)),Ae=Math.min(te,Math.max(1,F)),Be=this.getLineMaxColumn(Ae),rt=new c.e(_e,1,Ae,Be),ct=this._getDecorationsInRange(rt,d,k);return(0,w.vA)(ct,this._decorationProvider.getDecorationsInRange(rt,d,k)),ct}getDecorationsInRange(N,F=0,d=!1){const k=this.validateRange(N),te=this._getDecorationsInRange(k,F,d);return(0,w.vA)(te,this._decorationProvider.getDecorationsInRange(k,F,d)),te}getOverviewRulerDecorations(N=0,F=!1){return this._decorationsTree.getAll(this,N,F,!0)}getInjectedTextDecorations(N=0){return this._decorationsTree.getAllInjectedText(this,N)}_getInjectedTextInLine(N){const F=this._buffer.getOffsetAt(N,1),d=F+this._buffer.getLineLength(N),k=this._decorationsTree.getInjectedTextInInterval(this,F,d,0);return Xe.gk.fromDecorations(k).filter(te=>te.lineNumber===N)}getAllDecorations(N=0,F=!1){let d=this._decorationsTree.getAll(this,N,F,!1);return d=d.concat(this._decorationProvider.getAllDecorations(N,F)),d}_getDecorationsInRange(N,F,d){const k=this._buffer.getOffsetAt(N.startLineNumber,N.startColumn),te=this._buffer.getOffsetAt(N.endLineNumber,N.endColumn);return this._decorationsTree.getAllInInterval(this,k,te,F,d)}getRangeAt(N,F){return this._buffer.getRangeAt(N,F-N)}_changeDecorationImpl(N,F){const d=this._decorations[N];if(!d)return;if(d.options.after){const Ae=this.getDecorationRange(N);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ae.endLineNumber)}if(d.options.before){const Ae=this.getDecorationRange(N);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ae.startLineNumber)}const k=this._validateRangeRelaxedNoAllocations(F),te=this._buffer.getOffsetAt(k.startLineNumber,k.startColumn),_e=this._buffer.getOffsetAt(k.endLineNumber,k.endColumn);this._decorationsTree.delete(d),d.reset(this.getVersionId(),te,_e,k),this._decorationsTree.insert(d),this._onDidChangeDecorations.checkAffectedAndFire(d.options),d.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(k.endLineNumber),d.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(k.startLineNumber)}_changeDecorationOptionsImpl(N,F){const d=this._decorations[N];if(!d)return;const k=!!(d.options.overviewRuler&&d.options.overviewRuler.color),te=!!(F.overviewRuler&&F.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(d.options),this._onDidChangeDecorations.checkAffectedAndFire(F),d.options.after||F.after){const _e=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(_e.endLineNumber)}if(d.options.before||F.before){const _e=this._decorationsTree.getNodeRange(this,d);this._onDidChangeDecorations.recordLineAffectedByInjectedText(_e.startLineNumber)}k!==te?(this._decorationsTree.delete(d),d.setOptions(F),this._decorationsTree.insert(d)):d.setOptions(F)}_deltaDecorationsImpl(N,F,d){const k=this.getVersionId(),te=F.length;let _e=0;const Ae=d.length;let Be=0;const rt=new Array(Ae);for(;_e<te||Be<Ae;){let ct=null;if(_e<te){do ct=this._decorations[F[_e++]];while(!ct&&_e<te);if(ct){if(ct.options.after){const Lt=this._decorationsTree.getNodeRange(this,ct);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Lt.endLineNumber)}if(ct.options.before){const Lt=this._decorationsTree.getNodeRange(this,ct);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Lt.startLineNumber)}this._decorationsTree.delete(ct),this._onDidChangeDecorations.checkAffectedAndFire(ct.options)}}if(Be<Ae){if(!ct){const Qt=++this._lastDecorationId,di=`${this._instanceId};${Qt}`;ct=new qe(di,0,0),this._decorations[di]=ct}const Lt=d[Be],Et=this._validateRangeRelaxedNoAllocations(Lt.range),Vt=yn(Lt.options),Xt=this._buffer.getOffsetAt(Et.startLineNumber,Et.startColumn),Jt=this._buffer.getOffsetAt(Et.endLineNumber,Et.endColumn);ct.ownerId=N,ct.reset(k,Xt,Jt,Et),ct.setOptions(Vt),ct.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Et.endLineNumber),ct.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Et.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(Vt),this._decorationsTree.insert(ct),rt[Be]=ct.id,Be++}else ct&&delete this._decorations[ct.id]}return rt}getLanguageId(){return this.tokenization.getLanguageId()}setMode(N){this.tokenization.setLanguageId(N)}getLanguageIdAtPosition(N,F){return this.tokenization.getLanguageIdAtPosition(N,F)}getWordAtPosition(N){return this._tokenizationTextModelPart.getWordAtPosition(N)}getWordUntilPosition(N){return this._tokenizationTextModelPart.getWordUntilPosition(N)}normalizePosition(N,F){return N}getLineIndentColumn(N){return hn(this.getLineContent(N))+1}};un.MODEL_SYNC_LIMIT=50*1024*1024,un.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,un.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,un.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:l.D.tabSize,indentSize:l.D.indentSize,insertSpaces:l.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:l.D.trimAutoWhitespace,largeFileOptimizations:l.D.largeFileOptimizations,bracketPairColorizationOptions:l.D.bracketPairColorizationOptions},un=pt([kt(4,ut.tJ),kt(5,n.O),kt(6,a.c_)],un);function hn(St){let N=0;for(const F of St)if(F===" "||F==="	")N++;else break;return N}function Gi(St){return!!(St.options.overviewRuler&&St.options.overviewRuler.color)}function _n(St){return!!St.options.after||!!St.options.before}class an{constructor(){this._decorationsTree0=new Je,this._decorationsTree1=new Je,this._injectedTextDecorationsTree=new Je}ensureAllNodesHaveRanges(N){this.getAll(N,0,!1,!1)}_ensureNodesHaveRanges(N,F){for(const d of F)d.range===null&&(d.range=N.getRangeAt(d.cachedAbsoluteStart,d.cachedAbsoluteEnd));return F}getAllInInterval(N,F,d,k,te){const _e=N.getVersionId(),Ae=this._intervalSearch(F,d,k,te,_e);return this._ensureNodesHaveRanges(N,Ae)}_intervalSearch(N,F,d,k,te){const _e=this._decorationsTree0.intervalSearch(N,F,d,k,te),Ae=this._decorationsTree1.intervalSearch(N,F,d,k,te),Be=this._injectedTextDecorationsTree.intervalSearch(N,F,d,k,te);return _e.concat(Ae).concat(Be)}getInjectedTextInInterval(N,F,d,k){const te=N.getVersionId(),_e=this._injectedTextDecorationsTree.intervalSearch(F,d,k,!1,te);return this._ensureNodesHaveRanges(N,_e).filter(Ae=>Ae.options.showIfCollapsed||!Ae.range.isEmpty())}getAllInjectedText(N,F){const d=N.getVersionId(),k=this._injectedTextDecorationsTree.search(F,!1,d);return this._ensureNodesHaveRanges(N,k).filter(te=>te.options.showIfCollapsed||!te.range.isEmpty())}getAll(N,F,d,k){const te=N.getVersionId(),_e=this._search(F,d,k,te);return this._ensureNodesHaveRanges(N,_e)}_search(N,F,d,k){if(d)return this._decorationsTree1.search(N,F,k);{const te=this._decorationsTree0.search(N,F,k),_e=this._decorationsTree1.search(N,F,k),Ae=this._injectedTextDecorationsTree.search(N,F,k);return te.concat(_e).concat(Ae)}}collectNodesFromOwner(N){const F=this._decorationsTree0.collectNodesFromOwner(N),d=this._decorationsTree1.collectNodesFromOwner(N),k=this._injectedTextDecorationsTree.collectNodesFromOwner(N);return F.concat(d).concat(k)}collectNodesPostOrder(){const N=this._decorationsTree0.collectNodesPostOrder(),F=this._decorationsTree1.collectNodesPostOrder(),d=this._injectedTextDecorationsTree.collectNodesPostOrder();return N.concat(F).concat(d)}insert(N){_n(N)?this._injectedTextDecorationsTree.insert(N):Gi(N)?this._decorationsTree1.insert(N):this._decorationsTree0.insert(N)}delete(N){_n(N)?this._injectedTextDecorationsTree.delete(N):Gi(N)?this._decorationsTree1.delete(N):this._decorationsTree0.delete(N)}getNodeRange(N,F){const d=N.getVersionId();return F.cachedVersionId!==d&&this._resolveNode(F,d),F.range===null&&(F.range=N.getRangeAt(F.cachedAbsoluteStart,F.cachedAbsoluteEnd)),F.range}_resolveNode(N,F){_n(N)?this._injectedTextDecorationsTree.resolveNode(N,F):Gi(N)?this._decorationsTree1.resolveNode(N,F):this._decorationsTree0.resolveNode(N,F)}acceptReplace(N,F,d,k){this._decorationsTree0.acceptReplace(N,F,d,k),this._decorationsTree1.acceptReplace(N,F,d,k),this._injectedTextDecorationsTree.acceptReplace(N,F,d,k)}}function tn(St){return St.replace(/[^a-z0-9\-_]/gi," ")}class En{constructor(N){this.color=N.color||"",this.darkColor=N.darkColor||""}}class nn extends En{constructor(N){super(N),this._resolvedColor=null,this.position=typeof N.position=="number"?N.position:g.sh.Center}getColor(N){return this._resolvedColor||(N.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,N):this._resolvedColor=this._resolveColor(this.color,N)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(N,F){if(typeof N=="string")return N;const d=N?F.getColor(N.id):null;return d?d.toString():""}}class yi extends En{constructor(N){super(N),this.position=N.position}getColor(N){return this._resolvedColor||(N.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,N):this._resolvedColor=this._resolveColor(this.color,N)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(N,F){return typeof N=="string"?r.Il.fromHex(N):F.getColor(N.id)}}class oi{constructor(N){this.content=N.content||"",this.inlineClassName=N.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=N.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=N.attachedData||null,this.cursorStops=N.cursorStops||null}static from(N){return N instanceof oi?N:new oi(N)}}class Ii{constructor(N){var F,d;this.description=N.description,this.blockClassName=N.blockClassName?tn(N.blockClassName):null,this.stickiness=N.stickiness||0,this.zIndex=N.zIndex||0,this.className=N.className?tn(N.className):null,this.hoverMessage=N.hoverMessage||null,this.glyphMarginHoverMessage=N.glyphMarginHoverMessage||null,this.isWholeLine=N.isWholeLine||!1,this.showIfCollapsed=N.showIfCollapsed||!1,this.collapseOnReplaceEdit=N.collapseOnReplaceEdit||!1,this.overviewRuler=N.overviewRuler?new nn(N.overviewRuler):null,this.minimap=N.minimap?new yi(N.minimap):null,this.glyphMarginClassName=N.glyphMarginClassName?tn(N.glyphMarginClassName):null,this.linesDecorationsClassName=N.linesDecorationsClassName?tn(N.linesDecorationsClassName):null,this.firstLineDecorationClassName=N.firstLineDecorationClassName?tn(N.firstLineDecorationClassName):null,this.marginClassName=N.marginClassName?tn(N.marginClassName):null,this.inlineClassName=N.inlineClassName?tn(N.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=N.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=N.beforeContentClassName?tn(N.beforeContentClassName):null,this.afterContentClassName=N.afterContentClassName?tn(N.afterContentClassName):null,this.after=N.after?oi.from(N.after):null,this.before=N.before?oi.from(N.before):null,this.hideInCommentTokens=(F=N.hideInCommentTokens)!==null&&F!==void 0?F:!1,this.hideInStringTokens=(d=N.hideInStringTokens)!==null&&d!==void 0?d:!1}static register(N){return new Ii(N)}static createDynamic(N){return new Ii(N)}}Ii.EMPTY=Ii.register({description:"empty"});const Vi=[Ii.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Ii.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Ii.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Ii.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function yn(St){return St instanceof Ii?St:Ii.createDynamic(St)}class zn extends D.JT{constructor(N){super(),this.handleBeforeFire=N,this._actual=this._register(new V.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var N;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const F={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(F)}(N=this._affectedInjectedTextLines)===null||N===void 0||N.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(N){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(N)}checkAffectedAndFire(N){this._affectsMinimap||(this._affectsMinimap=!!(N.minimap&&N.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(N.overviewRuler&&N.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class Bn extends D.JT{constructor(){super(),this._fastEmitter=this._register(new V.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new V.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(N=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=N;const F=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(F),this._slowEmitter.fire(F)}}fire(N){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(N):this._deferredEvent=N;return}this._fastEmitter.fire(N),this._slowEmitter.fire(N)}}},94954:function(Ot,Te,i){"use strict";i.d(Te,{U:function(){return r}});var w=i(9917);class r extends w.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},77277:function(Ot,Te,i){"use strict";i.d(Te,{bc:function(){return M},cM:function(){return n},iE:function(){return A},pM:function(){return c},sz:function(){return a}});var w=i(97295),r=i(24929),O=i(50187),V=i(24314),D=i(84973);const $=999;class M{constructor(f,u,C,y){this.searchString=f,this.isRegex=u,this.matchCase=C,this.wordSeparators=y}parseSearchRequest(){if(this.searchString==="")return null;let f;this.isRegex?f=P(this.searchString):f=this.searchString.indexOf(`
`)>=0;let u=null;try{u=w.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:f,global:!0,unicode:!0})}catch{return null}if(!u)return null;let C=!this.isRegex&&!f;return C&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(C=this.matchCase),new D.Tx(u,this.wordSeparators?(0,r.u)(this.wordSeparators):null,C?this.searchString:null)}}function P(g){if(!g||g.length===0)return!1;for(let f=0,u=g.length;f<u;f++){const C=g.charCodeAt(f);if(C===10)return!0;if(C===92){if(f++,f>=u)break;const y=g.charCodeAt(f);if(y===110||y===114||y===87)return!0}}return!1}function A(g,f,u){if(!u)return new D.tk(g,null);const C=[];for(let y=0,b=f.length;y<b;y++)C[y]=f[y];return new D.tk(g,C)}class L{constructor(f){const u=[];let C=0;for(let y=0,b=f.length;y<b;y++)f.charCodeAt(y)===10&&(u[C++]=y);this._lineFeedsOffsets=u}findLineFeedCountBeforeOffset(f){const u=this._lineFeedsOffsets;let C=0,y=u.length-1;if(y===-1||f<=u[0])return 0;for(;C<y;){const b=C+((y-C)/2>>0);u[b]>=f?y=b-1:u[b+1]>=f?(C=b,y=b):C=b+1}return C+1}}class c{static findMatches(f,u,C,y,b){const _=u.parseSearchRequest();return _?_.regex.multiline?this._doFindMatchesMultiline(f,C,new a(_.wordSeparators,_.regex),y,b):this._doFindMatchesLineByLine(f,C,_,y,b):[]}static _getMultilineMatchRange(f,u,C,y,b,_){let E,I=0;y?(I=y.findLineFeedCountBeforeOffset(b),E=u+b+I):E=u+b;let R;if(y){const K=y.findLineFeedCountBeforeOffset(b+_.length)-I;R=E+_.length+K}else R=E+_.length;const J=f.getPositionAt(E),Q=f.getPositionAt(R);return new V.e(J.lineNumber,J.column,Q.lineNumber,Q.column)}static _doFindMatchesMultiline(f,u,C,y,b){const _=f.getOffsetAt(u.getStartPosition()),E=f.getValueInRange(u,1),I=f.getEOL()===`\r
`?new L(E):null,R=[];let J=0,Q;for(C.reset(0);Q=C.next(E);)if(R[J++]=A(this._getMultilineMatchRange(f,_,E,I,Q.index,Q[0]),Q,y),J>=b)return R;return R}static _doFindMatchesLineByLine(f,u,C,y,b){const _=[];let E=0;if(u.startLineNumber===u.endLineNumber){const R=f.getLineContent(u.startLineNumber).substring(u.startColumn-1,u.endColumn-1);return E=this._findMatchesInLine(C,R,u.startLineNumber,u.startColumn-1,E,_,y,b),_}const I=f.getLineContent(u.startLineNumber).substring(u.startColumn-1);E=this._findMatchesInLine(C,I,u.startLineNumber,u.startColumn-1,E,_,y,b);for(let R=u.startLineNumber+1;R<u.endLineNumber&&E<b;R++)E=this._findMatchesInLine(C,f.getLineContent(R),R,0,E,_,y,b);if(E<b){const R=f.getLineContent(u.endLineNumber).substring(0,u.endColumn-1);E=this._findMatchesInLine(C,R,u.endLineNumber,0,E,_,y,b)}return _}static _findMatchesInLine(f,u,C,y,b,_,E,I){const R=f.wordSeparators;if(!E&&f.simpleSearch){const U=f.simpleSearch,K=U.length,H=u.length;let X=-K;for(;(X=u.indexOf(U,X+K))!==-1;)if((!R||n(R,u,H,X,K))&&(_[b++]=new D.tk(new V.e(C,X+1+y,C,X+1+K+y),null),b>=I))return b;return b}const J=new a(f.wordSeparators,f.regex);let Q;J.reset(0);do if(Q=J.next(u),Q&&(_[b++]=A(new V.e(C,Q.index+1+y,C,Q.index+1+Q[0].length+y),Q,E),b>=I))return b;while(Q);return b}static findNextMatch(f,u,C,y){const b=u.parseSearchRequest();if(!b)return null;const _=new a(b.wordSeparators,b.regex);return b.regex.multiline?this._doFindNextMatchMultiline(f,C,_,y):this._doFindNextMatchLineByLine(f,C,_,y)}static _doFindNextMatchMultiline(f,u,C,y){const b=new O.L(u.lineNumber,1),_=f.getOffsetAt(b),E=f.getLineCount(),I=f.getValueInRange(new V.e(b.lineNumber,b.column,E,f.getLineMaxColumn(E)),1),R=f.getEOL()===`\r
`?new L(I):null;C.reset(u.column-1);const J=C.next(I);return J?A(this._getMultilineMatchRange(f,_,I,R,J.index,J[0]),J,y):u.lineNumber!==1||u.column!==1?this._doFindNextMatchMultiline(f,new O.L(1,1),C,y):null}static _doFindNextMatchLineByLine(f,u,C,y){const b=f.getLineCount(),_=u.lineNumber,E=f.getLineContent(_),I=this._findFirstMatchInLine(C,E,_,u.column,y);if(I)return I;for(let R=1;R<=b;R++){const J=(_+R-1)%b,Q=f.getLineContent(J+1),U=this._findFirstMatchInLine(C,Q,J+1,1,y);if(U)return U}return null}static _findFirstMatchInLine(f,u,C,y,b){f.reset(y-1);const _=f.next(u);return _?A(new V.e(C,_.index+1,C,_.index+1+_[0].length),_,b):null}static findPreviousMatch(f,u,C,y){const b=u.parseSearchRequest();if(!b)return null;const _=new a(b.wordSeparators,b.regex);return b.regex.multiline?this._doFindPreviousMatchMultiline(f,C,_,y):this._doFindPreviousMatchLineByLine(f,C,_,y)}static _doFindPreviousMatchMultiline(f,u,C,y){const b=this._doFindMatchesMultiline(f,new V.e(1,1,u.lineNumber,u.column),C,y,10*$);if(b.length>0)return b[b.length-1];const _=f.getLineCount();return u.lineNumber!==_||u.column!==f.getLineMaxColumn(_)?this._doFindPreviousMatchMultiline(f,new O.L(_,f.getLineMaxColumn(_)),C,y):null}static _doFindPreviousMatchLineByLine(f,u,C,y){const b=f.getLineCount(),_=u.lineNumber,E=f.getLineContent(_).substring(0,u.column-1),I=this._findLastMatchInLine(C,E,_,y);if(I)return I;for(let R=1;R<=b;R++){const J=(b+_-R-1)%b,Q=f.getLineContent(J+1),U=this._findLastMatchInLine(C,Q,J+1,y);if(U)return U}return null}static _findLastMatchInLine(f,u,C,y){let b=null,_;for(f.reset(0);_=f.next(u);)b=A(new V.e(C,_.index+1,C,_.index+1+_[0].length),_,y);return b}}function p(g,f,u,C,y){if(C===0)return!0;const b=f.charCodeAt(C-1);if(g.get(b)!==0||b===13||b===10)return!0;if(y>0){const _=f.charCodeAt(C);if(g.get(_)!==0)return!0}return!1}function l(g,f,u,C,y){if(C+y===u)return!0;const b=f.charCodeAt(C+y);if(g.get(b)!==0||b===13||b===10)return!0;if(y>0){const _=f.charCodeAt(C+y-1);if(g.get(_)!==0)return!0}return!1}function n(g,f,u,C,y){return p(g,f,u,C,y)&&l(g,f,u,C,y)}class a{constructor(f,u){this._wordSeparators=f,this._searchRegex=u,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(f){this._searchRegex.lastIndex=f,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(f){const u=f.length;let C;do{if(this._prevMatchStartIndex+this._prevMatchLength===u||(C=this._searchRegex.exec(f),!C))return null;const y=C.index,b=C[0].length;if(y===this._prevMatchStartIndex&&b===this._prevMatchLength){if(b===0){w.ZH(f,u,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=y,this._prevMatchLength=b,!this._wordSeparators||n(this._wordSeparators,f,u,y,b))return C}while(C);return null}}},59616:function(Ot,Te,i){"use strict";i.d(Te,{q:function(){return w}});function w(r,O){let V=0,D=0;const $=r.length;for(;D<$;){const M=r.charCodeAt(D);if(M===32)V++;else if(M===9)V=V-V%O+O;else break;D++}return D===$?-1:V}},85215:function(Ot,Te,i){"use strict";i.d(Te,{p:function(){return O}});var w=i(72065);const r="editorWorkerService",O=(0,w.yh)(r)},89510:function(Ot,Te,i){"use strict";i.d(Te,{OG:function(){return J},ML:function(){return b},KO:function(){return I},Jc:function(){return C},Vl:function(){return g},Vj:function(){return f}});var w=i(71050),r=i(17301),O=i(70666),V=i(73733),D=i(94565),$=i(98401),M=i(53060),P=i(1432);function A(Q){for(let U=0,K=Q.length;U<K;U+=4){const H=Q[U+0],X=Q[U+1],j=Q[U+2],x=Q[U+3];Q[U+0]=x,Q[U+1]=j,Q[U+2]=X,Q[U+3]=H}}function L(Q){const U=new Uint8Array(Q.buffer,Q.byteOffset,Q.length*4);return P.r()||A(U),M.KN.wrap(U)}function c(Q){const U=new Uint32Array(p(Q));let K=0;if(U[K++]=Q.id,Q.type==="full")U[K++]=1,U[K++]=Q.data.length,U.set(Q.data,K),K+=Q.data.length;else{U[K++]=2,U[K++]=Q.deltas.length;for(const H of Q.deltas)U[K++]=H.start,U[K++]=H.deleteCount,H.data?(U[K++]=H.data.length,U.set(H.data,K),K+=H.data.length):U[K++]=0}return L(U)}function p(Q){let U=0;if(U+=1+1,Q.type==="full")U+=1+Q.data.length;else{U+=1,U+=(1+1+1)*Q.deltas.length;for(const K of Q.deltas)K.data&&(U+=K.data.length)}return U}var l=i(24314),n=i(71922),a=function(Q,U,K,H){function X(j){return j instanceof K?j:new K(function(x){x(j)})}return new(K||(K=Promise))(function(j,x){function Z(G){try{z(H.next(G))}catch(re){x(re)}}function T(G){try{z(H.throw(G))}catch(re){x(re)}}function z(G){G.done?j(G.value):X(G.value).then(Z,T)}z((H=H.apply(Q,U||[])).next())})};function g(Q){return Q&&!!Q.data}function f(Q){return Q&&Array.isArray(Q.edits)}class u{constructor(U,K,H){this.provider=U,this.tokens=K,this.error=H}}function C(Q,U){return Q.has(U)}function y(Q,U){const K=Q.orderedGroups(U);return K.length>0?K[0]:[]}function b(Q,U,K,H,X){return a(this,void 0,void 0,function*(){const j=y(Q,U),x=yield Promise.all(j.map(Z=>a(this,void 0,void 0,function*(){let T,z=null;try{T=yield Z.provideDocumentSemanticTokens(U,Z===K?H:null,X)}catch(G){z=G,T=null}return(!T||!g(T)&&!f(T))&&(T=null),new u(Z,T,z)})));for(const Z of x){if(Z.error)throw Z.error;if(Z.tokens)return Z}return x.length>0?x[0]:null})}function _(Q,U){const K=Q.orderedGroups(U);return K.length>0?K[0]:null}class E{constructor(U,K){this.provider=U,this.tokens=K}}function I(Q,U){return Q.has(U)}function R(Q,U){const K=Q.orderedGroups(U);return K.length>0?K[0]:[]}function J(Q,U,K,H){return a(this,void 0,void 0,function*(){const X=R(Q,U),j=yield Promise.all(X.map(x=>a(this,void 0,void 0,function*(){let Z;try{Z=yield x.provideDocumentRangeSemanticTokens(U,K,H)}catch(T){(0,r.Cp)(T),Z=null}return(!Z||!g(Z))&&(Z=null),new E(x,Z)})));for(const x of j)if(x.tokens)return x;return j.length>0?j[0]:null})}D.P0.registerCommand("_provideDocumentSemanticTokensLegend",(Q,...U)=>a(void 0,void 0,void 0,function*(){const[K]=U;(0,$.p_)(K instanceof O.o);const H=Q.get(V.q).getModel(K);if(!H)return;const{documentSemanticTokensProvider:X}=Q.get(n.p),j=_(X,H);return j?j[0].getLegend():Q.get(D.Hy).executeCommand("_provideDocumentRangeSemanticTokensLegend",K)})),D.P0.registerCommand("_provideDocumentSemanticTokens",(Q,...U)=>a(void 0,void 0,void 0,function*(){const[K]=U;(0,$.p_)(K instanceof O.o);const H=Q.get(V.q).getModel(K);if(!H)return;const{documentSemanticTokensProvider:X}=Q.get(n.p);if(!C(X,H))return Q.get(D.Hy).executeCommand("_provideDocumentRangeSemanticTokens",K,H.getFullModelRange());const j=yield b(X,H,null,null,w.T.None);if(!j)return;const{provider:x,tokens:Z}=j;if(!Z||!g(Z))return;const T=c({id:0,type:"full",data:Z.data});return Z.resultId&&x.releaseDocumentSemanticTokens(Z.resultId),T})),D.P0.registerCommand("_provideDocumentRangeSemanticTokensLegend",(Q,...U)=>a(void 0,void 0,void 0,function*(){const[K,H]=U;(0,$.p_)(K instanceof O.o);const X=Q.get(V.q).getModel(K);if(!X)return;const{documentRangeSemanticTokensProvider:j}=Q.get(n.p),x=R(j,X);if(x.length===0)return;if(x.length===1)return x[0].getLegend();if(!H||!l.e.isIRange(H))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),x[0].getLegend();const Z=yield J(j,X,l.e.lift(H),w.T.None);if(!!Z)return Z.provider.getLegend()})),D.P0.registerCommand("_provideDocumentRangeSemanticTokens",(Q,...U)=>a(void 0,void 0,void 0,function*(){const[K,H]=U;(0,$.p_)(K instanceof O.o),(0,$.p_)(l.e.isIRange(H));const X=Q.get(V.q).getModel(K);if(!X)return;const{documentRangeSemanticTokensProvider:j}=Q.get(n.p),x=yield J(j,X,l.e.lift(H),w.T.None);if(!(!x||!x.tokens))return c({id:0,type:"full",data:x.tokens.data})}))},88191:function(Ot,Te,i){"use strict";i.d(Te,{A:function(){return L}});var w=i(89954),r=i(43702),O=i(59870),V=i(65026),D=i(72065),$=i(43557),M=i(50988),P=function(n,a,g,f){var u=arguments.length,C=u<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,g):f,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(n,a,g,f);else for(var b=n.length-1;b>=0;b--)(y=n[b])&&(C=(u<3?y(C):u>3?y(a,g,C):y(a,g))||C);return u>3&&C&&Object.defineProperty(a,g,C),C},A=function(n,a){return function(g,f){a(g,f,n)}};const L=(0,D.yh)("ILanguageFeatureDebounceService");var c;(function(n){const a=new WeakMap;let g=0;function f(u){let C=a.get(u);return C===void 0&&(C=++g,a.set(u,C)),C}n.of=f})(c||(c={}));class p{constructor(a,g,f,u,C,y){this._logService=a,this._name=g,this._registry=f,this._default=u,this._min=C,this._max=y,this._cache=new r.z6(50,.7)}_key(a){return a.id+this._registry.all(a).reduce((g,f)=>(0,w.SP)(c.of(f),g),0)}get(a){const g=this._key(a),f=this._cache.get(g);return f?(0,O.uZ)(f.value,this._min,this._max):this.default()}update(a,g){const f=this._key(a);let u=this._cache.get(f);u||(u=new O.N(6),this._cache.set(f,u));const C=(0,O.uZ)(u.update(g),this._min,this._max);return(0,M.xn)(a.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${a.uri.toString()} is ${C}ms`),C}_overall(){const a=new O.nM;for(const[,g]of this._cache)a.update(g.value);return a.value}default(){const a=this._overall()|0||this._default;return(0,O.uZ)(a,this._min,this._max)}}let l=class{constructor(a){this._logService=a,this._data=new Map}for(a,g,f){var u,C,y;const b=(u=f==null?void 0:f.min)!==null&&u!==void 0?u:50,_=(C=f==null?void 0:f.max)!==null&&C!==void 0?C:Math.pow(b,2),E=(y=f==null?void 0:f.key)!==null&&y!==void 0?y:void 0,I=`${c.of(a)},${b}${E?","+E:""}`;let R=this._data.get(I);return R||(R=new p(this._logService,g,a,this._overallAverage()|0||b*1.5,b,_),this._data.set(I,R)),R}_overallAverage(){const a=new O.nM;for(const g of this._data.values())a.update(g.default());return a.value}};l=P([A(0,$.VZ)],l),(0,V.z)(L,l,!0)},71922:function(Ot,Te,i){"use strict";i.d(Te,{p:function(){return r}});var w=i(72065);const r=(0,w.yh)("ILanguageFeaturesService")},36357:function(Ot,Te,i){"use strict";i.d(Te,{i:function(){return r}});var w=i(72065);const r=(0,w.yh)("markerDecorationsService")},73733:function(Ot,Te,i){"use strict";i.d(Te,{q:function(){return r}});var w=i(72065);const r=(0,w.yh)("modelService")},51200:function(Ot,Te,i){"use strict";i.d(Te,{b$:function(){return Z},e3:function(){return T},tw:function(){return z}});var w=i(4669),r=i(9917),O=i(1432),V=i(17301),D=i(92035),$=i(22075),M=i(68801),P=i(72042),A=i(73733),L=i(71765),c=i(33108),p=i(15393),l=i(71050),n=i(97781),a=i(43557),g=i(64862),f=i(89954),u=i(95215),C=i(66663),y=i(88802),b=i(89510),_=i(36248),E=i(51381),I=i(88191),R=i(84013),J=i(71922),Q=function(Ce,ge,pe,ee){var se=arguments.length,ne=se<3?ge:ee===null?ee=Object.getOwnPropertyDescriptor(ge,pe):ee,oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(Ce,ge,pe,ee);else for(var Se=Ce.length-1;Se>=0;Se--)(oe=Ce[Se])&&(ne=(se<3?oe(ne):se>3?oe(ge,pe,ne):oe(ge,pe))||ne);return se>3&&ne&&Object.defineProperty(ge,pe,ne),ne},U=function(Ce,ge){return function(pe,ee){ge(pe,ee,Ce)}};function K(Ce){return Ce.toString()}function H(Ce){const ge=new f.yP,pe=Ce.createSnapshot();let ee;for(;ee=pe.read();)ge.update(ee);return ge.digest()}class X{constructor(ge,pe,ee){this._modelEventListeners=new r.SL,this.model=ge,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(ge.onWillDispose(()=>pe(ge))),this._modelEventListeners.add(ge.onDidChangeLanguage(se=>ee(ge,se)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(ge){this._disposeLanguageSelection(),this._languageSelection=ge,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(ge.languageId)),this.model.setMode(ge.languageId)}}const j=O.IJ||O.dz?1:2;class x{constructor(ge,pe,ee,se,ne,oe,Se,Ee){this.uri=ge,this.initialUndoRedoSnapshot=pe,this.time=ee,this.sharesUndoRedoStack=se,this.heapSize=ne,this.sha1=oe,this.versionId=Se,this.alternativeVersionId=Ee}}let Z=class Wr extends r.JT{constructor(ge,pe,ee,se,ne,oe,Se,Ee,Me){super(),this._configurationService=ge,this._resourcePropertiesService=pe,this._themeService=ee,this._logService=se,this._undoRedoService=ne,this._languageService=oe,this._languageConfigurationService=Se,this._languageFeatureDebounceService=Ee,this._onModelAdded=this._register(new w.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new w.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new w.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new re(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new G(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,Me))}static _readModelOptions(ge,pe){var ee;let se=$.D.tabSize;if(ge.editor&&typeof ge.editor.tabSize<"u"){const ve=parseInt(ge.editor.tabSize,10);isNaN(ve)||(se=ve),se<1&&(se=1)}let ne=se;if(ge.editor&&typeof ge.editor.indentSize<"u"&&ge.editor.indentSize!=="tabSize"){const ve=parseInt(ge.editor.indentSize,10);isNaN(ve)||(ne=ve),ne<1&&(ne=1)}let oe=$.D.insertSpaces;ge.editor&&typeof ge.editor.insertSpaces<"u"&&(oe=ge.editor.insertSpaces==="false"?!1:Boolean(ge.editor.insertSpaces));let Se=j;const Ee=ge.eol;Ee===`\r
`?Se=2:Ee===`
`&&(Se=1);let Me=$.D.trimAutoWhitespace;ge.editor&&typeof ge.editor.trimAutoWhitespace<"u"&&(Me=ge.editor.trimAutoWhitespace==="false"?!1:Boolean(ge.editor.trimAutoWhitespace));let ye=$.D.detectIndentation;ge.editor&&typeof ge.editor.detectIndentation<"u"&&(ye=ge.editor.detectIndentation==="false"?!1:Boolean(ge.editor.detectIndentation));let le=$.D.largeFileOptimizations;ge.editor&&typeof ge.editor.largeFileOptimizations<"u"&&(le=ge.editor.largeFileOptimizations==="false"?!1:Boolean(ge.editor.largeFileOptimizations));let ie=$.D.bracketPairColorizationOptions;return((ee=ge.editor)===null||ee===void 0?void 0:ee.bracketPairColorization)&&typeof ge.editor.bracketPairColorization=="object"&&(ie={enabled:!!ge.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!ge.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:pe,tabSize:se,indentSize:ne,insertSpaces:oe,detectIndentation:ye,defaultEOL:Se,trimAutoWhitespace:Me,largeFileOptimizations:le,bracketPairColorizationOptions:ie}}_getEOL(ge,pe){if(ge)return this._resourcePropertiesService.getEOL(ge,pe);const ee=this._configurationService.getValue("files.eol",{overrideIdentifier:pe});return ee&&typeof ee=="string"&&ee!=="auto"?ee:O.OS===3||O.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const ge=this._configurationService.getValue("files.restoreUndoStack");return typeof ge=="boolean"?ge:!0}getCreationOptions(ge,pe,ee){let se=this._modelCreationOptionsByLanguageAndResource[ge+pe];if(!se){const ne=this._configurationService.getValue("editor",{overrideIdentifier:ge,resource:pe}),oe=this._getEOL(pe,ge);se=Wr._readModelOptions({editor:ne,eol:oe},ee),this._modelCreationOptionsByLanguageAndResource[ge+pe]=se}return se}_updateModelOptions(){const ge=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const pe=Object.keys(this._models);for(let ee=0,se=pe.length;ee<se;ee++){const ne=pe[ee],oe=this._models[ne],Se=oe.model.getLanguageId(),Ee=oe.model.uri,Me=ge[Se+Ee],ye=this.getCreationOptions(Se,Ee,oe.model.isForSimpleWidget);Wr._setModelOptionsForModel(oe.model,ye,Me)}}static _setModelOptionsForModel(ge,pe,ee){ee&&ee.defaultEOL!==pe.defaultEOL&&ge.getLineCount()===1&&ge.setEOL(pe.defaultEOL===1?0:1),!(ee&&ee.detectIndentation===pe.detectIndentation&&ee.insertSpaces===pe.insertSpaces&&ee.tabSize===pe.tabSize&&ee.indentSize===pe.indentSize&&ee.trimAutoWhitespace===pe.trimAutoWhitespace&&(0,_.fS)(ee.bracketPairColorizationOptions,pe.bracketPairColorizationOptions))&&(pe.detectIndentation?(ge.detectIndentation(pe.insertSpaces,pe.tabSize),ge.updateOptions({trimAutoWhitespace:pe.trimAutoWhitespace,bracketColorizationOptions:pe.bracketPairColorizationOptions})):ge.updateOptions({insertSpaces:pe.insertSpaces,tabSize:pe.tabSize,indentSize:pe.indentSize,trimAutoWhitespace:pe.trimAutoWhitespace,bracketColorizationOptions:pe.bracketPairColorizationOptions}))}_insertDisposedModel(ge){this._disposedModels.set(K(ge.uri),ge),this._disposedModelsHeapSize+=ge.heapSize}_removeDisposedModel(ge){const pe=this._disposedModels.get(K(ge));return pe&&(this._disposedModelsHeapSize-=pe.heapSize),this._disposedModels.delete(K(ge)),pe}_ensureDisposedModelsHeapSize(ge){if(this._disposedModelsHeapSize>ge){const pe=[];for(this._disposedModels.forEach(ee=>{ee.sharesUndoRedoStack||pe.push(ee)}),pe.sort((ee,se)=>ee.time-se.time);pe.length>0&&this._disposedModelsHeapSize>ge;){const ee=pe.shift();this._removeDisposedModel(ee.uri),ee.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(ee.initialUndoRedoSnapshot)}}}_createModelData(ge,pe,ee,se){const ne=this.getCreationOptions(pe,ee,se),oe=new D.yO(ge,pe,ne,ee,this._undoRedoService,this._languageService,this._languageConfigurationService);if(ee&&this._disposedModels.has(K(ee))){const Me=this._removeDisposedModel(ee),ye=this._undoRedoService.getElements(ee),le=H(oe)===Me.sha1;if(le||Me.sharesUndoRedoStack){for(const ie of ye.past)(0,u.e9)(ie)&&ie.matchesResource(ee)&&ie.setModel(oe);for(const ie of ye.future)(0,u.e9)(ie)&&ie.matchesResource(ee)&&ie.setModel(oe);this._undoRedoService.setElementsValidFlag(ee,!0,ie=>(0,u.e9)(ie)&&ie.matchesResource(ee)),le&&(oe._overwriteVersionId(Me.versionId),oe._overwriteAlternativeVersionId(Me.alternativeVersionId),oe._overwriteInitialUndoRedoSnapshot(Me.initialUndoRedoSnapshot))}else Me.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(Me.initialUndoRedoSnapshot)}const Se=K(oe.uri);if(this._models[Se])throw new Error("ModelService: Cannot add model because it already exists!");const Ee=new X(oe,Me=>this._onWillDispose(Me),(Me,ye)=>this._onDidChangeLanguage(Me,ye));return this._models[Se]=Ee,Ee}createModel(ge,pe,ee,se=!1){let ne;return pe?(ne=this._createModelData(ge,pe.languageId,ee,se),this.setMode(ne.model,pe)):ne=this._createModelData(ge,M.bd,ee,se),this._onModelAdded.fire(ne.model),ne.model}setMode(ge,pe){if(!pe)return;const ee=this._models[K(ge.uri)];!ee||ee.setLanguage(pe)}getModels(){const ge=[],pe=Object.keys(this._models);for(let ee=0,se=pe.length;ee<se;ee++){const ne=pe[ee];ge.push(this._models[ne].model)}return ge}getModel(ge){const pe=K(ge),ee=this._models[pe];return ee?ee.model:null}getSemanticTokensProviderStyling(ge){return this._semanticStyling.get(ge)}_schemaShouldMaintainUndoRedoElements(ge){return ge.scheme===C.lg.file||ge.scheme===C.lg.vscodeRemote||ge.scheme===C.lg.vscodeUserData||ge.scheme===C.lg.vscodeNotebookCell||ge.scheme==="fake-fs"}_onWillDispose(ge){const pe=K(ge.uri),ee=this._models[pe],se=this._undoRedoService.getUriComparisonKey(ge.uri)!==ge.uri.toString();let ne=!1,oe=0;if(se||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(ge.uri)){const Ee=this._undoRedoService.getElements(ge.uri);if(Ee.past.length>0||Ee.future.length>0){for(const Me of Ee.past)(0,u.e9)(Me)&&Me.matchesResource(ge.uri)&&(ne=!0,oe+=Me.heapSize(ge.uri),Me.setModel(ge.uri));for(const Me of Ee.future)(0,u.e9)(Me)&&Me.matchesResource(ge.uri)&&(ne=!0,oe+=Me.heapSize(ge.uri),Me.setModel(ge.uri))}}const Se=Wr.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(ne)if(!se&&oe>Se){const Ee=ee.model.getInitialUndoRedoSnapshot();Ee!==null&&this._undoRedoService.restoreSnapshot(Ee)}else this._ensureDisposedModelsHeapSize(Se-oe),this._undoRedoService.setElementsValidFlag(ge.uri,!1,Ee=>(0,u.e9)(Ee)&&Ee.matchesResource(ge.uri)),this._insertDisposedModel(new x(ge.uri,ee.model.getInitialUndoRedoSnapshot(),Date.now(),se,oe,H(ge),ge.getVersionId(),ge.getAlternativeVersionId()));else if(!se){const Ee=ee.model.getInitialUndoRedoSnapshot();Ee!==null&&this._undoRedoService.restoreSnapshot(Ee)}delete this._models[pe],ee.dispose(),delete this._modelCreationOptionsByLanguageAndResource[ge.getLanguageId()+ge.uri],this._onModelRemoved.fire(ge)}_onDidChangeLanguage(ge,pe){const ee=pe.oldLanguage,se=ge.getLanguageId(),ne=this.getCreationOptions(ee,ge.uri,ge.isForSimpleWidget),oe=this.getCreationOptions(se,ge.uri,ge.isForSimpleWidget);Wr._setModelOptionsForModel(ge,oe,ne),this._onModelModeChanged.fire({model:ge,oldLanguageId:ee})}};Z.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,Z=Q([U(0,c.Ui),U(1,L.y),U(2,n.XE),U(3,a.VZ),U(4,g.tJ),U(5,P.O),U(6,E.c_),U(7,I.A),U(8,J.p)],Z);const T="editor.semanticHighlighting";function z(Ce,ge,pe){var ee;const se=(ee=pe.getValue(T,{overrideIdentifier:Ce.getLanguageId(),resource:Ce.uri}))===null||ee===void 0?void 0:ee.enabled;return typeof se=="boolean"?se:ge.getColorTheme().semanticHighlighting}let G=class extends r.JT{constructor(ge,pe,ee,se,ne,oe){super(),this._watchers=Object.create(null),this._semanticStyling=ge;const Se=ye=>{this._watchers[ye.uri.toString()]=new he(ye,this._semanticStyling,ee,ne,oe)},Ee=(ye,le)=>{le.dispose(),delete this._watchers[ye.uri.toString()]},Me=()=>{for(const ye of pe.getModels()){const le=this._watchers[ye.uri.toString()];z(ye,ee,se)?le||Se(ye):le&&Ee(ye,le)}};this._register(pe.onModelAdded(ye=>{z(ye,ee,se)&&Se(ye)})),this._register(pe.onModelRemoved(ye=>{const le=this._watchers[ye.uri.toString()];le&&Ee(ye,le)})),this._register(se.onDidChangeConfiguration(ye=>{ye.affectsConfiguration(T)&&Me()})),this._register(ee.onDidColorThemeChange(Me))}dispose(){for(const ge of Object.values(this._watchers))ge.dispose();super.dispose()}};G=Q([U(1,A.q),U(2,n.XE),U(3,c.Ui),U(4,I.A),U(5,J.p)],G);class re extends r.JT{constructor(ge,pe,ee){super(),this._themeService=ge,this._languageService=pe,this._logService=ee,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(ge){return this._caches.has(ge)||this._caches.set(ge,new y.$(ge.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(ge)}}class S{constructor(ge,pe,ee){this.provider=ge,this.resultId=pe,this.data=ee}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let he=class Bo extends r.JT{constructor(ge,pe,ee,se,ne){super(),this._isDisposed=!1,this._model=ge,this._semanticStyling=pe,this._provider=ne.documentSemanticTokensProvider,this._debounceInformation=se.for(this._provider,"DocumentSemanticTokens",{min:Bo.REQUEST_MIN_DELAY,max:Bo.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new p.pY(()=>this._fetchDocumentSemanticTokensNow(),Bo.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const oe=()=>{(0,r.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const Se of this._provider.all(ge))typeof Se.onDidChange=="function"&&this._documentProvidersChangeListeners.push(Se.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};oe(),this._register(this._provider.onDidChange(()=>{oe(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(ee.onDidColorThemeChange(Se=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,b.Jc)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}const ge=new l.A,pe=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,ee=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,se=(0,b.ML)(this._provider,this._model,pe,ee,ge.token);this._currentDocumentRequestCancellationTokenSource=ge;const ne=[],oe=this._model.onDidChangeContent(Ee=>{ne.push(Ee)}),Se=new R.G(!1);se.then(Ee=>{if(this._debounceInformation.update(this._model,Se.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,oe.dispose(),!Ee)this._setDocumentSemanticTokens(null,null,null,ne);else{const{provider:Me,tokens:ye}=Ee,le=this._semanticStyling.get(Me);this._setDocumentSemanticTokens(Me,ye||null,le,ne)}},Ee=>{Ee&&(V.n2(Ee)||typeof Ee.message=="string"&&Ee.message.indexOf("busy")!==-1)||V.dL(Ee),this._currentDocumentRequestCancellationTokenSource=null,oe.dispose(),ne.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(ge,pe,ee,se,ne){ne=Math.min(ne,ee.length-se,ge.length-pe);for(let oe=0;oe<ne;oe++)ee[se+oe]=ge[pe+oe]}_setDocumentSemanticTokens(ge,pe,ee,se){const ne=this._currentDocumentResponse,oe=()=>{se.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){ge&&pe&&ge.releaseDocumentSemanticTokens(pe.resultId);return}if(!ge||!ee){this._model.tokenization.setSemanticTokens(null,!1);return}if(!pe){this._model.tokenization.setSemanticTokens(null,!0),oe();return}if((0,b.Vj)(pe)){if(!ne){this._model.tokenization.setSemanticTokens(null,!0);return}if(pe.edits.length===0)pe={resultId:pe.resultId,data:ne.data};else{let Se=0;for(const ie of pe.edits)Se+=(ie.data?ie.data.length:0)-ie.deleteCount;const Ee=ne.data,Me=new Uint32Array(Ee.length+Se);let ye=Ee.length,le=Me.length;for(let ie=pe.edits.length-1;ie>=0;ie--){const ve=pe.edits[ie];if(ve.start>Ee.length){ee.warnInvalidEditStart(ne.resultId,pe.resultId,ie,ve.start,Ee.length),this._model.tokenization.setSemanticTokens(null,!0);return}const xe=ye-(ve.start+ve.deleteCount);xe>0&&(Bo._copy(Ee,ye-xe,Me,le-xe,xe),le-=xe),ve.data&&(Bo._copy(ve.data,0,Me,le-ve.data.length,ve.data.length),le-=ve.data.length),ye=ve.start}ye>0&&Bo._copy(Ee,0,Me,0,ye),pe={resultId:pe.resultId,data:Me}}}if((0,b.Vl)(pe)){this._currentDocumentResponse=new S(ge,pe.resultId,pe.data);const Se=(0,y.h)(pe,ee,this._model.getLanguageId());if(se.length>0)for(const Ee of se)for(const Me of Se)for(const ye of Ee.changes)Me.applyEdit(ye.range,ye.text);this._model.tokenization.setSemanticTokens(Se,!0)}else this._model.tokenization.setSemanticTokens(null,!0);oe()}};he.REQUEST_MIN_DELAY=300,he.REQUEST_MAX_DELAY=2e3,he=Q([U(2,n.XE),U(3,I.A),U(4,J.p)],he)},88216:function(Ot,Te,i){"use strict";i.d(Te,{S:function(){return r}});var w=i(72065);const r=(0,w.yh)("textModelService")},88802:function(Ot,Te,i){"use strict";i.d(Te,{$:function(){return l},h:function(){return n}});var w=i(45797),r=i(97781),O=i(43557),V=i(50187),D=i(24314),$=i(23795);class M{constructor(u,C){this._startLineNumber=u,this._tokens=C,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(u,C){return new M(u,new P(C))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(u){return this._startLineNumber<=u&&u<=this._endLineNumber?this._tokens.getLineTokens(u-this._startLineNumber):null}getRange(){const u=this._tokens.getRange();return u&&new D.e(this._startLineNumber+u.startLineNumber,u.startColumn,this._startLineNumber+u.endLineNumber,u.endColumn)}removeTokens(u){const C=u.startLineNumber-this._startLineNumber,y=u.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(C,u.startColumn-1,y,u.endColumn-1),this._updateEndLineNumber()}split(u){const C=u.startLineNumber-this._startLineNumber,y=u.endLineNumber-this._startLineNumber,[b,_,E]=this._tokens.split(C,u.startColumn-1,y,u.endColumn-1);return[new M(this._startLineNumber,b),new M(this._startLineNumber+E,_)]}applyEdit(u,C){const[y,b,_]=(0,$.Q)(C);this.acceptEdit(u,y,b,_,C.length>0?C.charCodeAt(0):0)}acceptEdit(u,C,y,b,_){this._acceptDeleteRange(u),this._acceptInsertText(new V.L(u.startLineNumber,u.startColumn),C,y,b,_),this._updateEndLineNumber()}_acceptDeleteRange(u){if(u.startLineNumber===u.endLineNumber&&u.startColumn===u.endColumn)return;const C=u.startLineNumber-this._startLineNumber,y=u.endLineNumber-this._startLineNumber;if(y<0){const _=y-C;this._startLineNumber-=_;return}const b=this._tokens.getMaxDeltaLine();if(!(C>=b+1)){if(C<0&&y>=b+1){this._startLineNumber=0,this._tokens.clear();return}if(C<0){const _=-C;this._startLineNumber-=_,this._tokens.acceptDeleteRange(u.startColumn-1,0,0,y,u.endColumn-1)}else this._tokens.acceptDeleteRange(0,C,u.startColumn-1,y,u.endColumn-1)}}_acceptInsertText(u,C,y,b,_){if(C===0&&y===0)return;const E=u.lineNumber-this._startLineNumber;if(E<0){this._startLineNumber+=C;return}const I=this._tokens.getMaxDeltaLine();E>=I+1||this._tokens.acceptInsertText(E,u.column-1,C,y,b,_)}}class P{constructor(u){this._tokens=u,this._tokenCount=u.length/4}toString(u){const C=[];for(let y=0;y<this._tokenCount;y++)C.push(`(${this._getDeltaLine(y)+u},${this._getStartCharacter(y)}-${this._getEndCharacter(y)})`);return`[${C.join(",")}]`}getMaxDeltaLine(){const u=this._getTokenCount();return u===0?-1:this._getDeltaLine(u-1)}getRange(){const u=this._getTokenCount();if(u===0)return null;const C=this._getStartCharacter(0),y=this._getDeltaLine(u-1),b=this._getEndCharacter(u-1);return new D.e(0,C+1,y,b+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(u){return this._tokens[4*u]}_getStartCharacter(u){return this._tokens[4*u+1]}_getEndCharacter(u){return this._tokens[4*u+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(u){let C=0,y=this._getTokenCount()-1;for(;C<y;){const b=C+Math.floor((y-C)/2),_=this._getDeltaLine(b);if(_<u)C=b+1;else if(_>u)y=b-1;else{let E=b;for(;E>C&&this._getDeltaLine(E-1)===u;)E--;let I=b;for(;I<y&&this._getDeltaLine(I+1)===u;)I++;return new A(this._tokens.subarray(4*E,4*I+4))}}return this._getDeltaLine(C)===u?new A(this._tokens.subarray(4*C,4*C+4)):null}clear(){this._tokenCount=0}removeTokens(u,C,y,b){const _=this._tokens,E=this._tokenCount;let I=0,R=!1,J=0;for(let Q=0;Q<E;Q++){const U=4*Q,K=_[U],H=_[U+1],X=_[U+2],j=_[U+3];if((K>u||K===u&&X>=C)&&(K<y||K===y&&H<=b))R=!0;else{if(I===0&&(J=K),R){const x=4*I;_[x]=K-J,_[x+1]=H,_[x+2]=X,_[x+3]=j}I++}}return this._tokenCount=I,J}split(u,C,y,b){const _=this._tokens,E=this._tokenCount,I=[],R=[];let J=I,Q=0,U=0;for(let K=0;K<E;K++){const H=4*K,X=_[H],j=_[H+1],x=_[H+2],Z=_[H+3];if(X>u||X===u&&x>=C){if(X<y||X===y&&j<=b)continue;J!==R&&(J=R,Q=0,U=X)}J[Q++]=X-U,J[Q++]=j,J[Q++]=x,J[Q++]=Z}return[new P(new Uint32Array(I)),new P(new Uint32Array(R)),U]}acceptDeleteRange(u,C,y,b,_){const E=this._tokens,I=this._tokenCount,R=b-C;let J=0,Q=!1;for(let U=0;U<I;U++){const K=4*U;let H=E[K],X=E[K+1],j=E[K+2];const x=E[K+3];if(H<C||H===C&&j<=y){J++;continue}else if(H===C&&X<y)H===b&&j>_?j-=_-y:j=y;else if(H===C&&X===y)if(H===b&&j>_)j-=_-y;else{Q=!0;continue}else if(H<b||H===b&&X<_)if(H===b&&j>_)H===C?(X=y,j=X+(j-_)):(X=0,j=X+(j-_));else{Q=!0;continue}else if(H>b){if(R===0&&!Q){J=I;break}H-=R}else if(H===b&&X>=_)u&&H===0&&(X+=u,j+=u),H-=R,X-=_-y,j-=_-y;else throw new Error("Not possible!");const Z=4*J;E[Z]=H,E[Z+1]=X,E[Z+2]=j,E[Z+3]=x,J++}this._tokenCount=J}acceptInsertText(u,C,y,b,_,E){const I=y===0&&b===1&&(E>=48&&E<=57||E>=65&&E<=90||E>=97&&E<=122),R=this._tokens,J=this._tokenCount;for(let Q=0;Q<J;Q++){const U=4*Q;let K=R[U],H=R[U+1],X=R[U+2];if(!(K<u||K===u&&X<C)){if(K===u&&X===C)if(I)X+=1;else continue;else if(K===u&&H<C&&C<X)y===0?X+=b:X=C;else{if(K===u&&H===C&&I)continue;if(K===u)if(K+=y,y===0)H+=b,X+=b;else{const j=X-H;H=_+(H-C),X=H+j}else K+=y}R[U]=K,R[U+1]=H,R[U+2]=X}}}}class A{constructor(u){this._tokens=u}getCount(){return this._tokens.length/4}getStartCharacter(u){return this._tokens[4*u+1]}getEndCharacter(u){return this._tokens[4*u+2]}getMetadata(u){return this._tokens[4*u+3]}}var L=i(72042),c=function(f,u,C,y){var b=arguments.length,_=b<3?u:y===null?y=Object.getOwnPropertyDescriptor(u,C):y,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(f,u,C,y);else for(var I=f.length-1;I>=0;I--)(E=f[I])&&(_=(b<3?E(_):b>3?E(u,C,_):E(u,C))||_);return b>3&&_&&Object.defineProperty(u,C,_),_},p=function(f,u){return function(C,y){u(C,y,f)}};let l=class{constructor(u,C,y,b){this._legend=u,this._themeService=C,this._languageService=y,this._logService=b,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new g}getMetadata(u,C,y){const b=this._languageService.languageIdCodec.encodeLanguageId(y),_=this._hashTable.get(u,C,b);let E;if(_)E=_.metadata,this._logService.getLevel()===O.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${u} / ${C}: foreground ${w.N.getForeground(E)}, fontStyle ${w.N.getFontStyle(E).toString(2)}`);else{let I=this._legend.tokenTypes[u];const R=[];if(I){let J=C;for(let U=0;J>0&&U<this._legend.tokenModifiers.length;U++)J&1&&R.push(this._legend.tokenModifiers[U]),J=J>>1;J>0&&this._logService.getLevel()===O.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${C.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),R.push("not-in-legend"));const Q=this._themeService.getColorTheme().getTokenStyleMetadata(I,R,y);typeof Q>"u"?E=2147483647:(E=0,typeof Q.italic<"u"&&(E|=(Q.italic?1:0)<<11|1),typeof Q.bold<"u"&&(E|=(Q.bold?2:0)<<11|2),typeof Q.underline<"u"&&(E|=(Q.underline?4:0)<<11|4),typeof Q.strikethrough<"u"&&(E|=(Q.strikethrough?8:0)<<11|8),Q.foreground&&(E|=Q.foreground<<15|16),E===0&&(E=2147483647))}else this._logService.getLevel()===O.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${u} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),E=2147483647,I="not-in-legend";this._hashTable.add(u,C,b,E),this._logService.getLevel()===O.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${u} (${I}) / ${C} (${R.join(" ")}): foreground ${w.N.getForeground(E)}, fontStyle ${w.N.getFontStyle(E).toString(2)}`)}return E}warnOverlappingSemanticTokens(u,C){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${u}, column ${C}`))}warnInvalidLengthSemanticTokens(u,C){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${u}, column ${C}`))}warnInvalidEditStart(u,C,y,b,_){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${u}, resultId: ${C}) at edit #${y}: The provided start offset ${b} is outside the previous data (length ${_}).`))}};l=c([p(1,r.XE),p(2,L.O),p(3,O.VZ)],l);function n(f,u,C){const y=f.data,b=f.data.length/5|0,_=Math.max(Math.ceil(b/1024),400),E=[];let I=0,R=1,J=0;for(;I<b;){const Q=I;let U=Math.min(Q+_,b);if(U<b){let T=U;for(;T-1>Q&&y[5*T]===0;)T--;if(T-1===Q){let z=U;for(;z+1<b&&y[5*z]===0;)z++;U=z}else U=T}let K=new Uint32Array((U-Q)*4),H=0,X=0,j=0,x=0;for(;I<U;){const T=5*I,z=y[T],G=y[T+1],re=R+z|0,S=z===0?J+G|0:G,he=y[T+2],Ce=S+he|0,ge=y[T+3],pe=y[T+4];if(Ce<=S)u.warnInvalidLengthSemanticTokens(re,S+1);else if(j===re&&x>S)u.warnOverlappingSemanticTokens(re,S+1);else{const ee=u.getMetadata(ge,pe,C);ee!==2147483647&&(X===0&&(X=re),K[H]=re-X,K[H+1]=S,K[H+2]=Ce,K[H+3]=ee,H+=4,j=re,x=Ce)}R=re,J=S,I++}H!==K.length&&(K=K.subarray(0,H));const Z=M.create(X,K);E.push(Z)}return E}class a{constructor(u,C,y,b){this.tokenTypeIndex=u,this.tokenModifierSet=C,this.languageId=y,this.metadata=b,this.next=null}}class g{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(u,C){for(let y=0;y<C;y++)u[y]=null}_hash2(u,C){return(u<<5)-u+C|0}_hashFunc(u,C,y){return this._hash2(this._hash2(u,C),y)%this._currentLength}get(u,C,y){const b=this._hashFunc(u,C,y);let _=this._elements[b];for(;_;){if(_.tokenTypeIndex===u&&_.tokenModifierSet===C&&_.languageId===y)return _;_=_.next}return null}add(u,C,y,b){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const _=this._elements;this._currentLengthIndex++,this._currentLength=g._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<g._SIZES.length?2/3*this._currentLength:0),this._elements=[],g._nullOutEntries(this._elements,this._currentLength);for(const E of _){let I=E;for(;I;){const R=I.next;I.next=null,this._add(I),I=R}}}this._add(new a(u,C,y,b))}_add(u){const C=this._hashFunc(u.tokenTypeIndex,u.tokenModifierSet,u.languageId);u.next=this._elements[C],this._elements[C]=u}}g._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},71765:function(Ot,Te,i){"use strict";i.d(Te,{V:function(){return r},y:function(){return O}});var w=i(72065);const r=(0,w.yh)("textResourceConfigurationService"),O=(0,w.yh)("textResourcePropertiesService")},31446:function(Ot,Te,i){"use strict";i.d(Te,{a:function(){return $}});var w=i(24314),r=i(77277),O=i(97295),V=i(98401),D=i(270);class ${static computeUnicodeHighlights(c,p,l){const n=l?l.startLineNumber:1,a=l?l.endLineNumber:c.getLineCount(),g=new P(p),f=g.getCandidateCodePoints();let u;f==="allNonBasicAscii"?u=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):u=new RegExp(`${M(Array.from(f))}`,"g");const C=new r.sz(null,u),y=[];let b=!1,_,E=0,I=0,R=0;e:for(let J=n,Q=a;J<=Q;J++){const U=c.getLineContent(J),K=U.length;C.reset(0);do if(_=C.next(U),_){let H=_.index,X=_.index+_[0].length;if(H>0){const T=U.charCodeAt(H-1);O.ZG(T)&&H--}if(X+1<K){const T=U.charCodeAt(X-1);O.ZG(T)&&X++}const j=U.substring(H,X),x=(0,D.t2)(H+1,D.Af,U,0),Z=g.shouldHighlightNonBasicASCII(j,x?x.word:null);if(Z!==0){Z===3?E++:Z===2?I++:Z===1?R++:(0,V.vE)(Z);const T=1e3;if(y.length>=T){b=!0;break e}y.push(new w.e(J,H+1,J,X+1))}}while(_)}return{ranges:y,hasMore:b,ambiguousCharacterCount:E,invisibleCharacterCount:I,nonBasicAsciiCharacterCount:R}}static computeUnicodeHighlightReason(c,p){const l=new P(p);switch(l.shouldHighlightNonBasicASCII(c,null)){case 0:return null;case 2:return{kind:1};case 3:{const a=c.codePointAt(0),g=l.ambiguousCharacters.getPrimaryConfusable(a),f=O.ZK.getLocales().filter(u=>!O.ZK.getInstance(new Set([...p.allowedLocales,u])).isAmbiguous(a));return{kind:0,confusableWith:String.fromCodePoint(g),notAmbiguousInLocales:f}}case 1:return{kind:2}}}}function M(L,c){return`[${O.ec(L.map(l=>String.fromCodePoint(l)).join(""))}]`}class P{constructor(c){this.options=c,this.allowedCodePoints=new Set(c.allowedCodePoints),this.ambiguousCharacters=O.ZK.getInstance(new Set(c.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const c=new Set;if(this.options.invisibleCharacters)for(const p of O.vU.codePoints)A(String.fromCodePoint(p))||c.add(p);if(this.options.ambiguousCharacters)for(const p of this.ambiguousCharacters.getConfusableCodePoints())c.add(p);for(const p of this.allowedCodePoints)c.delete(p);return c}shouldHighlightNonBasicASCII(c,p){const l=c.codePointAt(0);if(this.allowedCodePoints.has(l))return 0;if(this.options.nonBasicASCII)return 1;let n=!1,a=!1;if(p)for(const g of p){const f=g.codePointAt(0),u=O.$i(g);n=n||u,!u&&!this.ambiguousCharacters.isAmbiguous(f)&&!O.vU.isInvisibleCharacter(f)&&(a=!0)}return!n&&a?0:this.options.invisibleCharacters&&!A(c)&&O.vU.isInvisibleCharacter(l)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(l)?3:0}}function A(L){return L===" "||L===`
`||L==="	"}},20913:function(Ot,Te,i){"use strict";i.d(Te,{B8:function(){return P},Oe:function(){return r},UX:function(){return $},aq:function(){return M},iN:function(){return L},ld:function(){return D},qq:function(){return V},ug:function(){return O},xi:function(){return A}});var w=i(63580),r;(function(c){c.noSelection=w.NC("noSelection","No selection"),c.singleSelectionRange=w.NC("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),c.singleSelection=w.NC("singleSelection","Line {0}, Column {1}"),c.multiSelectionRange=w.NC("multiSelectionRange","{0} selections ({1} characters selected)"),c.multiSelection=w.NC("multiSelection","{0} selections"),c.emergencyConfOn=w.NC("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),c.openingDocs=w.NC("openingDocs","Now opening the Editor Accessibility documentation page."),c.readonlyDiffEditor=w.NC("readonlyDiffEditor"," in a read-only pane of a diff editor."),c.editableDiffEditor=w.NC("editableDiffEditor"," in a pane of a diff editor."),c.readonlyEditor=w.NC("readonlyEditor"," in a read-only code editor"),c.editableEditor=w.NC("editableEditor"," in a code editor"),c.changeConfigToOnMac=w.NC("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),c.changeConfigToOnWinLinux=w.NC("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),c.auto_on=w.NC("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),c.auto_off=w.NC("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),c.tabFocusModeOnMsg=w.NC("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),c.tabFocusModeOnMsgNoKb=w.NC("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),c.tabFocusModeOffMsg=w.NC("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),c.tabFocusModeOffMsgNoKb=w.NC("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),c.openDocMac=w.NC("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),c.openDocWinLinux=w.NC("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),c.outroMsg=w.NC("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),c.showAccessibilityHelpAction=w.NC("showAccessibilityHelpAction","Show Accessibility Help")})(r||(r={}));var O;(function(c){c.inspectTokensAction=w.NC("inspectTokens","Developer: Inspect Tokens")})(O||(O={}));var V;(function(c){c.gotoLineActionLabel=w.NC("gotoLineActionLabel","Go to Line/Column...")})(V||(V={}));var D;(function(c){c.helpQuickAccessActionLabel=w.NC("helpQuickAccess","Show all Quick Access Providers")})(D||(D={}));var $;(function(c){c.quickCommandActionLabel=w.NC("quickCommandActionLabel","Command Palette"),c.quickCommandHelp=w.NC("quickCommandActionHelp","Show And Run Commands")})($||($={}));var M;(function(c){c.quickOutlineActionLabel=w.NC("quickOutlineActionLabel","Go to Symbol..."),c.quickOutlineByCategoryActionLabel=w.NC("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(M||(M={}));var P;(function(c){c.editorViewAccessibleLabel=w.NC("editorViewAccessibleLabel","Editor content"),c.accessibilityHelpMessage=w.NC("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(P||(P={}));var A;(function(c){c.toggleHighContrast=w.NC("toggleHighContrast","Toggle High Contrast Theme")})(A||(A={}));var L;(function(c){c.bulkEditServiceSummary=w.NC("bulkEditServiceSummary","Made {0} edits in {1} files")})(L||(L={}))},70902:function(Ot,Te,i){"use strict";i.d(Te,{E$:function(){return I},F5:function(){return _},Ij:function(){return $},In:function(){return T},Lu:function(){return Q},MG:function(){return E},MY:function(){return L},OI:function(){return G},RM:function(){return g},VD:function(){return C},Vi:function(){return P},WW:function(){return j},ZL:function(){return y},_x:function(){return A},a$:function(){return X},a7:function(){return O},ao:function(){return w},bw:function(){return u},cR:function(){return x},cm:function(){return V},d2:function(){return z},eB:function(){return b},g4:function(){return K},g_:function(){return H},gl:function(){return f},gm:function(){return l},jl:function(){return n},np:function(){return r},py:function(){return J},r3:function(){return M},r4:function(){return Z},rf:function(){return c},sh:function(){return R},up:function(){return re},vQ:function(){return U},wT:function(){return p},wU:function(){return a},we:function(){return D}});var w;(function(S){S[S.Unknown=0]="Unknown",S[S.Disabled=1]="Disabled",S[S.Enabled=2]="Enabled"})(w||(w={}));var r;(function(S){S[S.Invoke=1]="Invoke",S[S.Auto=2]="Auto"})(r||(r={}));var O;(function(S){S[S.KeepWhitespace=1]="KeepWhitespace",S[S.InsertAsSnippet=4]="InsertAsSnippet"})(O||(O={}));var V;(function(S){S[S.Method=0]="Method",S[S.Function=1]="Function",S[S.Constructor=2]="Constructor",S[S.Field=3]="Field",S[S.Variable=4]="Variable",S[S.Class=5]="Class",S[S.Struct=6]="Struct",S[S.Interface=7]="Interface",S[S.Module=8]="Module",S[S.Property=9]="Property",S[S.Event=10]="Event",S[S.Operator=11]="Operator",S[S.Unit=12]="Unit",S[S.Value=13]="Value",S[S.Constant=14]="Constant",S[S.Enum=15]="Enum",S[S.EnumMember=16]="EnumMember",S[S.Keyword=17]="Keyword",S[S.Text=18]="Text",S[S.Color=19]="Color",S[S.File=20]="File",S[S.Reference=21]="Reference",S[S.Customcolor=22]="Customcolor",S[S.Folder=23]="Folder",S[S.TypeParameter=24]="TypeParameter",S[S.User=25]="User",S[S.Issue=26]="Issue",S[S.Snippet=27]="Snippet"})(V||(V={}));var D;(function(S){S[S.Deprecated=1]="Deprecated"})(D||(D={}));var $;(function(S){S[S.Invoke=0]="Invoke",S[S.TriggerCharacter=1]="TriggerCharacter",S[S.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})($||($={}));var M;(function(S){S[S.EXACT=0]="EXACT",S[S.ABOVE=1]="ABOVE",S[S.BELOW=2]="BELOW"})(M||(M={}));var P;(function(S){S[S.NotSet=0]="NotSet",S[S.ContentFlush=1]="ContentFlush",S[S.RecoverFromMarkers=2]="RecoverFromMarkers",S[S.Explicit=3]="Explicit",S[S.Paste=4]="Paste",S[S.Undo=5]="Undo",S[S.Redo=6]="Redo"})(P||(P={}));var A;(function(S){S[S.LF=1]="LF",S[S.CRLF=2]="CRLF"})(A||(A={}));var L;(function(S){S[S.Text=0]="Text",S[S.Read=1]="Read",S[S.Write=2]="Write"})(L||(L={}));var c;(function(S){S[S.None=0]="None",S[S.Keep=1]="Keep",S[S.Brackets=2]="Brackets",S[S.Advanced=3]="Advanced",S[S.Full=4]="Full"})(c||(c={}));var p;(function(S){S[S.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",S[S.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",S[S.accessibilitySupport=2]="accessibilitySupport",S[S.accessibilityPageSize=3]="accessibilityPageSize",S[S.ariaLabel=4]="ariaLabel",S[S.autoClosingBrackets=5]="autoClosingBrackets",S[S.autoClosingDelete=6]="autoClosingDelete",S[S.autoClosingOvertype=7]="autoClosingOvertype",S[S.autoClosingQuotes=8]="autoClosingQuotes",S[S.autoIndent=9]="autoIndent",S[S.automaticLayout=10]="automaticLayout",S[S.autoSurround=11]="autoSurround",S[S.bracketPairColorization=12]="bracketPairColorization",S[S.guides=13]="guides",S[S.codeLens=14]="codeLens",S[S.codeLensFontFamily=15]="codeLensFontFamily",S[S.codeLensFontSize=16]="codeLensFontSize",S[S.colorDecorators=17]="colorDecorators",S[S.columnSelection=18]="columnSelection",S[S.comments=19]="comments",S[S.contextmenu=20]="contextmenu",S[S.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",S[S.cursorBlinking=22]="cursorBlinking",S[S.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",S[S.cursorStyle=24]="cursorStyle",S[S.cursorSurroundingLines=25]="cursorSurroundingLines",S[S.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",S[S.cursorWidth=27]="cursorWidth",S[S.disableLayerHinting=28]="disableLayerHinting",S[S.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",S[S.domReadOnly=30]="domReadOnly",S[S.dragAndDrop=31]="dragAndDrop",S[S.dropIntoEditor=32]="dropIntoEditor",S[S.emptySelectionClipboard=33]="emptySelectionClipboard",S[S.experimental=34]="experimental",S[S.extraEditorClassName=35]="extraEditorClassName",S[S.fastScrollSensitivity=36]="fastScrollSensitivity",S[S.find=37]="find",S[S.fixedOverflowWidgets=38]="fixedOverflowWidgets",S[S.folding=39]="folding",S[S.foldingStrategy=40]="foldingStrategy",S[S.foldingHighlight=41]="foldingHighlight",S[S.foldingImportsByDefault=42]="foldingImportsByDefault",S[S.foldingMaximumRegions=43]="foldingMaximumRegions",S[S.unfoldOnClickAfterEndOfLine=44]="unfoldOnClickAfterEndOfLine",S[S.fontFamily=45]="fontFamily",S[S.fontInfo=46]="fontInfo",S[S.fontLigatures=47]="fontLigatures",S[S.fontSize=48]="fontSize",S[S.fontWeight=49]="fontWeight",S[S.formatOnPaste=50]="formatOnPaste",S[S.formatOnType=51]="formatOnType",S[S.glyphMargin=52]="glyphMargin",S[S.gotoLocation=53]="gotoLocation",S[S.hideCursorInOverviewRuler=54]="hideCursorInOverviewRuler",S[S.hover=55]="hover",S[S.inDiffEditor=56]="inDiffEditor",S[S.inlineSuggest=57]="inlineSuggest",S[S.letterSpacing=58]="letterSpacing",S[S.lightbulb=59]="lightbulb",S[S.lineDecorationsWidth=60]="lineDecorationsWidth",S[S.lineHeight=61]="lineHeight",S[S.lineNumbers=62]="lineNumbers",S[S.lineNumbersMinChars=63]="lineNumbersMinChars",S[S.linkedEditing=64]="linkedEditing",S[S.links=65]="links",S[S.matchBrackets=66]="matchBrackets",S[S.minimap=67]="minimap",S[S.mouseStyle=68]="mouseStyle",S[S.mouseWheelScrollSensitivity=69]="mouseWheelScrollSensitivity",S[S.mouseWheelZoom=70]="mouseWheelZoom",S[S.multiCursorMergeOverlapping=71]="multiCursorMergeOverlapping",S[S.multiCursorModifier=72]="multiCursorModifier",S[S.multiCursorPaste=73]="multiCursorPaste",S[S.occurrencesHighlight=74]="occurrencesHighlight",S[S.overviewRulerBorder=75]="overviewRulerBorder",S[S.overviewRulerLanes=76]="overviewRulerLanes",S[S.padding=77]="padding",S[S.parameterHints=78]="parameterHints",S[S.peekWidgetDefaultFocus=79]="peekWidgetDefaultFocus",S[S.definitionLinkOpensInPeek=80]="definitionLinkOpensInPeek",S[S.quickSuggestions=81]="quickSuggestions",S[S.quickSuggestionsDelay=82]="quickSuggestionsDelay",S[S.readOnly=83]="readOnly",S[S.renameOnType=84]="renameOnType",S[S.renderControlCharacters=85]="renderControlCharacters",S[S.renderFinalNewline=86]="renderFinalNewline",S[S.renderLineHighlight=87]="renderLineHighlight",S[S.renderLineHighlightOnlyWhenFocus=88]="renderLineHighlightOnlyWhenFocus",S[S.renderValidationDecorations=89]="renderValidationDecorations",S[S.renderWhitespace=90]="renderWhitespace",S[S.revealHorizontalRightPadding=91]="revealHorizontalRightPadding",S[S.roundedSelection=92]="roundedSelection",S[S.rulers=93]="rulers",S[S.scrollbar=94]="scrollbar",S[S.scrollBeyondLastColumn=95]="scrollBeyondLastColumn",S[S.scrollBeyondLastLine=96]="scrollBeyondLastLine",S[S.scrollPredominantAxis=97]="scrollPredominantAxis",S[S.selectionClipboard=98]="selectionClipboard",S[S.selectionHighlight=99]="selectionHighlight",S[S.selectOnLineNumbers=100]="selectOnLineNumbers",S[S.showFoldingControls=101]="showFoldingControls",S[S.showUnused=102]="showUnused",S[S.snippetSuggestions=103]="snippetSuggestions",S[S.smartSelect=104]="smartSelect",S[S.smoothScrolling=105]="smoothScrolling",S[S.stickyTabStops=106]="stickyTabStops",S[S.stopRenderingLineAfter=107]="stopRenderingLineAfter",S[S.suggest=108]="suggest",S[S.suggestFontSize=109]="suggestFontSize",S[S.suggestLineHeight=110]="suggestLineHeight",S[S.suggestOnTriggerCharacters=111]="suggestOnTriggerCharacters",S[S.suggestSelection=112]="suggestSelection",S[S.tabCompletion=113]="tabCompletion",S[S.tabIndex=114]="tabIndex",S[S.unicodeHighlighting=115]="unicodeHighlighting",S[S.unusualLineTerminators=116]="unusualLineTerminators",S[S.useShadowDOM=117]="useShadowDOM",S[S.useTabStops=118]="useTabStops",S[S.wordSeparators=119]="wordSeparators",S[S.wordWrap=120]="wordWrap",S[S.wordWrapBreakAfterCharacters=121]="wordWrapBreakAfterCharacters",S[S.wordWrapBreakBeforeCharacters=122]="wordWrapBreakBeforeCharacters",S[S.wordWrapColumn=123]="wordWrapColumn",S[S.wordWrapOverride1=124]="wordWrapOverride1",S[S.wordWrapOverride2=125]="wordWrapOverride2",S[S.wrappingIndent=126]="wrappingIndent",S[S.wrappingStrategy=127]="wrappingStrategy",S[S.showDeprecated=128]="showDeprecated",S[S.inlayHints=129]="inlayHints",S[S.editorClassName=130]="editorClassName",S[S.pixelRatio=131]="pixelRatio",S[S.tabFocusMode=132]="tabFocusMode",S[S.layoutInfo=133]="layoutInfo",S[S.wrappingInfo=134]="wrappingInfo"})(p||(p={}));var l;(function(S){S[S.TextDefined=0]="TextDefined",S[S.LF=1]="LF",S[S.CRLF=2]="CRLF"})(l||(l={}));var n;(function(S){S[S.LF=0]="LF",S[S.CRLF=1]="CRLF"})(n||(n={}));var a;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(a||(a={}));var g;(function(S){S[S.Both=0]="Both",S[S.Right=1]="Right",S[S.Left=2]="Left",S[S.None=3]="None"})(g||(g={}));var f;(function(S){S[S.Type=1]="Type",S[S.Parameter=2]="Parameter"})(f||(f={}));var u;(function(S){S[S.Automatic=0]="Automatic",S[S.Explicit=1]="Explicit"})(u||(u={}));var C;(function(S){S[S.DependsOnKbLayout=-1]="DependsOnKbLayout",S[S.Unknown=0]="Unknown",S[S.Backspace=1]="Backspace",S[S.Tab=2]="Tab",S[S.Enter=3]="Enter",S[S.Shift=4]="Shift",S[S.Ctrl=5]="Ctrl",S[S.Alt=6]="Alt",S[S.PauseBreak=7]="PauseBreak",S[S.CapsLock=8]="CapsLock",S[S.Escape=9]="Escape",S[S.Space=10]="Space",S[S.PageUp=11]="PageUp",S[S.PageDown=12]="PageDown",S[S.End=13]="End",S[S.Home=14]="Home",S[S.LeftArrow=15]="LeftArrow",S[S.UpArrow=16]="UpArrow",S[S.RightArrow=17]="RightArrow",S[S.DownArrow=18]="DownArrow",S[S.Insert=19]="Insert",S[S.Delete=20]="Delete",S[S.Digit0=21]="Digit0",S[S.Digit1=22]="Digit1",S[S.Digit2=23]="Digit2",S[S.Digit3=24]="Digit3",S[S.Digit4=25]="Digit4",S[S.Digit5=26]="Digit5",S[S.Digit6=27]="Digit6",S[S.Digit7=28]="Digit7",S[S.Digit8=29]="Digit8",S[S.Digit9=30]="Digit9",S[S.KeyA=31]="KeyA",S[S.KeyB=32]="KeyB",S[S.KeyC=33]="KeyC",S[S.KeyD=34]="KeyD",S[S.KeyE=35]="KeyE",S[S.KeyF=36]="KeyF",S[S.KeyG=37]="KeyG",S[S.KeyH=38]="KeyH",S[S.KeyI=39]="KeyI",S[S.KeyJ=40]="KeyJ",S[S.KeyK=41]="KeyK",S[S.KeyL=42]="KeyL",S[S.KeyM=43]="KeyM",S[S.KeyN=44]="KeyN",S[S.KeyO=45]="KeyO",S[S.KeyP=46]="KeyP",S[S.KeyQ=47]="KeyQ",S[S.KeyR=48]="KeyR",S[S.KeyS=49]="KeyS",S[S.KeyT=50]="KeyT",S[S.KeyU=51]="KeyU",S[S.KeyV=52]="KeyV",S[S.KeyW=53]="KeyW",S[S.KeyX=54]="KeyX",S[S.KeyY=55]="KeyY",S[S.KeyZ=56]="KeyZ",S[S.Meta=57]="Meta",S[S.ContextMenu=58]="ContextMenu",S[S.F1=59]="F1",S[S.F2=60]="F2",S[S.F3=61]="F3",S[S.F4=62]="F4",S[S.F5=63]="F5",S[S.F6=64]="F6",S[S.F7=65]="F7",S[S.F8=66]="F8",S[S.F9=67]="F9",S[S.F10=68]="F10",S[S.F11=69]="F11",S[S.F12=70]="F12",S[S.F13=71]="F13",S[S.F14=72]="F14",S[S.F15=73]="F15",S[S.F16=74]="F16",S[S.F17=75]="F17",S[S.F18=76]="F18",S[S.F19=77]="F19",S[S.NumLock=78]="NumLock",S[S.ScrollLock=79]="ScrollLock",S[S.Semicolon=80]="Semicolon",S[S.Equal=81]="Equal",S[S.Comma=82]="Comma",S[S.Minus=83]="Minus",S[S.Period=84]="Period",S[S.Slash=85]="Slash",S[S.Backquote=86]="Backquote",S[S.BracketLeft=87]="BracketLeft",S[S.Backslash=88]="Backslash",S[S.BracketRight=89]="BracketRight",S[S.Quote=90]="Quote",S[S.OEM_8=91]="OEM_8",S[S.IntlBackslash=92]="IntlBackslash",S[S.Numpad0=93]="Numpad0",S[S.Numpad1=94]="Numpad1",S[S.Numpad2=95]="Numpad2",S[S.Numpad3=96]="Numpad3",S[S.Numpad4=97]="Numpad4",S[S.Numpad5=98]="Numpad5",S[S.Numpad6=99]="Numpad6",S[S.Numpad7=100]="Numpad7",S[S.Numpad8=101]="Numpad8",S[S.Numpad9=102]="Numpad9",S[S.NumpadMultiply=103]="NumpadMultiply",S[S.NumpadAdd=104]="NumpadAdd",S[S.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",S[S.NumpadSubtract=106]="NumpadSubtract",S[S.NumpadDecimal=107]="NumpadDecimal",S[S.NumpadDivide=108]="NumpadDivide",S[S.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",S[S.ABNT_C1=110]="ABNT_C1",S[S.ABNT_C2=111]="ABNT_C2",S[S.AudioVolumeMute=112]="AudioVolumeMute",S[S.AudioVolumeUp=113]="AudioVolumeUp",S[S.AudioVolumeDown=114]="AudioVolumeDown",S[S.BrowserSearch=115]="BrowserSearch",S[S.BrowserHome=116]="BrowserHome",S[S.BrowserBack=117]="BrowserBack",S[S.BrowserForward=118]="BrowserForward",S[S.MediaTrackNext=119]="MediaTrackNext",S[S.MediaTrackPrevious=120]="MediaTrackPrevious",S[S.MediaStop=121]="MediaStop",S[S.MediaPlayPause=122]="MediaPlayPause",S[S.LaunchMediaPlayer=123]="LaunchMediaPlayer",S[S.LaunchMail=124]="LaunchMail",S[S.LaunchApp2=125]="LaunchApp2",S[S.Clear=126]="Clear",S[S.MAX_VALUE=127]="MAX_VALUE"})(C||(C={}));var y;(function(S){S[S.Hint=1]="Hint",S[S.Info=2]="Info",S[S.Warning=4]="Warning",S[S.Error=8]="Error"})(y||(y={}));var b;(function(S){S[S.Unnecessary=1]="Unnecessary",S[S.Deprecated=2]="Deprecated"})(b||(b={}));var _;(function(S){S[S.Inline=1]="Inline",S[S.Gutter=2]="Gutter"})(_||(_={}));var E;(function(S){S[S.UNKNOWN=0]="UNKNOWN",S[S.TEXTAREA=1]="TEXTAREA",S[S.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",S[S.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",S[S.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",S[S.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",S[S.CONTENT_TEXT=6]="CONTENT_TEXT",S[S.CONTENT_EMPTY=7]="CONTENT_EMPTY",S[S.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",S[S.CONTENT_WIDGET=9]="CONTENT_WIDGET",S[S.OVERVIEW_RULER=10]="OVERVIEW_RULER",S[S.SCROLLBAR=11]="SCROLLBAR",S[S.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",S[S.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(E||(E={}));var I;(function(S){S[S.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",S[S.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",S[S.TOP_CENTER=2]="TOP_CENTER"})(I||(I={}));var R;(function(S){S[S.Left=1]="Left",S[S.Center=2]="Center",S[S.Right=4]="Right",S[S.Full=7]="Full"})(R||(R={}));var J;(function(S){S[S.Left=0]="Left",S[S.Right=1]="Right",S[S.None=2]="None",S[S.LeftOfInjectedText=3]="LeftOfInjectedText",S[S.RightOfInjectedText=4]="RightOfInjectedText"})(J||(J={}));var Q;(function(S){S[S.Off=0]="Off",S[S.On=1]="On",S[S.Relative=2]="Relative",S[S.Interval=3]="Interval",S[S.Custom=4]="Custom"})(Q||(Q={}));var U;(function(S){S[S.None=0]="None",S[S.Text=1]="Text",S[S.Blocks=2]="Blocks"})(U||(U={}));var K;(function(S){S[S.Smooth=0]="Smooth",S[S.Immediate=1]="Immediate"})(K||(K={}));var H;(function(S){S[S.Auto=1]="Auto",S[S.Hidden=2]="Hidden",S[S.Visible=3]="Visible"})(H||(H={}));var X;(function(S){S[S.LTR=0]="LTR",S[S.RTL=1]="RTL"})(X||(X={}));var j;(function(S){S[S.Invoke=1]="Invoke",S[S.TriggerCharacter=2]="TriggerCharacter",S[S.ContentChange=3]="ContentChange"})(j||(j={}));var x;(function(S){S[S.File=0]="File",S[S.Module=1]="Module",S[S.Namespace=2]="Namespace",S[S.Package=3]="Package",S[S.Class=4]="Class",S[S.Method=5]="Method",S[S.Property=6]="Property",S[S.Field=7]="Field",S[S.Constructor=8]="Constructor",S[S.Enum=9]="Enum",S[S.Interface=10]="Interface",S[S.Function=11]="Function",S[S.Variable=12]="Variable",S[S.Constant=13]="Constant",S[S.String=14]="String",S[S.Number=15]="Number",S[S.Boolean=16]="Boolean",S[S.Array=17]="Array",S[S.Object=18]="Object",S[S.Key=19]="Key",S[S.Null=20]="Null",S[S.EnumMember=21]="EnumMember",S[S.Struct=22]="Struct",S[S.Event=23]="Event",S[S.Operator=24]="Operator",S[S.TypeParameter=25]="TypeParameter"})(x||(x={}));var Z;(function(S){S[S.Deprecated=1]="Deprecated"})(Z||(Z={}));var T;(function(S){S[S.Hidden=0]="Hidden",S[S.Blink=1]="Blink",S[S.Smooth=2]="Smooth",S[S.Phase=3]="Phase",S[S.Expand=4]="Expand",S[S.Solid=5]="Solid"})(T||(T={}));var z;(function(S){S[S.Line=1]="Line",S[S.Block=2]="Block",S[S.Underline=3]="Underline",S[S.LineThin=4]="LineThin",S[S.BlockOutline=5]="BlockOutline",S[S.UnderlineThin=6]="UnderlineThin"})(z||(z={}));var G;(function(S){S[S.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",S[S.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",S[S.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",S[S.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(G||(G={}));var re;(function(S){S[S.None=0]="None",S[S.Same=1]="Same",S[S.Indent=2]="Indent",S[S.DeepIndent=3]="DeepIndent"})(re||(re={}))},14706:function(Ot,Te,i){"use strict";i.d(Te,{CZ:function(){return $},D8:function(){return P},Jx:function(){return w},Tx:function(){return D},dQ:function(){return M},fV:function(){return A},gk:function(){return r},lN:function(){return V},rU:function(){return O}});class w{constructor(){this.changeType=1}}class r{constructor(c,p,l,n,a){this.ownerId=c,this.lineNumber=p,this.column=l,this.options=n,this.order=a}static applyInjectedText(c,p){if(!p||p.length===0)return c;let l="",n=0;for(const a of p)l+=c.substring(n,a.column-1),n=a.column-1,l+=a.options.content;return l+=c.substring(n),l}static fromDecorations(c){const p=[];for(const l of c)l.options.before&&l.options.before.content.length>0&&p.push(new r(l.ownerId,l.range.startLineNumber,l.range.startColumn,l.options.before,0)),l.options.after&&l.options.after.content.length>0&&p.push(new r(l.ownerId,l.range.endLineNumber,l.range.endColumn,l.options.after,1));return p.sort((l,n)=>l.lineNumber===n.lineNumber?l.column===n.column?l.order-n.order:l.column-n.column:l.lineNumber-n.lineNumber),p}}class O{constructor(c,p,l){this.changeType=2,this.lineNumber=c,this.detail=p,this.injectedText=l}}class V{constructor(c,p){this.changeType=3,this.fromLineNumber=c,this.toLineNumber=p}}class D{constructor(c,p,l,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=c,this.toLineNumber=p,this.detail=l}}class ${constructor(){this.changeType=5}}class M{constructor(c,p,l,n){this.changes=c,this.versionId=p,this.isUndoing=l,this.isRedoing=n,this.resultingSelection=null}containsEvent(c){for(let p=0,l=this.changes.length;p<l;p++)if(this.changes[p].changeType===c)return!0;return!1}static merge(c,p){const l=[].concat(c.changes).concat(p.changes),n=p.versionId,a=c.isUndoing||p.isUndoing,g=c.isRedoing||p.isRedoing;return new M(l,n,a,g)}}class P{constructor(c){this.changes=c}}class A{constructor(c,p){this.rawContentChangedEvent=c,this.contentChangedEvent=p}merge(c){const p=M.merge(this.rawContentChangedEvent,c.rawContentChangedEvent),l=A._mergeChangeEvents(this.contentChangedEvent,c.contentChangedEvent);return new A(p,l)}static _mergeChangeEvents(c,p){const l=[].concat(c.changes).concat(p.changes),n=p.eol,a=p.versionId,g=c.isUndoing||p.isUndoing,f=c.isRedoing||p.isRedoing,u=c.isFlush||p.isFlush;return{changes:l,eol:n,versionId:a,isUndoing:g,isRedoing:f,isFlush:u}}}},65094:function(Ot,Te,i){"use strict";i.d(Te,{UO:function(){return r},s6:function(){return w},vW:function(){return O}});var w;(function(V){V[V.Disabled=0]="Disabled",V[V.EnabledForActive=1]="EnabledForActive",V[V.Enabled=2]="Enabled"})(w||(w={}));class r{constructor(D,$,M,P,A,L){if(this.visibleColumn=D,this.column=$,this.className=M,this.horizontalLine=P,this.forWrappedLinesAfterColumn=A,this.forWrappedLinesBeforeOrAtColumn=L,D!==-1==($!==-1))throw new Error}}class O{constructor(D,$){this.top=D,this.endColumn=$}}},77378:function(Ot,Te,i){"use strict";i.d(Te,{A:function(){return r}});var w=i(45797);class r{constructor(D,$,M){this._lineTokensBrand=void 0,this._tokens=D,this._tokensCount=this._tokens.length>>>1,this._text=$,this._languageIdCodec=M}static createEmpty(D,$){const M=r.defaultTokenMetadata,P=new Uint32Array(2);return P[0]=D.length,P[1]=M,new r(P,D,$)}equals(D){return D instanceof r?this.slicedEquals(D,0,this._tokensCount):!1}slicedEquals(D,$,M){if(this._text!==D._text||this._tokensCount!==D._tokensCount)return!1;const P=$<<1,A=P+(M<<1);for(let L=P;L<A;L++)if(this._tokens[L]!==D._tokens[L])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(D){return D>0?this._tokens[D-1<<1]:0}getMetadata(D){return this._tokens[(D<<1)+1]}getLanguageId(D){const $=this._tokens[(D<<1)+1],M=w.N.getLanguageId($);return this._languageIdCodec.decodeLanguageId(M)}getStandardTokenType(D){const $=this._tokens[(D<<1)+1];return w.N.getTokenType($)}getForeground(D){const $=this._tokens[(D<<1)+1];return w.N.getForeground($)}getClassName(D){const $=this._tokens[(D<<1)+1];return w.N.getClassNameFromMetadata($)}getInlineStyle(D,$){const M=this._tokens[(D<<1)+1];return w.N.getInlineStyleFromMetadata(M,$)}getPresentation(D){const $=this._tokens[(D<<1)+1];return w.N.getPresentationFromMetadata($)}getEndOffset(D){return this._tokens[D<<1]}findTokenIndexAtOffset(D){return r.findIndexInTokensArray(this._tokens,D)}inflate(){return this}sliceAndInflate(D,$,M){return new O(this,D,$,M)}static convertToEndOffset(D,$){const P=(D.length>>>1)-1;for(let A=0;A<P;A++)D[A<<1]=D[A+1<<1];D[P<<1]=$}static findIndexInTokensArray(D,$){if(D.length<=2)return 0;let M=0,P=(D.length>>>1)-1;for(;M<P;){const A=M+Math.floor((P-M)/2),L=D[A<<1];if(L===$)return A+1;L<$?M=A+1:L>$&&(P=A)}return M}withInserted(D){if(D.length===0)return this;let $=0,M=0,P="";const A=new Array;let L=0;for(;;){const c=$<this._tokensCount?this._tokens[$<<1]:-1,p=M<D.length?D[M]:null;if(c!==-1&&(p===null||c<=p.offset)){P+=this._text.substring(L,c);const l=this._tokens[($<<1)+1];A.push(P.length,l),$++,L=c}else if(p){if(p.offset>L){P+=this._text.substring(L,p.offset);const l=this._tokens[($<<1)+1];A.push(P.length,l),L=p.offset}P+=p.text,A.push(P.length,p.tokenMetadata),M++}else break}return new r(new Uint32Array(A),P,this._languageIdCodec)}}r.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;class O{constructor(D,$,M,P){this._source=D,this._startOffset=$,this._endOffset=M,this._deltaOffset=P,this._firstTokenIndex=D.findTokenIndexAtOffset($),this._tokensCount=0;for(let A=this._firstTokenIndex,L=D.getCount();A<L&&!(D.getStartOffset(A)>=M);A++)this._tokensCount++}getMetadata(D){return this._source.getMetadata(this._firstTokenIndex+D)}getLanguageId(D){return this._source.getLanguageId(this._firstTokenIndex+D)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(D){return D instanceof O?this._startOffset===D._startOffset&&this._endOffset===D._endOffset&&this._deltaOffset===D._deltaOffset&&this._source.slicedEquals(D._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(D){return this._source.getForeground(this._firstTokenIndex+D)}getEndOffset(D){const $=this._source.getEndOffset(this._firstTokenIndex+D);return Math.min(this._endOffset,$)-this._startOffset+this._deltaOffset}getClassName(D){return this._source.getClassName(this._firstTokenIndex+D)}getInlineStyle(D,$){return this._source.getInlineStyle(this._firstTokenIndex+D,$)}getPresentation(D){return this._source.getPresentation(this._firstTokenIndex+D)}findTokenIndexAtOffset(D){return this._source.findTokenIndexAtOffset(D+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},92550:function(Ot,Te,i){"use strict";i.d(Te,{Kp:function(){return r},k:function(){return D}});var w=i(97295);class r{constructor(M,P,A,L){this.startColumn=M,this.endColumn=P,this.className=A,this.type=L,this._lineDecorationBrand=void 0}static _equals(M,P){return M.startColumn===P.startColumn&&M.endColumn===P.endColumn&&M.className===P.className&&M.type===P.type}static equalsArr(M,P){const A=M.length,L=P.length;if(A!==L)return!1;for(let c=0;c<A;c++)if(!r._equals(M[c],P[c]))return!1;return!0}static extractWrapped(M,P,A){if(M.length===0)return M;const L=P+1,c=A+1,p=A-P,l=[];let n=0;for(const a of M)a.endColumn<=L||a.startColumn>=c||(l[n++]=new r(Math.max(1,a.startColumn-L+1),Math.min(p+1,a.endColumn-L+1),a.className,a.type));return l}static filter(M,P,A,L){if(M.length===0)return[];const c=[];let p=0;for(let l=0,n=M.length;l<n;l++){const a=M[l],g=a.range;if(g.endLineNumber<P||g.startLineNumber>P||g.isEmpty()&&(a.type===0||a.type===3))continue;const f=g.startLineNumber===P?g.startColumn:A,u=g.endLineNumber===P?g.endColumn:L;c[p++]=new r(f,u,a.inlineClassName,a.type)}return c}static _typeCompare(M,P){const A=[2,0,1,3];return A[M]-A[P]}static compare(M,P){if(M.startColumn!==P.startColumn)return M.startColumn-P.startColumn;if(M.endColumn!==P.endColumn)return M.endColumn-P.endColumn;const A=r._typeCompare(M.type,P.type);return A!==0?A:M.className!==P.className?M.className<P.className?-1:1:0}}class O{constructor(M,P,A,L){this.startOffset=M,this.endOffset=P,this.className=A,this.metadata=L}}class V{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(M){let P=0;for(let A=0,L=M.length;A<L;A++)P|=M[A];return P}consumeLowerThan(M,P,A){for(;this.count>0&&this.stopOffsets[0]<M;){let L=0;for(;L+1<this.count&&this.stopOffsets[L]===this.stopOffsets[L+1];)L++;A.push(new O(P,this.stopOffsets[L],this.classNames.join(" "),V._metadata(this.metadata))),P=this.stopOffsets[L]+1,this.stopOffsets.splice(0,L+1),this.classNames.splice(0,L+1),this.metadata.splice(0,L+1),this.count-=L+1}return this.count>0&&P<M&&(A.push(new O(P,M-1,this.classNames.join(" "),V._metadata(this.metadata))),P=M),P}insert(M,P,A){if(this.count===0||this.stopOffsets[this.count-1]<=M)this.stopOffsets.push(M),this.classNames.push(P),this.metadata.push(A);else for(let L=0;L<this.count;L++)if(this.stopOffsets[L]>=M){this.stopOffsets.splice(L,0,M),this.classNames.splice(L,0,P),this.metadata.splice(L,0,A);break}this.count++}}class D{static normalize(M,P){if(P.length===0)return[];const A=[],L=new V;let c=0;for(let p=0,l=P.length;p<l;p++){const n=P[p];let a=n.startColumn,g=n.endColumn;const f=n.className,u=n.type===1?2:n.type===2?4:0;if(a>1){const b=M.charCodeAt(a-2);w.ZG(b)&&a--}if(g>1){const b=M.charCodeAt(g-2);w.ZG(b)&&g--}const C=a-1,y=g-2;c=L.consumeLowerThan(C,c,A),L.count===0&&(c=C),L.insert(y,f,u)}return L.consumeLowerThan(1073741824,c,A),A}}},91557:function(Ot,Te,i){"use strict";i.d(Te,{Nd:function(){return M},zG:function(){return D},IJ:function(){return $},d1:function(){return L},tF:function(){return p}});var w=i(97295),r=i(50072),O=i(92550);class V{constructor(I,R,J,Q){this.endIndex=I,this.type=R,this.metadata=J,this.containsRTL=Q,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class D{constructor(I,R){this.startOffset=I,this.endOffset=R}equals(I){return this.startOffset===I.startOffset&&this.endOffset===I.endOffset}}class ${constructor(I,R,J,Q,U,K,H,X,j,x,Z,T,z,G,re,S,he,Ce,ge){this.useMonospaceOptimizations=I,this.canUseHalfwidthRightwardsArrow=R,this.lineContent=J,this.continuesWithWrappedLine=Q,this.isBasicASCII=U,this.containsRTL=K,this.fauxIndentLength=H,this.lineTokens=X,this.lineDecorations=j.sort(O.Kp.compare),this.tabSize=x,this.startVisibleColumn=Z,this.spaceWidth=T,this.stopRenderingLineAfter=re,this.renderWhitespace=S==="all"?4:S==="boundary"?1:S==="selection"?2:S==="trailing"?3:0,this.renderControlCharacters=he,this.fontLigatures=Ce,this.selectionsOnLine=ge&&ge.sort((se,ne)=>se.startOffset<ne.startOffset?-1:1);const pe=Math.abs(G-T),ee=Math.abs(z-T);pe<ee?(this.renderSpaceWidth=G,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=z,this.renderSpaceCharCode=183)}sameSelection(I){if(this.selectionsOnLine===null)return I===null;if(I===null||I.length!==this.selectionsOnLine.length)return!1;for(let R=0;R<this.selectionsOnLine.length;R++)if(!this.selectionsOnLine[R].equals(I[R]))return!1;return!0}equals(I){return this.useMonospaceOptimizations===I.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===I.canUseHalfwidthRightwardsArrow&&this.lineContent===I.lineContent&&this.continuesWithWrappedLine===I.continuesWithWrappedLine&&this.isBasicASCII===I.isBasicASCII&&this.containsRTL===I.containsRTL&&this.fauxIndentLength===I.fauxIndentLength&&this.tabSize===I.tabSize&&this.startVisibleColumn===I.startVisibleColumn&&this.spaceWidth===I.spaceWidth&&this.renderSpaceWidth===I.renderSpaceWidth&&this.renderSpaceCharCode===I.renderSpaceCharCode&&this.stopRenderingLineAfter===I.stopRenderingLineAfter&&this.renderWhitespace===I.renderWhitespace&&this.renderControlCharacters===I.renderControlCharacters&&this.fontLigatures===I.fontLigatures&&O.Kp.equalsArr(this.lineDecorations,I.lineDecorations)&&this.lineTokens.equals(I.lineTokens)&&this.sameSelection(I.selectionsOnLine)}}class M{constructor(I,R){this.partIndex=I,this.charIndex=R}}class P{constructor(I,R){this.length=I,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}static getPartIndex(I){return(I&4294901760)>>>16}static getCharIndex(I){return(I&65535)>>>0}setColumnInfo(I,R,J,Q){const U=(R<<16|J<<0)>>>0;this._data[I-1]=U,this._horizontalOffset[I-1]=Q}getHorizontalOffset(I){return this._horizontalOffset.length===0?0:this._horizontalOffset[I-1]}charOffsetToPartData(I){return this.length===0?0:I<0?this._data[0]:I>=this.length?this._data[this.length-1]:this._data[I]}getDomPosition(I){const R=this.charOffsetToPartData(I-1),J=P.getPartIndex(R),Q=P.getCharIndex(R);return new M(J,Q)}getColumn(I,R){return this.partDataToCharOffset(I.partIndex,R,I.charIndex)+1}partDataToCharOffset(I,R,J){if(this.length===0)return 0;const Q=(I<<16|J<<0)>>>0;let U=0,K=this.length-1;for(;U+1<K;){const re=U+K>>>1,S=this._data[re];if(S===Q)return re;S>Q?K=re:U=re}if(U===K)return U;const H=this._data[U],X=this._data[K];if(H===Q)return U;if(X===Q)return K;const j=P.getPartIndex(H),x=P.getCharIndex(H),Z=P.getPartIndex(X);let T;j!==Z?T=R:T=P.getCharIndex(X);const z=J-x,G=T-J;return z<=G?U:K}}class A{constructor(I,R,J){this._renderLineOutputBrand=void 0,this.characterMapping=I,this.containsRTL=R,this.containsForeignElements=J}}function L(E,I){if(E.lineContent.length===0){if(E.lineDecorations.length>0){I.appendASCIIString("<span>");let R=0,J=0,Q=0;for(const K of E.lineDecorations)(K.type===1||K.type===2)&&(I.appendASCIIString('<span class="'),I.appendASCIIString(K.className),I.appendASCIIString('"></span>'),K.type===1&&(Q|=1,R++),K.type===2&&(Q|=2,J++));I.appendASCIIString("</span>");const U=new P(1,R+J);return U.setColumnInfo(1,R,0,0),new A(U,!1,Q)}return I.appendASCIIString("<span><span></span></span>"),new A(new P(0,0),!1,0)}return b(n(E),I)}class c{constructor(I,R,J,Q){this.characterMapping=I,this.html=R,this.containsRTL=J,this.containsForeignElements=Q}}function p(E){const I=(0,r.l$)(1e4),R=L(E,I);return new c(R.characterMapping,I.build(),R.containsRTL,R.containsForeignElements)}class l{constructor(I,R,J,Q,U,K,H,X,j,x,Z,T,z,G,re){this.fontIsMonospace=I,this.canUseHalfwidthRightwardsArrow=R,this.lineContent=J,this.len=Q,this.isOverflowing=U,this.parts=K,this.containsForeignElements=H,this.fauxIndentLength=X,this.tabSize=j,this.startVisibleColumn=x,this.containsRTL=Z,this.spaceWidth=T,this.renderSpaceCharCode=z,this.renderWhitespace=G,this.renderControlCharacters=re}}function n(E){const I=E.lineContent;let R,J;E.stopRenderingLineAfter!==-1&&E.stopRenderingLineAfter<I.length?(R=!0,J=E.stopRenderingLineAfter):(R=!1,J=I.length);let Q=a(I,E.containsRTL,E.lineTokens,E.fauxIndentLength,J);E.renderControlCharacters&&!E.isBasicASCII&&(Q=u(I,Q)),(E.renderWhitespace===4||E.renderWhitespace===1||E.renderWhitespace===2&&!!E.selectionsOnLine||E.renderWhitespace===3)&&(Q=C(E,I,J,Q));let U=0;if(E.lineDecorations.length>0){for(let K=0,H=E.lineDecorations.length;K<H;K++){const X=E.lineDecorations[K];X.type===3||X.type===1?U|=1:X.type===2&&(U|=2)}Q=y(I,J,Q,E.lineDecorations)}return E.containsRTL||(Q=g(I,Q,!E.isBasicASCII||E.fontLigatures)),new l(E.useMonospaceOptimizations,E.canUseHalfwidthRightwardsArrow,I,J,R,Q,U,E.fauxIndentLength,E.tabSize,E.startVisibleColumn,E.containsRTL,E.spaceWidth,E.renderSpaceCharCode,E.renderWhitespace,E.renderControlCharacters)}function a(E,I,R,J,Q){const U=[];let K=0;J>0&&(U[K++]=new V(J,"",0,!1));let H=J;for(let X=0,j=R.getCount();X<j;X++){const x=R.getEndOffset(X);if(x<=J)continue;const Z=R.getClassName(X);if(x>=Q){const z=I?w.Ut(E.substring(H,Q)):!1;U[K++]=new V(Q,Z,0,z);break}const T=I?w.Ut(E.substring(H,x)):!1;U[K++]=new V(x,Z,0,T),H=x}return U}function g(E,I,R){let J=0;const Q=[];let U=0;if(R)for(let K=0,H=I.length;K<H;K++){const X=I[K],j=X.endIndex;if(J+50<j){const x=X.type,Z=X.metadata,T=X.containsRTL;let z=-1,G=J;for(let re=J;re<j;re++)E.charCodeAt(re)===32&&(z=re),z!==-1&&re-G>=50&&(Q[U++]=new V(z+1,x,Z,T),G=z+1,z=-1);G!==j&&(Q[U++]=new V(j,x,Z,T))}else Q[U++]=X;J=j}else for(let K=0,H=I.length;K<H;K++){const X=I[K],j=X.endIndex,x=j-J;if(x>50){const Z=X.type,T=X.metadata,z=X.containsRTL,G=Math.ceil(x/50);for(let re=1;re<G;re++){const S=J+re*50;Q[U++]=new V(S,Z,T,z)}Q[U++]=new V(j,Z,T,z)}else Q[U++]=X;J=j}return Q}function f(E){return E<32?E!==9:E===127||E>=8234&&E<=8238||E>=8294&&E<=8297||E>=8206&&E<=8207||E===1564}function u(E,I){const R=[];let J=new V(0,"",0,!1),Q=0;for(const U of I){const K=U.endIndex;for(;Q<K;Q++){const H=E.charCodeAt(Q);f(H)&&(Q>J.endIndex&&(J=new V(Q,U.type,U.metadata,U.containsRTL),R.push(J)),J=new V(Q+1,"mtkcontrol",U.metadata,!1),R.push(J))}Q>J.endIndex&&(J=new V(K,U.type,U.metadata,U.containsRTL),R.push(J))}return R}function C(E,I,R,J){const Q=E.continuesWithWrappedLine,U=E.fauxIndentLength,K=E.tabSize,H=E.startVisibleColumn,X=E.useMonospaceOptimizations,j=E.selectionsOnLine,x=E.renderWhitespace===1,Z=E.renderWhitespace===3,T=E.renderSpaceWidth!==E.spaceWidth,z=[];let G=0,re=0,S=J[re].type,he=J[re].containsRTL,Ce=J[re].endIndex;const ge=J.length;let pe=!1,ee=w.LC(I),se;ee===-1?(pe=!0,ee=R,se=R):se=w.ow(I);let ne=!1,oe=0,Se=j&&j[oe],Ee=H%K;for(let ye=U;ye<R;ye++){const le=I.charCodeAt(ye);Se&&ye>=Se.endOffset&&(oe++,Se=j&&j[oe]);let ie;if(ye<ee||ye>se)ie=!0;else if(le===9)ie=!0;else if(le===32)if(x)if(ne)ie=!0;else{const ve=ye+1<R?I.charCodeAt(ye+1):0;ie=ve===32||ve===9}else ie=!0;else ie=!1;if(ie&&j&&(ie=!!Se&&Se.startOffset<=ye&&Se.endOffset>ye),ie&&Z&&(ie=pe||ye>se),ie&&he&&ye>=ee&&ye<=se&&(ie=!1),ne){if(!ie||!X&&Ee>=K){if(T){const ve=G>0?z[G-1].endIndex:U;for(let xe=ve+1;xe<=ye;xe++)z[G++]=new V(xe,"mtkw",1,!1)}else z[G++]=new V(ye,"mtkw",1,!1);Ee=Ee%K}}else(ye===Ce||ie&&ye>U)&&(z[G++]=new V(ye,S,0,he),Ee=Ee%K);for(le===9?Ee=K:w.K7(le)?Ee+=2:Ee++,ne=ie;ye===Ce&&(re++,re<ge);)S=J[re].type,he=J[re].containsRTL,Ce=J[re].endIndex}let Me=!1;if(ne)if(Q&&x){const ye=R>0?I.charCodeAt(R-1):0,le=R>1?I.charCodeAt(R-2):0;ye===32&&le!==32&&le!==9||(Me=!0)}else Me=!0;if(Me)if(T){const ye=G>0?z[G-1].endIndex:U;for(let le=ye+1;le<=R;le++)z[G++]=new V(le,"mtkw",1,!1)}else z[G++]=new V(R,"mtkw",1,!1);else z[G++]=new V(R,S,0,he);return z}function y(E,I,R,J){J.sort(O.Kp.compare);const Q=O.k.normalize(E,J),U=Q.length;let K=0;const H=[];let X=0,j=0;for(let Z=0,T=R.length;Z<T;Z++){const z=R[Z],G=z.endIndex,re=z.type,S=z.metadata,he=z.containsRTL;for(;K<U&&Q[K].startOffset<G;){const Ce=Q[K];if(Ce.startOffset>j&&(j=Ce.startOffset,H[X++]=new V(j,re,S,he)),Ce.endOffset+1<=G)j=Ce.endOffset+1,H[X++]=new V(j,re+" "+Ce.className,S|Ce.metadata,he),K++;else{j=G,H[X++]=new V(j,re+" "+Ce.className,S|Ce.metadata,he);break}}G>j&&(j=G,H[X++]=new V(j,re,S,he))}const x=R[R.length-1].endIndex;if(K<U&&Q[K].startOffset===x)for(;K<U&&Q[K].startOffset===x;){const Z=Q[K];H[X++]=new V(j,Z.className,Z.metadata,!1),K++}return H}function b(E,I){const R=E.fontIsMonospace,J=E.canUseHalfwidthRightwardsArrow,Q=E.containsForeignElements,U=E.lineContent,K=E.len,H=E.isOverflowing,X=E.parts,j=E.fauxIndentLength,x=E.tabSize,Z=E.startVisibleColumn,T=E.containsRTL,z=E.spaceWidth,G=E.renderSpaceCharCode,re=E.renderWhitespace,S=E.renderControlCharacters,he=new P(K+1,X.length);let Ce=!1,ge=0,pe=Z,ee=0,se=0,ne=0;T?I.appendASCIIString('<span dir="ltr">'):I.appendASCIIString("<span>");for(let oe=0,Se=X.length;oe<Se;oe++){const Ee=X[oe],Me=Ee.endIndex,ye=Ee.type,le=Ee.containsRTL,ie=re!==0&&Ee.isWhitespace(),ve=ie&&!R&&(ye==="mtkw"||!Q),xe=ge===Me&&Ee.isPseudoAfter();if(ee=0,I.appendASCIIString("<span "),le&&I.appendASCIIString('style="unicode-bidi:isolate" '),I.appendASCIIString('class="'),I.appendASCIIString(ve?"mtkz":ye),I.appendASCII(34),ie){let Ye=0;{let at=ge,qe=pe;for(;at<Me;at++){const Je=(U.charCodeAt(at)===9?x-qe%x:1)|0;Ye+=Je,at>=j&&(qe+=Je)}}for(ve&&(I.appendASCIIString(' style="width:'),I.appendASCIIString(String(z*Ye)),I.appendASCIIString('px"')),I.appendASCII(62);ge<Me;ge++){he.setColumnInfo(ge+1,oe-ne,ee,se),ne=0;const at=U.charCodeAt(ge);let qe,Re;if(at===9){qe=x-pe%x|0,Re=qe,!J||Re>1?I.write1(8594):I.write1(65515);for(let Je=2;Je<=Re;Je++)I.write1(160)}else qe=2,Re=1,I.write1(G),I.write1(8204);ee+=qe,se+=Re,ge>=j&&(pe+=Re)}}else for(I.appendASCII(62);ge<Me;ge++){he.setColumnInfo(ge+1,oe-ne,ee,se),ne=0;const Ye=U.charCodeAt(ge);let at=1,qe=1;switch(Ye){case 9:at=x-pe%x,qe=at;for(let Re=1;Re<=at;Re++)I.write1(160);break;case 32:I.write1(160);break;case 60:I.appendASCIIString("&lt;");break;case 62:I.appendASCIIString("&gt;");break;case 38:I.appendASCIIString("&amp;");break;case 0:S?I.write1(9216):I.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:I.write1(65533);break;default:w.K7(Ye)&&qe++,S&&Ye<32?I.write1(9216+Ye):S&&Ye===127?I.write1(9249):S&&f(Ye)?(I.appendASCIIString("[U+"),I.appendASCIIString(_(Ye)),I.appendASCIIString("]"),at=8,qe=at):I.write1(Ye)}ee+=at,se+=qe,ge>=j&&(pe+=qe)}xe?ne++:ne=0,ge>=K&&!Ce&&Ee.isPseudoAfter()&&(Ce=!0,he.setColumnInfo(ge+1,oe,ee,se)),I.appendASCIIString("</span>")}return Ce||he.setColumnInfo(K+1,X.length-1,ee,se),H&&I.appendASCIIString("<span>&hellip;</span>"),I.appendASCIIString("</span>"),new A(he,T,Q)}function _(E){return E.toString(16).toUpperCase().padStart(4,"0")}},73621:function(Ot,Te,i){"use strict";i.d(Te,{$l:function(){return A},$t:function(){return M},IP:function(){return D},SQ:function(){return L},Wx:function(){return P},l_:function(){return O},ud:function(){return V},wA:function(){return $}});var w=i(97295),r=i(24314);class O{constructor(p,l,n,a){this._viewportBrand=void 0,this.top=p|0,this.left=l|0,this.width=n|0,this.height=a|0}}class V{constructor(p,l){this.tabSize=p,this.data=l}}class D{constructor(p,l,n,a,g,f,u){this._viewLineDataBrand=void 0,this.content=p,this.continuesWithWrappedLine=l,this.minColumn=n,this.maxColumn=a,this.startVisibleColumn=g,this.tokens=f,this.inlineDecorations=u}}class ${constructor(p,l,n,a,g,f,u,C,y,b){this.minColumn=p,this.maxColumn=l,this.content=n,this.continuesWithWrappedLine=a,this.isBasicASCII=$.isBasicASCII(n,f),this.containsRTL=$.containsRTL(n,this.isBasicASCII,g),this.tokens=u,this.inlineDecorations=C,this.tabSize=y,this.startVisibleColumn=b}static isBasicASCII(p,l){return l?w.$i(p):!0}static containsRTL(p,l,n){return!l&&n?w.Ut(p):!1}}class M{constructor(p,l,n){this.range=p,this.inlineClassName=l,this.type=n}}class P{constructor(p,l,n,a){this.startOffset=p,this.endOffset=l,this.inlineClassName=n,this.inlineClassNameAffectsLetterSpacing=a}toInlineDecoration(p){return new M(new r.e(p,this.startOffset+1,p,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class A{constructor(p,l){this._viewModelDecorationBrand=void 0,this.range=p,this.options=l}}class L{constructor(p,l,n){this.color=p,this.zIndex=l,this.data=n}static cmp(p,l){return p.zIndex===l.zIndex?p.color<l.color?-1:p.color>l.color?1:0:p.zIndex-l.zIndex}}},30665:function(Ot,Te,i){"use strict";i.d(Te,{EY:function(){return r},Tj:function(){return O}});class w{constructor(D,$,M){this._colorZoneBrand=void 0,this.from=D|0,this.to=$|0,this.colorId=M|0}static compare(D,$){return D.colorId===$.colorId?D.from===$.from?D.to-$.to:D.from-$.from:D.colorId-$.colorId}}class r{constructor(D,$,M,P){this._overviewRulerZoneBrand=void 0,this.startLineNumber=D,this.endLineNumber=$,this.heightInLines=M,this.color=P,this._colorZone=null}static compare(D,$){return D.color===$.color?D.startLineNumber===$.startLineNumber?D.heightInLines===$.heightInLines?D.endLineNumber-$.endLineNumber:D.heightInLines-$.heightInLines:D.startLineNumber-$.startLineNumber:D.color<$.color?-1:1}setColorZone(D){this._colorZone=D}getColorZones(){return this._colorZone}}class O{constructor(D){this._getVerticalOffsetForLine=D,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(D){this._zones=D,this._zones.sort(r.compare)}setLineHeight(D){return this._lineHeight===D?!1:(this._lineHeight=D,this._colorZonesInvalid=!0,!0)}setPixelRatio(D){this._pixelRatio=D,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(D){return this._domWidth===D?!1:(this._domWidth=D,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(D){return this._domHeight===D?!1:(this._domHeight=D,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(D){return this._outerHeight===D?!1:(this._outerHeight=D,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const D=this._colorZonesInvalid,$=Math.floor(this._lineHeight),M=Math.floor(this.getCanvasHeight()),P=Math.floor(this._outerHeight),A=M/P,L=Math.floor(4*this._pixelRatio/2),c=[];for(let p=0,l=this._zones.length;p<l;p++){const n=this._zones[p];if(!D){const I=n.getColorZones();if(I){c.push(I);continue}}const a=this._getVerticalOffsetForLine(n.startLineNumber),g=n.heightInLines===0?this._getVerticalOffsetForLine(n.endLineNumber)+$:a+n.heightInLines*$,f=Math.floor(A*a),u=Math.floor(A*g);let C=Math.floor((f+u)/2),y=u-C;y<L&&(y=L),C-y<0&&(C=y),C+y>M&&(C=M-y);const b=n.color;let _=this._color2Id[b];_||(_=++this._lastAssignedId,this._color2Id[b]=_,this._id2Color[_]=b);const E=new w(C-y,C+y,_);n.setColorZone(E),c.push(E)}return this._colorZonesInvalid=!1,c.sort(w.compare),c}}},30168:function(Ot,Te,i){"use strict";i.d(Te,{$t:function(){return M},CU:function(){return D},Fd:function(){return $},zg:function(){return P}});var w=i(50187),r=i(24314),O=i(73621),V=i(64141);class D{constructor(c,p,l,n,a){this.editorId=c,this.model=p,this.configuration=l,this._linesCollection=n,this._coordinatesConverter=a,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(c){const p=c.id;let l=this._decorationsCache[p];if(!l){const n=c.range,a=c.options;let g;if(a.isWholeLine){const f=this._coordinatesConverter.convertModelPositionToViewPosition(new w.L(n.startLineNumber,1),0),u=this._coordinatesConverter.convertModelPositionToViewPosition(new w.L(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);g=new r.e(f.lineNumber,f.column,u.lineNumber,u.column)}else g=this._coordinatesConverter.convertModelRangeToViewRange(n,1);l=new O.$l(g,a),this._decorationsCache[p]=l}return l}getDecorationsViewportData(c){let p=this._cachedModelDecorationsResolver!==null;return p=p&&c.equalsRange(this._cachedModelDecorationsResolverViewRange),p||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(c),this._cachedModelDecorationsResolverViewRange=c),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(c){const p=new r.e(c,this._linesCollection.getViewLineMinColumn(c),c,this._linesCollection.getViewLineMaxColumn(c));return this._getDecorationsInRange(p).inlineDecorations[0]}_getDecorationsInRange(c){const p=this._linesCollection.getDecorationsInRange(c,this.editorId,(0,V.$J)(this.configuration.options)),l=c.startLineNumber,n=c.endLineNumber,a=[];let g=0;const f=[];for(let u=l;u<=n;u++)f[u-l]=[];for(let u=0,C=p.length;u<C;u++){const y=p[u],b=y.options;if(!$(this.model,y))continue;const _=this._getOrCreateViewModelDecoration(y),E=_.range;if(a[g++]=_,b.inlineClassName){const I=new O.$t(E,b.inlineClassName,b.inlineClassNameAffectsLetterSpacing?3:0),R=Math.max(l,E.startLineNumber),J=Math.min(n,E.endLineNumber);for(let Q=R;Q<=J;Q++)f[Q-l].push(I)}if(b.beforeContentClassName&&l<=E.startLineNumber&&E.startLineNumber<=n){const I=new O.$t(new r.e(E.startLineNumber,E.startColumn,E.startLineNumber,E.startColumn),b.beforeContentClassName,1);f[E.startLineNumber-l].push(I)}if(b.afterContentClassName&&l<=E.endLineNumber&&E.endLineNumber<=n){const I=new O.$t(new r.e(E.endLineNumber,E.endColumn,E.endLineNumber,E.endColumn),b.afterContentClassName,2);f[E.endLineNumber-l].push(I)}}return{decorations:a,inlineDecorations:f}}}function $(L,c){return!(c.options.hideInCommentTokens&&M(L,c)||c.options.hideInStringTokens&&P(L,c))}function M(L,c){return A(L,c.range,p=>p===1)}function P(L,c){return A(L,c.range,p=>p===2)}function A(L,c,p){for(let l=c.startLineNumber;l<=c.endLineNumber;l++){const n=L.tokenization.getLineTokens(l),a=l===c.startLineNumber,g=l===c.endLineNumber;let f=a?n.findTokenIndexAtOffset(c.startColumn-1):0;for(;f<n.getCount()&&!(g&&n.getStartOffset(f)>c.endColumn-1);){if(!p(n.getStandardTokenType(f)))return!1;f++}}return!0}},42463:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{SelectionAnchorSet:function(){return p}});var w=i(57924),r=i(59365),O=i(22258),V=i(16830),D=i(3860),$=i(29102),M=i(63580),P=i(16141),A=function(u,C,y,b){var _=arguments.length,E=_<3?C:b===null?b=Object.getOwnPropertyDescriptor(C,y):b,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(u,C,y,b);else for(var R=u.length-1;R>=0;R--)(I=u[R])&&(E=(_<3?I(E):_>3?I(C,y,E):I(C,y))||E);return _>3&&E&&Object.defineProperty(C,y,E),E},L=function(u,C){return function(y,b){C(y,b,u)}},c=function(u,C,y,b){function _(E){return E instanceof y?E:new y(function(I){I(E)})}return new(y||(y=Promise))(function(E,I){function R(U){try{Q(b.next(U))}catch(K){I(K)}}function J(U){try{Q(b.throw(U))}catch(K){I(K)}}function Q(U){U.done?E(U.value):_(U.value).then(R,J)}Q((b=b.apply(u,C||[])).next())})};const p=new P.uy("selectionAnchorSet",!1);let l=class Ac{constructor(C,y){this.editor=C,this.selectionAnchorSetContextKey=p.bindTo(y),this.modelChangeListener=C.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(C){return C.getContribution(Ac.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const C=this.editor.getPosition();this.editor.changeDecorations(y=>{this.decorationId&&y.removeDecoration(this.decorationId),this.decorationId=y.addDecoration(D.Y.fromPositions(C,C),{description:"selection-anchor",stickiness:1,hoverMessage:new r.W5().appendText((0,M.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,w.Z9)((0,M.NC)("anchorSet","Anchor set at {0}:{1}",C.lineNumber,C.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const C=this.editor.getModel().getDecorationRange(this.decorationId);C&&this.editor.setPosition(C.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const C=this.editor.getModel().getDecorationRange(this.decorationId);if(C){const y=this.editor.getPosition();this.editor.setSelection(D.Y.fromPositions(C.getStartPosition(),y)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const C=this.decorationId;this.editor.changeDecorations(y=>{y.removeDecoration(C),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};l.ID="editor.contrib.selectionAnchorController",l=A([L(1,P.i6)],l);class n extends V.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,M.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:$.u.editorTextFocus,primary:(0,O.gx)(2089,2080),weight:100}})}run(C,y){var b;return c(this,void 0,void 0,function*(){(b=l.get(y))===null||b===void 0||b.setSelectionAnchor()})}}class a extends V.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,M.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:p})}run(C,y){var b;return c(this,void 0,void 0,function*(){(b=l.get(y))===null||b===void 0||b.goToSelectionAnchor()})}}class g extends V.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,M.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:p,kbOpts:{kbExpr:$.u.editorTextFocus,primary:(0,O.gx)(2089,2089),weight:100}})}run(C,y){var b;return c(this,void 0,void 0,function*(){(b=l.get(y))===null||b===void 0||b.selectFromAnchorToCursor()})}}class f extends V.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,M.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:p,kbOpts:{kbExpr:$.u.editorTextFocus,primary:9,weight:100}})}run(C,y){var b;return c(this,void 0,void 0,function*(){(b=l.get(y))===null||b===void 0||b.cancelSelectionAnchor()})}}(0,V._K)(l.ID,l),(0,V.Qr)(n),(0,V.Qr)(a),(0,V.Qr)(g),(0,V.Qr)(f)},5796:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{BracketMatchingController:function(){return C}});var w=i(15393),r=i(9917),O=i(16830),V=i(50187),D=i(24314),$=i(3860),M=i(29102),P=i(84973),A=i(92035),L=i(8625),c=i(63580),p=i(84144),l=i(73910),n=i(97781);const a=(0,l.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},c.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class g extends O.R6{constructor(){super({id:"editor.action.jumpToBracket",label:c.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:M.u.editorTextFocus,primary:3160,weight:100}})}run(b,_){var E;(E=C.get(_))===null||E===void 0||E.jumpToBracket()}}class f extends O.R6{constructor(){super({id:"editor.action.selectToBracket",label:c.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(b,_,E){var I;let R=!0;E&&E.selectBrackets===!1&&(R=!1),(I=C.get(_))===null||I===void 0||I.selectToBracket(R)}}class u{constructor(b,_,E){this.position=b,this.brackets=_,this.options=E}}class C extends r.JT{constructor(b){super(),this._editor=b,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new w.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(66),this._updateBracketsSoon.schedule(),this._register(b.onDidChangeCursorPosition(_=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(b.onDidChangeModelContent(_=>{this._updateBracketsSoon.schedule()})),this._register(b.onDidChangeModel(_=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(b.onDidChangeModelLanguageConfiguration(_=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(b.onDidChangeConfiguration(_=>{_.hasChanged(66)&&(this._matchBrackets=this._editor.getOption(66),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(b.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(b.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(b){return b.getContribution(C.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const b=this._editor.getModel(),_=this._editor.getSelections().map(E=>{const I=E.getStartPosition(),R=b.bracketPairs.matchBracket(I);let J=null;if(R)R[0].containsPosition(I)&&!R[1].containsPosition(I)?J=R[1].getStartPosition():R[1].containsPosition(I)&&(J=R[0].getStartPosition());else{const Q=b.bracketPairs.findEnclosingBrackets(I);if(Q)J=Q[1].getStartPosition();else{const U=b.bracketPairs.findNextBracket(I);U&&U.range&&(J=U.range.getStartPosition())}}return J?new $.Y(J.lineNumber,J.column,J.lineNumber,J.column):new $.Y(I.lineNumber,I.column,I.lineNumber,I.column)});this._editor.setSelections(_),this._editor.revealRange(_[0])}selectToBracket(b){if(!this._editor.hasModel())return;const _=this._editor.getModel(),E=[];this._editor.getSelections().forEach(I=>{const R=I.getStartPosition();let J=_.bracketPairs.matchBracket(R);if(!J&&(J=_.bracketPairs.findEnclosingBrackets(R),!J)){const K=_.bracketPairs.findNextBracket(R);K&&K.range&&(J=_.bracketPairs.matchBracket(K.range.getStartPosition()))}let Q=null,U=null;if(J){J.sort(D.e.compareRangesUsingStarts);const[K,H]=J;if(Q=b?K.getStartPosition():K.getEndPosition(),U=b?H.getEndPosition():H.getStartPosition(),H.containsPosition(R)){const X=Q;Q=U,U=X}}Q&&U&&E.push(new $.Y(Q.lineNumber,Q.column,U.lineNumber,U.column))}),E.length>0&&(this._editor.setSelections(E),this._editor.revealRange(E[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const b=[];let _=0;for(const E of this._lastBracketsData){const I=E.brackets;I&&(b[_++]={range:I[0],options:E.options},b[_++]={range:I[1],options:E.options})}this._decorations.set(b)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const b=this._editor.getSelections();if(b.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const _=this._editor.getModel(),E=_.getVersionId();let I=[];this._lastVersionId===E&&(I=this._lastBracketsData);const R=[];let J=0;for(let X=0,j=b.length;X<j;X++){const x=b[X];x.isEmpty()&&(R[J++]=x.getStartPosition())}R.length>1&&R.sort(V.L.compare);const Q=[];let U=0,K=0;const H=I.length;for(let X=0,j=R.length;X<j;X++){const x=R[X];for(;K<H&&I[K].position.isBefore(x);)K++;if(K<H&&I[K].position.equals(x))Q[U++]=I[K];else{let Z=_.bracketPairs.matchBracket(x,20),T=C._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!Z&&this._matchBrackets==="always"&&(Z=_.bracketPairs.findEnclosingBrackets(x,20),T=C._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),Q[U++]=new u(x,Z,T)}}this._lastBracketsData=Q,this._lastVersionId=E}}C.ID="editor.contrib.bracketMatchingController",C._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=A.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,n.EN)(a),position:P.sh.Center}}),C._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=A.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,O._K)(C.ID,C),(0,O.Qr)(f),(0,O.Qr)(g),(0,n.Ic)((y,b)=>{const _=y.getColor(L.TC);_&&b.addRule(`.monaco-editor .bracket-match { background-color: ${_}; }`);const E=y.getColor(L.Dl);E&&b.addRule(`.monaco-editor .bracket-match { border: 1px solid ${E}; }`)}),p.BH.appendMenuItem(p.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:c.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},54367:function(Ot,Te,i){"use strict";i.r(Te);var w=i(16830),r=i(29102),O=i(24314),V=i(3860);class D{constructor(c,p){this._selection=c,this._isMovingLeft=p}getEditOperations(c,p){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const l=this._selection.startLineNumber,n=this._selection.startColumn,a=this._selection.endColumn;if(!(this._isMovingLeft&&n===1)&&!(!this._isMovingLeft&&a===c.getLineMaxColumn(l)))if(this._isMovingLeft){const g=new O.e(l,n-1,l,n),f=c.getValueInRange(g);p.addEditOperation(g,null),p.addEditOperation(new O.e(l,a,l,a),f)}else{const g=new O.e(l,a,l,a+1),f=c.getValueInRange(g);p.addEditOperation(g,null),p.addEditOperation(new O.e(l,n,l,n),f)}}computeCursorState(c,p){return this._isMovingLeft?new V.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new V.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}var $=i(63580);class M extends w.R6{constructor(c,p){super(p),this.left=c}run(c,p){if(!p.hasModel())return;const l=[],n=p.getSelections();for(const a of n)l.push(new D(a,this.left));p.pushUndoStop(),p.executeCommands(this.id,l),p.pushUndoStop()}}class P extends M{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:$.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:r.u.writable})}}class A extends M{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:$.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:r.u.writable})}}(0,w.Qr)(P),(0,w.Qr)(A)},72102:function(Ot,Te,i){"use strict";i.r(Te);var w=i(16830),r=i(61329),O=i(10839),V=i(24314),D=i(29102),$=i(63580);class M extends w.R6{constructor(){super({id:"editor.action.transposeLetters",label:$.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:D.u.writable,kbOpts:{kbExpr:D.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(A,L){if(!L.hasModel())return;const c=L.getModel(),p=[],l=L.getSelections();for(const n of l){if(!n.isEmpty())continue;const a=n.startLineNumber,g=n.startColumn,f=c.getLineMaxColumn(a);if(a===1&&(g===1||g===2&&f===2))continue;const u=g===f?n.getPosition():O.o.rightPosition(c,n.getPosition().lineNumber,n.getPosition().column),C=O.o.leftPosition(c,u),y=O.o.leftPosition(c,C),b=c.getValueInRange(V.e.fromPositions(y,C)),_=c.getValueInRange(V.e.fromPositions(C,u)),E=V.e.fromPositions(y,u);p.push(new r.T4(E,_+b))}p.length>0&&(L.pushUndoStop(),L.executeCommands(this.id,p),L.pushUndoStop())}}(0,w.Qr)(M)},55833:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{CopyAction:function(){return f},CutAction:function(){return g},PasteAction:function(){return u}});var w=i(30747),r=i(1432),O=i(35715),V=i(16830),D=i(11640),$=i(29102),M=i(63580),P=i(84144),A=i(84972),L=function(b,_,E,I){function R(J){return J instanceof E?J:new E(function(Q){Q(J)})}return new(E||(E=Promise))(function(J,Q){function U(X){try{H(I.next(X))}catch(j){Q(j)}}function K(X){try{H(I.throw(X))}catch(j){Q(j)}}function H(X){X.done?J(X.value):R(X.value).then(U,K)}H((I=I.apply(b,_||[])).next())})};const c="9_cutcopypaste",p=r.tY||document.queryCommandSupported("cut"),l=r.tY||document.queryCommandSupported("copy"),n=typeof navigator.clipboard>"u"||w.isFirefox?document.queryCommandSupported("paste"):!0;function a(b){return b.register(),b}const g=p?a(new V.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:r.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:P.eH.MenubarEditMenu,group:"2_ccp",title:M.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:P.eH.EditorContext,group:c,title:M.NC("actions.clipboard.cutLabel","Cut"),when:$.u.writable,order:1},{menuId:P.eH.CommandPalette,group:"",title:M.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:P.eH.SimpleEditorContext,group:c,title:M.NC("actions.clipboard.cutLabel","Cut"),when:$.u.writable,order:1}]})):void 0,f=l?a(new V.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:r.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:P.eH.MenubarEditMenu,group:"2_ccp",title:M.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:P.eH.EditorContext,group:c,title:M.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:P.eH.CommandPalette,group:"",title:M.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:P.eH.SimpleEditorContext,group:c,title:M.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;P.BH.appendMenuItem(P.eH.MenubarEditMenu,{submenu:P.eH.MenubarCopy,title:{value:M.NC("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),P.BH.appendMenuItem(P.eH.EditorContext,{submenu:P.eH.EditorContextCopy,title:{value:M.NC("copy as","Copy As"),original:"Copy As"},group:c,order:3}),P.BH.appendMenuItem(P.eH.EditorContext,{submenu:P.eH.EditorContextShare,title:{value:M.NC("share","Share"),original:"Share"},group:"11_share",order:-1});const u=n?a(new V.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:r.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:P.eH.MenubarEditMenu,group:"2_ccp",title:M.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:P.eH.EditorContext,group:c,title:M.NC("actions.clipboard.pasteLabel","Paste"),when:$.u.writable,order:4},{menuId:P.eH.CommandPalette,group:"",title:M.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:P.eH.SimpleEditorContext,group:c,title:M.NC("actions.clipboard.pasteLabel","Paste"),when:$.u.writable,order:4}]})):void 0;class C extends V.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:M.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:$.u.textInputFocus,primary:0,weight:100}})}run(_,E){!E.hasModel()||!E.getOption(33)&&E.getSelection().isEmpty()||(O.RA.forceCopyWithSyntaxHighlighting=!0,E.focus(),document.execCommand("copy"),O.RA.forceCopyWithSyntaxHighlighting=!1)}}function y(b,_){!b||(b.addImplementation(1e4,"code-editor",(E,I)=>{const R=E.get(D.$).getFocusedCodeEditor();if(R&&R.hasTextFocus()){const J=R.getOption(33),Q=R.getSelection();return Q&&Q.isEmpty()&&!J||document.execCommand(_),!0}return!1}),b.addImplementation(0,"generic-dom",(E,I)=>(document.execCommand(_),!0)))}y(g,"cut"),y(f,"copy"),u&&(u.addImplementation(1e4,"code-editor",(b,_)=>{const E=b.get(D.$),I=b.get(A.p),R=E.getFocusedCodeEditor();return R&&R.hasTextFocus()?!document.execCommand("paste")&&r.$L?(()=>L(void 0,void 0,void 0,function*(){const Q=yield I.readText();if(Q!==""){const U=O.Nl.INSTANCE.get(Q);let K=!1,H=null,X=null;U&&(K=R.getOption(33)&&!!U.isFromEmptySelection,H=typeof U.multicursorText<"u"?U.multicursorText:null,X=U.mode),R.trigger("keyboard","paste",{text:Q,pasteOnNewLine:K,multicursorText:H,mode:X})}}))():!0:!1}),u.addImplementation(0,"generic-dom",(b,_)=>(document.execCommand("paste"),!0))),l&&(0,V.Qr)(C)},75396:function(Ot,Te,i){"use strict";i.d(Te,{Bb:function(){return g},MN:function(){return u},RB:function(){return a},TM:function(){return y},aI:function(){return I},bA:function(){return b},sh:function(){return f},uH:function(){return C}});var w=i(9488),r=i(71050),O=i(17301),V=i(9917),D=i(70666),$=i(16467),M=i(24314),P=i(3860),A=i(73733),L=i(94565),c=i(90535),p=i(76014),l=i(71922),n=function(Q,U,K,H){function X(j){return j instanceof K?j:new K(function(x){x(j)})}return new(K||(K=Promise))(function(j,x){function Z(G){try{z(H.next(G))}catch(re){x(re)}}function T(G){try{z(H.throw(G))}catch(re){x(re)}}function z(G){G.done?j(G.value):X(G.value).then(Z,T)}z((H=H.apply(Q,U||[])).next())})};const a="editor.action.codeAction",g="editor.action.refactor",f="editor.action.refactor.preview",u="editor.action.sourceAction",C="editor.action.organizeImports",y="editor.action.fixAll";class b{constructor(U,K){this.action=U,this.provider=K}resolve(U){var K;return n(this,void 0,void 0,function*(){if(((K=this.provider)===null||K===void 0?void 0:K.resolveCodeAction)&&!this.action.edit){let H;try{H=yield this.provider.resolveCodeAction(this.action,U)}catch(X){(0,O.Cp)(X)}H&&(this.action.edit=H.edit)}return this})}}class _ extends V.JT{constructor(U,K,H){super(),this.documentation=K,this._register(H),this.allActions=[...U].sort(_.codeActionsComparator),this.validActions=this.allActions.filter(({action:X})=>!X.disabled)}static codeActionsComparator({action:U},{action:K}){return U.isPreferred&&!K.isPreferred?-1:!U.isPreferred&&K.isPreferred?1:(0,w.Of)(U.diagnostics)?(0,w.Of)(K.diagnostics)?U.diagnostics[0].message.localeCompare(K.diagnostics[0].message):-1:(0,w.Of)(K.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:U})=>!!U.kind&&p.yN.QuickFix.contains(new p.yN(U.kind))&&!!U.isPreferred)}}const E={actions:[],documentation:void 0};function I(Q,U,K,H,X,j){var x;const Z=H.filter||{},T={only:(x=Z.include)===null||x===void 0?void 0:x.value,trigger:H.type},z=new $.YQ(U,j),G=R(Q,U,Z),re=new V.SL,S=G.map(Ce=>n(this,void 0,void 0,function*(){try{X.report(Ce);const ge=yield Ce.provideCodeActions(U,K,T,z.token);if(ge&&re.add(ge),z.token.isCancellationRequested)return E;const pe=((ge==null?void 0:ge.actions)||[]).filter(se=>se&&(0,p.Yl)(Z,se)),ee=J(Ce,pe,Z.include);return{actions:pe.map(se=>new b(se,Ce)),documentation:ee}}catch(ge){if((0,O.n2)(ge))throw ge;return(0,O.Cp)(ge),E}})),he=Q.onDidChange(()=>{const Ce=Q.all(U);(0,w.fS)(Ce,G)||z.cancel()});return Promise.all(S).then(Ce=>{const ge=Ce.map(ee=>ee.actions).flat(),pe=(0,w.kX)(Ce.map(ee=>ee.documentation));return new _(ge,pe,re)}).finally(()=>{he.dispose(),z.dispose()})}function R(Q,U,K){return Q.all(U).filter(H=>H.providedCodeActionKinds?H.providedCodeActionKinds.some(X=>(0,p.EU)(K,new p.yN(X))):!0)}function J(Q,U,K){if(!Q.documentation)return;const H=Q.documentation.map(X=>({kind:new p.yN(X.kind),command:X.command}));if(K){let X;for(const j of H)j.kind.contains(K)&&(X?X.kind.contains(j.kind)&&(X=j):X=j);if(X)return X==null?void 0:X.command}for(const X of U)if(!!X.kind){for(const j of H)if(j.kind.contains(new p.yN(X.kind)))return j.command}}L.P0.registerCommand("_executeCodeActionProvider",function(Q,U,K,H,X){return n(this,void 0,void 0,function*(){if(!(U instanceof D.o))throw(0,O.b1)();const{codeActionProvider:j}=Q.get(l.p),x=Q.get(A.q).getModel(U);if(!x)throw(0,O.b1)();const Z=P.Y.isISelection(K)?P.Y.liftSelection(K):M.e.isIRange(K)?x.validateRange(K):void 0;if(!Z)throw(0,O.b1)();const T=typeof H=="string"?new p.yN(H):void 0,z=yield I(j,x,Z,{type:1,triggerAction:p.aQ.Default,filter:{includeSourceActions:!0,include:T}},c.Ex.None,r.T.None),G=[],re=Math.min(z.validActions.length,typeof X=="number"?X:0);for(let S=0;S<re;S++)G.push(z.validActions[S].resolve(r.T.None));try{return yield Promise.all(G),z.validActions.map(S=>S.action)}finally{setTimeout(()=>z.dispose(),100)}})})},38939:function(Ot,Te,i){"use strict";i.d(Te,{S5:function(){return _i},dW:function(){return Zt},Hv:function(){return Yt},o$:function(){return Ft},E7:function(){return Bt},pY:function(){return ze},Eb:function(){return pi},UG:function(){return Li},VQ:function(){return ot}});var w=i(71050),r=i(79579),O=i(9917),V=i(97295),D=i(16830),$=i(66007),M=i(29102),P=i(71922),A=i(75396),L=i(17301),c=i(95342),p=i(72065),l=i(65321),n=i(43799),a=i(74741),g=i(50187),f=i(76014),u=i(63580),C=i(33108),y=i(16141),b=i(5606),_=i(91847),E=i(10829),I=i(97781),R=function(ai,Mt,Ut,vt){var _t=arguments.length,nt=_t<3?Mt:vt===null?vt=Object.getOwnPropertyDescriptor(Mt,Ut):vt,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")nt=Reflect.decorate(ai,Mt,Ut,vt);else for(var Le=ai.length-1;Le>=0;Le--)(be=ai[Le])&&(nt=(_t<3?be(nt):_t>3?be(Mt,Ut,nt):be(Mt,Ut))||nt);return _t>3&&nt&&Object.defineProperty(Mt,Ut,nt),nt},J=function(ai,Mt){return function(Ut,vt){Mt(Ut,vt,ai)}},Q=function(ai,Mt,Ut,vt){function _t(nt){return nt instanceof Ut?nt:new Ut(function(be){be(nt)})}return new(Ut||(Ut=Promise))(function(nt,be){function Le(ht){try{je(vt.next(ht))}catch(bt){be(bt)}}function Qe(ht){try{je(vt.throw(ht))}catch(bt){be(bt)}}function je(ht){ht.done?nt(ht.value):_t(ht.value).then(Le,Qe)}je((vt=vt.apply(ai,Mt||[])).next())})};const U={Visible:new y.uy("CodeActionMenuVisible",!1,(0,u.NC)("CodeActionMenuVisible","Whether the code action list widget is visible"))};class K extends a.aU{constructor(Mt,Ut){super(Mt.command?Mt.command.id:Mt.title,H(Mt.title),void 0,!Mt.disabled,Ut),this.action=Mt}}function H(ai){return ai.replace(/\r\n|\r|\n/g," ")}const X="codeActionWidget",j=26;let x=class{constructor(Mt,Ut){this.acceptKeybindings=Mt,this.keybindingService=Ut}get templateId(){return X}renderTemplate(Mt){const Ut=Object.create(null);return Ut.disposables=[],Ut.root=Mt,Ut.text=document.createElement("span"),Mt.append(Ut.text),Ut}renderElement(Mt,Ut,vt){const _t=vt,nt=Mt.title,be=Mt.isEnabled,Le=Mt.isSeparator,Qe=Mt.isDocumentation;_t.text.textContent=nt,be?_t.root.classList.remove("option-disabled"):(_t.root.classList.add("option-disabled"),_t.root.style.backgroundColor="transparent !important"),Le&&(_t.root.classList.add("separator"),_t.root.style.height="10px"),Qe||(()=>{var ht,bt;const[Dt,Ht]=this.acceptKeybindings;_t.root.title=(0,u.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Refactor, Shift+F2 to Preview"']},"{0} to Refactor, {1} to Preview",(ht=this.keybindingService.lookupKeybinding(Dt))===null||ht===void 0?void 0:ht.getLabel(),(bt=this.keybindingService.lookupKeybinding(Ht))===null||bt===void 0?void 0:bt.getLabel())})()}disposeTemplate(Mt){Mt.disposables=(0,O.B9)(Mt.disposables)}};x=R([J(1,_.d)],x);let Z=class Ol extends O.JT{constructor(Mt,Ut,vt,_t,nt,be,Le,Qe,je,ht){super(),this._editor=Mt,this._delegate=Ut,this._contextMenuService=vt,this._languageFeaturesService=nt,this._telemetryService=be,this._configurationService=Qe,this._contextViewService=je,this._contextKeyService=ht,this._showingActions=this._register(new O.XK),this.codeActionList=this._register(new O.XK),this.options=[],this._visible=!1,this.viewItems=[],this.hasSeperator=!1,this._keybindingResolver=new T({getKeybindings:()=>_t.getKeybindings()}),this._ctxMenuWidgetVisible=U.Visible.bindTo(this._contextKeyService),this.listRenderer=new x(["onEnterSelectCodeAction","onEnterSelectCodeActionWithPreview"],_t)}get isVisible(){return this._visible}isCodeActionWidgetEnabled(Mt){return this._configurationService.getValue("editor.experimental.useCustomCodeActionMenu",{resource:Mt.uri})}_onListSelection(Mt){Mt.elements.length&&Mt.elements.forEach(Ut=>{Ut.isEnabled&&(Ut.action.run(),this.hideCodeActionWidget())})}_onListHover(Mt){var Ut,vt,_t,nt;Mt.element?!((vt=Mt.element)===null||vt===void 0)&&vt.isEnabled?((_t=this.codeActionList.value)===null||_t===void 0||_t.setFocus([Mt.element.index]),this.focusedEnabledItem=this.viewItems.indexOf(Mt.element),this.currSelectedItem=Mt.element.index):(this.currSelectedItem=void 0,(nt=this.codeActionList.value)===null||nt===void 0||nt.setFocus([Mt.element.index])):(this.currSelectedItem=void 0,(Ut=this.codeActionList.value)===null||Ut===void 0||Ut.setFocus([]))}renderCodeActionMenuList(Mt,Ut){var vt;const _t=new O.SL,nt=document.createElement("div"),be=document.createElement("div");this.block=Mt.appendChild(be),this.block.classList.add("context-view-block"),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",_t.add(l.nm(this.block,l.tw.MOUSE_DOWN,Dt=>Dt.stopPropagation())),nt.id="codeActionMenuWidget",nt.classList.add("codeActionMenuWidget"),Mt.appendChild(nt),this.codeActionList.value=new n.aV("codeActionWidget",nt,{getHeight(Dt){return Dt.isSeparator?10:j},getTemplateId(Dt){return"codeActionWidget"}},[this.listRenderer],{keyboardSupport:!1}),_t.add(this.codeActionList.value.onMouseOver(Dt=>this._onListHover(Dt))),_t.add(this.codeActionList.value.onDidChangeFocus(Dt=>{var Ht;return(Ht=this.codeActionList.value)===null||Ht===void 0?void 0:Ht.domFocus()})),_t.add(this.codeActionList.value.onDidChangeSelection(Dt=>this._onListSelection(Dt))),_t.add(this._editor.onDidLayoutChange(Dt=>this.hideCodeActionWidget())),Ut.forEach((Dt,Ht)=>{const ei=Dt.class==="separator";let ui=!1;Dt instanceof K&&(ui=Dt.action.kind===Ol.documentationID),ei&&(this.hasSeperator=!0);const xi={title:Dt.label,detail:Dt.tooltip,action:Ut[Ht],isEnabled:Dt.enabled,isSeparator:ei,index:Ht,isDocumentation:ui};Dt.enabled&&this.viewItems.push(xi),this.options.push(xi)}),this.codeActionList.value.splice(0,this.codeActionList.value.length,this.options);const Le=this.hasSeperator?(Ut.length-1)*j+10:Ut.length*j;nt.style.height=String(Le)+"px",this.codeActionList.value.layout(Le);const Qe=[];this.options.forEach((Dt,Ht)=>{var ei,ui;if(!this.codeActionList.value)return;const xi=(ui=document.getElementById((ei=this.codeActionList.value)===null||ei===void 0?void 0:ei.getElementID(Ht)))===null||ui===void 0?void 0:ui.getElementsByTagName("span")[0].offsetWidth;Qe.push(Number(xi))});const je=Math.max(...Qe);nt.style.width=je+52+"px",(vt=this.codeActionList.value)===null||vt===void 0||vt.layout(Le,je),this.viewItems.length<1||this.viewItems.every(Dt=>Dt.isDocumentation)?this.currSelectedItem=void 0:(this.focusedEnabledItem=0,this.currSelectedItem=this.viewItems[0].index,this.codeActionList.value.setFocus([this.currSelectedItem])),this.codeActionList.value.domFocus();const ht=l.go(Mt),bt=ht.onDidBlur(()=>{this.hideCodeActionWidget()});return _t.add(bt),_t.add(ht),this._ctxMenuWidgetVisible.set(!0),_t}focusPrevious(){var Mt;if(typeof this.focusedEnabledItem>"u")this.focusedEnabledItem=this.viewItems[0].index;else if(this.viewItems.length<1)return!1;const Ut=this.focusedEnabledItem;let vt;do this.focusedEnabledItem=this.focusedEnabledItem-1,this.focusedEnabledItem<0&&(this.focusedEnabledItem=this.viewItems.length-1),vt=this.viewItems[this.focusedEnabledItem],(Mt=this.codeActionList.value)===null||Mt===void 0||Mt.setFocus([vt.index]),this.currSelectedItem=vt.index;while(this.focusedEnabledItem!==Ut&&(!vt.isEnabled||vt.action.id===a.Z0.ID));return!0}focusNext(){var Mt;if(typeof this.focusedEnabledItem>"u")this.focusedEnabledItem=this.viewItems.length-1;else if(this.viewItems.length<1)return!1;const Ut=this.focusedEnabledItem;let vt;do this.focusedEnabledItem=(this.focusedEnabledItem+1)%this.viewItems.length,vt=this.viewItems[this.focusedEnabledItem],(Mt=this.codeActionList.value)===null||Mt===void 0||Mt.setFocus([vt.index]),this.currSelectedItem=vt.index;while(this.focusedEnabledItem!==Ut&&(!vt.isEnabled||vt.action.id===a.Z0.ID));return!0}navigateListWithKeysUp(){this.focusPrevious()}navigateListWithKeysDown(){this.focusNext()}onEnterSet(){var Mt;typeof this.currSelectedItem=="number"&&((Mt=this.codeActionList.value)===null||Mt===void 0||Mt.setSelection([this.currSelectedItem]))}dispose(){super.dispose()}hideCodeActionWidget(){this._ctxMenuWidgetVisible.reset(),this.options=[],this.viewItems=[],this.focusedEnabledItem=0,this.currSelectedItem=void 0,this.hasSeperator=!1,this._contextViewService.hideContextView({source:this})}codeActionTelemetry(Mt,Ut,vt){this._telemetryService.publicLog2("codeAction.applyCodeAction",{codeActionFrom:Mt,validCodeActions:vt.validActions.length,cancelled:Ut})}show(Mt,Ut,vt,_t){return Q(this,void 0,void 0,function*(){const nt=this._editor.getModel();if(!nt)return;const be=_t.includeDisabledActions?Ut.allActions:Ut.validActions;if(!be.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,L.F0)();this._visible=!0,this._showingActions.value=Ut;const Le=this.getMenuActions(Mt,be,Ut.documentation),Qe=g.L.isIPosition(vt)?this._toCoords(vt):vt||{x:0,y:0},je=this._keybindingResolver.getResolver(),ht=this._editor.getOption(117);this.isCodeActionWidgetEnabled(nt)?this._contextViewService.showContextView({getAnchor:()=>Qe,render:bt=>this.renderCodeActionMenuList(bt,Le),onHide:bt=>{const Dt=_t.fromLightbulb?f.aQ.Lightbulb:Mt.triggerAction;this.codeActionTelemetry(Dt,bt,Ut),this._visible=!1,this._editor.focus()}},this._editor.getDomNode(),!1):this._contextMenuService.showContextMenu({domForShadowRoot:ht?this._editor.getDomNode():void 0,getAnchor:()=>Qe,getActions:()=>Le,onHide:bt=>{const Dt=_t.fromLightbulb?f.aQ.Lightbulb:Mt.triggerAction;this.codeActionTelemetry(Dt,bt,Ut),this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:bt=>bt instanceof K?je(bt.action):void 0})})}getMenuActions(Mt,Ut,vt){var _t,nt;const be=ht=>new K(ht.action,()=>this._delegate.onSelectCodeAction(ht,Mt)),Le=Ut.map(be),Qe=[...vt],je=this._editor.getModel();if(je&&Le.length)for(const ht of this._languageFeaturesService.codeActionProvider.all(je))ht._getAdditionalMenuItems&&Qe.push(...ht._getAdditionalMenuItems({trigger:Mt.type,only:(nt=(_t=Mt.filter)===null||_t===void 0?void 0:_t.include)===null||nt===void 0?void 0:nt.value},Ut.map(bt=>bt.action)));return Qe.length&&Le.push(new a.Z0,...Qe.map(ht=>be(new A.bA({title:ht.title,command:ht,kind:Ol.documentationID},void 0)))),Le}_toCoords(Mt){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(Mt,1),this._editor.render();const Ut=this._editor.getScrolledVisiblePosition(Mt),vt=l.i(this._editor.getDomNode()),_t=vt.left+Ut.left,nt=vt.top+Ut.top+Ut.height;return{x:_t,y:nt}}};Z.documentationID="_documentation",Z=R([J(2,b.i),J(3,_.d),J(4,P.p),J(5,E.b),J(6,I.XE),J(7,C.Ui),J(8,b.u),J(9,y.i6)],Z);class T{constructor(Mt){this._keybindingProvider=Mt}getResolver(){const Mt=new r.o(()=>this._keybindingProvider.getKeybindings().filter(Ut=>T.codeActionCommands.indexOf(Ut.command)>=0).filter(Ut=>Ut.resolvedKeybinding).map(Ut=>{let vt=Ut.commandArgs;return Ut.command===A.uH?vt={kind:f.yN.SourceOrganizeImports.value}:Ut.command===A.TM&&(vt={kind:f.yN.SourceFixAll.value}),Object.assign({resolvedKeybinding:Ut.resolvedKeybinding},f.wZ.fromUser(vt,{kind:f.yN.None,apply:"never"}))}));return Ut=>{if(Ut.kind){const vt=this.bestKeybindingForCodeAction(Ut,Mt.getValue());return vt==null?void 0:vt.resolvedKeybinding}}}bestKeybindingForCodeAction(Mt,Ut){if(!Mt.kind)return;const vt=new f.yN(Mt.kind);return Ut.filter(_t=>_t.kind.contains(vt)).filter(_t=>_t.preferred?Mt.isPreferred:!0).reduceRight((_t,nt)=>_t?_t.kind.contains(nt.kind)?nt:_t:nt,void 0)}}T.codeActionCommands=[A.Bb,A.RB,A.MN,A.uH,A.TM];var z=i(10553),G=i(73046),re=i(4669),S=i(59616),he=i(73910),Ce=function(ai,Mt,Ut,vt){var _t=arguments.length,nt=_t<3?Mt:vt===null?vt=Object.getOwnPropertyDescriptor(Mt,Ut):vt,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")nt=Reflect.decorate(ai,Mt,Ut,vt);else for(var Le=ai.length-1;Le>=0;Le--)(be=ai[Le])&&(nt=(_t<3?be(nt):_t>3?be(Mt,Ut,nt):be(Mt,Ut))||nt);return _t>3&&nt&&Object.defineProperty(Mt,Ut,nt),nt},ge=function(ai,Mt){return function(Ut,vt){Mt(Ut,vt,ai)}},pe;(function(ai){ai.Hidden={type:0};class Mt{constructor(vt,_t,nt,be){this.actions=vt,this.trigger=_t,this.editorPosition=nt,this.widgetPosition=be,this.type=1}}ai.Showing=Mt})(pe||(pe={}));let ee=class Rc extends O.JT{constructor(Mt,Ut,vt,_t){super(),this._editor=Mt,this._quickFixActionId=Ut,this._preferredFixActionId=vt,this._keybindingService=_t,this._onClick=this._register(new re.Q5),this.onClick=this._onClick.event,this._state=pe.Hidden,this._domNode=document.createElement("div"),this._domNode.className=G.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(nt=>{const be=this._editor.getModel();(this.state.type!==1||!be||this.state.editorPosition.lineNumber>=be.getLineCount())&&this.hide()})),z.o.ignoreTarget(this._domNode),this._register(l.GQ(this._domNode,nt=>{if(this.state.type!==1)return;this._editor.focus(),nt.preventDefault();const{top:be,height:Le}=l.i(this._domNode),Qe=this._editor.getOption(61);let je=Math.floor(Qe/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(je+=Qe),this._onClick.fire({x:nt.posx,y:be+Le+je,actions:this.state.actions,trigger:this.state.trigger})})),this._register(l.nm(this._domNode,"mouseenter",nt=>{(nt.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(nt=>{nt.hasChanged(59)&&!this._editor.getOption(59).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(Mt,Ut,vt){if(Mt.validActions.length<=0)return this.hide();const _t=this._editor.getOptions();if(!_t.get(59).enabled)return this.hide();const nt=this._editor.getModel();if(!nt)return this.hide();const{lineNumber:be,column:Le}=nt.validatePosition(vt),Qe=nt.getOptions().tabSize,je=_t.get(46),ht=nt.getLineContent(be),bt=(0,S.q)(ht,Qe),Dt=je.spaceWidth*bt>22,Ht=ui=>ui>2&&this._editor.getTopForLineNumber(ui)===this._editor.getTopForLineNumber(ui-1);let ei=be;if(!Dt){if(be>1&&!Ht(be-1))ei-=1;else if(!Ht(be+1))ei+=1;else if(Le*je.spaceWidth<22)return this.hide()}this.state=new pe.Showing(Mt,Ut,vt,{position:{lineNumber:ei,column:1},preference:Rc._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=pe.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(Mt){this._state=Mt,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...G.lA.lightBulb.classNamesArray),this._domNode.classList.add(...G.lA.lightbulbAutofix.classNamesArray);const Ut=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(Ut){this.title=u.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",Ut.getLabel());return}}this._domNode.classList.remove(...G.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...G.lA.lightBulb.classNamesArray);const Mt=this._keybindingService.lookupKeybinding(this._quickFixActionId);Mt?this.title=u.NC("codeActionWithKb","Show Code Actions ({0})",Mt.getLabel()):this.title=u.NC("codeAction","Show Code Actions")}set title(Mt){this._domNode.title=Mt}};ee._posPref=[0],ee=Ce([ge(3,_.d)],ee),(0,I.Ic)((ai,Mt)=>{var Ut;const vt=(Ut=ai.getColor(he.cvW))===null||Ut===void 0?void 0:Ut.transparent(.7),_t=ai.getColor(he.Fu1);_t&&Mt.addRule(`
		.monaco-editor .contentWidgets ${G.lA.lightBulb.cssSelector} {
			color: ${_t};
			background-color: ${vt};
		}`);const nt=ai.getColor(he.sKV);nt&&Mt.addRule(`
		.monaco-editor .contentWidgets ${G.lA.lightbulbAutofix.cssSelector} {
			color: ${nt};
			background-color: ${vt};
		}`)});var se=function(ai,Mt,Ut,vt){var _t=arguments.length,nt=_t<3?Mt:vt===null?vt=Object.getOwnPropertyDescriptor(Mt,Ut):vt,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")nt=Reflect.decorate(ai,Mt,Ut,vt);else for(var Le=ai.length-1;Le>=0;Le--)(be=ai[Le])&&(nt=(_t<3?be(nt):_t>3?be(Mt,Ut,nt):be(Mt,Ut))||nt);return _t>3&&nt&&Object.defineProperty(Mt,Ut,nt),nt},ne=function(ai,Mt){return function(Ut,vt){Mt(Ut,vt,ai)}},oe=function(ai,Mt,Ut,vt){function _t(nt){return nt instanceof Ut?nt:new Ut(function(be){be(nt)})}return new(Ut||(Ut=Promise))(function(nt,be){function Le(ht){try{je(vt.next(ht))}catch(bt){be(bt)}}function Qe(ht){try{je(vt.throw(ht))}catch(bt){be(bt)}}function je(ht){ht.done?nt(ht.value):_t(ht.value).then(Le,Qe)}je((vt=vt.apply(ai,Mt||[])).next())})},Se=function(ai,Mt,Ut,vt,_t){if(vt==="m")throw new TypeError("Private method is not writable");if(vt==="a"&&!_t)throw new TypeError("Private accessor was defined without a setter");if(typeof Mt=="function"?ai!==Mt||!_t:!Mt.has(ai))throw new TypeError("Cannot write private member to an object whose class did not declare it");return vt==="a"?_t.call(ai,Ut):_t?_t.value=Ut:Mt.set(ai,Ut),Ut},Ee=function(ai,Mt,Ut,vt){if(Ut==="a"&&!vt)throw new TypeError("Private accessor was defined without a getter");if(typeof Mt=="function"?ai!==Mt||!vt:!Mt.has(ai))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Ut==="m"?vt:Ut==="a"?vt.call(ai):vt?vt.value:Mt.get(ai)},Me;let ye=class extends O.JT{constructor(Mt,Ut,vt,_t,nt){super(),this._editor=Mt,this.delegate=_t,this._activeCodeActions=this._register(new O.XK),this.previewOn=!1,Me.set(this,!1),this._codeActionWidget=new r.o(()=>this._register(nt.createInstance(Z,this._editor,{onSelectCodeAction:(be,Le)=>oe(this,void 0,void 0,function*(){this.previewOn?this.delegate.applyCodeAction(be,!0,Boolean(this.previewOn)):this.delegate.applyCodeAction(be,!0,Boolean(Le.preview)),this.previewOn=!1})}))),this._lightBulbWidget=new r.o(()=>{const be=this._register(nt.createInstance(ee,this._editor,Ut,vt));return this._register(be.onClick(Le=>this.showCodeActionList(Le.trigger,Le.actions,Le,{includeDisabledActions:!1,fromLightbulb:!0}))),be})}dispose(){Se(this,Me,!0,"f"),super.dispose()}hideCodeActionWidget(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().hideCodeActionWidget()}onEnter(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().onEnterSet()}onPreviewEnter(){this.previewOn=!0,this.onEnter()}navigateList(Mt){this._codeActionWidget.hasValue()&&(Mt?this._codeActionWidget.getValue().navigateListWithKeysUp():this._codeActionWidget.getValue().navigateListWithKeysDown())}update(Mt){var Ut,vt,_t,nt,be;return oe(this,void 0,void 0,function*(){if(Mt.type!==1){(Ut=this._lightBulbWidget.rawValue)===null||Ut===void 0||Ut.hide();return}let Le;try{Le=yield Mt.actions}catch(Qe){(0,L.dL)(Qe);return}if(!Ee(this,Me,"f"))if(this._lightBulbWidget.getValue().update(Le,Mt.trigger,Mt.position),Mt.trigger.type===1){if(!((vt=Mt.trigger.filter)===null||vt===void 0)&&vt.include){const je=this.tryGetValidActionToApply(Mt.trigger,Le);if(je){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(je,!1,!1)}finally{Le.dispose()}return}if(Mt.trigger.context){const ht=this.getInvalidActionThatWouldHaveBeenApplied(Mt.trigger,Le);if(ht&&ht.action.disabled){(_t=c.O.get(this._editor))===null||_t===void 0||_t.showMessage(ht.action.disabled,Mt.trigger.context.position),Le.dispose();return}}}const Qe=!!(!((nt=Mt.trigger.filter)===null||nt===void 0)&&nt.include);if(Mt.trigger.context&&(!Le.allActions.length||!Qe&&!Le.validActions.length)){(be=c.O.get(this._editor))===null||be===void 0||be.showMessage(Mt.trigger.context.notAvailableMessage,Mt.trigger.context.position),this._activeCodeActions.value=Le,Le.dispose();return}this._activeCodeActions.value=Le,this._codeActionWidget.getValue().show(Mt.trigger,Le,Mt.position,{includeDisabledActions:Qe,fromLightbulb:!1})}else this._codeActionWidget.getValue().isVisible?Le.dispose():this._activeCodeActions.value=Le})}getInvalidActionThatWouldHaveBeenApplied(Mt,Ut){if(!!Ut.allActions.length&&(Mt.autoApply==="first"&&Ut.validActions.length===0||Mt.autoApply==="ifSingle"&&Ut.allActions.length===1))return Ut.allActions.find(({action:vt})=>vt.disabled)}tryGetValidActionToApply(Mt,Ut){if(!!Ut.validActions.length&&(Mt.autoApply==="first"&&Ut.validActions.length>0||Mt.autoApply==="ifSingle"&&Ut.validActions.length===1))return Ut.validActions[0]}showCodeActionList(Mt,Ut,vt,_t){return oe(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(Mt,Ut,vt,_t)})}};Me=new WeakMap,ye=se([ne(4,p.TG)],ye);var le=i(94565),ie=i(98674),ve=i(90535),xe=i(59422),Ye=i(15393),at=i(95935),qe=i(24314),Re=function(ai,Mt,Ut,vt){if(Ut==="a"&&!vt)throw new TypeError("Private accessor was defined without a getter");if(typeof Mt=="function"?ai!==Mt||!vt:!Mt.has(ai))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Ut==="m"?vt:Ut==="a"?vt.call(ai):vt?vt.value:Mt.get(ai)},Je=function(ai,Mt,Ut,vt,_t){if(vt==="m")throw new TypeError("Private method is not writable");if(vt==="a"&&!_t)throw new TypeError("Private accessor was defined without a setter");if(typeof Mt=="function"?ai!==Mt||!_t:!Mt.has(ai))throw new TypeError("Cannot write private member to an object whose class did not declare it");return vt==="a"?_t.call(ai,Ut):_t?_t.value=Ut:Mt.set(ai,Ut),Ut},st;const et=new y.uy("supportedCodeAction","");class we extends O.JT{constructor(Mt,Ut,vt,_t=250){super(),this._editor=Mt,this._markerService=Ut,this._signalChange=vt,this._delay=_t,this._autoTriggerTimer=this._register(new Ye._F),this._register(this._markerService.onMarkerChanged(nt=>this._onMarkerChanges(nt))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(Mt){const Ut=this._getRangeOfSelectionUnlessWhitespaceEnclosed(Mt);return this._createEventAndSignalChange(Mt,Ut)}_onMarkerChanges(Mt){const Ut=this._editor.getModel();!Ut||Mt.some(vt=>(0,at.Xy)(vt,Ut.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:f.aQ.Default})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:f.aQ.Default})},this._delay)}_getRangeOfMarker(Mt){const Ut=this._editor.getModel();if(!!Ut)for(const vt of this._markerService.read({resource:Ut.uri})){const _t=Ut.validateRange(vt);if(qe.e.intersectRanges(_t,Mt))return qe.e.lift(_t)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(Mt){if(!this._editor.hasModel())return;const Ut=this._editor.getModel(),vt=this._editor.getSelection();if(vt.isEmpty()&&Mt.type===2){const{lineNumber:_t,column:nt}=vt.getPosition(),be=Ut.getLineContent(_t);if(be.length===0)return;if(nt===1){if(/\s/.test(be[0]))return}else if(nt===Ut.getLineMaxColumn(_t)){if(/\s/.test(be[be.length-1]))return}else if(/\s/.test(be[nt-2])&&/\s/.test(be[nt-1]))return}return vt}_createEventAndSignalChange(Mt,Ut){const vt=this._editor.getModel();if(!Ut||!vt){this._signalChange(void 0);return}const _t=this._getRangeOfMarker(Ut),nt=_t?_t.getStartPosition():Ut.getStartPosition(),be={trigger:Mt,selection:Ut,position:nt};return this._signalChange(be),be}}var Ne;(function(ai){ai.Empty={type:0};class Mt{constructor(vt,_t,nt,be){this.trigger=vt,this.rangeOrSelection=_t,this.position=nt,this._cancellablePromise=be,this.type=1,this.actions=be.catch(Le=>{if((0,L.n2)(Le))return de;throw Le})}cancel(){this._cancellablePromise.cancel()}}ai.Triggered=Mt})(Ne||(Ne={}));const de={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class Pe extends O.JT{constructor(Mt,Ut,vt,_t,nt){super(),this._editor=Mt,this._registry=Ut,this._markerService=vt,this._progressService=nt,this._codeActionOracle=this._register(new O.XK),this._state=Ne.Empty,this._onDidChangeState=this._register(new re.Q5),this.onDidChangeState=this._onDidChangeState.event,st.set(this,!1),this._supportedCodeActions=et.bindTo(_t),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){Re(this,st,"f")||(Je(this,st,!0,"f"),super.dispose(),this.setState(Ne.Empty,!0))}_update(){if(Re(this,st,"f"))return;this._codeActionOracle.value=void 0,this.setState(Ne.Empty);const Mt=this._editor.getModel();if(Mt&&this._registry.has(Mt)&&!this._editor.getOption(83)){const Ut=[];for(const vt of this._registry.all(Mt))Array.isArray(vt.providedCodeActionKinds)&&Ut.push(...vt.providedCodeActionKinds);this._supportedCodeActions.set(Ut.join(" ")),this._codeActionOracle.value=new we(this._editor,this._markerService,vt=>{var _t;if(!vt){this.setState(Ne.Empty);return}const nt=(0,Ye.PG)(be=>(0,A.aI)(this._registry,Mt,vt.selection,vt.trigger,ve.Ex.None,be));vt.trigger.type===1&&((_t=this._progressService)===null||_t===void 0||_t.showWhile(nt,250)),this.setState(new Ne.Triggered(vt.trigger,vt.selection,vt.position,nt))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:f.aQ.Default})}else this._supportedCodeActions.reset()}trigger(Mt){var Ut;(Ut=this._codeActionOracle.value)===null||Ut===void 0||Ut.trigger(Mt)}setState(Mt,Ut){Mt!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=Mt,!Ut&&!Re(this,st,"f")&&this._onDidChangeState.fire(Mt))}}st=new WeakMap;var He=function(ai,Mt,Ut,vt){var _t=arguments.length,nt=_t<3?Mt:vt===null?vt=Object.getOwnPropertyDescriptor(Mt,Ut):vt,be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")nt=Reflect.decorate(ai,Mt,Ut,vt);else for(var Le=ai.length-1;Le>=0;Le--)(be=ai[Le])&&(nt=(_t<3?be(nt):_t>3?be(Mt,Ut,nt):be(Mt,Ut))||nt);return _t>3&&nt&&Object.defineProperty(Mt,Ut,nt),nt},$e=function(ai,Mt){return function(Ut,vt){Mt(Ut,vt,ai)}},me=function(ai,Mt,Ut,vt){function _t(nt){return nt instanceof Ut?nt:new Ut(function(be){be(nt)})}return new(Ut||(Ut=Promise))(function(nt,be){function Le(ht){try{je(vt.next(ht))}catch(bt){be(bt)}}function Qe(ht){try{je(vt.throw(ht))}catch(bt){be(bt)}}function je(ht){ht.done?nt(ht.value):_t(ht.value).then(Le,Qe)}je((vt=vt.apply(ai,Mt||[])).next())})};function Ie(ai){return y.Ao.regex(et.keys()[0],new RegExp("(\\s|^)"+(0,V.ec)(ai.value)+"\\b"))}function Ge(ai,Mt,Ut,vt){const _t=f.wZ.fromUser(Mt,{kind:f.yN.Refactor,apply:"never"});return lt(ai,typeof(Mt==null?void 0:Mt.kind)=="string"?_t.preferred?u.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",Mt.kind):u.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",Mt.kind):_t.preferred?u.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):u.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:f.yN.Refactor.contains(_t.kind)?_t.kind:f.yN.None,onlyIncludePreferredActions:_t.preferred},_t.apply,Ut,vt)}const ft={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:u.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:u.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[u.NC("args.schema.apply.first","Always apply the first returned code action."),u.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),u.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:u.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let ze=class Pc extends O.JT{constructor(Mt,Ut,vt,_t,nt,be){super(),this._instantiationService=nt,this._editor=Mt,this._model=this._register(new Pe(this._editor,be.codeActionProvider,Ut,vt,_t)),this._register(this._model.onDidChangeState(Le=>this.update(Le))),this._ui=new r.o(()=>this._register(new ye(Mt,Bt.Id,_i.Id,{applyCodeAction:(Le,Qe,je)=>me(this,void 0,void 0,function*(){try{yield this._applyCodeAction(Le,je)}finally{Qe&&this._trigger({type:2,triggerAction:f.aQ.QuickFix,filter:{}})}})},this._instantiationService)))}static get(Mt){return Mt.getContribution(Pc.ID)}update(Mt){this._ui.getValue().update(Mt)}hideCodeActionMenu(){this._ui.hasValue()&&this._ui.getValue().hideCodeActionWidget()}navigateCodeActionList(Mt){this._ui.hasValue()&&this._ui.getValue().navigateList(Mt)}selectedOption(){this._ui.hasValue()&&this._ui.getValue().onEnter()}selectedOptionWithPreview(){this._ui.hasValue()&&this._ui.getValue().onPreviewEnter()}showCodeActions(Mt,Ut,vt){return this._ui.getValue().showCodeActionList(Mt,Ut,vt,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(Mt,Ut,vt,_t,nt){var be;if(!this._editor.hasModel())return;(be=c.O.get(this._editor))===null||be===void 0||be.closeMessage();const Le=this._editor.getPosition();this._trigger({type:1,triggerAction:Ut,filter:vt,autoApply:_t,context:{notAvailableMessage:Mt,position:Le},preview:nt})}_trigger(Mt){return this._model.trigger(Mt)}_applyCodeAction(Mt,Ut){return this._instantiationService.invokeFunction(wt,Mt,mt.FromCodeActions,{preview:Ut,editor:this._editor})}};ze.ID="editor.contrib.quickFixController",ze=He([$e(1,ie.lT),$e(2,y.i6),$e(3,ve.ek),$e(4,p.TG),$e(5,P.p)],ze);var mt;(function(ai){ai.OnSave="onSave",ai.FromProblemsView="fromProblemsView",ai.FromCodeActions="fromCodeActions"})(mt||(mt={}));function wt(ai,Mt,Ut,vt){return me(this,void 0,void 0,function*(){const _t=ai.get($.vu),nt=ai.get(le.Hy),be=ai.get(E.b),Le=ai.get(xe.lT);if(be.publicLog2("codeAction.applyCodeAction",{codeActionTitle:Mt.action.title,codeActionKind:Mt.action.kind,codeActionIsPreferred:!!Mt.action.isPreferred,reason:Ut}),yield Mt.resolve(w.T.None),Mt.action.edit&&(yield _t.apply($.fo.convert(Mt.action.edit),{editor:vt==null?void 0:vt.editor,label:Mt.action.title,quotableLabel:Mt.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:!0,showPreview:vt==null?void 0:vt.preview})),Mt.action.command)try{yield nt.executeCommand(Mt.action.command.id,...Mt.action.command.arguments||[])}catch(Qe){const je=Oe(Qe);Le.error(typeof je=="string"?je:u.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function Oe(ai){return typeof ai=="string"?ai:ai instanceof Error&&typeof ai.message=="string"?ai.message:void 0}function lt(ai,Mt,Ut,vt,_t=!1,nt=f.aQ.Default){if(ai.hasModel()){const be=ze.get(ai);be==null||be.manualTriggerAtCurrentPosition(Mt,nt,Ut,vt,_t)}}class Bt extends D.R6{constructor(){super({id:Bt.Id,label:u.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:y.Ao.and(M.u.writable,M.u.hasCodeActionsProvider),kbOpts:{kbExpr:M.u.editorTextFocus,primary:2132,weight:100}})}run(Mt,Ut){return lt(Ut,u.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,!1,f.aQ.QuickFix)}}Bt.Id="editor.action.quickFix";class Zt extends D._l{constructor(){super({id:A.RB,precondition:y.Ao.and(M.u.writable,M.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:ft}]}})}runEditorCommand(Mt,Ut,vt){const _t=f.wZ.fromUser(vt,{kind:f.yN.Empty,apply:"ifSingle"});return lt(Ut,typeof(vt==null?void 0:vt.kind)=="string"?_t.preferred?u.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",vt.kind):u.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",vt.kind):_t.preferred?u.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):u.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:_t.kind,includeSourceActions:!0,onlyIncludePreferredActions:_t.preferred},_t.apply)}}class pi extends D.R6{constructor(){super({id:A.Bb,label:u.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:y.Ao.and(M.u.writable,M.u.hasCodeActionsProvider),kbOpts:{kbExpr:M.u.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:y.Ao.and(M.u.writable,Ie(f.yN.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:ft}]}})}run(Mt,Ut,vt){return Ge(Ut,vt,!1,f.aQ.Refactor)}}class Li extends D.R6{constructor(){super({id:A.sh,label:u.NC("refactor.preview.label","Refactor with Preview..."),alias:"Refactor Preview...",precondition:y.Ao.and(M.u.writable,M.u.hasCodeActionsProvider),description:{description:"Refactor Preview...",args:[{name:"args",schema:ft}]}})}run(Mt,Ut,vt){return Ge(Ut,vt,!0,f.aQ.RefactorPreview)}}class ot extends D.R6{constructor(){super({id:A.MN,label:u.NC("source.label","Source Action..."),alias:"Source Action...",precondition:y.Ao.and(M.u.writable,M.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:y.Ao.and(M.u.writable,Ie(f.yN.Source))},description:{description:"Source Action...",args:[{name:"args",schema:ft}]}})}run(Mt,Ut,vt){const _t=f.wZ.fromUser(vt,{kind:f.yN.Source,apply:"never"});return lt(Ut,typeof(vt==null?void 0:vt.kind)=="string"?_t.preferred?u.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",vt.kind):u.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",vt.kind):_t.preferred?u.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):u.NC("editor.action.source.noneMessage","No source actions available"),{include:f.yN.Source.contains(_t.kind)?_t.kind:f.yN.None,includeSourceActions:!0,onlyIncludePreferredActions:_t.preferred},_t.apply,void 0,f.aQ.SourceAction)}}class Ft extends D.R6{constructor(){super({id:A.uH,label:u.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:y.Ao.and(M.u.writable,Ie(f.yN.SourceOrganizeImports)),kbOpts:{kbExpr:M.u.editorTextFocus,primary:1581,weight:100}})}run(Mt,Ut){return lt(Ut,u.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:f.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",void 0,f.aQ.OrganizeImports)}}class Yt extends D.R6{constructor(){super({id:A.TM,label:u.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:y.Ao.and(M.u.writable,Ie(f.yN.SourceFixAll))})}run(Mt,Ut){return lt(Ut,u.NC("fixAll.noneMessage","No fix all action available"),{include:f.yN.SourceFixAll,includeSourceActions:!0},"ifSingle",void 0,f.aQ.FixAll)}}class _i extends D.R6{constructor(){super({id:_i.Id,label:u.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:y.Ao.and(M.u.writable,Ie(f.yN.QuickFix)),kbOpts:{kbExpr:M.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(Mt,Ut){return lt(Ut,u.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:f.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",void 0,f.aQ.AutoFix)}}_i.Id="editor.action.autoFix";const Ci=D._l.bindToContribution(ze.get),bi=100+90;(0,D.fK)(new Ci({id:"hideCodeActionMenuWidget",precondition:U.Visible,handler(ai){ai.hideCodeActionMenu()},kbOpts:{weight:bi,primary:9,secondary:[1033]}})),(0,D.fK)(new Ci({id:"focusPreviousCodeAction",precondition:U.Visible,handler(ai){ai.navigateCodeActionList(!0)},kbOpts:{weight:bi+1e5,primary:16,secondary:[2064]}})),(0,D.fK)(new Ci({id:"focusNextCodeAction",precondition:U.Visible,handler(ai){ai.navigateCodeActionList(!1)},kbOpts:{weight:bi+1e5,primary:18,secondary:[2066]}})),(0,D.fK)(new Ci({id:"onEnterSelectCodeAction",precondition:U.Visible,handler(ai){ai.selectedOption()},kbOpts:{weight:bi+1e5,primary:3,secondary:[1026]}})),(0,D.fK)(new Ci({id:"onEnterSelectCodeActionWithPreview",precondition:U.Visible,handler(ai){ai.selectedOptionWithPreview()},kbOpts:{weight:bi+1e5,primary:2051}}))},37885:function(Ot,Te,i){"use strict";i.r(Te);var w=i(16830),r=i(38939),O=i(800),V=i(63580),D=i(23193),$=i(89872);$.B.as(D.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},O.wk),{properties:{"editor.experimental.useCustomCodeActionMenu":{type:"boolean",tags:["experimental"],scope:5,description:V.NC("codeActionWidget","Enabling this adjusts how the code action menu is rendered."),default:!1}}})),(0,w._K)(r.pY.ID,r.pY),(0,w.Qr)(r.E7),(0,w.Qr)(r.Eb),(0,w.Qr)(r.UG),(0,w.Qr)(r.VQ),(0,w.Qr)(r.o$),(0,w.Qr)(r.S5),(0,w.Qr)(r.Hv),(0,w.fK)(new r.dW)},76014:function(Ot,Te,i){"use strict";i.d(Te,{EU:function(){return O},Yl:function(){return V},aQ:function(){return r},wZ:function(){return $},yN:function(){return w}});class w{constructor(P){this.value=P}equals(P){return this.value===P.value}contains(P){return this.equals(P)||this.value===""||P.value.startsWith(this.value+w.sep)}intersects(P){return this.contains(P)||P.contains(this)}append(P){return new w(this.value+w.sep+P)}}w.sep=".",w.None=new w("@@none@@"),w.Empty=new w(""),w.QuickFix=new w("quickfix"),w.Refactor=new w("refactor"),w.Source=new w("source"),w.SourceOrganizeImports=w.Source.append("organizeImports"),w.SourceFixAll=w.Source.append("fixAll");var r;(function(M){M.Refactor="refactor",M.RefactorPreview="refactor preview",M.Lightbulb="lightbulb",M.Default="other (default)",M.SourceAction="source action",M.QuickFix="quick fix action",M.FixAll="fix all",M.OrganizeImports="organize imports",M.AutoFix="auto fix",M.QuickFixHover="quick fix hover window",M.OnSave="save participants",M.ProblemsView="problems view"})(r||(r={}));function O(M,P){return!(M.include&&!M.include.intersects(P)||M.excludes&&M.excludes.some(A=>D(P,A,M.include))||!M.includeSourceActions&&w.Source.contains(P))}function V(M,P){const A=P.kind?new w(P.kind):void 0;return!(M.include&&(!A||!M.include.contains(A))||M.excludes&&A&&M.excludes.some(L=>D(A,L,M.include))||!M.includeSourceActions&&A&&w.Source.contains(A)||M.onlyIncludePreferredActions&&!P.isPreferred)}function D(M,P,A){return!(!P.contains(M)||A&&P.contains(A))}class ${constructor(P,A,L){this.kind=P,this.apply=A,this.preferred=L}static fromUser(P,A){return!P||typeof P!="object"?new $(A.kind,A.apply,!1):new $($.getKindFromUser(P,A.kind),$.getApplyFromUser(P,A.apply),$.getPreferredUser(P))}static getApplyFromUser(P,A){switch(typeof P.apply=="string"?P.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return A}}static getKindFromUser(P,A){return typeof P.kind=="string"?new w(P.kind):A}static getPreferredUser(P){return typeof P.preferred=="boolean"?P.preferred:!1}}},55403:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{CodeLensContribution:function(){return pe}});var w=i(65321),r=i(15393),O=i(17301),V=i(89954),D=i(9917),$=i(43407),M=i(16830),P=i(64141),A=i(29102),L=i(71050),c=i(98401),p=i(70666),l=i(73733),n=i(94565),a=i(71922),g=function(ee,se,ne,oe){function Se(Ee){return Ee instanceof ne?Ee:new ne(function(Me){Me(Ee)})}return new(ne||(ne=Promise))(function(Ee,Me){function ye(ve){try{ie(oe.next(ve))}catch(xe){Me(xe)}}function le(ve){try{ie(oe.throw(ve))}catch(xe){Me(xe)}}function ie(ve){ve.done?Ee(ve.value):Se(ve.value).then(ye,le)}ie((oe=oe.apply(ee,se||[])).next())})};class f{constructor(){this.lenses=[],this._disposables=new D.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(se,ne){this._disposables.add(se);for(const oe of se.lenses)this.lenses.push({symbol:oe,provider:ne})}}function u(ee,se,ne){return g(this,void 0,void 0,function*(){const oe=ee.ordered(se),Se=new Map,Ee=new f,Me=oe.map((ye,le)=>g(this,void 0,void 0,function*(){Se.set(ye,le);try{const ie=yield Promise.resolve(ye.provideCodeLenses(se,ne));ie&&Ee.add(ie,ye)}catch(ie){(0,O.Cp)(ie)}}));return yield Promise.all(Me),Ee.lenses=Ee.lenses.sort((ye,le)=>ye.symbol.range.startLineNumber<le.symbol.range.startLineNumber?-1:ye.symbol.range.startLineNumber>le.symbol.range.startLineNumber?1:Se.get(ye.provider)<Se.get(le.provider)?-1:Se.get(ye.provider)>Se.get(le.provider)?1:ye.symbol.range.startColumn<le.symbol.range.startColumn?-1:ye.symbol.range.startColumn>le.symbol.range.startColumn?1:0),Ee})}n.P0.registerCommand("_executeCodeLensProvider",function(ee,...se){let[ne,oe]=se;(0,c.p_)(p.o.isUri(ne)),(0,c.p_)(typeof oe=="number"||!oe);const{codeLensProvider:Se}=ee.get(a.p),Ee=ee.get(l.q).getModel(ne);if(!Ee)throw(0,O.b1)();const Me=[],ye=new D.SL;return u(Se,Ee,L.T.None).then(le=>{ye.add(le);const ie=[];for(const ve of le.lenses)oe==null||Boolean(ve.symbol.command)?Me.push(ve.symbol):oe-- >0&&ve.provider.resolveCodeLens&&ie.push(Promise.resolve(ve.provider.resolveCodeLens(Ee,ve.symbol,L.T.None)).then(xe=>Me.push(xe||ve.symbol)));return Promise.all(ie)}).then(()=>Me).finally(()=>{setTimeout(()=>ye.dispose(),100)})});var C=i(88289),y=i(43702),b=i(24314),_=i(65026),E=i(72065),I=i(26904),R=function(ee,se,ne,oe){var Se=arguments.length,Ee=Se<3?se:oe===null?oe=Object.getOwnPropertyDescriptor(se,ne):oe,Me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(ee,se,ne,oe);else for(var ye=ee.length-1;ye>=0;ye--)(Me=ee[ye])&&(Ee=(Se<3?Me(Ee):Se>3?Me(se,ne,Ee):Me(se,ne))||Ee);return Se>3&&Ee&&Object.defineProperty(se,ne,Ee),Ee},J=function(ee,se){return function(ne,oe){se(ne,oe,ee)}};const Q=(0,E.yh)("ICodeLensCache");class U{constructor(se,ne){this.lineCount=se,this.data=ne}}let K=class{constructor(se){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new y.z6(20,.75);const ne="codelens/cache";(0,r.To)(()=>se.remove(ne,1));const oe="codelens/cache2",Se=se.get(oe,1,"{}");this._deserialize(Se),(0,C.I)(se.onWillSaveState)(Ee=>{Ee.reason===I.fk.SHUTDOWN&&se.store(oe,this._serialize(),1,1)})}put(se,ne){const oe=ne.lenses.map(Me=>{var ye;return{range:Me.symbol.range,command:Me.symbol.command&&{id:"",title:(ye=Me.symbol.command)===null||ye===void 0?void 0:ye.title}}}),Se=new f;Se.add({lenses:oe,dispose:()=>{}},this._fakeProvider);const Ee=new U(se.getLineCount(),Se);this._cache.set(se.uri.toString(),Ee)}get(se){const ne=this._cache.get(se.uri.toString());return ne&&ne.lineCount===se.getLineCount()?ne.data:void 0}delete(se){this._cache.delete(se.uri.toString())}_serialize(){const se=Object.create(null);for(const[ne,oe]of this._cache){const Se=new Set;for(const Ee of oe.data.lenses)Se.add(Ee.symbol.range.startLineNumber);se[ne]={lineCount:oe.lineCount,lines:[...Se.values()]}}return JSON.stringify(se)}_deserialize(se){try{const ne=JSON.parse(se);for(const oe in ne){const Se=ne[oe],Ee=[];for(const ye of Se.lines)Ee.push({range:new b.e(ye,1,ye,11)});const Me=new f;Me.add({lenses:Ee,dispose(){}},this._fakeProvider),this._cache.set(oe,new U(Se.lineCount,Me))}}catch{}}};K=R([J(0,I.Uy)],K),(0,_.z)(Q,K);var H=i(56811),X=i(92035);class j{constructor(se,ne,oe){this.afterColumn=1073741824,this.afterLineNumber=se,this.heightInPx=ne,this._onHeight=oe,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(se){this._lastHeight===void 0?this._lastHeight=se:this._lastHeight!==se&&(this._lastHeight=se,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class x{constructor(se,ne,oe){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=se,this._id=`codelens.widget-${x._idPool++}`,this.updatePosition(oe),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${ne}`}withCommands(se,ne){this._commands.clear();const oe=[];let Se=!1;for(let Ee=0;Ee<se.length;Ee++){const Me=se[Ee];if(!!Me&&(Se=!0,Me.command)){const ye=(0,H.T)(Me.command.title.trim());Me.command.id?(oe.push(w.$("a",{id:String(Ee),title:Me.command.tooltip,role:"button"},...ye)),this._commands.set(String(Ee),Me.command)):oe.push(w.$("span",{title:Me.command.tooltip},...ye)),Ee+1<se.length&&oe.push(w.$("span",void 0,"\xA0|\xA0"))}}Se?(w.mc(this._domNode,...oe),this._isEmpty&&ne&&this._domNode.classList.add("fadein"),this._isEmpty=!1):w.mc(this._domNode,w.$("span",void 0,"no commands"))}getCommand(se){return se.parentElement===this._domNode?this._commands.get(se.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(se){const ne=this._editor.getModel().getLineFirstNonWhitespaceColumn(se);this._widgetPosition={position:{lineNumber:se,column:ne},preference:[1]}}getPosition(){return this._widgetPosition||null}}x._idPool=0;class Z{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(se,ne){this._addDecorations.push(se),this._addDecorationsCallbacks.push(ne)}removeDecoration(se){this._removeDecorations.push(se)}commit(se){const ne=se.deltaDecorations(this._removeDecorations,this._addDecorations);for(let oe=0,Se=ne.length;oe<Se;oe++)this._addDecorationsCallbacks[oe](ne[oe])}}class T{constructor(se,ne,oe,Se,Ee,Me,ye){this._isDisposed=!1,this._editor=ne,this._className=oe,this._data=se,this._decorationIds=[];let le;const ie=[];this._data.forEach((ve,xe)=>{ve.symbol.command&&ie.push(ve.symbol),Se.addDecoration({range:ve.symbol.range,options:X.qx.EMPTY},Ye=>this._decorationIds[xe]=Ye),le?le=b.e.plusRange(le,ve.symbol.range):le=b.e.lift(ve.symbol.range)}),this._viewZone=new j(le.startLineNumber-1,Me,ye),this._viewZoneId=Ee.addZone(this._viewZone),ie.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(ie,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new x(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(se,ne){this._decorationIds.forEach(se.removeDecoration,se),this._decorationIds=[],ne==null||ne.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((se,ne)=>{const oe=this._editor.getModel().getDecorationRange(se),Se=this._data[ne].symbol;return!!(oe&&b.e.isEmpty(Se.range)===oe.isEmpty())})}updateCodeLensSymbols(se,ne){this._decorationIds.forEach(ne.removeDecoration,ne),this._decorationIds=[],this._data=se,this._data.forEach((oe,Se)=>{ne.addDecoration({range:oe.symbol.range,options:X.qx.EMPTY},Ee=>this._decorationIds[Se]=Ee)})}updateHeight(se,ne){this._viewZone.heightInPx=se,ne.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(se){if(!this._viewZone.isVisible())return null;for(let ne=0;ne<this._decorationIds.length;ne++){const oe=se.getDecorationRange(this._decorationIds[ne]);oe&&(this._data[ne].symbol.range=oe)}return this._data}updateCommands(se){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(se,!0);for(let ne=0;ne<this._data.length;ne++){const oe=se[ne];if(oe){const{symbol:Se}=this._data[ne];Se.command=oe.command||Se.command}}}getCommand(se){var ne;return(ne=this._contentWidget)===null||ne===void 0?void 0:ne.getCommand(se)}getLineNumber(){const se=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return se?se.startLineNumber:-1}update(se){if(this.isValid()){const ne=this._editor.getModel().getDecorationRange(this._decorationIds[0]);ne&&(this._viewZone.afterLineNumber=ne.startLineNumber-1,se.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(ne.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var z=i(63580),G=i(59422),re=i(41157),S=i(88191),he=function(ee,se,ne,oe){var Se=arguments.length,Ee=Se<3?se:oe===null?oe=Object.getOwnPropertyDescriptor(se,ne):oe,Me;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(ee,se,ne,oe);else for(var ye=ee.length-1;ye>=0;ye--)(Me=ee[ye])&&(Ee=(Se<3?Me(Ee):Se>3?Me(se,ne,Ee):Me(se,ne))||Ee);return Se>3&&Ee&&Object.defineProperty(se,ne,Ee),Ee},Ce=function(ee,se){return function(ne,oe){se(ne,oe,ee)}},ge=function(ee,se,ne,oe){function Se(Ee){return Ee instanceof ne?Ee:new ne(function(Me){Me(Ee)})}return new(ne||(ne=Promise))(function(Ee,Me){function ye(ve){try{ie(oe.next(ve))}catch(xe){Me(xe)}}function le(ve){try{ie(oe.throw(ve))}catch(xe){Me(xe)}}function ie(ve){ve.done?Ee(ve.value):Se(ve.value).then(ye,le)}ie((oe=oe.apply(ee,se||[])).next())})};let pe=class{constructor(se,ne,oe,Se,Ee,Me){this._editor=se,this._languageFeaturesService=ne,this._commandService=Se,this._notificationService=Ee,this._codeLensCache=Me,this._disposables=new D.SL,this._localToDispose=new D.SL,this._lenses=[],this._oldCodeLensModels=new D.SL,this._provideCodeLensDebounce=oe.for(ne.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=oe.for(ne.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new r.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(ye=>{(ye.hasChanged(46)||ye.hasChanged(16)||ye.hasChanged(15))&&this._updateLensStyle(),ye.hasChanged(14)&&this._onModelChange()})),this._disposables.add(ne.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,V.vp)(this._editor.getId()).toString(16),this._styleElement=w.dS(w.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var se;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(se=this._currentCodeLensModel)===null||se===void 0||se.dispose(),this._styleElement.remove()}_getLayoutInfo(){const se=Math.max(1.3,this._editor.getOption(61)/this._editor.getOption(48));let ne=this._editor.getOption(16);return(!ne||ne<5)&&(ne=this._editor.getOption(48)*.9|0),{fontSize:ne,codeLensHeight:ne*se|0}}_updateLensStyle(){const{codeLensHeight:se,fontSize:ne}=this._getLayoutInfo(),oe=this._editor.getOption(15),Se=this._editor.getOption(46),Ee=`--codelens-font-family${this._styleClassName}`,Me=`--codelens-font-features${this._styleClassName}`;let ye=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${se}px; font-size: ${ne}px; padding-right: ${Math.round(ne*.5)}px; font-feature-settings: var(${Me}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${se}px; font-size: ${ne}px; }
		`;oe&&(ye+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${Ee}), ${P.hL.fontFamily}}`),this._styleElement.textContent=ye,this._editor.getContainerDomNode().style.setProperty(Ee,oe??"inherit"),this._editor.getContainerDomNode().style.setProperty(Me,Se.fontFeatureSettings),this._editor.changeViewZones(le=>{for(const ie of this._lenses)ie.updateHeight(se,le)})}_localDispose(){var se,ne,oe;(se=this._getCodeLensModelPromise)===null||se===void 0||se.cancel(),this._getCodeLensModelPromise=void 0,(ne=this._resolveCodeLensesPromise)===null||ne===void 0||ne.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(oe=this._currentCodeLensModel)===null||oe===void 0||oe.dispose()}_onModelChange(){this._localDispose();const se=this._editor.getModel();if(!se||!this._editor.getOption(14))return;const ne=this._codeLensCache.get(se);if(ne&&this._renderCodeLensSymbols(ne),!this._languageFeaturesService.codeLensProvider.has(se)){ne&&this._localToDispose.add((0,r.Vg)(()=>{const Se=this._codeLensCache.get(se);ne===Se&&(this._codeLensCache.delete(se),this._onModelChange())},30*1e3));return}for(const Se of this._languageFeaturesService.codeLensProvider.all(se))if(typeof Se.onDidChange=="function"){const Ee=Se.onDidChange(()=>oe.schedule());this._localToDispose.add(Ee)}const oe=new r.pY(()=>{var Se;const Ee=Date.now();(Se=this._getCodeLensModelPromise)===null||Se===void 0||Se.cancel(),this._getCodeLensModelPromise=(0,r.PG)(Me=>u(this._languageFeaturesService.codeLensProvider,se,Me)),this._getCodeLensModelPromise.then(Me=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=Me,this._codeLensCache.put(se,Me);const ye=this._provideCodeLensDebounce.update(se,Date.now()-Ee);oe.delay=ye,this._renderCodeLensSymbols(Me),this._resolveCodeLensesInViewportSoon()},O.dL)},this._provideCodeLensDebounce.get(se));this._localToDispose.add(oe),this._localToDispose.add((0,D.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(Se=>{this._editor.changeViewZones(Ee=>{const Me=[];let ye=-1;this._lenses.forEach(ie=>{!ie.isValid()||ye===ie.getLineNumber()?Me.push(ie):(ie.update(Ee),ye=ie.getLineNumber())});const le=new Z;Me.forEach(ie=>{ie.dispose(le,Ee),this._lenses.splice(this._lenses.indexOf(ie),1)}),le.commit(Se)})}),oe.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{oe.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(Se=>{Se.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,D.OF)(()=>{if(this._editor.getModel()){const Se=$.Z.capture(this._editor);this._editor.changeDecorations(Ee=>{this._editor.changeViewZones(Me=>{this._disposeAllLenses(Ee,Me)})}),Se.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(Se=>{if(Se.target.type!==9)return;let Ee=Se.target.element;if((Ee==null?void 0:Ee.tagName)==="SPAN"&&(Ee=Ee.parentElement),(Ee==null?void 0:Ee.tagName)==="A")for(const Me of this._lenses){const ye=Me.getCommand(Ee);if(ye){this._commandService.executeCommand(ye.id,...ye.arguments||[]).catch(le=>this._notificationService.error(le));break}}})),oe.schedule()}_disposeAllLenses(se,ne){const oe=new Z;for(const Se of this._lenses)Se.dispose(oe,ne);se&&oe.commit(se),this._lenses.length=0}_renderCodeLensSymbols(se){if(!this._editor.hasModel())return;const ne=this._editor.getModel().getLineCount(),oe=[];let Se;for(const ye of se.lenses){const le=ye.symbol.range.startLineNumber;le<1||le>ne||(Se&&Se[Se.length-1].symbol.range.startLineNumber===le?Se.push(ye):(Se=[ye],oe.push(Se)))}const Ee=$.Z.capture(this._editor),Me=this._getLayoutInfo();this._editor.changeDecorations(ye=>{this._editor.changeViewZones(le=>{const ie=new Z;let ve=0,xe=0;for(;xe<oe.length&&ve<this._lenses.length;){const Ye=oe[xe][0].symbol.range.startLineNumber,at=this._lenses[ve].getLineNumber();at<Ye?(this._lenses[ve].dispose(ie,le),this._lenses.splice(ve,1)):at===Ye?(this._lenses[ve].updateCodeLensSymbols(oe[xe],ie),xe++,ve++):(this._lenses.splice(ve,0,new T(oe[xe],this._editor,this._styleClassName,ie,le,Me.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),ve++,xe++)}for(;ve<this._lenses.length;)this._lenses[ve].dispose(ie,le),this._lenses.splice(ve,1);for(;xe<oe.length;)this._lenses.push(new T(oe[xe],this._editor,this._styleClassName,ie,le,Me.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),xe++;ie.commit(ye)})}),Ee.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var se;(se=this._resolveCodeLensesPromise)===null||se===void 0||se.cancel(),this._resolveCodeLensesPromise=void 0;const ne=this._editor.getModel();if(!ne)return;const oe=[],Se=[];if(this._lenses.forEach(ye=>{const le=ye.computeIfNecessary(ne);le&&(oe.push(le),Se.push(ye))}),oe.length===0)return;const Ee=Date.now(),Me=(0,r.PG)(ye=>{const le=oe.map((ie,ve)=>{const xe=new Array(ie.length),Ye=ie.map((at,qe)=>!at.symbol.command&&typeof at.provider.resolveCodeLens=="function"?Promise.resolve(at.provider.resolveCodeLens(ne,at.symbol,ye)).then(Re=>{xe[qe]=Re},O.Cp):(xe[qe]=at.symbol,Promise.resolve(void 0)));return Promise.all(Ye).then(()=>{!ye.isCancellationRequested&&!Se[ve].isDisposed()&&Se[ve].updateCommands(xe)})});return Promise.all(le)});this._resolveCodeLensesPromise=Me,this._resolveCodeLensesPromise.then(()=>{const ye=this._resolveCodeLensesDebounce.update(ne,Date.now()-Ee);this._resolveCodeLensesScheduler.delay=ye,this._currentCodeLensModel&&this._codeLensCache.put(ne,this._currentCodeLensModel),this._oldCodeLensModels.clear(),Me===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},ye=>{(0,O.dL)(ye),Me===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};pe.ID="css.editor.codeLens",pe=he([Ce(1,a.p),Ce(2,S.A),Ce(3,n.Hy),Ce(4,G.lT),Ce(5,Q)],pe),(0,M._K)(pe.ID,pe),(0,M.Qr)(class extends M.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:A.u.hasCodeLensProvider,label:(0,z.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(se,ne){return ge(this,void 0,void 0,function*(){if(!ne.hasModel())return;const oe=se.get(re.eJ),Se=se.get(n.Hy),Ee=se.get(G.lT),Me=ne.getSelection().positionLineNumber,ye=ne.getContribution(pe.ID);if(!ye)return;const le=ye.getModel();if(!le)return;const ie=[];for(const xe of le.lenses)xe.symbol.command&&xe.symbol.range.startLineNumber===Me&&ie.push({label:xe.symbol.command.title,command:xe.symbol.command});if(ie.length===0)return;const ve=yield oe.pick(ie,{canPickMany:!1});if(!!ve){if(le.isDisposed)return yield Se.executeCommand(this.id);try{yield Se.executeCommand(ve.command.id,...ve.command.arguments||[])}catch(xe){Ee.error(xe)}}})}})},36295:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{ColorContribution:function(){return Me}});var w=i(9917),r=i(16830),O=i(24314),V=i(15393),D=i(41264),$=i(17301),M=i(84013),P=i(97295),A=i(29994),L=i(92035),c=i(88191),p=i(71922),l=i(71050),n=i(70666),a=i(73733),g=i(94565);function f(ye,le,ie){const ve=[],Ye=ye.ordered(le).reverse().map(at=>Promise.resolve(at.provideDocumentColors(le,ie)).then(qe=>{if(Array.isArray(qe))for(const Re of qe)ve.push({colorInfo:Re,provider:at})}));return Promise.all(Ye).then(()=>ve)}function u(ye,le,ie,ve){return Promise.resolve(ie.provideColorPresentations(ye,le,ve))}g.P0.registerCommand("_executeDocumentColorProvider",function(ye,...le){const[ie]=le;if(!(ie instanceof n.o))throw(0,$.b1)();const{colorProvider:ve}=ye.get(p.p),xe=ye.get(a.q).getModel(ie);if(!xe)throw(0,$.b1)();const Ye=[],qe=ve.ordered(xe).reverse().map(Re=>Promise.resolve(Re.provideDocumentColors(xe,l.T.None)).then(Je=>{if(Array.isArray(Je))for(const st of Je)Ye.push({range:st.range,color:[st.color.red,st.color.green,st.color.blue,st.color.alpha]})}));return Promise.all(qe).then(()=>Ye)}),g.P0.registerCommand("_executeColorPresentationProvider",function(ye,...le){const[ie,ve]=le,{uri:xe,range:Ye}=ve;if(!(xe instanceof n.o)||!Array.isArray(ie)||ie.length!==4||!O.e.isIRange(Ye))throw(0,$.b1)();const[at,qe,Re,Je]=ie,{colorProvider:st}=ye.get(p.p),et=ye.get(a.q).getModel(xe);if(!et)throw(0,$.b1)();const we={range:Ye,color:{red:at,green:qe,blue:Re,alpha:Je}},Ne=[],Pe=st.ordered(et).reverse().map(He=>Promise.resolve(He.provideColorPresentations(et,we,l.T.None)).then($e=>{Array.isArray($e)&&Ne.push(...$e)}));return Promise.all(Pe).then(()=>Ne)});var C=i(33108),y=function(ye,le,ie,ve){var xe=arguments.length,Ye=xe<3?le:ve===null?ve=Object.getOwnPropertyDescriptor(le,ie):ve,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ye=Reflect.decorate(ye,le,ie,ve);else for(var qe=ye.length-1;qe>=0;qe--)(at=ye[qe])&&(Ye=(xe<3?at(Ye):xe>3?at(le,ie,Ye):at(le,ie))||Ye);return xe>3&&Ye&&Object.defineProperty(le,ie,Ye),Ye},b=function(ye,le){return function(ie,ve){le(ie,ve,ye)}},_=function(ye,le,ie,ve){function xe(Ye){return Ye instanceof ie?Ye:new ie(function(at){at(Ye)})}return new(ie||(ie=Promise))(function(Ye,at){function qe(st){try{Je(ve.next(st))}catch(et){at(et)}}function Re(st){try{Je(ve.throw(st))}catch(et){at(et)}}function Je(st){st.done?Ye(st.value):xe(st.value).then(qe,Re)}Je((ve=ve.apply(ye,le||[])).next())})};const E=Object.create({}),I=500;let R=class Oc extends w.JT{constructor(le,ie,ve,xe){super(),this._editor=le,this._configurationService=ie,this._languageFeaturesService=ve,this._localToDispose=this._register(new w.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new A.t7(this._editor),this._colorDecorationClassRefs=this._register(new w.SL),this._debounceInformation=xe.for(ve.colorProvider,"Document Colors",{min:Oc.RECOMPUTE_TIME}),this._register(le.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(le.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(ve.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(le.onDidChangeConfiguration(()=>{const Ye=this._isEnabled;this._isEnabled=this.isEnabled(),Ye!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const le=this._editor.getModel();if(!le)return!1;const ie=le.getLanguageId(),ve=this._configurationService.getValue(ie);if(ve&&typeof ve=="object"){const xe=ve.colorDecorators;if(xe&&xe.enable!==void 0&&!xe.enable)return xe.enable}return this._editor.getOption(17)}static get(le){return le.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const le=this._editor.getModel();!le||!this._languageFeaturesService.colorProvider.has(le)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new V._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(le)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,V.PG)(le=>_(this,void 0,void 0,function*(){const ie=this._editor.getModel();if(!ie)return Promise.resolve([]);const ve=new M.G(!1),xe=yield f(this._languageFeaturesService.colorProvider,ie,le);return this._debounceInformation.update(ie,ve.elapsed()),xe})),this._computePromise.then(le=>{this.updateDecorations(le),this.updateColorDecorators(le),this._computePromise=null},$.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(le){const ie=le.map(ve=>({range:{startLineNumber:ve.colorInfo.range.startLineNumber,startColumn:ve.colorInfo.range.startColumn,endLineNumber:ve.colorInfo.range.endLineNumber,endColumn:ve.colorInfo.range.endColumn},options:L.qx.EMPTY}));this._editor.changeDecorations(ve=>{this._decorationsIds=ve.deltaDecorations(this._decorationsIds,ie),this._colorDatas=new Map,this._decorationsIds.forEach((xe,Ye)=>this._colorDatas.set(xe,le[Ye]))})}updateColorDecorators(le){this._colorDecorationClassRefs.clear();const ie=[];for(let ve=0;ve<le.length&&ie.length<I;ve++){const{red:xe,green:Ye,blue:at,alpha:qe}=le[ve].colorInfo.color,Re=new D.VS(Math.round(xe*255),Math.round(Ye*255),Math.round(at*255),qe),Je=`rgba(${Re.r}, ${Re.g}, ${Re.b}, ${Re.a})`,st=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:Je}));ie.push({range:{startLineNumber:le[ve].colorInfo.range.startLineNumber,startColumn:le[ve].colorInfo.range.startColumn,endLineNumber:le[ve].colorInfo.range.endLineNumber,endColumn:le[ve].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:P.B4,inlineClassName:`${st.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:E}}})}this._colorDecoratorIds.set(ie)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(le){const ie=this._editor.getModel();if(!ie)return null;const ve=ie.getDecorationsInRange(O.e.fromPositions(le,le)).filter(xe=>this._colorDatas.has(xe.id));return ve.length===0?null:this._colorDatas.get(ve[0].id)}isColorDecoration(le){return this._colorDecoratorIds.has(le)}};R.ID="editor.contrib.colorDetector",R.RECOMPUTE_TIME=1e3,R=y([b(1,C.Ui),b(2,p.p),b(3,c.A)],R),(0,r._K)(R.ID,R);var J=i(4669);class Q{constructor(le,ie,ve){this.presentationIndex=ve,this._onColorFlushed=new J.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new J.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new J.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=le,this._color=le,this._colorPresentations=ie}get color(){return this._color}set color(le){this._color.equals(le)||(this._color=le,this._onDidChangeColor.fire(le))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(le){this._colorPresentations=le,this.presentationIndex>le.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(le,ie){for(let ve=0;ve<this.colorPresentations.length;ve++)if(ie.toLowerCase()===this.colorPresentations[ve].label){this.presentationIndex=ve,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var U=i(30747),K=i(65321),H=i(93911),X=i(93794),j=i(63580),x=i(73910),Z=i(97781);const T=K.$;class z extends w.JT{constructor(le,ie,ve){super(),this.model=ie,this.domNode=T(".colorpicker-header"),K.R3(le,this.domNode),this.pickedColorNode=K.R3(this.domNode,T(".picked-color"));const xe=(0,j.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",xe);const Ye=K.R3(this.domNode,T(".original-color"));Ye.style.backgroundColor=D.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=ve.getColorTheme().getColor(x.yJx)||D.Il.white,this._register((0,Z.Ic)((at,qe)=>{this.backgroundColor=at.getColor(x.yJx)||D.Il.white})),this._register(K.nm(this.pickedColorNode,K.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(K.nm(Ye,K.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(ie.onDidChangeColor(this.onDidChangeColor,this)),this._register(ie.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=D.Il.Format.CSS.format(ie.color)||"",this.pickedColorNode.classList.toggle("light",ie.color.rgba.a<.5?this.backgroundColor.isLighter():ie.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(le){this.pickedColorNode.style.backgroundColor=D.Il.Format.CSS.format(le)||"",this.pickedColorNode.classList.toggle("light",le.rgba.a<.5?this.backgroundColor.isLighter():le.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(T(".codicon.codicon-color-mode"))}}class G extends w.JT{constructor(le,ie,ve){super(),this.model=ie,this.pixelRatio=ve,this.domNode=T(".colorpicker-body"),K.R3(le,this.domNode),this.saturationBox=new re(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new he(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new Ce(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:le,v:ie}){const ve=this.model.color.hsva;this.model.color=new D.Il(new D.tx(ve.h,le,ie,ve.a))}onDidOpacityChange(le){const ie=this.model.color.hsva;this.model.color=new D.Il(new D.tx(ie.h,ie.s,ie.v,le))}onDidHueChange(le){const ie=this.model.color.hsva,ve=(1-le)*360;this.model.color=new D.Il(new D.tx(ve===360?0:ve,ie.s,ie.v,ie.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class re extends w.JT{constructor(le,ie,ve){super(),this.model=ie,this.pixelRatio=ve,this._onDidChange=new J.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new J.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=T(".saturation-wrap"),K.R3(le,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",K.R3(this.domNode,this.canvas),this.selection=T(".saturation-selection"),K.R3(this.domNode,this.selection),this.layout(),this._register(K.nm(this.domNode,K.tw.POINTER_DOWN,xe=>this.onPointerDown(xe))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(le){if(!le.target||!(le.target instanceof Element))return;this.monitor=this._register(new H.C);const ie=K.i(this.domNode);le.target!==this.selection&&this.onDidChangePosition(le.offsetX,le.offsetY),this.monitor.startMonitoring(le.target,le.pointerId,le.buttons,xe=>this.onDidChangePosition(xe.pageX-ie.left,xe.pageY-ie.top),()=>null);const ve=K.nm(document,K.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),ve.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(le,ie){const ve=Math.max(0,Math.min(1,le/this.width)),xe=Math.max(0,Math.min(1,1-ie/this.height));this.paintSelection(ve,xe),this._onDidChange.fire({s:ve,v:xe})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const le=this.model.color.hsva;this.paintSelection(le.s,le.v)}paint(){const le=this.model.color.hsva,ie=new D.Il(new D.tx(le.h,1,1,1)),ve=this.canvas.getContext("2d"),xe=ve.createLinearGradient(0,0,this.canvas.width,0);xe.addColorStop(0,"rgba(255, 255, 255, 1)"),xe.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),xe.addColorStop(1,"rgba(255, 255, 255, 0)");const Ye=ve.createLinearGradient(0,0,0,this.canvas.height);Ye.addColorStop(0,"rgba(0, 0, 0, 0)"),Ye.addColorStop(1,"rgba(0, 0, 0, 1)"),ve.rect(0,0,this.canvas.width,this.canvas.height),ve.fillStyle=D.Il.Format.CSS.format(ie),ve.fill(),ve.fillStyle=xe,ve.fill(),ve.fillStyle=Ye,ve.fill()}paintSelection(le,ie){this.selection.style.left=`${le*this.width}px`,this.selection.style.top=`${this.height-ie*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class S extends w.JT{constructor(le,ie){super(),this.model=ie,this._onDidChange=new J.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new J.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=K.R3(le,T(".strip")),this.overlay=K.R3(this.domNode,T(".overlay")),this.slider=K.R3(this.domNode,T(".slider")),this.slider.style.top="0px",this._register(K.nm(this.domNode,K.tw.POINTER_DOWN,ve=>this.onPointerDown(ve))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const le=this.getValue(this.model.color);this.updateSliderPosition(le)}onPointerDown(le){if(!le.target||!(le.target instanceof Element))return;const ie=this._register(new H.C),ve=K.i(this.domNode);this.domNode.classList.add("grabbing"),le.target!==this.slider&&this.onDidChangeTop(le.offsetY),ie.startMonitoring(le.target,le.pointerId,le.buttons,Ye=>this.onDidChangeTop(Ye.pageY-ve.top),()=>null);const xe=K.nm(document,K.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),xe.dispose(),ie.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(le){const ie=Math.max(0,Math.min(1,1-le/this.height));this.updateSliderPosition(ie),this._onDidChange.fire(ie)}updateSliderPosition(le){this.slider.style.top=`${(1-le)*this.height}px`}}class he extends S{constructor(le,ie){super(le,ie),this.domNode.classList.add("opacity-strip"),this._register(ie.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(le){const{r:ie,g:ve,b:xe}=le.rgba,Ye=new D.Il(new D.VS(ie,ve,xe,1)),at=new D.Il(new D.VS(ie,ve,xe,0));this.overlay.style.background=`linear-gradient(to bottom, ${Ye} 0%, ${at} 100%)`}getValue(le){return le.hsva.a}}class Ce extends S{constructor(le,ie){super(le,ie),this.domNode.classList.add("hue-strip")}getValue(le){return 1-le.hsva.h/360}}class ge extends X.${constructor(le,ie,ve,xe){super(),this.model=ie,this.pixelRatio=ve,this._register(U.PixelRatio.onDidChange(()=>this.layout()));const Ye=T(".colorpicker-widget");le.appendChild(Ye);const at=new z(Ye,this.model,xe);this.body=new G(Ye,this.model,this.pixelRatio),this._register(at),this._register(this.body)}layout(){this.body.layout()}}var pe=function(ye,le,ie,ve){var xe=arguments.length,Ye=xe<3?le:ve===null?ve=Object.getOwnPropertyDescriptor(le,ie):ve,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ye=Reflect.decorate(ye,le,ie,ve);else for(var qe=ye.length-1;qe>=0;qe--)(at=ye[qe])&&(Ye=(xe<3?at(Ye):xe>3?at(le,ie,Ye):at(le,ie))||Ye);return xe>3&&Ye&&Object.defineProperty(le,ie,Ye),Ye},ee=function(ye,le){return function(ie,ve){le(ie,ve,ye)}},se=function(ye,le,ie,ve){function xe(Ye){return Ye instanceof ie?Ye:new ie(function(at){at(Ye)})}return new(ie||(ie=Promise))(function(Ye,at){function qe(st){try{Je(ve.next(st))}catch(et){at(et)}}function Re(st){try{Je(ve.throw(st))}catch(et){at(et)}}function Je(st){st.done?Ye(st.value):xe(st.value).then(qe,Re)}Je((ve=ve.apply(ye,le||[])).next())})};class ne{constructor(le,ie,ve,xe){this.owner=le,this.range=ie,this.model=ve,this.provider=xe,this.forceShowAtRange=!0}isValidForHoverAnchor(le){return le.type===1&&this.range.startColumn<=le.range.startColumn&&this.range.endColumn>=le.range.endColumn}}let oe=class{constructor(le,ie){this._editor=le,this._themeService=ie,this.hoverOrdinal=1}computeSync(le,ie){return[]}computeAsync(le,ie,ve){return V.Aq.fromPromise(this._computeAsync(le,ie,ve))}_computeAsync(le,ie,ve){return se(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const xe=R.get(this._editor);if(!xe)return[];for(const Ye of ie){if(!xe.isColorDecoration(Ye))continue;const at=xe.getColorData(Ye.range.getStartPosition());if(at)return[yield this._createColorHover(this._editor.getModel(),at.colorInfo,at.provider)]}return[]})}_createColorHover(le,ie,ve){return se(this,void 0,void 0,function*(){const xe=le.getValueInRange(ie.range),{red:Ye,green:at,blue:qe,alpha:Re}=ie.color,Je=new D.VS(Math.round(Ye*255),Math.round(at*255),Math.round(qe*255),Re),st=new D.Il(Je),et=yield u(le,ie,ve,l.T.None),we=new Q(st,[],0);return we.colorPresentations=et||[],we.guessColorPresentation(st,xe),new ne(this,O.e.lift(ie.range),we,ve)})}renderHoverParts(le,ie){if(ie.length===0||!this._editor.hasModel())return w.JT.None;const ve=new w.SL,xe=ie[0],Ye=this._editor.getModel(),at=xe.model,qe=ve.add(new ge(le.fragment,at,this._editor.getOption(131),this._themeService));le.setColorPicker(qe);let Re=new O.e(xe.range.startLineNumber,xe.range.startColumn,xe.range.endLineNumber,xe.range.endColumn);const Je=()=>{let et,we;if(at.presentation.textEdit){et=[at.presentation.textEdit],we=new O.e(at.presentation.textEdit.range.startLineNumber,at.presentation.textEdit.range.startColumn,at.presentation.textEdit.range.endLineNumber,at.presentation.textEdit.range.endColumn);const Ne=this._editor.getModel()._setTrackedRange(null,we,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",et),we=this._editor.getModel()._getTrackedRange(Ne)||we}else et=[{range:Re,text:at.presentation.label,forceMoveMarkers:!1}],we=Re.setEndPosition(Re.endLineNumber,Re.startColumn+at.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",et);at.presentation.additionalTextEdits&&(et=[...at.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",et),le.hide()),this._editor.pushUndoStop(),Re=we},st=et=>u(Ye,{range:Re,color:{red:et.rgba.r/255,green:et.rgba.g/255,blue:et.rgba.b/255,alpha:et.rgba.a}},xe.provider,l.T.None).then(we=>{at.colorPresentations=we||[]});return ve.add(at.onColorFlushed(et=>{st(et).then(Je)})),ve.add(at.onDidChangeColor(st)),ve}};oe=pe([ee(1,Z.XE)],oe);var Se=i(34231),Ee=i(66520);class Me extends w.JT{constructor(le){super(),this._editor=le,this._register(le.onMouseDown(ie=>this.onMouseDown(ie)))}dispose(){super.dispose()}onMouseDown(le){const ie=le.target;if(ie.type!==6||!ie.detail.injectedText||ie.detail.injectedText.options.attachedData!==E||!ie.range)return;const ve=this._editor.getContribution(Se.ModesHoverController.ID);if(!!ve&&!ve.isColorPickerVisible()){const xe=new O.e(ie.range.startLineNumber,ie.range.startColumn+1,ie.range.endLineNumber,ie.range.endColumn+1);ve.showContentHover(xe,1,!1)}}}Me.ID="editor.contrib.colorContribution",(0,r._K)(Me.ID,Me),Ee.Ae.register(oe)},23365:function(Ot,Te,i){"use strict";i.r(Te);var w=i(22258),r=i(16830),O=i(24314),V=i(29102),D=i(51381),$=i(69386),M=i(50187),P=i(3860);class A{constructor(y,b,_){this.languageConfigurationService=_,this._selection=y,this._insertSpace=b,this._usedEndToken=null}static _haystackHasNeedleAtOffset(y,b,_){if(_<0)return!1;const E=b.length,I=y.length;if(_+E>I)return!1;for(let R=0;R<E;R++){const J=y.charCodeAt(_+R),Q=b.charCodeAt(R);if(J!==Q&&!(J>=65&&J<=90&&J+32===Q)&&!(Q>=65&&Q<=90&&Q+32===J))return!1}return!0}_createOperationsForBlockComment(y,b,_,E,I,R){const J=y.startLineNumber,Q=y.startColumn,U=y.endLineNumber,K=y.endColumn,H=I.getLineContent(J),X=I.getLineContent(U);let j=H.lastIndexOf(b,Q-1+b.length),x=X.indexOf(_,K-1-_.length);if(j!==-1&&x!==-1)if(J===U)H.substring(j+b.length,x).indexOf(_)>=0&&(j=-1,x=-1);else{const T=H.substring(j+b.length),z=X.substring(0,x);(T.indexOf(_)>=0||z.indexOf(_)>=0)&&(j=-1,x=-1)}let Z;j!==-1&&x!==-1?(E&&j+b.length<H.length&&H.charCodeAt(j+b.length)===32&&(b=b+" "),E&&x>0&&X.charCodeAt(x-1)===32&&(_=" "+_,x-=1),Z=A._createRemoveBlockCommentOperations(new O.e(J,j+b.length+1,U,x+1),b,_)):(Z=A._createAddBlockCommentOperations(y,b,_,this._insertSpace),this._usedEndToken=Z.length===1?_:null);for(const T of Z)R.addTrackedEditOperation(T.range,T.text)}static _createRemoveBlockCommentOperations(y,b,_){const E=[];return O.e.isEmpty(y)?E.push($.h.delete(new O.e(y.startLineNumber,y.startColumn-b.length,y.endLineNumber,y.endColumn+_.length))):(E.push($.h.delete(new O.e(y.startLineNumber,y.startColumn-b.length,y.startLineNumber,y.startColumn))),E.push($.h.delete(new O.e(y.endLineNumber,y.endColumn,y.endLineNumber,y.endColumn+_.length)))),E}static _createAddBlockCommentOperations(y,b,_,E){const I=[];return O.e.isEmpty(y)?I.push($.h.replace(new O.e(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn),b+"  "+_)):(I.push($.h.insert(new M.L(y.startLineNumber,y.startColumn),b+(E?" ":""))),I.push($.h.insert(new M.L(y.endLineNumber,y.endColumn),(E?" ":"")+_))),I}getEditOperations(y,b){const _=this._selection.startLineNumber,E=this._selection.startColumn;y.tokenization.tokenizeIfCheap(_);const I=y.getLanguageIdAtPosition(_,E),R=this.languageConfigurationService.getLanguageConfiguration(I).comments;!R||!R.blockCommentStartToken||!R.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,R.blockCommentStartToken,R.blockCommentEndToken,this._insertSpace,y,b)}computeCursorState(y,b){const _=b.getInverseEditOperations();if(_.length===2){const E=_[0],I=_[1];return new P.Y(E.range.endLineNumber,E.range.endColumn,I.range.startLineNumber,I.range.startColumn)}else{const E=_[0].range,I=this._usedEndToken?-this._usedEndToken.length-1:0;return new P.Y(E.endLineNumber,E.endColumn+I,E.endLineNumber,E.endColumn+I)}}}var L=i(97295);class c{constructor(y,b,_,E,I,R,J){this.languageConfigurationService=y,this._selection=b,this._tabSize=_,this._type=E,this._insertSpace=I,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=R,this._ignoreFirstLine=J||!1}static _gatherPreflightCommentStrings(y,b,_,E){y.tokenization.tokenizeIfCheap(b);const I=y.getLanguageIdAtPosition(b,1),R=E.getLanguageConfiguration(I).comments,J=R?R.lineCommentToken:null;if(!J)return null;const Q=[];for(let U=0,K=_-b+1;U<K;U++)Q[U]={ignore:!1,commentStr:J,commentStrOffset:0,commentStrLength:J.length};return Q}static _analyzeLines(y,b,_,E,I,R,J,Q){let U=!0,K;y===0?K=!0:y===1?K=!1:K=!0;for(let H=0,X=E.length;H<X;H++){const j=E[H],x=I+H;if(x===I&&J){j.ignore=!0;continue}const Z=_.getLineContent(x),T=L.LC(Z);if(T===-1){j.ignore=R,j.commentStrOffset=Z.length;continue}if(U=!1,j.ignore=!1,j.commentStrOffset=T,K&&!A._haystackHasNeedleAtOffset(Z,j.commentStr,T)&&(y===0?K=!1:y===1||(j.ignore=!0)),K&&b){const z=T+j.commentStrLength;z<Z.length&&Z.charCodeAt(z)===32&&(j.commentStrLength+=1)}}if(y===0&&U){K=!1;for(let H=0,X=E.length;H<X;H++)E[H].ignore=!1}return{supported:!0,shouldRemoveComments:K,lines:E}}static _gatherPreflightData(y,b,_,E,I,R,J,Q){const U=c._gatherPreflightCommentStrings(_,E,I,Q);return U===null?{supported:!1}:c._analyzeLines(y,b,_,U,E,R,J,Q)}_executeLineComments(y,b,_,E){let I;_.shouldRemoveComments?I=c._createRemoveLineCommentsOperations(_.lines,E.startLineNumber):(c._normalizeInsertionPoint(y,_.lines,E.startLineNumber,this._tabSize),I=this._createAddLineCommentsOperations(_.lines,E.startLineNumber));const R=new M.L(E.positionLineNumber,E.positionColumn);for(let J=0,Q=I.length;J<Q;J++)b.addEditOperation(I[J].range,I[J].text),O.e.isEmpty(I[J].range)&&O.e.getStartPosition(I[J].range).equals(R)&&y.getLineContent(R.lineNumber).length+1===R.column&&(this._deltaColumn=(I[J].text||"").length);this._selectionId=b.trackSelection(E)}_attemptRemoveBlockComment(y,b,_,E){let I=b.startLineNumber,R=b.endLineNumber;const J=E.length+Math.max(y.getLineFirstNonWhitespaceColumn(b.startLineNumber),b.startColumn);let Q=y.getLineContent(I).lastIndexOf(_,J-1),U=y.getLineContent(R).indexOf(E,b.endColumn-1-_.length);return Q!==-1&&U===-1&&(U=y.getLineContent(I).indexOf(E,Q+_.length),R=I),Q===-1&&U!==-1&&(Q=y.getLineContent(R).lastIndexOf(_,U),I=R),b.isEmpty()&&(Q===-1||U===-1)&&(Q=y.getLineContent(I).indexOf(_),Q!==-1&&(U=y.getLineContent(I).indexOf(E,Q+_.length))),Q!==-1&&y.getLineContent(I).charCodeAt(Q+_.length)===32&&(_+=" "),U!==-1&&y.getLineContent(R).charCodeAt(U-1)===32&&(E=" "+E,U-=1),Q!==-1&&U!==-1?A._createRemoveBlockCommentOperations(new O.e(I,Q+_.length+1,R,U+1),_,E):null}_executeBlockComment(y,b,_){y.tokenization.tokenizeIfCheap(_.startLineNumber);const E=y.getLanguageIdAtPosition(_.startLineNumber,1),I=this.languageConfigurationService.getLanguageConfiguration(E).comments;if(!I||!I.blockCommentStartToken||!I.blockCommentEndToken)return;const R=I.blockCommentStartToken,J=I.blockCommentEndToken;let Q=this._attemptRemoveBlockComment(y,_,R,J);if(!Q){if(_.isEmpty()){const U=y.getLineContent(_.startLineNumber);let K=L.LC(U);K===-1&&(K=U.length),Q=A._createAddBlockCommentOperations(new O.e(_.startLineNumber,K+1,_.startLineNumber,U.length+1),R,J,this._insertSpace)}else Q=A._createAddBlockCommentOperations(new O.e(_.startLineNumber,y.getLineFirstNonWhitespaceColumn(_.startLineNumber),_.endLineNumber,y.getLineMaxColumn(_.endLineNumber)),R,J,this._insertSpace);Q.length===1&&(this._deltaColumn=R.length+1)}this._selectionId=b.trackSelection(_);for(const U of Q)b.addEditOperation(U.range,U.text)}getEditOperations(y,b){let _=this._selection;if(this._moveEndPositionDown=!1,_.startLineNumber===_.endLineNumber&&this._ignoreFirstLine){b.addEditOperation(new O.e(_.startLineNumber,y.getLineMaxColumn(_.startLineNumber),_.startLineNumber+1,1),_.startLineNumber===y.getLineCount()?"":`
`),this._selectionId=b.trackSelection(_);return}_.startLineNumber<_.endLineNumber&&_.endColumn===1&&(this._moveEndPositionDown=!0,_=_.setEndPosition(_.endLineNumber-1,y.getLineMaxColumn(_.endLineNumber-1)));const E=c._gatherPreflightData(this._type,this._insertSpace,y,_.startLineNumber,_.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return E.supported?this._executeLineComments(y,b,E,_):this._executeBlockComment(y,b,_)}computeCursorState(y,b){let _=b.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(_=_.setEndPosition(_.endLineNumber+1,1)),new P.Y(_.selectionStartLineNumber,_.selectionStartColumn+this._deltaColumn,_.positionLineNumber,_.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(y,b){const _=[];for(let E=0,I=y.length;E<I;E++){const R=y[E];R.ignore||_.push($.h.delete(new O.e(b+E,R.commentStrOffset+1,b+E,R.commentStrOffset+R.commentStrLength+1)))}return _}_createAddLineCommentsOperations(y,b){const _=[],E=this._insertSpace?" ":"";for(let I=0,R=y.length;I<R;I++){const J=y[I];J.ignore||_.push($.h.insert(new M.L(b+I,J.commentStrOffset+1),J.commentStr+E))}return _}static nextVisibleColumn(y,b,_,E){return _?y+(b-y%b):y+E}static _normalizeInsertionPoint(y,b,_,E){let I=1073741824,R,J;for(let Q=0,U=b.length;Q<U;Q++){if(b[Q].ignore)continue;const K=y.getLineContent(_+Q);let H=0;for(let X=0,j=b[Q].commentStrOffset;H<I&&X<j;X++)H=c.nextVisibleColumn(H,E,K.charCodeAt(X)===9,1);H<I&&(I=H)}I=Math.floor(I/E)*E;for(let Q=0,U=b.length;Q<U;Q++){if(b[Q].ignore)continue;const K=y.getLineContent(_+Q);let H=0;for(R=0,J=b[Q].commentStrOffset;H<I&&R<J;R++)H=c.nextVisibleColumn(H,E,K.charCodeAt(R)===9,1);H>I?b[Q].commentStrOffset=R-1:b[Q].commentStrOffset=R}}}var p=i(63580),l=i(84144);class n extends r.R6{constructor(y,b){super(b),this._type=y}run(y,b){const _=y.get(D.c_);if(!b.hasModel())return;const E=b.getModel(),I=[],R=E.getOptions(),J=b.getOption(19),Q=b.getSelections().map((K,H)=>({selection:K,index:H,ignoreFirstLine:!1}));Q.sort((K,H)=>O.e.compareRangesUsingStarts(K.selection,H.selection));let U=Q[0];for(let K=1;K<Q.length;K++){const H=Q[K];U.selection.endLineNumber===H.selection.startLineNumber&&(U.index<H.index?H.ignoreFirstLine=!0:(U.ignoreFirstLine=!0,U=H))}for(const K of Q)I.push(new c(_,K.selection,R.tabSize,this._type,J.insertSpace,J.ignoreEmptyLines,K.ignoreFirstLine));b.pushUndoStop(),b.executeCommands(this.id,I),b.pushUndoStop()}}class a extends n{constructor(){super(0,{id:"editor.action.commentLine",label:p.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:V.u.writable,kbOpts:{kbExpr:V.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:l.eH.MenubarEditMenu,group:"5_insert",title:p.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class g extends n{constructor(){super(1,{id:"editor.action.addCommentLine",label:p.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:V.u.writable,kbOpts:{kbExpr:V.u.editorTextFocus,primary:(0,w.gx)(2089,2081),weight:100}})}}class f extends n{constructor(){super(2,{id:"editor.action.removeCommentLine",label:p.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:V.u.writable,kbOpts:{kbExpr:V.u.editorTextFocus,primary:(0,w.gx)(2089,2099),weight:100}})}}class u extends r.R6{constructor(){super({id:"editor.action.blockComment",label:p.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:V.u.writable,kbOpts:{kbExpr:V.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:l.eH.MenubarEditMenu,group:"5_insert",title:p.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(y,b){const _=y.get(D.c_);if(!b.hasModel())return;const E=b.getOption(19),I=[],R=b.getSelections();for(const J of R)I.push(new A(J,E.insertSpace,_));b.pushUndoStop(),b.executeCommands(this.id,I),b.pushUndoStop()}}(0,r.Qr)(a),(0,r.Qr)(g),(0,r.Qr)(f),(0,r.Qr)(u)},93740:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{ContextMenuController:function(){return g}});var w=i(65321),r=i(76033),O=i(74741),V=i(9917),D=i(1432),$=i(16830),M=i(29102),P=i(63580),A=i(84144),L=i(16141),c=i(5606),p=i(91847),l=i(33108),n=function(u,C,y,b){var _=arguments.length,E=_<3?C:b===null?b=Object.getOwnPropertyDescriptor(C,y):b,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(u,C,y,b);else for(var R=u.length-1;R>=0;R--)(I=u[R])&&(E=(_<3?I(E):_>3?I(C,y,E):I(C,y))||E);return _>3&&E&&Object.defineProperty(C,y,E),E},a=function(u,C){return function(y,b){C(y,b,u)}};let g=class kc{constructor(C,y,b,_,E,I,R){this._contextMenuService=y,this._contextViewService=b,this._contextKeyService=_,this._keybindingService=E,this._menuService=I,this._configurationService=R,this._toDispose=new V.SL,this._contextMenuIsBeingShownCount=0,this._editor=C,this._toDispose.add(this._editor.onContextMenu(J=>this._onContextMenu(J))),this._toDispose.add(this._editor.onMouseWheel(J=>{if(this._contextMenuIsBeingShownCount>0){const Q=this._contextViewService.getContextViewElement(),U=J.srcElement;U.shadowRoot&&w.Ay(Q)===U.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(J=>{!this._editor.getOption(20)||J.keyCode===58&&(J.preventDefault(),J.stopPropagation(),this.showContextMenu())}))}static get(C){return C.getContribution(kc.ID)}_onContextMenu(C){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),C.target.position&&!this._editor.getSelection().containsPosition(C.target.position)&&this._editor.setPosition(C.target.position);return}if(C.target.type===12||C.target.type===6&&C.target.detail.injectedText)return;if(C.event.preventDefault(),C.event.stopPropagation(),C.target.type===11)return this._showScrollbarContextMenu({x:C.event.posx-1,width:2,y:C.event.posy-1,height:2});if(C.target.type!==6&&C.target.type!==7&&C.target.type!==1)return;if(this._editor.focus(),C.target.position){let b=!1;for(const _ of this._editor.getSelections())if(_.containsPosition(C.target.position)){b=!0;break}b||this._editor.setPosition(C.target.position)}let y=null;C.target.type!==1&&(y={x:C.event.posx-1,width:2,y:C.event.posy-1,height:2}),this.showContextMenu(y)}showContextMenu(C){if(!this._editor.getOption(20)||!this._editor.hasModel())return;const y=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?A.eH.SimpleEditorContext:A.eH.EditorContext);y.length>0&&this._doShowContextMenu(y,C)}_getMenuActions(C,y){const b=[],_=this._menuService.createMenu(y,this._contextKeyService),E=_.getActions({arg:C.uri});_.dispose();for(const I of E){const[,R]=I;let J=0;for(const Q of R)if(Q instanceof A.NZ){const U=this._getMenuActions(C,Q.item.submenu);U.length>0&&(b.push(new O.wY(Q.id,Q.label,U)),J++)}else b.push(Q),J++;J&&b.push(new O.Z0)}return b.length&&b.pop(),b}_doShowContextMenu(C,y=null){if(!this._editor.hasModel())return;const b=this._editor.getOption(55);if(this._editor.updateOptions({hover:{enabled:!1}}),!y){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const E=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),I=w.i(this._editor.getDomNode()),R=I.left+E.left,J=I.top+E.top+E.height;y={x:R,y:J}}const _=this._editor.getOption(117)&&!D.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:_?this._editor.getDomNode():void 0,getAnchor:()=>y,getActions:()=>C,getActionViewItem:E=>{const I=this._keybindingFor(E);if(I)return new r.g(E,E,{label:!0,keybinding:I.getLabel(),isMenu:!0});const R=E;return typeof R.getActionViewItem=="function"?R.getActionViewItem():new r.g(E,E,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:E=>this._keybindingFor(E),onHide:E=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:b})}})}_showScrollbarContextMenu(C){if(!this._editor.hasModel())return;const y=this._editor.getOption(67);let b=0;const _=Q=>({id:`menu-action-${++b}`,label:Q.label,tooltip:"",class:void 0,enabled:typeof Q.enabled>"u"?!0:Q.enabled,checked:Q.checked,run:Q.run,dispose:()=>null}),E=(Q,U)=>new O.wY(`menu-action-${++b}`,Q,U,void 0),I=(Q,U,K,H,X)=>{if(!U)return _({label:Q,enabled:U,run:()=>{}});const j=Z=>()=>{this._configurationService.updateValue(K,Z)},x=[];for(const Z of X)x.push(_({label:Z.label,checked:H===Z.value,run:j(Z.value)}));return E(Q,x)},R=[];R.push(_({label:P.NC("context.minimap.minimap","Minimap"),checked:y.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!y.enabled)}})),R.push(new O.Z0),R.push(_({label:P.NC("context.minimap.renderCharacters","Render Characters"),enabled:y.enabled,checked:y.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!y.renderCharacters)}})),R.push(I(P.NC("context.minimap.size","Vertical size"),y.enabled,"editor.minimap.size",y.size,[{label:P.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:P.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:P.NC("context.minimap.size.fit","Fit"),value:"fit"}])),R.push(I(P.NC("context.minimap.slider","Slider"),y.enabled,"editor.minimap.showSlider",y.showSlider,[{label:P.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:P.NC("context.minimap.slider.always","Always"),value:"always"}]));const J=this._editor.getOption(117)&&!D.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:J?this._editor.getDomNode():void 0,getAnchor:()=>C,getActions:()=>R,onHide:Q=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(C){return this._keybindingService.lookupKeybinding(C.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};g.ID="editor.contrib.contextmenu",g=n([a(1,c.i),a(2,c.u),a(3,L.i6),a(4,p.d),a(5,A.co),a(6,l.Ui)],g);class f extends $.R6{constructor(){super({id:"editor.action.showContextMenu",label:P.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:M.u.textInputFocus,primary:1092,weight:100}})}run(C,y){var b;(b=g.get(y))===null||b===void 0||b.showContextMenu()}}(0,$._K)(g.ID,g),(0,$.Qr)(f)},14907:function(Ot,Te,i){"use strict";i.r(Te);var w=i(16830),r=i(800),O=i(23547),V=i(65321),D=i(15393),$=i(73278),M=i(9917),P=i(81170),A=i(98e3),L=i(49889),c=i(66007),p=i(24314),l=i(71922),n=i(16467),a=i(98762),g=i(35084),f=i(84972),u=i(33108),C=function(Q,U,K,H){var X=arguments.length,j=X<3?U:H===null?H=Object.getOwnPropertyDescriptor(U,K):H,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(Q,U,K,H);else for(var Z=Q.length-1;Z>=0;Z--)(x=Q[Z])&&(j=(X<3?x(j):X>3?x(U,K,j):x(U,K))||j);return X>3&&j&&Object.defineProperty(U,K,j),j},y=function(Q,U){return function(K,H){U(K,H,Q)}},b=function(Q,U,K,H){function X(j){return j instanceof K?j:new K(function(x){x(j)})}return new(K||(K=Promise))(function(j,x){function Z(G){try{z(H.next(G))}catch(re){x(re)}}function T(G){try{z(H.throw(G))}catch(re){x(re)}}function z(G){G.done?j(G.value):X(G.value).then(Z,T)}z((H=H.apply(Q,U||[])).next())})};const _="application/vnd.code.copyMetadata";let E=class extends M.JT{constructor(U,K,H,X,j){super(),this._bulkEditService=K,this._clipboardService=H,this._configurationService=X,this._languageFeaturesService=j,this._editor=U;const x=U.getContainerDomNode();this._register((0,V.nm)(x,"copy",Z=>this.handleCopy(Z))),this._register((0,V.nm)(x,"cut",Z=>this.handleCopy(Z))),this._register((0,V.nm)(x,"paste",Z=>this.handlePaste(Z),!0))}arePasteActionsEnabled(U){return this._configurationService.getValue("editor.experimental.pasteActions.enabled",{resource:U.uri})}handleCopy(U){var K;if(!U.clipboardData||!this._editor.hasTextFocus())return;const H=this._editor.getModel(),X=this._editor.getSelections();if(!H||!(X!=null&&X.length)||!this.arePasteActionsEnabled(H))return;const j=[...X],x=X[0],Z=x.isEmpty();if(Z){if(!this._editor.getOption(33))return;j[0]=new p.e(x.startLineNumber,0,x.startLineNumber,H.getLineLength(x.startLineNumber))}const T=this._languageFeaturesService.documentPasteEditProvider.ordered(H).filter(S=>!!S.prepareDocumentPaste);if(!T.length){this.setCopyMetadata(U.clipboardData,{wasFromEmptySelection:Z});return}const z=(0,L.Bo)(U.clipboardData),G=(0,A.R)();this.setCopyMetadata(U.clipboardData,{id:G,wasFromEmptySelection:Z});const re=(0,D.PG)(S=>b(this,void 0,void 0,function*(){const he=yield Promise.all(T.map(Ce=>Ce.prepareDocumentPaste(H,j,z,S)));for(const Ce of he)Ce==null||Ce.forEach((ge,pe)=>{z.replace(pe,ge)});return z}));(K=this._currentClipboardItem)===null||K===void 0||K.dataTransferPromise.cancel(),this._currentClipboardItem={handle:G,dataTransferPromise:re}}setCopyMetadata(U,K){U.setData(_,JSON.stringify(K))}handlePaste(U){var K,H,X;return b(this,void 0,void 0,function*(){if(!U.clipboardData||!this._editor.hasTextFocus())return;const j=this._editor.getSelections();if(!(j!=null&&j.length)||!this._editor.hasModel())return;const x=this._editor.getModel();if(!this.arePasteActionsEnabled(x))return;let Z;const T=(K=U.clipboardData)===null||K===void 0?void 0:K.getData(_);T&&typeof T=="string"&&(Z=JSON.parse(T));const z=this._languageFeaturesService.documentPasteEditProvider.ordered(x);if(!z.length)return;U.preventDefault(),U.stopImmediatePropagation();const G=x.getVersionId(),re=new n.Dl(this._editor,3);try{const S=(0,L.Bo)(U.clipboardData);if((Z==null?void 0:Z.id)&&((H=this._currentClipboardItem)===null||H===void 0?void 0:H.handle)===Z.id&&(yield this._currentClipboardItem.dataTransferPromise).forEach((pe,ee)=>{S.replace(ee,pe)}),!S.has(P.v.uriList)){const ge=yield this._clipboardService.readResources();ge.length&&S.append(P.v.uriList,(0,$.ZO)(L.Z0.create(ge)))}S.delete(_);for(const ge of z){if(!ge.pasteMimeTypes.some(ee=>ee.toLowerCase()===O.g.FILES.toLowerCase()?[...S.values()].some(se=>se.asFile()):S.has(ee)))continue;const pe=yield ge.provideDocumentPasteEdits(x,j,S,re.token);if(G!==x.getVersionId())return;if(pe){(0,a.performSnippetEdit)(this._editor,typeof pe.insertText=="string"?g.Yj.escape(pe.insertText):pe.insertText.snippet,j),pe.additionalEdit&&(yield this._bulkEditService.apply(c.fo.convert(pe.additionalEdit),{editor:this._editor}));return}}const he=(X=S.get(P.v.text))!==null&&X!==void 0?X:S.get("text");if(!he)return;const Ce=yield he.asString();if(G!==x.getVersionId())return;this._editor.trigger("keyboard","paste",{text:Ce,pasteOnNewLine:Z==null?void 0:Z.wasFromEmptySelection,multicursorText:null})}finally{re.dispose()}})}};E.ID="editor.contrib.copyPasteActionController",E=C([y(1,c.vu),y(2,f.p),y(3,u.Ui),y(4,l.p)],E);var I=i(63580),R=i(23193),J=i(89872);(0,w._K)(E.ID,E),J.B.as(R.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},r.wk),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:I.NC("pasteActions","Enable/disable running edits from extensions on paste."),default:!1}}}))},41895:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{CursorRedo:function(){return A},CursorUndo:function(){return P},CursorUndoRedoController:function(){return M}});var w=i(9917),r=i(16830),O=i(29102),V=i(63580);class D{constructor(c){this.selections=c}equals(c){const p=this.selections.length,l=c.selections.length;if(p!==l)return!1;for(let n=0;n<p;n++)if(!this.selections[n].equalsSelection(c.selections[n]))return!1;return!0}}class ${constructor(c,p,l){this.cursorState=c,this.scrollTop=p,this.scrollLeft=l}}class M extends w.JT{constructor(c){super(),this._editor=c,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(c.onDidChangeModel(p=>{this._undoStack=[],this._redoStack=[]})),this._register(c.onDidChangeModelContent(p=>{this._undoStack=[],this._redoStack=[]})),this._register(c.onDidChangeCursorSelection(p=>{if(this._isCursorUndoRedo||!p.oldSelections||p.oldModelVersionId!==p.modelVersionId)return;const l=new D(p.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(l)||(this._undoStack.push(new $(l,c.getScrollTop(),c.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(c){return c.getContribution(M.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new $(new D(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new $(new D(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(c){this._isCursorUndoRedo=!0,this._editor.setSelections(c.cursorState.selections),this._editor.setScrollPosition({scrollTop:c.scrollTop,scrollLeft:c.scrollLeft}),this._isCursorUndoRedo=!1}}M.ID="editor.contrib.cursorUndoRedoController";class P extends r.R6{constructor(){super({id:"cursorUndo",label:V.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:O.u.textInputFocus,primary:2099,weight:100}})}run(c,p,l){var n;(n=M.get(p))===null||n===void 0||n.cursorUndo()}}class A extends r.R6{constructor(){super({id:"cursorRedo",label:V.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(c,p,l){var n;(n=M.get(p))===null||n===void 0||n.cursorRedo()}}(0,r._K)(M.ID,M),(0,r.Qr)(P),(0,r.Qr)(A)},73623:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{DragAndDropController:function(){return L}});var w=i(9917),r=i(1432),O=i(16830),V=i(50187),D=i(24314),$=i(3860),M=i(92035);class P{constructor(p,l,n){this.selection=p,this.targetPosition=l,this.copy=n,this.targetSelection=null}getEditOperations(p,l){const n=p.getValueInRange(this.selection);if(this.copy||l.addEditOperation(this.selection,null),l.addEditOperation(new D.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new $.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new $.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new $.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new $.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new $.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(p,l){return this.targetSelection}}function A(c){return r.dz?c.altKey:c.ctrlKey}class L extends w.JT{constructor(p){super(),this._editor=p,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(l=>this._onEditorMouseDown(l))),this._register(this._editor.onMouseUp(l=>this._onEditorMouseUp(l))),this._register(this._editor.onMouseDrag(l=>this._onEditorMouseDrag(l))),this._register(this._editor.onMouseDrop(l=>this._onEditorMouseDrop(l))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(l=>this.onEditorKeyDown(l))),this._register(this._editor.onKeyUp(l=>this.onEditorKeyUp(l))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(p){!this._editor.getOption(31)||this._editor.getOption(18)||(A(p)&&(this._modifierPressed=!0),this._mouseDown&&A(p)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(p){!this._editor.getOption(31)||this._editor.getOption(18)||(A(p)&&(this._modifierPressed=!1),this._mouseDown&&p.keyCode===L.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(p){this._mouseDown=!0}_onEditorMouseUp(p){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(p){const l=p.target;if(this._dragSelection===null){const a=(this._editor.getSelections()||[]).filter(g=>l.position&&g.containsPosition(l.position));if(a.length===1)this._dragSelection=a[0];else return}A(p.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),l.position&&(this._dragSelection.containsPosition(l.position)?this._removeDecoration():this.showAt(l.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(p){if(p.target&&(this._hitContent(p.target)||this._hitMargin(p.target))&&p.target.position){const l=new V.L(p.target.position.lineNumber,p.target.position.column);if(this._dragSelection===null){let n=null;if(p.event.shiftKey){const a=this._editor.getSelection();if(a){const{selectionStartLineNumber:g,selectionStartColumn:f}=a;n=[new $.Y(g,f,l.lineNumber,l.column)]}}else n=(this._editor.getSelections()||[]).map(a=>a.containsPosition(l)?new $.Y(l.lineNumber,l.column,l.lineNumber,l.column):a);this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(l)||(A(p.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(l)||this._dragSelection.getStartPosition().equals(l)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(L.ID,new P(this._dragSelection,l,A(p.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(p){this._dndDecorationIds.set([{range:new D.e(p.lineNumber,p.column,p.lineNumber,p.column),options:L._DECORATION_OPTIONS}]),this._editor.revealPosition(p,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(p){return p.type===6||p.type===7}_hitMargin(p){return p.type===2||p.type===3||p.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}L.ID="editor.contrib.dragAndDrop",L.TRIGGER_KEY_VALUE=r.dz?6:5,L._DECORATION_OPTIONS=M.qx.register({description:"dnd-target",className:"dnd-target"}),(0,O._K)(L.ID,L)},76917:function(Ot,Te,i){"use strict";i.r(Te);var w=i(71050),r=i(98401),O=i(70666),V=i(88216),D=i(30335),$=i(94565),M=function(P,A,L,c){function p(l){return l instanceof L?l:new L(function(n){n(l)})}return new(L||(L=Promise))(function(l,n){function a(u){try{f(c.next(u))}catch(C){n(C)}}function g(u){try{f(c.throw(u))}catch(C){n(C)}}function f(u){u.done?l(u.value):p(u.value).then(a,g)}f((c=c.apply(P,A||[])).next())})};$.P0.registerCommand("_executeDocumentSymbolProvider",function(P,...A){return M(this,void 0,void 0,function*(){const[L]=A;(0,r.p_)(O.o.isUri(L));const c=P.get(D.Je),l=yield P.get(V.S).createModelReference(L);try{return(yield c.getOrCreate(l.object.textEditorModel,w.T.None)).getTopLevelSymbols()}finally{l.dispose()}})})},30335:function(Ot,Te,i){"use strict";i.d(Te,{C3:function(){return y},Je:function(){return b},sT:function(){return u}});var w=i(9488),r=i(71050),O=i(17301),V=i(53725),D=i(43702),$=i(50187),M=i(24314),P=i(88191),A=i(72065),L=i(65026),c=i(73733),p=i(9917),l=i(71922),n=function(E,I,R,J){var Q=arguments.length,U=Q<3?I:J===null?J=Object.getOwnPropertyDescriptor(I,R):J,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(E,I,R,J);else for(var H=E.length-1;H>=0;H--)(K=E[H])&&(U=(Q<3?K(U):Q>3?K(I,R,U):K(I,R))||U);return Q>3&&U&&Object.defineProperty(I,R,U),U},a=function(E,I){return function(R,J){I(R,J,E)}},g=function(E,I,R,J){function Q(U){return U instanceof R?U:new R(function(K){K(U)})}return new(R||(R=Promise))(function(U,K){function H(x){try{j(J.next(x))}catch(Z){K(Z)}}function X(x){try{j(J.throw(x))}catch(Z){K(Z)}}function j(x){x.done?U(x.value):Q(x.value).then(H,X)}j((J=J.apply(E,I||[])).next())})};class f{remove(){var I;(I=this.parent)===null||I===void 0||I.children.delete(this.id)}static findId(I,R){let J;typeof I=="string"?J=`${R.id}/${I}`:(J=`${R.id}/${I.name}`,R.children.get(J)!==void 0&&(J=`${R.id}/${I.name}_${I.range.startLineNumber}_${I.range.startColumn}`));let Q=J;for(let U=0;R.children.get(Q)!==void 0;U++)Q=`${J}_${U}`;return Q}static empty(I){return I.children.size===0}}class u extends f{constructor(I,R,J){super(),this.id=I,this.parent=R,this.symbol=J,this.children=new Map}}class C extends f{constructor(I,R,J,Q){super(),this.id=I,this.parent=R,this.label=J,this.order=Q,this.children=new Map}}class y extends f{constructor(I){super(),this.uri=I,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(I,R,J){const Q=new r.A(J),U=new y(R.uri),K=I.ordered(R),H=K.map((j,x)=>{var Z;const T=f.findId(`provider_${x}`,U),z=new C(T,U,(Z=j.displayName)!==null&&Z!==void 0?Z:"Unknown Outline Provider",x);return Promise.resolve(j.provideDocumentSymbols(R,Q.token)).then(G=>{for(const re of G||[])y._makeOutlineElement(re,z);return z},G=>((0,O.Cp)(G),z)).then(G=>{f.empty(G)?G.remove():U._groups.set(T,G)})}),X=I.onDidChange(()=>{const j=I.ordered(R);(0,w.fS)(j,K)||Q.cancel()});return Promise.all(H).then(()=>Q.token.isCancellationRequested&&!J.isCancellationRequested?y.create(I,R,J):U._compact()).finally(()=>{X.dispose()})}static _makeOutlineElement(I,R){const J=f.findId(I,R),Q=new u(J,R,I);if(I.children)for(const U of I.children)y._makeOutlineElement(U,Q);R.children.set(Q.id,Q)}_compact(){let I=0;for(const[R,J]of this._groups)J.children.size===0?this._groups.delete(R):I+=1;if(I!==1)this.children=this._groups;else{const R=V.$.first(this._groups.values());for(const[,J]of R.children)J.parent=this,this.children.set(J.id,J)}return this}getTopLevelSymbols(){const I=[];for(const R of this.children.values())R instanceof u?I.push(R.symbol):I.push(...V.$.map(R.children.values(),J=>J.symbol));return I.sort((R,J)=>M.e.compareRangesUsingStarts(R.range,J.range))}asListOfDocumentSymbols(){const I=this.getTopLevelSymbols(),R=[];return y._flattenDocumentSymbols(R,I,""),R.sort((J,Q)=>$.L.compare(M.e.getStartPosition(J.range),M.e.getStartPosition(Q.range))||$.L.compare(M.e.getEndPosition(Q.range),M.e.getEndPosition(J.range)))}static _flattenDocumentSymbols(I,R,J){for(const Q of R)I.push({kind:Q.kind,tags:Q.tags,name:Q.name,detail:Q.detail,containerName:Q.containerName||J,range:Q.range,selectionRange:Q.selectionRange,children:void 0}),Q.children&&y._flattenDocumentSymbols(I,Q.children,Q.name)}}const b=(0,A.yh)("IOutlineModelService");let _=class{constructor(I,R,J){this._languageFeaturesService=I,this._disposables=new p.SL,this._cache=new D.z6(10,.7),this._debounceInformation=R.for(I.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(J.onModelRemoved(Q=>{this._cache.delete(Q.id)}))}dispose(){this._disposables.dispose()}getOrCreate(I,R){return g(this,void 0,void 0,function*(){const J=this._languageFeaturesService.documentSymbolProvider,Q=J.ordered(I);let U=this._cache.get(I.id);if(!U||U.versionId!==I.getVersionId()||!(0,w.fS)(U.provider,Q)){const H=new r.A;U={versionId:I.getVersionId(),provider:Q,promiseCnt:0,source:H,promise:y.create(J,I,H.token),model:void 0},this._cache.set(I.id,U);const X=Date.now();U.promise.then(j=>{U.model=j,this._debounceInformation.update(I,Date.now()-X)}).catch(j=>{this._cache.delete(I.id)})}if(U.model)return U.model;U.promiseCnt+=1;const K=R.onCancellationRequested(()=>{--U.promiseCnt===0&&(U.source.cancel(),this._cache.delete(I.id))});try{return yield U.promise}finally{K.dispose()}})}};_=n([a(0,l.p),a(1,P.A),a(2,c.q)],_),(0,L.z)(b,_,!0)},22482:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{DropIntoEditorController:function(){return _}});var w=i(15393),r=i(73278),O=i(9917),V=i(81170),D=i(95935),$=i(70666),M=i(49889),P=i(16830),A=i(66007),L=i(24314),c=i(3860),p=i(71922),l=i(16467),n=i(98762),a=i(35084),g=i(63580),f=i(90535),u=i(40382),C=function(I,R,J,Q){var U=arguments.length,K=U<3?R:Q===null?Q=Object.getOwnPropertyDescriptor(R,J):Q,H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(I,R,J,Q);else for(var X=I.length-1;X>=0;X--)(H=I[X])&&(K=(U<3?H(K):U>3?H(R,J,K):H(R,J))||K);return U>3&&K&&Object.defineProperty(R,J,K),K},y=function(I,R){return function(J,Q){R(J,Q,I)}},b=function(I,R,J,Q){function U(K){return K instanceof J?K:new J(function(H){H(K)})}return new(J||(J=Promise))(function(K,H){function X(Z){try{x(Q.next(Z))}catch(T){H(T)}}function j(Z){try{x(Q.throw(Z))}catch(T){H(T)}}function x(Z){Z.done?K(Z.value):U(Z.value).then(X,j)}x((Q=Q.apply(I,R||[])).next())})};let _=class extends O.JT{constructor(R,J,Q,U,K){super(),this._bulkEditService=J,this._languageFeaturesService=Q,this._progressService=U,this._register(R.onDropIntoEditor(H=>this.onDropIntoEditor(R,H.position,H.event))),this._languageFeaturesService.documentOnDropEditProvider.register("*",new E(K))}onDropIntoEditor(R,J,Q){return b(this,void 0,void 0,function*(){if(!Q.dataTransfer||!R.hasModel())return;const U=R.getModel(),K=U.getVersionId(),H=yield this.extractDataTransferData(Q);if(H.size===0||R.getModel().getVersionId()!==K)return;const X=new l.Dl(R,1);try{const j=this._languageFeaturesService.documentOnDropEditProvider.ordered(U),x=yield this._progressService.withProgress({location:15,delay:750,title:(0,g.NC)("dropProgressTitle","Running drop handlers..."),cancellable:!0},()=>(0,w.eP)((()=>b(this,void 0,void 0,function*(){for(const Z of j){const T=yield Z.provideDocumentOnDropEdits(U,J,H,X.token);if(X.token.isCancellationRequested)return;if(T)return T}}))(),X.token),()=>{X.cancel()});if(X.token.isCancellationRequested||R.getModel().getVersionId()!==K)return;if(x){const Z=new L.e(J.lineNumber,J.column,J.lineNumber,J.column);(0,n.performSnippetEdit)(R,typeof x.insertText=="string"?a.Yj.escape(x.insertText):x.insertText.snippet,[c.Y.fromRange(Z,0)]),x.additionalEdit&&(yield this._bulkEditService.apply(A.fo.convert(x.additionalEdit),{editor:R}));return}}finally{X.dispose()}})}extractDataTransferData(R){return b(this,void 0,void 0,function*(){if(!R.dataTransfer)return new r.Hl;const J=(0,M.Bo)(R.dataTransfer);return(0,M.dR)(J,R),J})}};_.ID="editor.contrib.dropIntoEditorController",_=C([y(1,A.vu),y(2,p.p),y(3,f.R9),y(4,u.ec)],_);let E=class{constructor(R){this._workspaceContextService=R}provideDocumentOnDropEdits(R,J,Q,U){var K;return b(this,void 0,void 0,function*(){const H=Q.get(V.v.uriList);if(H){const j=yield H.asString(),x=this.getUriListInsertText(j);if(x)return{insertText:x}}const X=(K=Q.get("text"))!==null&&K!==void 0?K:Q.get(V.v.text);if(X)return{insertText:yield X.asString()}})}getUriListInsertText(R){const J=[];for(const Q of M.Z0.parse(R))try{J.push($.o.parse(Q))}catch{}if(!!J.length)return J.map(Q=>{const U=this._workspaceContextService.getWorkspaceFolder(Q);if(U){const K=(0,D.lX)(U.uri,Q);if(K)return K}return Q.fsPath}).join(" ")}};E=C([y(0,u.ec)],E),(0,P._K)(_.ID,_)},16467:function(Ot,Te,i){"use strict";i.d(Te,{yy:function(){return n},Dl:function(){return a},YQ:function(){return g}});var w=i(97295),r=i(24314),O=i(71050),V=i(9917),D=i(16830),$=i(16141),M=i(91741),P=i(72065),A=i(65026),L=i(63580);const c=(0,P.yh)("IEditorCancelService"),p=new $.uy("cancellableOperation",!1,(0,L.NC)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,A.z)(c,class{constructor(){this._tokens=new WeakMap}add(f,u){let C=this._tokens.get(f);C||(C=f.invokeWithinContext(b=>{const _=p.bindTo(b.get($.i6)),E=new M.S;return{key:_,tokens:E}}),this._tokens.set(f,C));let y;return C.key.set(!0),y=C.tokens.push(u),()=>{y&&(y(),C.key.set(!C.tokens.isEmpty()),y=void 0)}}cancel(f){const u=this._tokens.get(f);if(!u)return;const C=u.tokens.pop();C&&(C.cancel(),u.key.set(!u.tokens.isEmpty()))}},!0);class l extends O.A{constructor(u,C){super(C),this.editor=u,this._unregister=u.invokeWithinContext(y=>y.get(c).add(u,this))}dispose(){this._unregister(),super.dispose()}}(0,D.fK)(new class extends D._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:p})}runEditorCommand(f,u){f.get(c).cancel(u)}});class n{constructor(u,C){if(this.flags=C,(this.flags&1)!==0){const y=u.getModel();this.modelVersionId=y?w.WU("{0}#{1}",y.uri.toString(),y.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!==0?this.position=u.getPosition():this.position=null,(this.flags&2)!==0?this.selection=u.getSelection():this.selection=null,(this.flags&8)!==0?(this.scrollLeft=u.getScrollLeft(),this.scrollTop=u.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(u){if(!(u instanceof n))return!1;const C=u;return!(this.modelVersionId!==C.modelVersionId||this.scrollLeft!==C.scrollLeft||this.scrollTop!==C.scrollTop||!this.position&&C.position||this.position&&!C.position||this.position&&C.position&&!this.position.equals(C.position)||!this.selection&&C.selection||this.selection&&!C.selection||this.selection&&C.selection&&!this.selection.equalsRange(C.selection))}validate(u){return this._equals(new n(u,this.flags))}}class a extends l{constructor(u,C,y,b){super(u,b),this._listener=new V.SL,C&4&&this._listener.add(u.onDidChangeCursorPosition(_=>{(!y||!r.e.containsPosition(y,_.position))&&this.cancel()})),C&2&&this._listener.add(u.onDidChangeCursorSelection(_=>{(!y||!r.e.containsRange(y,_.selection))&&this.cancel()})),C&8&&this._listener.add(u.onDidScrollChange(_=>this.cancel())),C&1&&(this._listener.add(u.onDidChangeModel(_=>this.cancel())),this._listener.add(u.onDidChangeModelContent(_=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class g extends O.A{constructor(u,C){super(C),this._listener=u.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},1266:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{CommonFindController:function(){return xi},FindController:function(){return Si},MatchFindAction:function(){return Fi},NextMatchFindAction:function(){return Ni},NextSelectionMatchFindAction:function(){return $i},PreviousMatchFindAction:function(){return Dn},PreviousSelectionMatchFindAction:function(){return pn},SelectionMatchFindAction:function(){return Tn},StartFindAction:function(){return mi},StartFindReplaceAction:function(){return Sn},StartFindWithArgsAction:function(){return Mi},StartFindWithSelectionAction:function(){return fn},getSelectionSearchString:function(){return ui}});var w=i(15393),r=i(9917),O=i(97295),V=i(16830),D=i(29102),$=i(9488),M=i(61329),P=i(50187),A=i(24314),L=i(3860),c=i(77277),p=i(84973),l=i(92035),n=i(73910),a=i(97781);class g{constructor(Ke){this._editor=Ke,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const Ke=this._findScopeDecorationIds.map(Rt=>this._editor.getModel().getDecorationRange(Rt)).filter(Rt=>!!Rt);if(Ke.length)return Ke}return null}getStartPosition(){return this._startPosition}setStartPosition(Ke){this._startPosition=Ke,this.setCurrentFindMatch(null)}_getDecorationIndex(Ke){const Rt=this._decorations.indexOf(Ke);return Rt>=0?Rt+1:1}getCurrentMatchesPosition(Ke){const Rt=this._editor.getModel().getDecorationsInRange(Ke);for(const At of Rt){const ni=At.options;if(ni===g._FIND_MATCH_DECORATION||ni===g._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(At.id)}return 0}setCurrentFindMatch(Ke){let Rt=null,At=0;if(Ke)for(let ni=0,ii=this._decorations.length;ni<ii;ni++){const xt=this._editor.getModel().getDecorationRange(this._decorations[ni]);if(Ke.equalsRange(xt)){Rt=this._decorations[ni],At=ni+1;break}}return(this._highlightedDecorationId!==null||Rt!==null)&&this._editor.changeDecorations(ni=>{if(this._highlightedDecorationId!==null&&(ni.changeDecorationOptions(this._highlightedDecorationId,g._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),Rt!==null&&(this._highlightedDecorationId=Rt,ni.changeDecorationOptions(this._highlightedDecorationId,g._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(ni.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),Rt!==null){let ii=this._editor.getModel().getDecorationRange(Rt);if(ii.startLineNumber!==ii.endLineNumber&&ii.endColumn===1){const xt=ii.endLineNumber-1,Ve=this._editor.getModel().getLineMaxColumn(xt);ii=new A.e(ii.startLineNumber,ii.startColumn,xt,Ve)}this._rangeHighlightDecorationId=ni.addDecoration(ii,g._RANGE_HIGHLIGHT_DECORATION)}}),At}set(Ke,Rt){this._editor.changeDecorations(At=>{let ni=g._FIND_MATCH_DECORATION;const ii=[];if(Ke.length>1e3){ni=g._FIND_MATCH_NO_OVERVIEW_DECORATION;const Ve=this._editor.getModel().getLineCount(),Tt=this._editor.getLayoutInfo().height/Ve,jt=Math.max(2,Math.ceil(3/Tt));let $t=Ke[0].range.startLineNumber,Wt=Ke[0].range.endLineNumber;for(let We=1,Xe=Ke.length;We<Xe;We++){const ut=Ke[We].range;Wt+jt>=ut.startLineNumber?ut.endLineNumber>Wt&&(Wt=ut.endLineNumber):(ii.push({range:new A.e($t,1,Wt,1),options:g._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),$t=ut.startLineNumber,Wt=ut.endLineNumber)}ii.push({range:new A.e($t,1,Wt,1),options:g._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const xt=new Array(Ke.length);for(let Ve=0,dt=Ke.length;Ve<dt;Ve++)xt[Ve]={range:Ke[Ve].range,options:ni};this._decorations=At.deltaDecorations(this._decorations,xt),this._overviewRulerApproximateDecorations=At.deltaDecorations(this._overviewRulerApproximateDecorations,ii),this._rangeHighlightDecorationId&&(At.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(Ve=>At.removeDecoration(Ve)),this._findScopeDecorationIds=[]),Rt!=null&&Rt.length&&(this._findScopeDecorationIds=Rt.map(Ve=>At.addDecoration(Ve,g._FIND_SCOPE_DECORATION)))})}matchBeforePosition(Ke){if(this._decorations.length===0)return null;for(let Rt=this._decorations.length-1;Rt>=0;Rt--){const At=this._decorations[Rt],ni=this._editor.getModel().getDecorationRange(At);if(!(!ni||ni.endLineNumber>Ke.lineNumber)){if(ni.endLineNumber<Ke.lineNumber)return ni;if(!(ni.endColumn>Ke.column))return ni}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(Ke){if(this._decorations.length===0)return null;for(let Rt=0,At=this._decorations.length;Rt<At;Rt++){const ni=this._decorations[Rt],ii=this._editor.getModel().getDecorationRange(ni);if(!(!ii||ii.startLineNumber<Ke.lineNumber)){if(ii.startLineNumber>Ke.lineNumber)return ii;if(!(ii.startColumn<Ke.column))return ii}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let Ke=[];return Ke=Ke.concat(this._decorations),Ke=Ke.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&Ke.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&Ke.push(this._rangeHighlightDecorationId),Ke}}g._CURRENT_FIND_MATCH_DECORATION=l.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,a.EN)(n.Fm_),position:p.sh.Center},minimap:{color:(0,a.EN)(n.SUY),position:p.F5.Inline}}),g._FIND_MATCH_DECORATION=l.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,a.EN)(n.Fm_),position:p.sh.Center},minimap:{color:(0,a.EN)(n.SUY),position:p.F5.Inline}}),g._FIND_MATCH_NO_OVERVIEW_DECORATION=l.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),g._FIND_MATCH_ONLY_OVERVIEW_DECORATION=l.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,a.EN)(n.Fm_),position:p.sh.Center}}),g._RANGE_HIGHLIGHT_DECORATION=l.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),g._FIND_SCOPE_DECORATION=l.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class f{constructor(Ke,Rt,At){this._editorSelection=Ke,this._ranges=Rt,this._replaceStrings=At,this._trackedEditorSelectionId=null}getEditOperations(Ke,Rt){if(this._ranges.length>0){const At=[];for(let xt=0;xt<this._ranges.length;xt++)At.push({range:this._ranges[xt],text:this._replaceStrings[xt]});At.sort((xt,Ve)=>A.e.compareRangesUsingStarts(xt.range,Ve.range));const ni=[];let ii=At[0];for(let xt=1;xt<At.length;xt++)ii.range.endLineNumber===At[xt].range.startLineNumber&&ii.range.endColumn===At[xt].range.startColumn?(ii.range=ii.range.plusRange(At[xt].range),ii.text=ii.text+At[xt].text):(ni.push(ii),ii=At[xt]);ni.push(ii);for(const xt of ni)Rt.addEditOperation(xt.range,xt.text)}this._trackedEditorSelectionId=Rt.trackSelection(this._editorSelection)}computeCursorState(Ke,Rt){return Rt.getTrackedSelection(this._trackedEditorSelectionId)}}function u(li,Ke){if(li&&li[0]!==""){const Rt=C(li,Ke,"-"),At=C(li,Ke,"_");return Rt&&!At?y(li,Ke,"-"):!Rt&&At?y(li,Ke,"_"):li[0].toUpperCase()===li[0]?Ke.toUpperCase():li[0].toLowerCase()===li[0]?Ke.toLowerCase():O.Kw(li[0][0])&&Ke.length>0?Ke[0].toUpperCase()+Ke.substr(1):li[0][0].toUpperCase()!==li[0][0]&&Ke.length>0?Ke[0].toLowerCase()+Ke.substr(1):Ke}else return Ke}function C(li,Ke,Rt){return li[0].indexOf(Rt)!==-1&&Ke.indexOf(Rt)!==-1&&li[0].split(Rt).length===Ke.split(Rt).length}function y(li,Ke,Rt){const At=Ke.split(Rt),ni=li[0].split(Rt);let ii="";return At.forEach((xt,Ve)=>{ii+=u([ni[Ve]],xt)+Rt}),ii.slice(0,-1)}class b{constructor(Ke){this.staticValue=Ke,this.kind=0}}class _{constructor(Ke){this.pieces=Ke,this.kind=1}}class E{constructor(Ke){!Ke||Ke.length===0?this._state=new b(""):Ke.length===1&&Ke[0].staticValue!==null?this._state=new b(Ke[0].staticValue):this._state=new _(Ke)}static fromStaticValue(Ke){return new E([I.staticValue(Ke)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(Ke,Rt){if(this._state.kind===0)return Rt?u(Ke,this._state.staticValue):this._state.staticValue;let At="";for(let ni=0,ii=this._state.pieces.length;ni<ii;ni++){const xt=this._state.pieces[ni];if(xt.staticValue!==null){At+=xt.staticValue;continue}let Ve=E._substitute(xt.matchIndex,Ke);if(xt.caseOps!==null&&xt.caseOps.length>0){const dt=[],Tt=xt.caseOps.length;let jt=0;for(let $t=0,Wt=Ve.length;$t<Wt;$t++){if(jt>=Tt){dt.push(Ve.slice($t));break}switch(xt.caseOps[jt]){case"U":dt.push(Ve[$t].toUpperCase());break;case"u":dt.push(Ve[$t].toUpperCase()),jt++;break;case"L":dt.push(Ve[$t].toLowerCase());break;case"l":dt.push(Ve[$t].toLowerCase()),jt++;break;default:dt.push(Ve[$t])}}Ve=dt.join("")}At+=Ve}return At}static _substitute(Ke,Rt){if(Rt===null)return"";if(Ke===0)return Rt[0];let At="";for(;Ke>0;){if(Ke<Rt.length)return(Rt[Ke]||"")+At;At=String(Ke%10)+At,Ke=Math.floor(Ke/10)}return"$"+At}}class I{constructor(Ke,Rt,At){this.staticValue=Ke,this.matchIndex=Rt,!At||At.length===0?this.caseOps=null:this.caseOps=At.slice(0)}static staticValue(Ke){return new I(Ke,-1,null)}static caseOps(Ke,Rt){return new I(null,Ke,Rt)}}class R{constructor(Ke){this._source=Ke,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(Ke){this._emitStatic(this._source.substring(this._lastCharIndex,Ke)),this._lastCharIndex=Ke}emitStatic(Ke,Rt){this._emitStatic(Ke),this._lastCharIndex=Rt}_emitStatic(Ke){Ke.length!==0&&(this._currentStaticPiece+=Ke)}emitMatchIndex(Ke,Rt,At){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=I.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=I.caseOps(Ke,At),this._lastCharIndex=Rt}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=I.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new E(this._result)}}function J(li){if(!li||li.length===0)return new E(null);const Ke=[],Rt=new R(li);for(let At=0,ni=li.length;At<ni;At++){const ii=li.charCodeAt(At);if(ii===92){if(At++,At>=ni)break;const xt=li.charCodeAt(At);switch(xt){case 92:Rt.emitUnchanged(At-1),Rt.emitStatic("\\",At+1);break;case 110:Rt.emitUnchanged(At-1),Rt.emitStatic(`
`,At+1);break;case 116:Rt.emitUnchanged(At-1),Rt.emitStatic("	",At+1);break;case 117:case 85:case 108:case 76:Rt.emitUnchanged(At-1),Rt.emitStatic("",At+1),Ke.push(String.fromCharCode(xt));break}continue}if(ii===36){if(At++,At>=ni)break;const xt=li.charCodeAt(At);if(xt===36){Rt.emitUnchanged(At-1),Rt.emitStatic("$",At+1);continue}if(xt===48||xt===38){Rt.emitUnchanged(At-1),Rt.emitMatchIndex(0,At+1,Ke),Ke.length=0;continue}if(49<=xt&&xt<=57){let Ve=xt-48;if(At+1<ni){const dt=li.charCodeAt(At+1);if(48<=dt&&dt<=57){At++,Ve=Ve*10+(dt-48),Rt.emitUnchanged(At-2),Rt.emitMatchIndex(Ve,At+1,Ke),Ke.length=0;continue}}Rt.emitUnchanged(At-1),Rt.emitMatchIndex(Ve,At+1,Ke),Ke.length=0;continue}}}return Rt.finalize()}var Q=i(16141);const U=new Q.uy("findWidgetVisible",!1),K=U.toNegated(),H=new Q.uy("findInputFocussed",!1),X=new Q.uy("replaceInputFocussed",!1),j={primary:545,mac:{primary:2593}},x={primary:565,mac:{primary:2613}},Z={primary:560,mac:{primary:2608}},T={primary:554,mac:{primary:2602}},z={primary:558,mac:{primary:2606}},G={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},re=19999,S=240;class he{constructor(Ke,Rt){this._toDispose=new r.SL,this._editor=Ke,this._state=Rt,this._isDisposed=!1,this._startSearchingTimer=new w._F,this._decorations=new g(Ke),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new w.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(At=>{(At.reason===3||At.reason===5||At.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(At=>{this._ignoreModelContentChanged||(At.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(At=>this._onStateChanged(At))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,r.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(Ke){this._isDisposed||!this._editor.hasModel()||(Ke.searchString||Ke.isReplaceRevealed||Ke.isRegex||Ke.wholeWord||Ke.matchCase||Ke.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{Ke.searchScope?this.research(Ke.moveCursor,this._state.searchScope):this.research(Ke.moveCursor)},S)):Ke.searchScope?this.research(Ke.moveCursor,this._state.searchScope):this.research(Ke.moveCursor))}static _getSearchRange(Ke,Rt){return Rt||Ke.getFullModelRange()}research(Ke,Rt){let At=null;typeof Rt<"u"?Rt!==null&&(Array.isArray(Rt)?At=Rt:At=[Rt]):At=this._decorations.getFindScopes(),At!==null&&(At=At.map(Ve=>{if(Ve.startLineNumber!==Ve.endLineNumber){let dt=Ve.endLineNumber;return Ve.endColumn===1&&(dt=dt-1),new A.e(Ve.startLineNumber,1,dt,this._editor.getModel().getLineMaxColumn(dt))}return Ve}));const ni=this._findMatches(At,!1,re);this._decorations.set(ni,At);const ii=this._editor.getSelection();let xt=this._decorations.getCurrentMatchesPosition(ii);if(xt===0&&ni.length>0){const Ve=(0,$.lG)(ni.map(dt=>dt.range),dt=>A.e.compareRangesUsingStarts(dt,ii)>=0);xt=Ve>0?Ve-1+1:xt}this._state.changeMatchInfo(xt,this._decorations.getCount(),void 0),Ke&&this._editor.getOption(37).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const Ke=this._decorations.getFindScope();return Ke&&this._editor.revealRangeInCenterIfOutsideViewport(Ke,0),!0}return!1}_setCurrentFindMatch(Ke){const Rt=this._decorations.setCurrentFindMatch(Ke);this._state.changeMatchInfo(Rt,this._decorations.getCount(),Ke),this._editor.setSelection(Ke),this._editor.revealRangeInCenterIfOutsideViewport(Ke,0)}_prevSearchPosition(Ke){const Rt=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:At,column:ni}=Ke;const ii=this._editor.getModel();return Rt||ni===1?(At===1?At=ii.getLineCount():At--,ni=ii.getLineMaxColumn(At)):ni--,new P.L(At,ni)}_moveToPrevMatch(Ke,Rt=!1){if(!this._state.canNavigateBack()){const jt=this._decorations.matchAfterPosition(Ke);jt&&this._setCurrentFindMatch(jt);return}if(this._decorations.getCount()<re){let jt=this._decorations.matchBeforePosition(Ke);jt&&jt.isEmpty()&&jt.getStartPosition().equals(Ke)&&(Ke=this._prevSearchPosition(Ke),jt=this._decorations.matchBeforePosition(Ke)),jt&&this._setCurrentFindMatch(jt);return}if(this._cannotFind())return;const At=this._decorations.getFindScope(),ni=he._getSearchRange(this._editor.getModel(),At);ni.getEndPosition().isBefore(Ke)&&(Ke=ni.getEndPosition()),Ke.isBefore(ni.getStartPosition())&&(Ke=ni.getEndPosition());const{lineNumber:ii,column:xt}=Ke,Ve=this._editor.getModel();let dt=new P.L(ii,xt),Tt=Ve.findPreviousMatch(this._state.searchString,dt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1);if(Tt&&Tt.range.isEmpty()&&Tt.range.getStartPosition().equals(dt)&&(dt=this._prevSearchPosition(dt),Tt=Ve.findPreviousMatch(this._state.searchString,dt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1)),!!Tt){if(!Rt&&!ni.containsRange(Tt.range))return this._moveToPrevMatch(Tt.range.getStartPosition(),!0);this._setCurrentFindMatch(Tt.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(Ke){const Rt=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:At,column:ni}=Ke;const ii=this._editor.getModel();return Rt||ni===ii.getLineMaxColumn(At)?(At===ii.getLineCount()?At=1:At++,ni=1):ni++,new P.L(At,ni)}_moveToNextMatch(Ke){if(!this._state.canNavigateForward()){const At=this._decorations.matchBeforePosition(Ke);At&&this._setCurrentFindMatch(At);return}if(this._decorations.getCount()<re){let At=this._decorations.matchAfterPosition(Ke);At&&At.isEmpty()&&At.getStartPosition().equals(Ke)&&(Ke=this._nextSearchPosition(Ke),At=this._decorations.matchAfterPosition(Ke)),At&&this._setCurrentFindMatch(At);return}const Rt=this._getNextMatch(Ke,!1,!0);Rt&&this._setCurrentFindMatch(Rt.range)}_getNextMatch(Ke,Rt,At,ni=!1){if(this._cannotFind())return null;const ii=this._decorations.getFindScope(),xt=he._getSearchRange(this._editor.getModel(),ii);xt.getEndPosition().isBefore(Ke)&&(Ke=xt.getStartPosition()),Ke.isBefore(xt.getStartPosition())&&(Ke=xt.getStartPosition());const{lineNumber:Ve,column:dt}=Ke,Tt=this._editor.getModel();let jt=new P.L(Ve,dt),$t=Tt.findNextMatch(this._state.searchString,jt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,Rt);return At&&$t&&$t.range.isEmpty()&&$t.range.getStartPosition().equals(jt)&&(jt=this._nextSearchPosition(jt),$t=Tt.findNextMatch(this._state.searchString,jt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,Rt)),$t?!ni&&!xt.containsRange($t.range)?this._getNextMatch($t.range.getEndPosition(),Rt,At,!0):$t:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?J(this._state.replaceString):E.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const Ke=this._getReplacePattern(),Rt=this._editor.getSelection(),At=this._getNextMatch(Rt.getStartPosition(),!0,!1);if(At)if(Rt.equalsRange(At.range)){const ni=Ke.buildReplaceString(At.matches,this._state.preserveCase),ii=new M.T4(Rt,ni);this._executeEditorCommand("replace",ii),this._decorations.setStartPosition(new P.L(Rt.startLineNumber,Rt.startColumn+ni.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(At.range)}_findMatches(Ke,Rt,At){const ni=(Ke||[null]).map(ii=>he._getSearchRange(this._editor.getModel(),ii));return this._editor.getModel().findMatches(this._state.searchString,ni,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,Rt,At)}replaceAll(){if(!this._hasMatches())return;const Ke=this._decorations.getFindScopes();Ke===null&&this._state.matchesCount>=re?this._largeReplaceAll():this._regularReplaceAll(Ke),this.research(!1)}_largeReplaceAll(){const Rt=new c.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null).parseSearchRequest();if(!Rt)return;let At=Rt.regex;if(!At.multiline){let $t="mu";At.ignoreCase&&($t+="i"),At.global&&($t+="g"),At=new RegExp(At.source,$t)}const ni=this._editor.getModel(),ii=ni.getValue(1),xt=ni.getFullModelRange(),Ve=this._getReplacePattern();let dt;const Tt=this._state.preserveCase;Ve.hasReplacementPatterns||Tt?dt=ii.replace(At,function(){return Ve.buildReplaceString(arguments,Tt)}):dt=ii.replace(At,Ve.buildReplaceString(null,Tt));const jt=new M.hP(xt,dt,this._editor.getSelection());this._executeEditorCommand("replaceAll",jt)}_regularReplaceAll(Ke){const Rt=this._getReplacePattern(),At=this._findMatches(Ke,Rt.hasReplacementPatterns||this._state.preserveCase,1073741824),ni=[];for(let xt=0,Ve=At.length;xt<Ve;xt++)ni[xt]=Rt.buildReplaceString(At[xt].matches,this._state.preserveCase);const ii=new f(this._editor.getSelection(),At.map(xt=>xt.range),ni);this._executeEditorCommand("replaceAll",ii)}selectAllMatches(){if(!this._hasMatches())return;const Ke=this._decorations.getFindScopes();let At=this._findMatches(Ke,!1,1073741824).map(ii=>new L.Y(ii.range.startLineNumber,ii.range.startColumn,ii.range.endLineNumber,ii.range.endColumn));const ni=this._editor.getSelection();for(let ii=0,xt=At.length;ii<xt;ii++)if(At[ii].equalsRange(ni)){At=[ni].concat(At.slice(0,ii)).concat(At.slice(ii+1));break}this._editor.setSelections(At)}_executeEditorCommand(Ke,Rt){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(Ke,Rt),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var Ce=i(65321),ge=i(51307),pe=i(93794);class ee extends pe.${constructor(Ke,Rt,At,ni){super(),this._hideSoon=this._register(new w.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=Ke,this._state=Rt,this._keybindingService=At,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const ii=ni.getColorTheme().getColor(n.PRb),xt=ni.getColorTheme().getColor(n.Pvw),Ve=ni.getColorTheme().getColor(n.XEs);this.caseSensitive=this._register(new ge.rk({appendTitle:this._keybindingLabelFor(G.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:ii,inputActiveOptionForeground:xt,inputActiveOptionBackground:Ve})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new ge.Qx({appendTitle:this._keybindingLabelFor(G.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:ii,inputActiveOptionForeground:xt,inputActiveOptionBackground:Ve})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new ge.eH({appendTitle:this._keybindingLabelFor(G.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:ii,inputActiveOptionForeground:xt,inputActiveOptionBackground:Ve})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(dt=>{let Tt=!1;dt.isRegex&&(this.regex.checked=this._state.isRegex,Tt=!0),dt.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,Tt=!0),dt.matchCase&&(this.caseSensitive.checked=this._state.matchCase,Tt=!0),!this._state.isRevealed&&Tt&&this._revealTemporarily()})),this._register(Ce.nm(this._domNode,Ce.tw.MOUSE_LEAVE,dt=>this._onMouseLeave())),this._register(Ce.nm(this._domNode,"mouseover",dt=>this._onMouseOver())),this._applyTheme(ni.getColorTheme()),this._register(ni.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(Ke){const Rt=this._keybindingService.lookupKeybinding(Ke);return Rt?` (${Rt.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return ee.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(Ke){const Rt={inputActiveOptionBorder:Ke.getColor(n.PRb),inputActiveOptionForeground:Ke.getColor(n.Pvw),inputActiveOptionBackground:Ke.getColor(n.XEs)};this.caseSensitive.style(Rt),this.wholeWords.style(Rt),this.regex.style(Rt)}}ee.ID="editor.contrib.findOptionsWidget",(0,a.Ic)((li,Ke)=>{const Rt=li.getColor(n.D0T);Rt&&Ke.addRule(`.monaco-editor .findOptionsWidget { background-color: ${Rt}; }`);const At=li.getColor(n.Hfx);At&&Ke.addRule(`.monaco-editor .findOptionsWidget { color: ${At}; }`);const ni=li.getColor(n.rh);ni&&Ke.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${ni}; }`);const ii=li.getColor(n.lRK);ii&&Ke.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${ii}; }`)});var se=i(4669);function ne(li,Ke){return li===1?!0:li===2?!1:Ke}class oe extends r.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new se.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return ne(this._isRegexOverride,this._isRegex)}get wholeWord(){return ne(this._wholeWordOverride,this._wholeWord)}get matchCase(){return ne(this._matchCaseOverride,this._matchCase)}get preserveCase(){return ne(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(Ke,Rt,At){const ni={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let ii=!1;Rt===0&&(Ke=0),Ke>Rt&&(Ke=Rt),this._matchesPosition!==Ke&&(this._matchesPosition=Ke,ni.matchesPosition=!0,ii=!0),this._matchesCount!==Rt&&(this._matchesCount=Rt,ni.matchesCount=!0,ii=!0),typeof At<"u"&&(A.e.equalsRange(this._currentMatch,At)||(this._currentMatch=At,ni.currentMatch=!0,ii=!0)),ii&&this._onFindReplaceStateChange.fire(ni)}change(Ke,Rt,At=!0){var ni;const ii={moveCursor:Rt,updateHistory:At,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let xt=!1;const Ve=this.isRegex,dt=this.wholeWord,Tt=this.matchCase,jt=this.preserveCase;typeof Ke.searchString<"u"&&this._searchString!==Ke.searchString&&(this._searchString=Ke.searchString,ii.searchString=!0,xt=!0),typeof Ke.replaceString<"u"&&this._replaceString!==Ke.replaceString&&(this._replaceString=Ke.replaceString,ii.replaceString=!0,xt=!0),typeof Ke.isRevealed<"u"&&this._isRevealed!==Ke.isRevealed&&(this._isRevealed=Ke.isRevealed,ii.isRevealed=!0,xt=!0),typeof Ke.isReplaceRevealed<"u"&&this._isReplaceRevealed!==Ke.isReplaceRevealed&&(this._isReplaceRevealed=Ke.isReplaceRevealed,ii.isReplaceRevealed=!0,xt=!0),typeof Ke.isRegex<"u"&&(this._isRegex=Ke.isRegex),typeof Ke.wholeWord<"u"&&(this._wholeWord=Ke.wholeWord),typeof Ke.matchCase<"u"&&(this._matchCase=Ke.matchCase),typeof Ke.preserveCase<"u"&&(this._preserveCase=Ke.preserveCase),typeof Ke.searchScope<"u"&&(!((ni=Ke.searchScope)===null||ni===void 0)&&ni.every($t=>{var Wt;return(Wt=this._searchScope)===null||Wt===void 0?void 0:Wt.some(We=>!A.e.equalsRange(We,$t))})||(this._searchScope=Ke.searchScope,ii.searchScope=!0,xt=!0)),typeof Ke.loop<"u"&&this._loop!==Ke.loop&&(this._loop=Ke.loop,ii.loop=!0,xt=!0),typeof Ke.isSearching<"u"&&this._isSearching!==Ke.isSearching&&(this._isSearching=Ke.isSearching,ii.isSearching=!0,xt=!0),typeof Ke.filters<"u"&&(this._filters?this._filters.update(Ke.filters):this._filters=Ke.filters,ii.filters=!0,xt=!0),this._isRegexOverride=typeof Ke.isRegexOverride<"u"?Ke.isRegexOverride:0,this._wholeWordOverride=typeof Ke.wholeWordOverride<"u"?Ke.wholeWordOverride:0,this._matchCaseOverride=typeof Ke.matchCaseOverride<"u"?Ke.matchCaseOverride:0,this._preserveCaseOverride=typeof Ke.preserveCaseOverride<"u"?Ke.preserveCaseOverride:0,Ve!==this.isRegex&&(xt=!0,ii.isRegex=!0),dt!==this.wholeWord&&(xt=!0,ii.wholeWord=!0),Tt!==this.matchCase&&(xt=!0,ii.matchCase=!0),jt!==this.preserveCase&&(xt=!0,ii.preserveCase=!0),xt&&this._onFindReplaceStateChange.fire(ii)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=re}}var Se=i(57924),Ee=i(76661),Me=i(39218),ye=i(73046),le=i(17301),ie=i(1432),ve=i(63580),xe=i(22980);function Ye(li){var Ke,Rt;return((Ke=li.lookupKeybinding("history.showPrevious"))===null||Ke===void 0?void 0:Ke.getElectronAccelerator())==="Up"&&((Rt=li.lookupKeybinding("history.showNext"))===null||Rt===void 0?void 0:Rt.getElectronAccelerator())==="Down"}var at=i(59554),qe=i(92321),Re=function(li,Ke,Rt,At){function ni(ii){return ii instanceof Rt?ii:new Rt(function(xt){xt(ii)})}return new(Rt||(Rt=Promise))(function(ii,xt){function Ve(jt){try{Tt(At.next(jt))}catch($t){xt($t)}}function dt(jt){try{Tt(At.throw(jt))}catch($t){xt($t)}}function Tt(jt){jt.done?ii(jt.value):ni(jt.value).then(Ve,dt)}Tt((At=At.apply(li,Ke||[])).next())})};const Je=(0,at.q5)("find-selection",ye.lA.selection,ve.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),st=(0,at.q5)("find-collapsed",ye.lA.chevronRight,ve.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),et=(0,at.q5)("find-expanded",ye.lA.chevronDown,ve.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),we=(0,at.q5)("find-replace",ye.lA.replace,ve.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Ne=(0,at.q5)("find-replace-all",ye.lA.replaceAll,ve.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),de=(0,at.q5)("find-previous-match",ye.lA.arrowUp,ve.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),Pe=(0,at.q5)("find-next-match",ye.lA.arrowDown,ve.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),He=ve.NC("label.find","Find"),$e=ve.NC("placeholder.find","Find"),me=ve.NC("label.previousMatchButton","Previous Match"),Ie=ve.NC("label.nextMatchButton","Next Match"),Ge=ve.NC("label.toggleSelectionFind","Find in Selection"),ft=ve.NC("label.closeButton","Close"),ze=ve.NC("label.replace","Replace"),mt=ve.NC("placeholder.replace","Replace"),wt=ve.NC("label.replaceButton","Replace"),Oe=ve.NC("label.replaceAllButton","Replace All"),lt=ve.NC("label.toggleReplaceButton","Toggle Replace"),Bt=ve.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",re),Zt=ve.NC("label.matchesLocation","{0} of {1}"),pi=ve.NC("label.noResults","No results"),Li=419,Ft=275-54;let Yt=69;const _i=33,Ci="ctrlEnterReplaceAll.windows.donotask",bi=ie.dz?256:2048;class ai{constructor(Ke){this.afterLineNumber=Ke,this.heightInPx=_i,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function Mt(li,Ke,Rt){const At=!!Ke.match(/\n/);if(Rt&&At&&Rt.selectionStart>0){li.stopPropagation();return}}function Ut(li,Ke,Rt){const At=!!Ke.match(/\n/);if(Rt&&At&&Rt.selectionEnd<Rt.value.length){li.stopPropagation();return}}class vt extends pe.${constructor(Ke,Rt,At,ni,ii,xt,Ve,dt,Tt){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=Ke,this._controller=Rt,this._state=At,this._contextViewProvider=ni,this._keybindingService=ii,this._contextKeyService=xt,this._storageService=dt,this._notificationService=Tt,this._ctrlEnterReplaceAllWarningPrompted=!!dt.getBoolean(Ci,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new w.vp(500),this._register((0,r.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(jt=>this._onStateChanged(jt))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(jt=>{if(jt.hasChanged(83)&&(this._codeEditor.getOption(83)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),jt.hasChanged(133)&&this._tryUpdateWidgetWidth(),jt.hasChanged(2)&&this.updateAccessibilitySupport(),jt.hasChanged(37)){const $t=this._codeEditor.getOption(37).addExtraSpaceOnTop;$t&&!this._viewZone&&(this._viewZone=new ai(0),this._showViewZone()),!$t&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Re(this,void 0,void 0,function*(){if(this._isVisible){const jt=yield this._controller.getGlobalBufferTerm();jt&&jt!==this._state.searchString&&(this._state.change({searchString:jt},!1),this._findInput.select())}}))),this._findInputFocused=H.bindTo(xt),this._findFocusTracker=this._register(Ce.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=X.bindTo(xt),this._replaceFocusTracker=this._register(Ce.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(37).addExtraSpaceOnTop&&(this._viewZone=new ai(0)),this._applyTheme(Ve.getColorTheme()),this._register(Ve.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(jt=>{if(jt.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return vt.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(Ke){if(Ke.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(Ke.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),Ke.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),Ke.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(83)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=Ce.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(Ke.isRevealed||Ke.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),Ke.isRegex&&this._findInput.setRegex(this._state.isRegex),Ke.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),Ke.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),Ke.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),Ke.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),Ke.searchString||Ke.matchesCount||Ke.matchesPosition){const Rt=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",Rt),this._updateMatchesCount(),this._updateButtons()}(Ke.searchString||Ke.currentMatch)&&this._layoutViewZone(),Ke.updateHistory&&this._delayedUpdateHistory(),Ke.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,le.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=Yt+"px",this._state.matchesCount>=re?this._matchesCount.title=Bt:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let Ke;if(this._state.matchesCount>0){let Rt=String(this._state.matchesCount);this._state.matchesCount>=re&&(Rt+="+");let At=String(this._state.matchesPosition);At==="0"&&(At="?"),Ke=O.WU(Zt,At,Rt)}else Ke=pi;this._matchesCount.appendChild(document.createTextNode(Ke)),(0,Se.Z9)(this._getAriaLabel(Ke,this._state.currentMatch,this._state.searchString)),Yt=Math.max(Yt,this._matchesCount.clientWidth)}_getAriaLabel(Ke,Rt,At){if(Ke===pi)return At===""?ve.NC("ariaSearchNoResultEmpty","{0} found",Ke):ve.NC("ariaSearchNoResult","{0} found for '{1}'",Ke,At);if(Rt){const ni=ve.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",Ke,At,Rt.startLineNumber+":"+Rt.startColumn),ii=this._codeEditor.getModel();return ii&&Rt.startLineNumber<=ii.getLineCount()&&Rt.startLineNumber>=1?`${ii.getLineContent(Rt.startLineNumber)}, ${ni}`:ni}return ve.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",Ke,At)}_updateToggleSelectionFindButton(){const Ke=this._codeEditor.getSelection(),Rt=Ke?Ke.startLineNumber!==Ke.endLineNumber||Ke.startColumn!==Ke.endColumn:!1,At=this._toggleSelectionFind.checked;this._isVisible&&(At||Rt)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const Ke=this._state.searchString.length>0,Rt=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&Ke&&Rt&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&Ke&&Rt&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&Ke),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&Ke),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const At=!this._codeEditor.getOption(83);this._toggleReplaceBtn.setEnabled(this._isVisible&&At)}_reveal(){if(this._revealTimeouts.forEach(Ke=>{clearTimeout(Ke)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const Ke=this._codeEditor.getSelection();switch(this._codeEditor.getOption(37).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const At=!!Ke&&Ke.startLineNumber!==Ke.endLineNumber;this._toggleSelectionFind.checked=At;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let Rt=!0;if(this._codeEditor.getOption(37).seedSearchStringFromSelection&&Ke){const At=this._codeEditor.getDomNode();if(At){const ni=Ce.i(At),ii=this._codeEditor.getScrolledVisiblePosition(Ke.getStartPosition()),xt=ni.left+(ii?ii.left:0),Ve=ii?ii.top:0;if(this._viewZone&&Ve<this._viewZone.heightInPx){Ke.endLineNumber>Ke.startLineNumber&&(Rt=!1);const dt=Ce.xQ(this._domNode).left;xt>dt&&(Rt=!1);const Tt=this._codeEditor.getScrolledVisiblePosition(Ke.getEndPosition());ni.left+(Tt?Tt.left:0)>dt&&(Rt=!1)}}}this._showViewZone(Rt)}}_hide(Ke){this._revealTimeouts.forEach(Rt=>{clearTimeout(Rt)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),Ke&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(Ke){if(!this._codeEditor.getOption(37).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const At=this._viewZone;this._viewZoneId!==void 0||!At||this._codeEditor.changeViewZones(ni=>{At.heightInPx=this._getHeight(),this._viewZoneId=ni.addZone(At),this._codeEditor.setScrollTop(Ke||this._codeEditor.getScrollTop()+At.heightInPx)})}_showViewZone(Ke=!0){if(!this._isVisible||!this._codeEditor.getOption(37).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new ai(0));const At=this._viewZone;this._codeEditor.changeViewZones(ni=>{if(this._viewZoneId!==void 0){const ii=this._getHeight();if(ii===At.heightInPx)return;const xt=ii-At.heightInPx;At.heightInPx=ii,ni.layoutZone(this._viewZoneId),Ke&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+xt);return}else{let ii=this._getHeight();if(ii-=this._codeEditor.getOption(77).top,ii<=0)return;At.heightInPx=ii,this._viewZoneId=ni.addZone(At),Ke&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+ii)}})}_removeViewZone(){this._codeEditor.changeViewZones(Ke=>{this._viewZoneId!==void 0&&(Ke.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(Ke){const Rt={inputActiveOptionBorder:Ke.getColor(n.PRb),inputActiveOptionBackground:Ke.getColor(n.XEs),inputActiveOptionForeground:Ke.getColor(n.Pvw),inputBackground:Ke.getColor(n.sEe),inputForeground:Ke.getColor(n.zJb),inputBorder:Ke.getColor(n.dt_),inputValidationInfoBackground:Ke.getColor(n._lC),inputValidationInfoForeground:Ke.getColor(n.YI3),inputValidationInfoBorder:Ke.getColor(n.EPQ),inputValidationWarningBackground:Ke.getColor(n.RV_),inputValidationWarningForeground:Ke.getColor(n.SUG),inputValidationWarningBorder:Ke.getColor(n.C3g),inputValidationErrorBackground:Ke.getColor(n.paE),inputValidationErrorForeground:Ke.getColor(n._t9),inputValidationErrorBorder:Ke.getColor(n.OZR)};this._findInput.style(Rt),this._replaceInput.style(Rt),this._toggleSelectionFind.style(Rt)}_tryUpdateWidgetWidth(){if(!this._isVisible||!Ce.Uw(this._domNode))return;const Ke=this._codeEditor.getLayoutInfo();if(Ke.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const At=Ke.width,ni=Ke.minimap.minimapWidth;let ii=!1,xt=!1,Ve=!1;if(this._resized&&Ce.w(this._domNode)>Li){this._domNode.style.maxWidth=`${At-28-ni-15}px`,this._replaceInput.width=Ce.w(this._findInput.domNode);return}if(Li+28+ni>=At&&(xt=!0),Li+28+ni-Yt>=At&&(Ve=!0),Li+28+ni-Yt>=At+50&&(ii=!0),this._domNode.classList.toggle("collapsed-find-widget",ii),this._domNode.classList.toggle("narrow-find-widget",Ve),this._domNode.classList.toggle("reduced-find-widget",xt),!Ve&&!ii&&(this._domNode.style.maxWidth=`${At-28-ni-15}px`),this._resized){this._findInput.inputBox.layout();const dt=this._findInput.inputBox.element.clientWidth;dt>0&&(this._replaceInput.width=dt)}else this._isReplaceVisible&&(this._replaceInput.width=Ce.w(this._findInput.domNode))}_getHeight(){let Ke=0;return Ke+=4,Ke+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(Ke+=4,Ke+=this._replaceInput.inputBox.height+2),Ke+=4,Ke}_tryUpdateHeight(){const Ke=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===Ke?!1:(this._cachedHeight=Ke,this._domNode.style.height=`${Ke}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const Ke=this._codeEditor.getSelections();Ke.map(Rt=>{Rt.endColumn===1&&Rt.endLineNumber>Rt.startLineNumber&&(Rt=Rt.setEndPosition(Rt.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Rt.endLineNumber-1)));const At=this._state.currentMatch;return Rt.startLineNumber!==Rt.endLineNumber&&!A.e.equalsRange(Rt,At)?Rt:null}).filter(Rt=>!!Rt),Ke.length&&this._state.change({searchScope:Ke},!0)}}_onFindInputMouseDown(Ke){Ke.middleButton&&Ke.stopPropagation()}_onFindInputKeyDown(Ke){if(Ke.equals(bi|3))if(this._keybindingService.dispatchEvent(Ke,Ke.target)){Ke.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),Ke.preventDefault();return}if(Ke.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),Ke.preventDefault();return}if(Ke.equals(2066)){this._codeEditor.focus(),Ke.preventDefault();return}if(Ke.equals(16))return Mt(Ke,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(Ke.equals(18))return Ut(Ke,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(Ke){if(Ke.equals(bi|3))if(this._keybindingService.dispatchEvent(Ke,Ke.target)){Ke.preventDefault();return}else{ie.ED&&ie.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(ve.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Ci,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),Ke.preventDefault();return}if(Ke.equals(2)){this._findInput.focusOnCaseSensitive(),Ke.preventDefault();return}if(Ke.equals(1026)){this._findInput.focus(),Ke.preventDefault();return}if(Ke.equals(2066)){this._codeEditor.focus(),Ke.preventDefault();return}if(Ke.equals(16))return Mt(Ke,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(Ke.equals(18))return Ut(Ke,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(Ke){return 0}_keybindingLabelFor(Ke){const Rt=this._keybindingService.lookupKeybinding(Ke);return Rt?` (${Rt.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new xe.Yb(null,this._contextViewProvider,{width:Ft,label:He,placeholder:$e,appendCaseSensitiveLabel:this._keybindingLabelFor(G.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(G.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(G.ToggleRegexCommand),validation:dt=>{if(dt.length===0||!this._findInput.getRegex())return null;try{return new RegExp(dt,"gu"),null}catch(Tt){return{content:Tt.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>Ye(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(dt=>this._onFindInputKeyDown(dt))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(dt=>{dt.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),dt.preventDefault())})),this._register(this._findInput.onRegexKeyDown(dt=>{dt.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),dt.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(dt=>{this._tryUpdateHeight()&&this._showViewZone()})),ie.IJ&&this._register(this._findInput.onMouseDown(dt=>this._onFindInputMouseDown(dt))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new _t({label:me+this._keybindingLabelFor(G.PreviousMatchFindAction),icon:de,onTrigger:()=>{this._codeEditor.getAction(G.PreviousMatchFindAction).run().then(void 0,le.dL)}})),this._nextBtn=this._register(new _t({label:Ie+this._keybindingLabelFor(G.NextMatchFindAction),icon:Pe,onTrigger:()=>{this._codeEditor.getAction(G.NextMatchFindAction).run().then(void 0,le.dL)}}));const At=document.createElement("div");At.className="find-part",At.appendChild(this._findInput.domNode);const ni=document.createElement("div");ni.className="find-actions",At.appendChild(ni),ni.appendChild(this._matchesCount),ni.appendChild(this._prevBtn.domNode),ni.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Ee.Z({icon:Je,title:Ge+this._keybindingLabelFor(G.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const dt=this._codeEditor.getSelections();dt.map(Tt=>(Tt.endColumn===1&&Tt.endLineNumber>Tt.startLineNumber&&(Tt=Tt.setEndPosition(Tt.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Tt.endLineNumber-1))),Tt.isEmpty()?null:Tt)).filter(Tt=>!!Tt),dt.length&&this._state.change({searchScope:dt},!0)}}else this._state.change({searchScope:null},!0)})),ni.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new _t({label:ft+this._keybindingLabelFor(G.CloseFindWidgetCommand),icon:at.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:dt=>{dt.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),dt.preventDefault())}})),ni.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new xe.Nq(null,void 0,{label:ze,placeholder:mt,appendPreserveCaseLabel:this._keybindingLabelFor(G.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>Ye(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(dt=>this._onReplaceInputKeyDown(dt))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(dt=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(dt=>{dt.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),dt.preventDefault())})),this._replaceBtn=this._register(new _t({label:wt+this._keybindingLabelFor(G.ReplaceOneAction),icon:we,onTrigger:()=>{this._controller.replace()},onKeyDown:dt=>{dt.equals(1026)&&(this._closeBtn.focus(),dt.preventDefault())}})),this._replaceAllBtn=this._register(new _t({label:Oe+this._keybindingLabelFor(G.ReplaceAllAction),icon:Ne,onTrigger:()=>{this._controller.replaceAll()}}));const ii=document.createElement("div");ii.className="replace-part",ii.appendChild(this._replaceInput.domNode);const xt=document.createElement("div");xt.className="replace-actions",ii.appendChild(xt),xt.appendChild(this._replaceBtn.domNode),xt.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new _t({label:lt,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Ce.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${Li}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(At),this._domNode.appendChild(ii),this._resizeSash=new Me.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let Ve=Li;this._register(this._resizeSash.onDidStart(()=>{Ve=Ce.w(this._domNode)})),this._register(this._resizeSash.onDidChange(dt=>{this._resized=!0;const Tt=Ve+dt.startX-dt.currentX;if(Tt<Li)return;const jt=parseFloat(Ce.Dx(this._domNode).maxWidth)||0;Tt>jt||(this._domNode.style.width=`${Tt}px`,this._isReplaceVisible&&(this._replaceInput.width=Ce.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const dt=Ce.w(this._domNode);if(dt<Li)return;let Tt=Li;if(!this._resized||dt===Li){const jt=this._codeEditor.getLayoutInfo();Tt=jt.width-28-jt.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${Tt}px`,this._isReplaceVisible&&(this._replaceInput.width=Ce.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const Ke=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(Ke!==2)}}vt.ID="editor.contrib.findWidget";class _t extends pe.${constructor(Ke){super(),this._opts=Ke;let Rt="button";this._opts.className&&(Rt=Rt+" "+this._opts.className),this._opts.icon&&(Rt=Rt+" "+a.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=Rt,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,At=>{this._opts.onTrigger(),At.preventDefault()}),this.onkeydown(this._domNode,At=>{var ni,ii;if(At.equals(10)||At.equals(3)){this._opts.onTrigger(),At.preventDefault();return}(ii=(ni=this._opts).onKeyDown)===null||ii===void 0||ii.call(ni,At)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(Ke){this._domNode.classList.toggle("disabled",!Ke),this._domNode.setAttribute("aria-disabled",String(!Ke)),this._domNode.tabIndex=Ke?0:-1}setExpanded(Ke){this._domNode.setAttribute("aria-expanded",String(!!Ke)),Ke?(this._domNode.classList.remove(...a.kS.asClassNameArray(st)),this._domNode.classList.add(...a.kS.asClassNameArray(et))):(this._domNode.classList.remove(...a.kS.asClassNameArray(et)),this._domNode.classList.add(...a.kS.asClassNameArray(st)))}}(0,a.Ic)((li,Ke)=>{const Rt=(Xe,ut)=>{ut&&Ke.addRule(`.monaco-editor ${Xe} { background-color: ${ut}; }`)};Rt(".findMatch",li.getColor(n.MUv)),Rt(".currentFindMatch",li.getColor(n.nyM)),Rt(".findScope",li.getColor(n.jUe));const At=li.getColor(n.D0T);Rt(".find-widget",At);const ni=li.getColor(n.rh);ni&&Ke.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${ni}; }`);const ii=li.getColor(n.EiJ);ii&&Ke.addRule(`.monaco-editor .findMatch { border: 1px ${(0,qe.c3)(li.type)?"dotted":"solid"} ${ii}; box-sizing: border-box; }`);const xt=li.getColor(n.pnM);xt&&Ke.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${xt}; padding: 1px; box-sizing: border-box; }`);const Ve=li.getColor(n.gkn);Ve&&Ke.addRule(`.monaco-editor .findScope { border: 1px ${(0,qe.c3)(li.type)?"dashed":"solid"} ${Ve}; }`);const dt=li.getColor(n.lRK);dt&&Ke.addRule(`.monaco-editor .find-widget { border: 1px solid ${dt}; }`);const Tt=li.getColor(n.Hfx);Tt&&Ke.addRule(`.monaco-editor .find-widget { color: ${Tt}; }`);const jt=li.getColor(n.Ido);jt&&Ke.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${jt}; }`);const $t=li.getColor(n.Ng6);if($t)Ke.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${$t}; }`);else{const Xe=li.getColor(n.D1_);Xe&&Ke.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Xe}; }`)}const Wt=li.getColor(n.lUq);Wt&&Ke.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${Wt} !important;
		}
	`);const We=li.getColor(n.R80);We&&Ke.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${We}; }`)});var nt=i(84144),be=i(84972),Le=i(5606),Qe=i(91847),je=i(59422),ht=i(26904),bt=function(li,Ke,Rt,At){var ni=arguments.length,ii=ni<3?Ke:At===null?At=Object.getOwnPropertyDescriptor(Ke,Rt):At,xt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ii=Reflect.decorate(li,Ke,Rt,At);else for(var Ve=li.length-1;Ve>=0;Ve--)(xt=li[Ve])&&(ii=(ni<3?xt(ii):ni>3?xt(Ke,Rt,ii):xt(Ke,Rt))||ii);return ni>3&&ii&&Object.defineProperty(Ke,Rt,ii),ii},Dt=function(li,Ke){return function(Rt,At){Ke(Rt,At,li)}},Ht=function(li,Ke,Rt,At){function ni(ii){return ii instanceof Rt?ii:new Rt(function(xt){xt(ii)})}return new(Rt||(Rt=Promise))(function(ii,xt){function Ve(jt){try{Tt(At.next(jt))}catch($t){xt($t)}}function dt(jt){try{Tt(At.throw(jt))}catch($t){xt($t)}}function Tt(jt){jt.done?ii(jt.value):ni(jt.value).then(Ve,dt)}Tt((At=At.apply(li,Ke||[])).next())})};const ei=524288;function ui(li,Ke="single",Rt=!1){if(!li.hasModel())return null;const At=li.getSelection();if(Ke==="single"&&At.startLineNumber===At.endLineNumber||Ke==="multiple"){if(At.isEmpty()){const ni=li.getConfiguredWordAtPosition(At.getStartPosition());if(ni&&Rt===!1)return ni.word}else if(li.getModel().getValueLengthInRange(At)<ei)return li.getModel().getValueInRange(At)}return null}let xi=class Fc extends r.JT{constructor(Ke,Rt,At,ni){super(),this._editor=Ke,this._findWidgetVisible=U.bindTo(Rt),this._contextKeyService=Rt,this._storageService=At,this._clipboardService=ni,this._updateHistoryDelayer=new w.vp(500),this._state=this._register(new oe),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(ii=>this._onStateChanged(ii))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const ii=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),ii&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(37).loop})}))}get editor(){return this._editor}static get(Ke){return Ke.getContribution(Fc.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(Ke){this.saveQueryState(Ke),Ke.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),Ke.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(Ke){Ke.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),Ke.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),Ke.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),Ke.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!H.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const Ke=this._editor.getSelections();Ke.map(Rt=>(Rt.endColumn===1&&Rt.endLineNumber>Rt.startLineNumber&&(Rt=Rt.setEndPosition(Rt.endLineNumber-1,this._editor.getModel().getLineMaxColumn(Rt.endLineNumber-1))),Rt.isEmpty()?null:Rt)).filter(Rt=>!!Rt),Ke.length&&this._state.change({searchScope:Ke},!0)}}setSearchString(Ke){this._state.isRegex&&(Ke=O.ec(Ke)),this._state.change({searchString:Ke},!1)}highlightFindOptions(Ke=!1){}_start(Ke,Rt){return Ht(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const At=Object.assign(Object.assign({},Rt),{isRevealed:!0});if(Ke.seedSearchStringFromSelection==="single"){const ni=ui(this._editor,Ke.seedSearchStringFromSelection,Ke.seedSearchStringFromNonEmptySelection);ni&&(this._state.isRegex?At.searchString=O.ec(ni):At.searchString=ni)}else if(Ke.seedSearchStringFromSelection==="multiple"&&!Ke.updateSearchScope){const ni=ui(this._editor,Ke.seedSearchStringFromSelection);ni&&(At.searchString=ni)}if(!At.searchString&&Ke.seedSearchStringFromGlobalClipboard){const ni=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;ni&&(At.searchString=ni)}if(Ke.forceRevealReplace||At.isReplaceRevealed?At.isReplaceRevealed=!0:this._findWidgetVisible.get()||(At.isReplaceRevealed=!1),Ke.updateSearchScope){const ni=this._editor.getSelections();ni.some(ii=>!ii.isEmpty())&&(At.searchScope=ni)}At.loop=Ke.loop,this._state.change(At,!1),this._model||(this._model=new he(this._editor,this._state))})}start(Ke,Rt){return this._start(Ke,Rt)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Ht(this,void 0,void 0,function*(){return this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(Ke){this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(Ke)}};xi.ID="editor.contrib.findController",xi=bt([Dt(1,Q.i6),Dt(2,ht.Uy),Dt(3,be.p)],xi);let Si=class extends xi{constructor(Ke,Rt,At,ni,ii,xt,Ve,dt){super(Ke,At,Ve,dt),this._contextViewService=Rt,this._keybindingService=ni,this._themeService=ii,this._notificationService=xt,this._widget=null,this._findOptionsWidget=null}_start(Ke,Rt){const At=Object.create(null,{_start:{get:()=>super._start}});return Ht(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const ni=this._editor.getSelection();let ii=!1;switch(this._editor.getOption(37).autoFindInSelection){case"always":ii=!0;break;case"never":ii=!1;break;case"multiline":{ii=!!ni&&ni.startLineNumber!==ni.endLineNumber;break}default:break}Ke.updateSearchScope=Ke.updateSearchScope||ii,yield At._start.call(this,Ke,Rt),this._widget&&(Ke.shouldFocus===2?this._widget.focusReplaceInput():Ke.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(Ke=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!Ke?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new vt(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new ee(this._editor,this._state,this._keybindingService,this._themeService))}};Si=bt([Dt(1,Le.u),Dt(2,Q.i6),Dt(3,Qe.d),Dt(4,a.XE),Dt(5,je.lT),Dt(6,ht.Uy),Dt(7,be.p)],Si);const mi=(0,V.rn)(new V.jY({id:G.StartFindAction,label:ve.NC("startFindAction","Find"),alias:"Find",precondition:Q.Ao.or(D.u.focus,Q.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:nt.eH.MenubarEditMenu,group:"3_find",title:ve.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));mi.addImplementation(0,(li,Ke,Rt)=>{const At=xi.get(Ke);return At?At.start({forceRevealReplace:!1,seedSearchStringFromSelection:Ke.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:Ke.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:Ke.getOption(37).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:Ke.getOption(37).loop}):!1});const mn={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:ve.NC("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:ve.NC("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:ve.NC("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:ve.NC("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]};class Mi extends V.R6{constructor(){super({id:G.StartFindWithArgs,label:ve.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:mn})}run(Ke,Rt,At){return Ht(this,void 0,void 0,function*(){const ni=xi.get(Rt);if(ni){const ii=At?{searchString:At.searchString,replaceString:At.replaceString,isReplaceRevealed:At.replaceString!==void 0,isRegex:At.isRegex,wholeWord:At.matchWholeWord,matchCase:At.isCaseSensitive,preserveCase:At.preserveCase}:{};yield ni.start({forceRevealReplace:!1,seedSearchStringFromSelection:ni.getState().searchString.length===0&&Rt.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:Rt.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(At==null?void 0:At.findInSelection)||!1,loop:Rt.getOption(37).loop},ii),ni.setGlobalBufferTerm(ni.getState().searchString)}})}}class fn extends V.R6{constructor(){super({id:G.StartFindWithSelection,label:ve.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(Ke,Rt){return Ht(this,void 0,void 0,function*(){const At=xi.get(Rt);At&&(yield At.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Rt.getOption(37).loop}),At.setGlobalBufferTerm(At.getState().searchString))})}}class Fi extends V.R6{run(Ke,Rt){return Ht(this,void 0,void 0,function*(){const At=xi.get(Rt);At&&!this._run(At)&&(yield At.start({forceRevealReplace:!1,seedSearchStringFromSelection:At.getState().searchString.length===0&&Rt.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:Rt.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Rt.getOption(37).loop}),this._run(At))})}}class Ni extends Fi{constructor(){super({id:G.NextMatchFindAction,label:ve.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:D.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:Q.Ao.and(D.u.focus,H),primary:3,weight:100}]})}_run(Ke){return Ke.moveToNextMatch()?(Ke.editor.pushUndoStop(),!0):!1}}class Dn extends Fi{constructor(){super({id:G.PreviousMatchFindAction,label:ve.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:D.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:Q.Ao.and(D.u.focus,H),primary:1027,weight:100}]})}_run(Ke){return Ke.moveToPrevMatch()}}class Tn extends V.R6{run(Ke,Rt){return Ht(this,void 0,void 0,function*(){const At=xi.get(Rt);if(!At)return;const ni=Rt.getOption(37).seedSearchStringFromSelection==="selection";let ii=null;Rt.getOption(37).seedSearchStringFromSelection!=="never"&&(ii=ui(Rt,"single",ni)),ii&&At.setSearchString(ii),this._run(At)||(yield At.start({forceRevealReplace:!1,seedSearchStringFromSelection:Rt.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:ni,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:Rt.getOption(37).loop}),this._run(At))})}}class $i extends Tn{constructor(){super({id:G.NextSelectionMatchFindAction,label:ve.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:D.u.focus,primary:2109,weight:100}})}_run(Ke){return Ke.moveToNextMatch()}}class pn extends Tn{constructor(){super({id:G.PreviousSelectionMatchFindAction,label:ve.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:D.u.focus,primary:3133,weight:100}})}_run(Ke){return Ke.moveToPrevMatch()}}const Sn=(0,V.rn)(new V.jY({id:G.StartFindReplaceAction,label:ve.NC("startReplace","Replace"),alias:"Replace",precondition:Q.Ao.or(D.u.focus,Q.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:nt.eH.MenubarEditMenu,group:"3_find",title:ve.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));Sn.addImplementation(0,(li,Ke,Rt)=>{if(!Ke.hasModel()||Ke.getOption(83))return!1;const At=xi.get(Ke);if(!At)return!1;const ni=Ke.getSelection(),ii=At.isFindInputFocused(),xt=!ni.isEmpty()&&ni.startLineNumber===ni.endLineNumber&&Ke.getOption(37).seedSearchStringFromSelection!=="never"&&!ii,Ve=ii||xt?2:1;return At.start({forceRevealReplace:!0,seedSearchStringFromSelection:xt?"single":"none",seedSearchStringFromNonEmptySelection:Ke.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:Ke.getOption(37).seedSearchStringFromSelection!=="never",shouldFocus:Ve,shouldAnimate:!0,updateSearchScope:!1,loop:Ke.getOption(37).loop})}),(0,V._K)(xi.ID,Si),(0,V.Qr)(Mi),(0,V.Qr)(fn),(0,V.Qr)(Ni),(0,V.Qr)(Dn),(0,V.Qr)($i),(0,V.Qr)(pn);const wn=V._l.bindToContribution(xi.get);(0,V.fK)(new wn({id:G.CloseFindWidgetCommand,precondition:U,handler:li=>li.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:Q.Ao.and(D.u.focus,Q.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,V.fK)(new wn({id:G.ToggleCaseSensitiveCommand,precondition:void 0,handler:li=>li.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:D.u.focus,primary:j.primary,mac:j.mac,win:j.win,linux:j.linux}})),(0,V.fK)(new wn({id:G.ToggleWholeWordCommand,precondition:void 0,handler:li=>li.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:D.u.focus,primary:x.primary,mac:x.mac,win:x.win,linux:x.linux}})),(0,V.fK)(new wn({id:G.ToggleRegexCommand,precondition:void 0,handler:li=>li.toggleRegex(),kbOpts:{weight:100+5,kbExpr:D.u.focus,primary:Z.primary,mac:Z.mac,win:Z.win,linux:Z.linux}})),(0,V.fK)(new wn({id:G.ToggleSearchScopeCommand,precondition:void 0,handler:li=>li.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:D.u.focus,primary:T.primary,mac:T.mac,win:T.win,linux:T.linux}})),(0,V.fK)(new wn({id:G.TogglePreserveCaseCommand,precondition:void 0,handler:li=>li.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:D.u.focus,primary:z.primary,mac:z.mac,win:z.win,linux:z.linux}})),(0,V.fK)(new wn({id:G.ReplaceOneAction,precondition:U,handler:li=>li.replace(),kbOpts:{weight:100+5,kbExpr:D.u.focus,primary:3094}})),(0,V.fK)(new wn({id:G.ReplaceOneAction,precondition:U,handler:li=>li.replace(),kbOpts:{weight:100+5,kbExpr:Q.Ao.and(D.u.focus,X),primary:3}})),(0,V.fK)(new wn({id:G.ReplaceAllAction,precondition:U,handler:li=>li.replaceAll(),kbOpts:{weight:100+5,kbExpr:D.u.focus,primary:2563}})),(0,V.fK)(new wn({id:G.ReplaceAllAction,precondition:U,handler:li=>li.replaceAll(),kbOpts:{weight:100+5,kbExpr:Q.Ao.and(D.u.focus,X),primary:void 0,mac:{primary:2051}}})),(0,V.fK)(new wn({id:G.SelectAllMatchesAction,precondition:U,handler:li=>li.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:D.u.focus,primary:515}}))},56824:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{FoldingController:function(){return Ie},editorFoldForeground:function(){return _t},foldBackgroundBackground:function(){return vt}});var w=i(15393),r=i(17301),O=i(22258),V=i(9917),D=i(97295),$=i(98401),M=i(43407),P=i(16830),A=i(29102),L=i(96887),c=i(51381),p=i(4669);const l=65535,n=16777215,a=4278190080;class g{constructor(be){const Le=Math.ceil(be/32);this._states=new Uint32Array(Le)}get(be){const Le=be/32|0,Qe=be%32;return(this._states[Le]&1<<Qe)!==0}set(be,Le){const Qe=be/32|0,je=be%32,ht=this._states[Qe];Le?this._states[Qe]=ht|1<<je:this._states[Qe]=ht&~(1<<je)}}class f{constructor(be,Le,Qe){if(this.sourceAbbr={[0]:" ",[1]:"u",[2]:"r"},be.length!==Le.length||be.length>l)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=be,this._endIndexes=Le,this._collapseStates=new g(be.length),this._userDefinedStates=new g(be.length),this._recoveredStates=new g(be.length),this._types=Qe,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const be=[],Le=(Qe,je)=>{const ht=be[be.length-1];return this.getStartLineNumber(ht)<=Qe&&this.getEndLineNumber(ht)>=je};for(let Qe=0,je=this._startIndexes.length;Qe<je;Qe++){const ht=this._startIndexes[Qe],bt=this._endIndexes[Qe];if(ht>n||bt>n)throw new Error("startLineNumber or endLineNumber must not exceed "+n);for(;be.length>0&&!Le(ht,bt);)be.pop();const Dt=be.length>0?be[be.length-1]:-1;be.push(Qe),this._startIndexes[Qe]=ht+((Dt&255)<<24),this._endIndexes[Qe]=bt+((Dt&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(be){return this._startIndexes[be]&n}getEndLineNumber(be){return this._endIndexes[be]&n}getType(be){return this._types?this._types[be]:void 0}hasTypes(){return!!this._types}isCollapsed(be){return this._collapseStates.get(be)}setCollapsed(be,Le){this._collapseStates.set(be,Le)}isUserDefined(be){return this._userDefinedStates.get(be)}setUserDefined(be,Le){return this._userDefinedStates.set(be,Le)}isRecovered(be){return this._recoveredStates.get(be)}setRecovered(be,Le){return this._recoveredStates.set(be,Le)}getSource(be){return this.isUserDefined(be)?1:this.isRecovered(be)?2:0}setSource(be,Le){Le===1?(this.setUserDefined(be,!0),this.setRecovered(be,!1)):Le===2?(this.setUserDefined(be,!1),this.setRecovered(be,!0)):(this.setUserDefined(be,!1),this.setRecovered(be,!1))}setCollapsedAllOfType(be,Le){let Qe=!1;if(this._types)for(let je=0;je<this._types.length;je++)this._types[je]===be&&(this.setCollapsed(je,Le),Qe=!0);return Qe}toRegion(be){return new u(this,be)}getParentIndex(be){this.ensureParentIndices();const Le=((this._startIndexes[be]&a)>>>24)+((this._endIndexes[be]&a)>>>16);return Le===l?-1:Le}contains(be,Le){return this.getStartLineNumber(be)<=Le&&this.getEndLineNumber(be)>=Le}findIndex(be){let Le=0,Qe=this._startIndexes.length;if(Qe===0)return-1;for(;Le<Qe;){const je=Math.floor((Le+Qe)/2);be<this.getStartLineNumber(je)?Qe=je:Le=je+1}return Le-1}findRange(be){let Le=this.findIndex(be);if(Le>=0){if(this.getEndLineNumber(Le)>=be)return Le;for(Le=this.getParentIndex(Le);Le!==-1;){if(this.contains(Le,be))return Le;Le=this.getParentIndex(Le)}}return-1}toString(){const be=[];for(let Le=0;Le<this.length;Le++)be[Le]=`[${this.sourceAbbr[this.getSource(Le)]}${this.isCollapsed(Le)?"+":"-"}] ${this.getStartLineNumber(Le)}/${this.getEndLineNumber(Le)}`;return be.join(", ")}toFoldRange(be){return{startLineNumber:this._startIndexes[be]&n,endLineNumber:this._endIndexes[be]&n,type:this._types?this._types[be]:void 0,isCollapsed:this.isCollapsed(be),source:this.getSource(be)}}static fromFoldRanges(be){const Le=be.length,Qe=new Uint32Array(Le),je=new Uint32Array(Le);let ht=[],bt=!1;for(let Ht=0;Ht<Le;Ht++){const ei=be[Ht];Qe[Ht]=ei.startLineNumber,je[Ht]=ei.endLineNumber,ht.push(ei.type),ei.type&&(bt=!0)}bt||(ht=void 0);const Dt=new f(Qe,je,ht);for(let Ht=0;Ht<Le;Ht++)be[Ht].isCollapsed&&Dt.setCollapsed(Ht,!0),Dt.setSource(Ht,be[Ht].source);return Dt}static sanitizeAndMerge(be,Le,Qe){Qe=Qe??Number.MAX_VALUE;const je=(Mi,fn)=>Array.isArray(Mi)?Fi=>Fi<fn?Mi[Fi]:void 0:Fi=>Fi<fn?Mi.toFoldRange(Fi):void 0,ht=je(be,be.length),bt=je(Le,Le.length);let Dt=0,Ht=0,ei=ht(0),ui=bt(0);const xi=[];let Si,mi=0;const mn=[];for(;ei||ui;){let Mi;if(ui&&(!ei||ei.startLineNumber>=ui.startLineNumber))ei&&ei.startLineNumber===ui.startLineNumber?(ui.source===1?Mi=ui:(Mi=ei,Mi.isCollapsed=ui.isCollapsed&&ei.endLineNumber===ui.endLineNumber,Mi.source=0),ei=ht(++Dt)):(Mi=ui,ui.isCollapsed&&ui.source===0&&(Mi.source=2)),ui=bt(++Ht);else{let fn=Ht,Fi=ui;for(;;){if(!Fi||Fi.startLineNumber>ei.endLineNumber){Mi=ei;break}if(Fi.source===1&&Fi.endLineNumber>ei.endLineNumber)break;Fi=bt(++fn)}ei=ht(++Dt)}if(Mi){for(;Si&&Si.endLineNumber<Mi.startLineNumber;)Si=xi.pop();Mi.endLineNumber>Mi.startLineNumber&&Mi.startLineNumber>mi&&Mi.endLineNumber<=Qe&&(!Si||Si.endLineNumber>=Mi.endLineNumber)&&(mn.push(Mi),mi=Mi.startLineNumber,Si&&xi.push(Si),Si=Mi)}}return mn}}class u{constructor(be,Le){this.ranges=be,this.index=Le}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(be){return be.startLineNumber<=this.startLineNumber&&be.endLineNumber>=this.endLineNumber}containsLine(be){return this.startLineNumber<=be&&be<=this.endLineNumber}}var C=i(89954);class y{constructor(be,Le){this._updateEventEmitter=new p.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=be,this._decorationProvider=Le,this._regions=new f(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}get regions(){return this._regions}get textModel(){return this._textModel}toggleCollapseState(be){if(!be.length)return;be=be.sort((Qe,je)=>Qe.regionIndex-je.regionIndex);const Le={};this._decorationProvider.changeDecorations(Qe=>{let je=0,ht=-1,bt=-1;const Dt=Ht=>{for(;je<Ht;){const ei=this._regions.getEndLineNumber(je),ui=this._regions.isCollapsed(je);if(ei<=ht){const xi=this.regions.getSource(je)!==0;Qe.changeDecorationOptions(this._editorDecorationIds[je],this._decorationProvider.getDecorationOption(ui,ei<=bt,xi))}ui&&ei>bt&&(bt=ei),je++}};for(const Ht of be){const ei=Ht.regionIndex,ui=this._editorDecorationIds[ei];if(ui&&!Le[ui]){Le[ui]=!0,Dt(ei);const xi=!this._regions.isCollapsed(ei);this._regions.setCollapsed(ei,xi),ht=Math.max(ht,this._regions.getEndLineNumber(ei))}}Dt(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:be})}removeManualRanges(be){const Le=new Array,Qe=je=>{for(const ht of be)if(!(ht.startLineNumber>je.endLineNumber||je.startLineNumber>ht.endLineNumber))return!0;return!1};for(let je=0;je<this._regions.length;je++){const ht=this._regions.toFoldRange(je);(ht.source===0||!Qe(ht))&&Le.push(ht)}this.updatePost(f.fromFoldRanges(Le))}update(be,Le=[]){const Qe=this._currentFoldedOrManualRanges(Le),je=f.sanitizeAndMerge(be,Qe,this._textModel.getLineCount());this.updatePost(f.fromFoldRanges(je))}updatePost(be){const Le=[];let Qe=-1;for(let je=0,ht=be.length;je<ht;je++){const bt=be.getStartLineNumber(je),Dt=be.getEndLineNumber(je),Ht=be.isCollapsed(je),ei=be.getSource(je)!==0,ui={startLineNumber:bt,startColumn:this._textModel.getLineMaxColumn(bt),endLineNumber:Dt,endColumn:this._textModel.getLineMaxColumn(Dt)+1};Le.push({range:ui,options:this._decorationProvider.getDecorationOption(Ht,Dt<=Qe,ei)}),Ht&&Dt>Qe&&(Qe=Dt)}this._decorationProvider.changeDecorations(je=>this._editorDecorationIds=je.deltaDecorations(this._editorDecorationIds,Le)),this._regions=be,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(be=[]){const Le=(je,ht)=>{for(const bt of be)if(je<bt&&bt<=ht)return!0;return!1},Qe=[];for(let je=0,ht=this._regions.length;je<ht;je++){let bt=this.regions.isCollapsed(je);const Dt=this.regions.getSource(je);if(bt||Dt!==0){const Ht=this._regions.toFoldRange(je),ei=this._textModel.getDecorationRange(this._editorDecorationIds[je]);ei&&(bt&&(Le(ei.startLineNumber,ei.endLineNumber)||ei.endLineNumber-ei.startLineNumber!==Ht.endLineNumber-Ht.startLineNumber)&&(bt=!1),Qe.push({startLineNumber:ei.startLineNumber,endLineNumber:ei.endLineNumber,type:Ht.type,isCollapsed:bt,source:Dt}))}}return Qe}getMemento(){const be=this._currentFoldedOrManualRanges(),Le=[];for(let Qe=0,je=be.length;Qe<je;Qe++){const ht=be[Qe],bt=this._getLinesChecksum(ht.startLineNumber+1,ht.endLineNumber);Le.push({startLineNumber:ht.startLineNumber,endLineNumber:ht.endLineNumber,isCollapsed:ht.isCollapsed,source:ht.source,checksum:bt})}return Le.length>0?Le:void 0}applyMemento(be){var Le,Qe;if(!Array.isArray(be))return;const je=[],ht=this._textModel.getLineCount();for(const Dt of be){if(Dt.startLineNumber>=Dt.endLineNumber||Dt.startLineNumber<1||Dt.endLineNumber>ht)continue;const Ht=this._getLinesChecksum(Dt.startLineNumber+1,Dt.endLineNumber);(!Dt.checksum||Ht===Dt.checksum)&&je.push({startLineNumber:Dt.startLineNumber,endLineNumber:Dt.endLineNumber,type:void 0,isCollapsed:(Le=Dt.isCollapsed)!==null&&Le!==void 0?Le:!0,source:(Qe=Dt.source)!==null&&Qe!==void 0?Qe:0})}const bt=f.sanitizeAndMerge(this._regions,je,ht);this.updatePost(f.fromFoldRanges(bt))}_getLinesChecksum(be,Le){return(0,C.vp)(this._textModel.getLineContent(be)+this._textModel.getLineContent(Le))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(be,Le){const Qe=[];if(this._regions){let je=this._regions.findRange(be),ht=1;for(;je>=0;){const bt=this._regions.toRegion(je);(!Le||Le(bt,ht))&&Qe.push(bt),ht++,je=bt.parentIndex}}return Qe}getRegionAtLine(be){if(this._regions){const Le=this._regions.findRange(be);if(Le>=0)return this._regions.toRegion(Le)}return null}getRegionsInside(be,Le){const Qe=[],je=be?be.regionIndex+1:0,ht=be?be.endLineNumber:Number.MAX_VALUE;if(Le&&Le.length===2){const bt=[];for(let Dt=je,Ht=this._regions.length;Dt<Ht;Dt++){const ei=this._regions.toRegion(Dt);if(this._regions.getStartLineNumber(Dt)<ht){for(;bt.length>0&&!ei.containedBy(bt[bt.length-1]);)bt.pop();bt.push(ei),Le(ei,bt.length)&&Qe.push(ei)}else break}}else for(let bt=je,Dt=this._regions.length;bt<Dt;bt++){const Ht=this._regions.toRegion(bt);if(this._regions.getStartLineNumber(bt)<ht)(!Le||Le(Ht))&&Qe.push(Ht);else break}return Qe}}function b(nt,be,Le){const Qe=[];for(const je of Le){const ht=nt.getRegionAtLine(je);if(ht){const bt=!ht.isCollapsed;if(Qe.push(ht),be>1){const Dt=nt.getRegionsInside(ht,(Ht,ei)=>Ht.isCollapsed!==bt&&ei<be);Qe.push(...Dt)}}}nt.toggleCollapseState(Qe)}function _(nt,be,Le=Number.MAX_VALUE,Qe){const je=[];if(Qe&&Qe.length>0)for(const ht of Qe){const bt=nt.getRegionAtLine(ht);if(bt&&(bt.isCollapsed!==be&&je.push(bt),Le>1)){const Dt=nt.getRegionsInside(bt,(Ht,ei)=>Ht.isCollapsed!==be&&ei<Le);je.push(...Dt)}}else{const ht=nt.getRegionsInside(null,(bt,Dt)=>bt.isCollapsed!==be&&Dt<Le);je.push(...ht)}nt.toggleCollapseState(je)}function E(nt,be,Le,Qe){const je=[];for(const ht of Qe){const bt=nt.getAllRegionsAtLine(ht,(Dt,Ht)=>Dt.isCollapsed!==be&&Ht<=Le);je.push(...bt)}nt.toggleCollapseState(je)}function I(nt,be,Le){const Qe=[];for(const je of Le){const ht=nt.getAllRegionsAtLine(je,bt=>bt.isCollapsed!==be);ht.length>0&&Qe.push(ht[0])}nt.toggleCollapseState(Qe)}function R(nt,be,Le,Qe){const je=(bt,Dt)=>Dt===be&&bt.isCollapsed!==Le&&!Qe.some(Ht=>bt.containsLine(Ht)),ht=nt.getRegionsInside(null,je);nt.toggleCollapseState(ht)}function J(nt,be,Le){const Qe=[];for(const bt of Le){const Dt=nt.getAllRegionsAtLine(bt,void 0);Dt.length>0&&Qe.push(Dt[0])}const je=bt=>Qe.every(Dt=>!Dt.containedBy(bt)&&!bt.containedBy(Dt))&&bt.isCollapsed!==be,ht=nt.getRegionsInside(null,je);nt.toggleCollapseState(ht)}function Q(nt,be,Le){const Qe=nt.textModel,je=nt.regions,ht=[];for(let bt=je.length-1;bt>=0;bt--)if(Le!==je.isCollapsed(bt)){const Dt=je.getStartLineNumber(bt);be.test(Qe.getLineContent(Dt))&&ht.push(je.toRegion(bt))}nt.toggleCollapseState(ht)}function U(nt,be,Le){const Qe=nt.regions,je=[];for(let ht=Qe.length-1;ht>=0;ht--)Le!==Qe.isCollapsed(ht)&&be===Qe.getType(ht)&&je.push(Qe.toRegion(ht));nt.toggleCollapseState(je)}function K(nt,be){let Le=null;const Qe=be.getRegionAtLine(nt);if(Qe!==null&&(Le=Qe.startLineNumber,nt===Le)){const je=Qe.parentIndex;je!==-1?Le=be.regions.getStartLineNumber(je):Le=null}return Le}function H(nt,be){let Le=be.getRegionAtLine(nt);if(Le!==null&&Le.startLineNumber===nt){if(nt!==Le.startLineNumber)return Le.startLineNumber;{const Qe=Le.parentIndex;let je=0;for(Qe!==-1&&(je=be.regions.getStartLineNumber(Le.parentIndex));Le!==null;)if(Le.regionIndex>0){if(Le=be.regions.toRegion(Le.regionIndex-1),Le.startLineNumber<=je)return null;if(Le.parentIndex===Qe)return Le.startLineNumber}else return null}}else if(be.regions.length>0)for(Le=be.regions.toRegion(be.regions.length-1);Le!==null;){if(Le.startLineNumber<nt)return Le.startLineNumber;Le.regionIndex>0?Le=be.regions.toRegion(Le.regionIndex-1):Le=null}return null}function X(nt,be){let Le=be.getRegionAtLine(nt);if(Le!==null&&Le.startLineNumber===nt){const Qe=Le.parentIndex;let je=0;if(Qe!==-1)je=be.regions.getEndLineNumber(Le.parentIndex);else{if(be.regions.length===0)return null;je=be.regions.getEndLineNumber(be.regions.length-1)}for(;Le!==null;)if(Le.regionIndex<be.regions.length){if(Le=be.regions.toRegion(Le.regionIndex+1),Le.startLineNumber>=je)return null;if(Le.parentIndex===Qe)return Le.startLineNumber}else return null}else if(be.regions.length>0)for(Le=be.regions.toRegion(0);Le!==null;){if(Le.startLineNumber>nt)return Le.startLineNumber;Le.regionIndex<be.regions.length?Le=be.regions.toRegion(Le.regionIndex+1):Le=null}return null}var j=i(9488),x=i(24314),Z=i(23795);class T{constructor(be){this._updateEventEmitter=new p.Q5,this._hasLineChanges=!1,this._foldingModel=be,this._foldingModelListener=be.onDidChange(Le=>this.updateHiddenRanges()),this._hiddenRanges=[],be.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(be){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=be.changes.some(Le=>Le.range.endLineNumber!==Le.range.startLineNumber||(0,Z.Q)(Le.text)[0]!==0))}updateHiddenRanges(){let be=!1;const Le=[];let Qe=0,je=0,ht=Number.MAX_VALUE,bt=-1;const Dt=this._foldingModel.regions;for(;Qe<Dt.length;Qe++){if(!Dt.isCollapsed(Qe))continue;const Ht=Dt.getStartLineNumber(Qe)+1,ei=Dt.getEndLineNumber(Qe);ht<=Ht&&ei<=bt||(!be&&je<this._hiddenRanges.length&&this._hiddenRanges[je].startLineNumber===Ht&&this._hiddenRanges[je].endLineNumber===ei?(Le.push(this._hiddenRanges[je]),je++):(be=!0,Le.push(new x.e(Ht,1,ei,1))),ht=Ht,bt=ei)}(this._hasLineChanges||be||je<this._hiddenRanges.length)&&this.applyHiddenRanges(Le)}applyHiddenRanges(be){this._hiddenRanges=be,this._hasLineChanges=!1,this._updateEventEmitter.fire(be)}hasRanges(){return this._hiddenRanges.length>0}isHidden(be){return G(this._hiddenRanges,be)!==null}adjustSelections(be){let Le=!1;const Qe=this._foldingModel.textModel;let je=null;const ht=bt=>((!je||!z(bt,je))&&(je=G(this._hiddenRanges,bt)),je?je.startLineNumber-1:null);for(let bt=0,Dt=be.length;bt<Dt;bt++){let Ht=be[bt];const ei=ht(Ht.startLineNumber);ei&&(Ht=Ht.setStartPosition(ei,Qe.getLineMaxColumn(ei)),Le=!0);const ui=ht(Ht.endLineNumber);ui&&(Ht=Ht.setEndPosition(ui,Qe.getLineMaxColumn(ui)),Le=!0),be[bt]=Ht}return Le}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function z(nt,be){return nt>=be.startLineNumber&&nt<=be.endLineNumber}function G(nt,be){const Le=(0,j.lG)(nt,Qe=>be<Qe.startLineNumber)-1;return Le>=0&&nt[Le].endLineNumber>=be?nt[Le]:null}var re=i(59616);const S=5e3,he="indent";class Ce{constructor(be,Le,Qe){this.editorModel=be,this.languageConfigurationService=Le,this.maxFoldingRegions=Qe,this.id=he}dispose(){}compute(be,Le){const Qe=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,je=Qe&&!!Qe.offSide,ht=Qe&&Qe.markers;return Promise.resolve(pe(this.editorModel,je,ht,this.maxFoldingRegions,Le))}}class ge{constructor(be,Le){this._notifyTooManyRegions=Le,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=be}insertFirst(be,Le,Qe){if(be>n||Le>n)return;const je=this._length;this._startIndexes[je]=be,this._endIndexes[je]=Le,this._length++,Qe<1e3&&(this._indentOccurrences[Qe]=(this._indentOccurrences[Qe]||0)+1)}toIndentRanges(be){var Le;if(this._length<=this._foldingRangesLimit){const Qe=new Uint32Array(this._length),je=new Uint32Array(this._length);for(let ht=this._length-1,bt=0;ht>=0;ht--,bt++)Qe[bt]=this._startIndexes[ht],je[bt]=this._endIndexes[ht];return new f(Qe,je)}else{(Le=this._notifyTooManyRegions)===null||Le===void 0||Le.call(this,this._foldingRangesLimit);let Qe=0,je=this._indentOccurrences.length;for(let Ht=0;Ht<this._indentOccurrences.length;Ht++){const ei=this._indentOccurrences[Ht];if(ei){if(ei+Qe>this._foldingRangesLimit){je=Ht;break}Qe+=ei}}const ht=be.getOptions().tabSize,bt=new Uint32Array(this._foldingRangesLimit),Dt=new Uint32Array(this._foldingRangesLimit);for(let Ht=this._length-1,ei=0;Ht>=0;Ht--){const ui=this._startIndexes[Ht],xi=be.getLineContent(ui),Si=(0,re.q)(xi,ht);(Si<je||Si===je&&Qe++<this._foldingRangesLimit)&&(bt[ei]=ui,Dt[ei]=this._endIndexes[Ht],ei++)}return new f(bt,Dt)}}}function pe(nt,be,Le,Qe,je){const ht=nt.getOptions().tabSize;Qe=Qe??S;const bt=new ge(Qe,je);let Dt;Le&&(Dt=new RegExp(`(${Le.start.source})|(?:${Le.end.source})`));const Ht=[],ei=nt.getLineCount()+1;Ht.push({indent:-1,endAbove:ei,line:ei});for(let ui=nt.getLineCount();ui>0;ui--){const xi=nt.getLineContent(ui),Si=(0,re.q)(xi,ht);let mi=Ht[Ht.length-1];if(Si===-1){be&&(mi.endAbove=ui);continue}let mn;if(Dt&&(mn=xi.match(Dt)))if(mn[1]){let Mi=Ht.length-1;for(;Mi>0&&Ht[Mi].indent!==-2;)Mi--;if(Mi>0){Ht.length=Mi+1,mi=Ht[Mi],bt.insertFirst(ui,mi.line,Si),mi.line=ui,mi.indent=Si,mi.endAbove=ui;continue}}else{Ht.push({indent:-2,endAbove:ui,line:ui});continue}if(mi.indent>Si){do Ht.pop(),mi=Ht[Ht.length-1];while(mi.indent>Si);const Mi=mi.endAbove-1;Mi-ui>=1&&bt.insertFirst(ui,Mi,Si)}mi.indent===Si?mi.endAbove=ui:Ht.push({indent:Si,endAbove:ui,line:ui})}return bt.toIndentRanges(nt)}var ee=i(63580),se=i(16141),ne=i(73910),oe=i(97781),Se=i(73046),Ee=i(92035),Me=i(59554);const ye=(0,Me.q5)("folding-expanded",Se.lA.chevronDown,(0,ee.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),le=(0,Me.q5)("folding-collapsed",Se.lA.chevronRight,(0,ee.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),ie=(0,Me.q5)("folding-manual-collapsed",le,(0,ee.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),ve=(0,Me.q5)("folding-manual-expanded",ye,(0,ee.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin."));class xe{constructor(be){this.editor=be,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(be,Le,Qe){return Le||this.showFoldingControls==="never"?xe.HIDDEN_RANGE_DECORATION:be?Qe?this.showFoldingHighlights?xe.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:xe.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?xe.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:xe.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?Qe?xe.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:xe.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:Qe?xe.MANUALLY_EXPANDED_VISUAL_DECORATION:xe.EXPANDED_VISUAL_DECORATION}changeDecorations(be){return this.editor.changeDecorations(be)}removeDecorations(be){this.editor.removeDecorations(be)}}xe.COLLAPSED_VISUAL_DECORATION=Ee.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:oe.kS.asClassName(le)}),xe.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Ee.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:oe.kS.asClassName(le)}),xe.MANUALLY_COLLAPSED_VISUAL_DECORATION=Ee.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+oe.kS.asClassName(ye)}),xe.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Ee.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:oe.kS.asClassName(ie)}),xe.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Ee.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:oe.kS.asClassName(ye)}),xe.EXPANDED_VISUAL_DECORATION=Ee.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+oe.kS.asClassName(ye)}),xe.MANUALLY_EXPANDED_VISUAL_DECORATION=Ee.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+oe.kS.asClassName(ve)}),xe.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Ee.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:oe.kS.asClassName(ve)}),xe.HIDDEN_RANGE_DECORATION=Ee.qx.register({description:"folding-hidden-range-decoration",stickiness:1});const Ye={},at="syntax";class qe{constructor(be,Le,Qe,je){this.editorModel=be,this.providers=Le,this.limit=je,this.id=at;for(const ht of Le)typeof ht.onDidChange=="function"&&(this.disposables||(this.disposables=new V.SL),this.disposables.add(ht.onDidChange(Qe)))}compute(be,Le){return Re(this.providers,this.editorModel,be).then(Qe=>Qe?st(Qe,this.limit,Le):null)}dispose(){var be;(be=this.disposables)===null||be===void 0||be.dispose()}}function Re(nt,be,Le){let Qe=null;const je=nt.map((ht,bt)=>Promise.resolve(ht.provideFoldingRanges(be,Ye,Le)).then(Dt=>{if(!Le.isCancellationRequested&&Array.isArray(Dt)){Array.isArray(Qe)||(Qe=[]);const Ht=be.getLineCount();for(const ei of Dt)ei.start>0&&ei.end>ei.start&&ei.end<=Ht&&Qe.push({start:ei.start,end:ei.end,rank:bt,kind:ei.kind})}},r.Cp));return Promise.all(je).then(ht=>Qe)}class Je{constructor(be,Le){this._notifyTooManyRegions=Le,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=be}add(be,Le,Qe,je){if(be>n||Le>n)return;const ht=this._length;this._startIndexes[ht]=be,this._endIndexes[ht]=Le,this._nestingLevels[ht]=je,this._types[ht]=Qe,this._length++,je<30&&(this._nestingLevelCounts[je]=(this._nestingLevelCounts[je]||0)+1)}toIndentRanges(){var be;if(this._length<=this._foldingRangesLimit){const Le=new Uint32Array(this._length),Qe=new Uint32Array(this._length);for(let je=0;je<this._length;je++)Le[je]=this._startIndexes[je],Qe[je]=this._endIndexes[je];return new f(Le,Qe,this._types)}else{(be=this._notifyTooManyRegions)===null||be===void 0||be.call(this,this._foldingRangesLimit);let Le=0,Qe=this._nestingLevelCounts.length;for(let Dt=0;Dt<this._nestingLevelCounts.length;Dt++){const Ht=this._nestingLevelCounts[Dt];if(Ht){if(Ht+Le>this._foldingRangesLimit){Qe=Dt;break}Le+=Ht}}const je=new Uint32Array(this._foldingRangesLimit),ht=new Uint32Array(this._foldingRangesLimit),bt=[];for(let Dt=0,Ht=0;Dt<this._length;Dt++){const ei=this._nestingLevels[Dt];(ei<Qe||ei===Qe&&Le++<this._foldingRangesLimit)&&(je[Ht]=this._startIndexes[Dt],ht[Ht]=this._endIndexes[Dt],bt[Ht]=this._types[Dt],Ht++)}return new f(je,ht,bt)}}}function st(nt,be,Le){const Qe=nt.sort((Dt,Ht)=>{let ei=Dt.start-Ht.start;return ei===0&&(ei=Dt.rank-Ht.rank),ei}),je=new Je(be,Le);let ht;const bt=[];for(const Dt of Qe)if(!ht)ht=Dt,je.add(Dt.start,Dt.end,Dt.kind&&Dt.kind.value,bt.length);else if(Dt.start>ht.start)if(Dt.end<=ht.end)bt.push(ht),ht=Dt,je.add(Dt.start,Dt.end,Dt.kind&&Dt.kind.value,bt.length);else{if(Dt.start>ht.end){do ht=bt.pop();while(ht&&Dt.start>ht.end);ht&&bt.push(ht),ht=Dt}je.add(Dt.start,Dt.end,Dt.kind&&Dt.kind.value,bt.length)}return je.toIndentRanges()}var et=i(59422),we=i(14603),Ne=i(88191),de=i(84013),Pe=i(71922),He=function(nt,be,Le,Qe){var je=arguments.length,ht=je<3?be:Qe===null?Qe=Object.getOwnPropertyDescriptor(be,Le):Qe,bt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ht=Reflect.decorate(nt,be,Le,Qe);else for(var Dt=nt.length-1;Dt>=0;Dt--)(bt=nt[Dt])&&(ht=(je<3?bt(ht):je>3?bt(be,Le,ht):bt(be,Le))||ht);return je>3&&ht&&Object.defineProperty(be,Le,ht),ht},$e=function(nt,be){return function(Le,Qe){be(Le,Qe,nt)}};const me=new se.uy("foldingEnabled",!1);let Ie=class Bc extends V.JT{constructor(be,Le,Qe,je,ht,bt){super(),this.contextKeyService=Le,this.languageConfigurationService=Qe,this.languageFeaturesService=bt,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new V.SL),this.editor=be;const Dt=this.editor.getOptions();this._isEnabled=Dt.get(39),this._useFoldingProviders=Dt.get(40)!=="indentation",this._unfoldOnClickAfterEndOfLine=Dt.get(44),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=Dt.get(42),this._maxFoldingRegions=Dt.get(43),this.updateDebounceInfo=ht.for(bt.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new xe(be),this.foldingDecorationProvider.showFoldingControls=Dt.get(101),this.foldingDecorationProvider.showFoldingHighlights=Dt.get(41),this.foldingEnabled=me.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=Ht=>{this._tooManyRegionsNotified||(je.notify({severity:we.Z.Warning,sticky:!0,message:ee.NC("maximum fold ranges",`The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?["editor.foldingMaximumRegions"]) to enable more.`,Ht)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(Ht=>{if(Ht.hasChanged(39)&&(this._isEnabled=this.editor.getOptions().get(39),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),Ht.hasChanged(43)&&(this._maxFoldingRegions=this.editor.getOptions().get(43),this._tooManyRegionsNotified=!1,this.onModelChanged()),Ht.hasChanged(101)||Ht.hasChanged(41)){const ei=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=ei.get(101),this.foldingDecorationProvider.showFoldingHighlights=ei.get(41),this.triggerFoldingModelChanged()}Ht.hasChanged(40)&&(this._useFoldingProviders=this.editor.getOptions().get(40)!=="indentation",this.onFoldingStrategyChanged()),Ht.hasChanged(44)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(44)),Ht.hasChanged(42)&&(this._foldingImportsByDefault=this.editor.getOptions().get(42))})),this.onModelChanged()}static get(be){return be.getContribution(Bc.ID)}saveViewState(){const be=this.editor.getModel();if(!be||!this._isEnabled||be.isTooLargeForTokenization())return{};if(this.foldingModel){const Le=this.foldingModel.getMemento(),Qe=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:Le,lineCount:be.getLineCount(),provider:Qe,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(be){const Le=this.editor.getModel();if(!(!Le||!this._isEnabled||Le.isTooLargeForTokenization()||!this.hiddenRangeModel)&&!(!be||be.lineCount!==Le.getLineCount())&&(this._currentModelHasFoldedImports=!!be.foldedImports,be.collapsedRegions&&be.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(be.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const be=this.editor.getModel();!this._isEnabled||!be||be.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new y(be,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new T(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(Le=>this.onHiddenRangesChanges(Le))),this.updateScheduler=new w.vp(this.updateDebounceInfo.get(be)),this.cursorChangedScheduler=new w.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(Le=>this.onDidChangeModelContent(Le))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(Le=>this.onEditorMouseDown(Le))),this.localToDispose.add(this.editor.onMouseUp(Le=>this.onEditorMouseUp(Le))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(be){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new Ce(be,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){const Le=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);Le.length>0&&(this.rangeProvider=new qe(be,Le,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(be){var Le;(Le=this.hiddenRangeModel)===null||Le===void 0||Le.notifyChangeModelContent(be),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const be=this.foldingModel;if(!be)return null;const Le=new de.G(!0),Qe=this.getRangeProvider(be.textModel),je=this.foldingRegionPromise=(0,w.PG)(ht=>Qe.compute(ht,this._notifyTooManyRegions));return je.then(ht=>{if(ht&&je===this.foldingRegionPromise){let bt;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const ui=ht.setCollapsedAllOfType(L.AD.Imports.value,!0);ui&&(bt=M.Z.capture(this.editor),this._currentModelHasFoldedImports=ui)}const Dt=this.editor.getSelections(),Ht=Dt?Dt.map(ui=>ui.startLineNumber):[];be.update(ht,Ht),bt==null||bt.restore(this.editor);const ei=this.updateDebounceInfo.update(be.textModel,Le.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=ei)}return be})}).then(void 0,be=>((0,r.dL)(be),null)))}onHiddenRangesChanges(be){if(this.hiddenRangeModel&&be.length&&!this._restoringViewState){const Le=this.editor.getSelections();Le&&this.hiddenRangeModel.adjustSelections(Le)&&this.editor.setSelections(Le)}this.editor.setHiddenAreas(be)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const be=this.getFoldingModel();!be||be.then(Le=>{if(Le){const Qe=this.editor.getSelections();if(Qe&&Qe.length>0){const je=[];for(const ht of Qe){const bt=ht.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(bt)&&je.push(...Le.getAllRegionsAtLine(bt,Dt=>Dt.isCollapsed&&bt>Dt.startLineNumber))}je.length&&(Le.toggleCollapseState(je),this.reveal(Qe[0].getPosition()))}}}).then(void 0,r.dL)}onEditorMouseDown(be){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!be.target||!be.target.range||!be.event.leftButton&&!be.event.middleButton)return;const Le=be.target.range;let Qe=!1;switch(be.target.type){case 4:{const je=be.target.detail,ht=be.target.element.offsetLeft;if(je.offsetX-ht<5)return;Qe=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!be.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const je=this.editor.getModel();if(je&&Le.startColumn===je.getLineMaxColumn(Le.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:Le.startLineNumber,iconClicked:Qe}}onEditorMouseUp(be){const Le=this.foldingModel;if(!Le||!this.mouseDownInfo||!be.target)return;const Qe=this.mouseDownInfo.lineNumber,je=this.mouseDownInfo.iconClicked,ht=be.target.range;if(!ht||ht.startLineNumber!==Qe)return;if(je){if(be.target.type!==4)return}else{const Dt=this.editor.getModel();if(!Dt||ht.startColumn!==Dt.getLineMaxColumn(Qe))return}const bt=Le.getRegionAtLine(Qe);if(bt&&bt.startLineNumber===Qe){const Dt=bt.isCollapsed;if(je||Dt){const Ht=be.event.altKey;let ei=[];if(Ht){const ui=Si=>!Si.containedBy(bt)&&!bt.containedBy(Si),xi=Le.getRegionsInside(null,ui);for(const Si of xi)Si.isCollapsed&&ei.push(Si);ei.length===0&&(ei=xi)}else{const ui=be.event.middleButton||be.event.shiftKey;if(ui)for(const xi of Le.getRegionsInside(bt))xi.isCollapsed===Dt&&ei.push(xi);(Dt||!ui||ei.length===0)&&ei.push(bt)}Le.toggleCollapseState(ei),this.reveal({lineNumber:Qe,column:1})}}}reveal(be){this.editor.revealPositionInCenterIfOutsideViewport(be,0)}};Ie.ID="editor.contrib.folding",Ie=He([$e(1,se.i6),$e(2,c.c_),$e(3,et.lT),$e(4,Ne.A),$e(5,Pe.p)],Ie);class Ge extends P.R6{runEditorCommand(be,Le,Qe){const je=be.get(c.c_),ht=Ie.get(Le);if(!ht)return;const bt=ht.getFoldingModel();if(bt)return this.reportTelemetry(be,Le),bt.then(Dt=>{if(Dt){this.invoke(ht,Dt,Le,Qe,je);const Ht=Le.getSelection();Ht&&ht.reveal(Ht.getStartPosition())}})}getSelectedLines(be){const Le=be.getSelections();return Le?Le.map(Qe=>Qe.startLineNumber):[]}getLineNumbers(be,Le){return be&&be.selectionLines?be.selectionLines.map(Qe=>Qe+1):this.getSelectedLines(Le)}run(be,Le){}}function ft(nt){if(!$.o8(nt)){if(!$.Kn(nt))return!1;const be=nt;if(!$.o8(be.levels)&&!$.hj(be.levels)||!$.o8(be.direction)&&!$.HD(be.direction)||!$.o8(be.selectionLines)&&(!$.kJ(be.selectionLines)||!be.selectionLines.every($.hj)))return!1}return!0}class ze extends Ge{constructor(){super({id:"editor.unfold",label:ee.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:ft,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(be,Le,Qe,je){const ht=je&&je.levels||1,bt=this.getLineNumbers(je,Qe);je&&je.direction==="up"?E(Le,!1,ht,bt):_(Le,!1,ht,bt)}}class mt extends Ge{constructor(){super({id:"editor.unfoldRecursively",label:ee.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,primary:(0,O.gx)(2089,2137),weight:100}})}invoke(be,Le,Qe,je){_(Le,!1,Number.MAX_VALUE,this.getSelectedLines(Qe))}}class wt extends Ge{constructor(){super({id:"editor.fold",label:ee.NC("foldAction.label","Fold"),alias:"Fold",precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:ft,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(be,Le,Qe,je){const ht=this.getLineNumbers(je,Qe),bt=je&&je.levels,Dt=je&&je.direction;typeof bt!="number"&&typeof Dt!="string"?I(Le,!0,ht):Dt==="up"?E(Le,!0,bt||1,ht):_(Le,!0,bt||1,ht)}}class Oe extends Ge{constructor(){super({id:"editor.toggleFold",label:ee.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,primary:(0,O.gx)(2089,2090),weight:100}})}invoke(be,Le,Qe){const je=this.getSelectedLines(Qe);b(Le,1,je)}}class lt extends Ge{constructor(){super({id:"editor.foldRecursively",label:ee.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,primary:(0,O.gx)(2089,2135),weight:100}})}invoke(be,Le,Qe){const je=this.getSelectedLines(Qe);_(Le,!0,Number.MAX_VALUE,je)}}class Bt extends Ge{constructor(){super({id:"editor.foldAllBlockComments",label:ee.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,primary:(0,O.gx)(2089,2133),weight:100}})}invoke(be,Le,Qe,je,ht){if(Le.regions.hasTypes())U(Le,L.AD.Comment.value,!0);else{const bt=Qe.getModel();if(!bt)return;const Dt=ht.getLanguageConfiguration(bt.getLanguageId()).comments;if(Dt&&Dt.blockCommentStartToken){const Ht=new RegExp("^\\s*"+(0,D.ec)(Dt.blockCommentStartToken));Q(Le,Ht,!0)}}}}class Zt extends Ge{constructor(){super({id:"editor.foldAllMarkerRegions",label:ee.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,primary:(0,O.gx)(2089,2077),weight:100}})}invoke(be,Le,Qe,je,ht){if(Le.regions.hasTypes())U(Le,L.AD.Region.value,!0);else{const bt=Qe.getModel();if(!bt)return;const Dt=ht.getLanguageConfiguration(bt.getLanguageId()).foldingRules;if(Dt&&Dt.markers&&Dt.markers.start){const Ht=new RegExp(Dt.markers.start);Q(Le,Ht,!0)}}}}class pi extends Ge{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:ee.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,primary:(0,O.gx)(2089,2078),weight:100}})}invoke(be,Le,Qe,je,ht){if(Le.regions.hasTypes())U(Le,L.AD.Region.value,!1);else{const bt=Qe.getModel();if(!bt)return;const Dt=ht.getLanguageConfiguration(bt.getLanguageId()).foldingRules;if(Dt&&Dt.markers&&Dt.markers.start){const Ht=new RegExp(Dt.markers.start);Q(Le,Ht,!1)}}}}class Li extends Ge{constructor(){super({id:"editor.foldAllExcept",label:ee.NC("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,primary:(0,O.gx)(2089,2131),weight:100}})}invoke(be,Le,Qe){const je=this.getSelectedLines(Qe);J(Le,!0,je)}}class ot extends Ge{constructor(){super({id:"editor.unfoldAllExcept",label:ee.NC("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,primary:(0,O.gx)(2089,2129),weight:100}})}invoke(be,Le,Qe){const je=this.getSelectedLines(Qe);J(Le,!1,je)}}class Ft extends Ge{constructor(){super({id:"editor.foldAll",label:ee.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,primary:(0,O.gx)(2089,2069),weight:100}})}invoke(be,Le,Qe){_(Le,!0)}}class Yt extends Ge{constructor(){super({id:"editor.unfoldAll",label:ee.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,primary:(0,O.gx)(2089,2088),weight:100}})}invoke(be,Le,Qe){_(Le,!1)}}class _i extends Ge{getFoldingLevel(){return parseInt(this.id.substr(_i.ID_PREFIX.length))}invoke(be,Le,Qe){R(Le,this.getFoldingLevel(),!0,this.getSelectedLines(Qe))}}_i.ID_PREFIX="editor.foldLevel",_i.ID=nt=>_i.ID_PREFIX+nt;class Ci extends Ge{constructor(){super({id:"editor.gotoParentFold",label:ee.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,weight:100}})}invoke(be,Le,Qe){const je=this.getSelectedLines(Qe);if(je.length>0){const ht=K(je[0],Le);ht!==null&&Qe.setSelection({startLineNumber:ht,startColumn:1,endLineNumber:ht,endColumn:1})}}}class bi extends Ge{constructor(){super({id:"editor.gotoPreviousFold",label:ee.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,weight:100}})}invoke(be,Le,Qe){const je=this.getSelectedLines(Qe);if(je.length>0){const ht=H(je[0],Le);ht!==null&&Qe.setSelection({startLineNumber:ht,startColumn:1,endLineNumber:ht,endColumn:1})}}}class ai extends Ge{constructor(){super({id:"editor.gotoNextFold",label:ee.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,weight:100}})}invoke(be,Le,Qe){const je=this.getSelectedLines(Qe);if(je.length>0){const ht=X(je[0],Le);ht!==null&&Qe.setSelection({startLineNumber:ht,startColumn:1,endLineNumber:ht,endColumn:1})}}}class Mt extends Ge{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:ee.NC("createManualFoldRange.label","Create Manual Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,primary:(0,O.gx)(2089,2130),weight:100}})}invoke(be,Le,Qe){var je;const ht=[],bt=Qe.getSelections();if(bt){for(const Dt of bt){let Ht=Dt.endLineNumber;Dt.endColumn===1&&--Ht,Ht>Dt.startLineNumber&&(ht.push({startLineNumber:Dt.startLineNumber,endLineNumber:Ht,type:void 0,isCollapsed:!0,source:1}),Qe.setSelection({startLineNumber:Dt.startLineNumber,startColumn:1,endLineNumber:Dt.startLineNumber,endColumn:1}))}if(ht.length>0){ht.sort((Ht,ei)=>Ht.startLineNumber-ei.startLineNumber);const Dt=f.sanitizeAndMerge(Le.regions,ht,(je=Qe.getModel())===null||je===void 0?void 0:je.getLineCount());Le.updatePost(f.fromFoldRanges(Dt))}}}}class Ut extends Ge{constructor(){super({id:"editor.removeManualFoldingRanges",label:ee.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,primary:(0,O.gx)(2089,2132),weight:100}})}invoke(be,Le,Qe){const je=Qe.getSelections();if(je){const ht=[];for(const bt of je){const{startLineNumber:Dt,endLineNumber:Ht}=bt;ht.push(Ht>=Dt?{startLineNumber:Dt,endLineNumber:Ht}:{endLineNumber:Ht,startLineNumber:Dt})}Le.removeManualRanges(ht),be.triggerFoldingModelChanged()}}}(0,P._K)(Ie.ID,Ie),(0,P.Qr)(ze),(0,P.Qr)(mt),(0,P.Qr)(wt),(0,P.Qr)(lt),(0,P.Qr)(Ft),(0,P.Qr)(Yt),(0,P.Qr)(Bt),(0,P.Qr)(Zt),(0,P.Qr)(pi),(0,P.Qr)(Li),(0,P.Qr)(ot),(0,P.Qr)(Oe),(0,P.Qr)(Ci),(0,P.Qr)(bi),(0,P.Qr)(ai),(0,P.Qr)(Mt),(0,P.Qr)(Ut);for(let nt=1;nt<=7;nt++)(0,P.QG)(new _i({id:_i.ID(nt),label:ee.NC("foldLevelAction.label","Fold Level {0}",nt),alias:`Fold Level ${nt}`,precondition:me,kbOpts:{kbExpr:A.u.editorTextFocus,primary:(0,O.gx)(2089,2048|21+nt),weight:100}}));const vt=(0,ne.P6G)("editor.foldBackground",{light:(0,ne.ZnX)(ne.hEj,.3),dark:(0,ne.ZnX)(ne.hEj,.3),hcDark:null,hcLight:null},ee.NC("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),_t=(0,ne.P6G)("editorGutter.foldingControlForeground",{dark:ne.XZx,light:ne.XZx,hcDark:ne.XZx,hcLight:ne.XZx},ee.NC("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,oe.Ic)((nt,be)=>{const Le=nt.getColor(vt);Le&&be.addRule(`.monaco-editor .folded-background { background-color: ${Le}; }`);const Qe=nt.getColor(_t);Qe&&be.addRule(`
		.monaco-editor .cldr${oe.kS.asCSSSelector(ye)},
		.monaco-editor .cldr${oe.kS.asCSSSelector(le)},
		.monaco-editor .cldr${oe.kS.asCSSSelector(ve)},
		.monaco-editor .cldr${oe.kS.asCSSSelector(ie)} {
			color: ${Qe} !important;
		}
		`)})},44125:function(Ot,Te,i){"use strict";i.r(Te);var w=i(16830),r=i(82334),O=i(63580);class V extends w.R6{constructor(){super({id:"editor.action.fontZoomIn",label:O.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(P,A){r.C.setZoomLevel(r.C.getZoomLevel()+1)}}class D extends w.R6{constructor(){super({id:"editor.action.fontZoomOut",label:O.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(P,A){r.C.setZoomLevel(r.C.getZoomLevel()-1)}}class $ extends w.R6{constructor(){super({id:"editor.action.fontZoomReset",label:O.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(P,A){r.C.setZoomLevel(0)}}(0,w.Qr)(V),(0,w.Qr)(D),(0,w.Qr)($)},58823:function(Ot,Te,i){"use strict";i.d(Te,{xC:function(){return R},Zg:function(){return E},x$:function(){return J},Qq:function(){return U},Qs:function(){return j}});var w=i(57924),r=i(9488),O=i(71050),V=i(17301),D=i(53725),$=i(91741),M=i(98401),P=i(70666),A=i(16467),L=i(65520),c=i(50187),p=i(24314),l=i(3860),n=i(85215),a=i(88216),g=i(35120),f=i(63580),u=i(94565);class C{constructor(Z){this.value=Z,this._lower=Z.toLowerCase()}static toKey(Z){return typeof Z=="string"?Z.toLowerCase():Z._lower}}var y=i(72065),b=i(71922),_=function(x,Z,T,z){function G(re){return re instanceof T?re:new T(function(S){S(re)})}return new(T||(T=Promise))(function(re,S){function he(pe){try{ge(z.next(pe))}catch(ee){S(ee)}}function Ce(pe){try{ge(z.throw(pe))}catch(ee){S(ee)}}function ge(pe){pe.done?re(pe.value):G(pe.value).then(he,Ce)}ge((z=z.apply(x,Z||[])).next())})};function E(x){if(x=x.filter(G=>G.range),!x.length)return;let{range:Z}=x[0];for(let G=1;G<x.length;G++)Z=p.e.plusRange(Z,x[G].range);const{startLineNumber:T,endLineNumber:z}=Z;T===z?x.length===1?(0,w.Z9)(f.NC("hint11","Made 1 formatting edit on line {0}",T)):(0,w.Z9)(f.NC("hintn1","Made {0} formatting edits on line {1}",x.length,T)):x.length===1?(0,w.Z9)(f.NC("hint1n","Made 1 formatting edit between lines {0} and {1}",T,z)):(0,w.Z9)(f.NC("hintnn","Made {0} formatting edits between lines {1} and {2}",x.length,T,z))}function I(x,Z,T){const z=[],G=new Set,re=x.ordered(T);for(const he of re)z.push(he),he.extensionId&&G.add(C.toKey(he.extensionId));const S=Z.ordered(T);for(const he of S){if(he.extensionId){if(G.has(C.toKey(he.extensionId)))continue;G.add(C.toKey(he.extensionId))}z.push({displayName:he.displayName,extensionId:he.extensionId,provideDocumentFormattingEdits(Ce,ge,pe){return he.provideDocumentRangeFormattingEdits(Ce,Ce.getFullModelRange(),ge,pe)}})}return z}class R{static setFormatterSelector(Z){return{dispose:R._selectors.unshift(Z)}}static select(Z,T,z){return _(this,void 0,void 0,function*(){if(Z.length===0)return;const G=D.$.first(R._selectors);if(G)return yield G(Z,T,z)})}}R._selectors=new $.S;function J(x,Z,T,z,G,re){return _(this,void 0,void 0,function*(){const S=x.get(y.TG),{documentRangeFormattingEditProvider:he}=x.get(b.p),Ce=(0,L.CL)(Z)?Z.getModel():Z,ge=he.ordered(Ce),pe=yield R.select(ge,Ce,z);pe&&(G.report(pe),yield S.invokeFunction(Q,pe,Z,T,re))})}function Q(x,Z,T,z,G){return _(this,void 0,void 0,function*(){const re=x.get(n.p);let S,he;(0,L.CL)(T)?(S=T.getModel(),he=new A.Dl(T,5,void 0,G)):(S=T,he=new A.YQ(T,G));const Ce=[];let ge=0;for(const oe of(0,r._2)(z).sort(p.e.compareRangesUsingStarts))ge>0&&p.e.areIntersectingOrTouching(Ce[ge-1],oe)?Ce[ge-1]=p.e.fromPositions(Ce[ge-1].getStartPosition(),oe.getEndPosition()):ge=Ce.push(oe);const pe=oe=>_(this,void 0,void 0,function*(){return(yield Z.provideDocumentRangeFormattingEdits(S,oe,S.getFormattingOptions(),he.token))||[]}),ee=(oe,Se)=>{if(!oe.length||!Se.length)return!1;const Ee=oe.reduce((Me,ye)=>p.e.plusRange(Me,ye.range),oe[0].range);if(!Se.some(Me=>p.e.intersectRanges(Ee,Me.range)))return!1;for(const Me of oe)for(const ye of Se)if(p.e.intersectRanges(Me.range,ye.range))return!0;return!1},se=[],ne=[];try{for(const oe of Ce){if(he.token.isCancellationRequested)return!0;ne.push(yield pe(oe))}for(let oe=0;oe<Ce.length;++oe)for(let Se=oe+1;Se<Ce.length;++Se){if(he.token.isCancellationRequested)return!0;if(ee(ne[oe],ne[Se])){const Ee=p.e.plusRange(Ce[oe],Ce[Se]),Me=yield pe(Ee);Ce.splice(Se,1),Ce.splice(oe,1),Ce.push(Ee),ne.splice(Se,1),ne.splice(oe,1),ne.push(Me),oe=0,Se=0}}for(const oe of ne){if(he.token.isCancellationRequested)return!0;const Se=yield re.computeMoreMinimalEdits(S.uri,oe);Se&&se.push(...Se)}}finally{he.dispose()}if(se.length===0)return!1;if((0,L.CL)(T))g.V.execute(T,se,!0),E(se),T.revealPositionInCenterIfOutsideViewport(T.getPosition(),1);else{const[{range:oe}]=se,Se=new l.Y(oe.startLineNumber,oe.startColumn,oe.endLineNumber,oe.endColumn);S.pushEditOperations([Se],se.map(Ee=>({text:Ee.text,range:p.e.lift(Ee.range),forceMoveMarkers:!0})),Ee=>{for(const{range:Me}of Ee)if(p.e.areIntersectingOrTouching(Me,Se))return[new l.Y(Me.startLineNumber,Me.startColumn,Me.endLineNumber,Me.endColumn)];return null})}return!0})}function U(x,Z,T,z,G){return _(this,void 0,void 0,function*(){const re=x.get(y.TG),S=x.get(b.p),he=(0,L.CL)(Z)?Z.getModel():Z,Ce=I(S.documentFormattingEditProvider,S.documentRangeFormattingEditProvider,he),ge=yield R.select(Ce,he,T);ge&&(z.report(ge),yield re.invokeFunction(K,ge,Z,T,G))})}function K(x,Z,T,z,G){return _(this,void 0,void 0,function*(){const re=x.get(n.p);let S,he;(0,L.CL)(T)?(S=T.getModel(),he=new A.Dl(T,5,void 0,G)):(S=T,he=new A.YQ(T,G));let Ce;try{const ge=yield Z.provideDocumentFormattingEdits(S,S.getFormattingOptions(),he.token);if(Ce=yield re.computeMoreMinimalEdits(S.uri,ge),he.token.isCancellationRequested)return!0}finally{he.dispose()}if(!Ce||Ce.length===0)return!1;if((0,L.CL)(T))g.V.execute(T,Ce,z!==2),z!==2&&(E(Ce),T.revealPositionInCenterIfOutsideViewport(T.getPosition(),1));else{const[{range:ge}]=Ce,pe=new l.Y(ge.startLineNumber,ge.startColumn,ge.endLineNumber,ge.endColumn);S.pushEditOperations([pe],Ce.map(ee=>({text:ee.text,range:p.e.lift(ee.range),forceMoveMarkers:!0})),ee=>{for(const{range:se}of ee)if(p.e.areIntersectingOrTouching(se,pe))return[new l.Y(se.startLineNumber,se.startColumn,se.endLineNumber,se.endColumn)];return null})}return!0})}function H(x,Z,T,z,G,re){return _(this,void 0,void 0,function*(){const S=Z.documentRangeFormattingEditProvider.ordered(T);for(const he of S){const Ce=yield Promise.resolve(he.provideDocumentRangeFormattingEdits(T,z,G,re)).catch(V.Cp);if((0,r.Of)(Ce))return yield x.computeMoreMinimalEdits(T.uri,Ce)}})}function X(x,Z,T,z,G){return _(this,void 0,void 0,function*(){const re=I(Z.documentFormattingEditProvider,Z.documentRangeFormattingEditProvider,T);for(const S of re){const he=yield Promise.resolve(S.provideDocumentFormattingEdits(T,z,G)).catch(V.Cp);if((0,r.Of)(he))return yield x.computeMoreMinimalEdits(T.uri,he)}})}function j(x,Z,T,z,G,re,S){const he=Z.onTypeFormattingEditProvider.ordered(T);return he.length===0||he[0].autoFormatTriggerCharacters.indexOf(G)<0?Promise.resolve(void 0):Promise.resolve(he[0].provideOnTypeFormattingEdits(T,z,G,re,S)).catch(V.Cp).then(Ce=>x.computeMoreMinimalEdits(T.uri,Ce))}u.P0.registerCommand("_executeFormatRangeProvider",function(x,...Z){return _(this,void 0,void 0,function*(){const[T,z,G]=Z;(0,M.p_)(P.o.isUri(T)),(0,M.p_)(p.e.isIRange(z));const re=x.get(a.S),S=x.get(n.p),he=x.get(b.p),Ce=yield re.createModelReference(T);try{return H(S,he,Ce.object.textEditorModel,p.e.lift(z),G,O.T.None)}finally{Ce.dispose()}})}),u.P0.registerCommand("_executeFormatDocumentProvider",function(x,...Z){return _(this,void 0,void 0,function*(){const[T,z]=Z;(0,M.p_)(P.o.isUri(T));const G=x.get(a.S),re=x.get(n.p),S=x.get(b.p),he=yield G.createModelReference(T);try{return X(re,S,he.object.textEditorModel,z,O.T.None)}finally{he.dispose()}})}),u.P0.registerCommand("_executeFormatOnTypeProvider",function(x,...Z){return _(this,void 0,void 0,function*(){const[T,z,G,re]=Z;(0,M.p_)(P.o.isUri(T)),(0,M.p_)(c.L.isIPosition(z)),(0,M.p_)(typeof G=="string");const S=x.get(a.S),he=x.get(n.p),Ce=x.get(b.p),ge=yield S.createModelReference(T);try{return j(he,Ce,ge.object.textEditorModel,c.L.lift(z),G,re,O.T.None)}finally{ge.dispose()}})})},61097:function(Ot,Te,i){"use strict";i.r(Te);var w=i(9488),r=i(71050),O=i(17301),V=i(22258),D=i(9917),$=i(16830),M=i(11640),P=i(44906),A=i(24314),L=i(29102),c=i(85215),p=i(71922),l=i(58823),n=i(35120),a=i(63580),g=i(94565),f=i(16141),u=i(72065),C=i(90535),y=function(Q,U,K,H){var X=arguments.length,j=X<3?U:H===null?H=Object.getOwnPropertyDescriptor(U,K):H,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(Q,U,K,H);else for(var Z=Q.length-1;Z>=0;Z--)(x=Q[Z])&&(j=(X<3?x(j):X>3?x(U,K,j):x(U,K))||j);return X>3&&j&&Object.defineProperty(U,K,j),j},b=function(Q,U){return function(K,H){U(K,H,Q)}},_=function(Q,U,K,H){function X(j){return j instanceof K?j:new K(function(x){x(j)})}return new(K||(K=Promise))(function(j,x){function Z(G){try{z(H.next(G))}catch(re){x(re)}}function T(G){try{z(H.throw(G))}catch(re){x(re)}}function z(G){G.done?j(G.value):X(G.value).then(Z,T)}z((H=H.apply(Q,U||[])).next())})};let E=class{constructor(U,K,H){this._editor=U,this._languageFeaturesService=K,this._workerService=H,this._disposables=new D.SL,this._sessionDisposables=new D.SL,this._disposables.add(K.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(U.onDidChangeModel(()=>this._update())),this._disposables.add(U.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(U.onDidChangeConfiguration(X=>{X.hasChanged(51)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(51)||!this._editor.hasModel())return;const U=this._editor.getModel(),[K]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(U);if(!K||!K.autoFormatTriggerCharacters)return;const H=new P.q;for(const X of K.autoFormatTriggerCharacters)H.add(X.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(X=>{const j=X.charCodeAt(X.length-1);H.has(j)&&this._trigger(String.fromCharCode(j))}))}_trigger(U){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const K=this._editor.getModel(),H=this._editor.getPosition(),X=new r.A,j=this._editor.onDidChangeModelContent(x=>{if(x.isFlush){X.cancel(),j.dispose();return}for(let Z=0,T=x.changes.length;Z<T;Z++)if(x.changes[Z].range.endLineNumber<=H.lineNumber){X.cancel(),j.dispose();return}});(0,l.Qs)(this._workerService,this._languageFeaturesService,K,H,U,K.getFormattingOptions(),X.token).then(x=>{X.token.isCancellationRequested||(0,w.Of)(x)&&(n.V.execute(this._editor,x,!0),(0,l.Zg)(x))}).finally(()=>{j.dispose()})}};E.ID="editor.contrib.autoFormat",E=y([b(1,p.p),b(2,c.p)],E);let I=class{constructor(U,K,H){this.editor=U,this._languageFeaturesService=K,this._instantiationService=H,this._callOnDispose=new D.SL,this._callOnModel=new D.SL,this._callOnDispose.add(U.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(U.onDidChangeModel(()=>this._update())),this._callOnDispose.add(U.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(K.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(50)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:U})=>this._trigger(U))))}_trigger(U){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(l.x$,this.editor,U,2,C.Ex.None,r.T.None).catch(O.dL)}};I.ID="editor.contrib.formatOnPaste",I=y([b(1,p.p),b(2,u.TG)],I);class R extends $.R6{constructor(){super({id:"editor.action.formatDocument",label:a.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:f.Ao.and(L.u.notInCompositeEditor,L.u.writable,L.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:L.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(U,K){return _(this,void 0,void 0,function*(){if(K.hasModel()){const H=U.get(u.TG);yield U.get(C.ek).showWhile(H.invokeFunction(l.Qq,K,1,C.Ex.None,r.T.None),250)}})}}class J extends $.R6{constructor(){super({id:"editor.action.formatSelection",label:a.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:f.Ao.and(L.u.writable,L.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:L.u.editorTextFocus,primary:(0,V.gx)(2089,2084),weight:100},contextMenuOpts:{when:L.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(U,K){return _(this,void 0,void 0,function*(){if(!K.hasModel())return;const H=U.get(u.TG),X=K.getModel(),j=K.getSelections().map(Z=>Z.isEmpty()?new A.e(Z.startLineNumber,1,Z.startLineNumber,X.getLineMaxColumn(Z.startLineNumber)):Z);yield U.get(C.ek).showWhile(H.invokeFunction(l.x$,K,j,1,C.Ex.None,r.T.None),250)})}}(0,$._K)(E.ID,E),(0,$._K)(I.ID,I),(0,$.Qr)(R),(0,$.Qr)(J),g.P0.registerCommand("editor.action.format",Q=>_(void 0,void 0,void 0,function*(){const U=Q.get(M.$).getFocusedCodeEditor();if(!U||!U.hasModel())return;const K=Q.get(g.Hy);U.getSelection().isEmpty()?yield K.executeCommand("editor.action.formatDocument"):yield K.executeCommand("editor.action.formatSelection")}))},35120:function(Ot,Te,i){"use strict";i.d(Te,{V:function(){return O}});var w=i(69386),r=i(24314);class O{static _handleEolEdits(D,$){let M;const P=[];for(const A of $)typeof A.eol=="number"&&(M=A.eol),A.range&&typeof A.text=="string"&&P.push(A);return typeof M=="number"&&D.hasModel()&&D.getModel().pushEOL(M),P}static _isFullModelReplaceEdit(D,$){if(!D.hasModel())return!1;const M=D.getModel(),P=M.validateRange($.range);return M.getFullModelRange().equalsRange(P)}static execute(D,$,M){M&&D.pushUndoStop();const P=O._handleEolEdits(D,$);P.length===1&&O._isFullModelReplaceEdit(D,P[0])?D.executeEdits("formatEditsCommand",P.map(A=>w.h.replace(r.e.lift(A.range),A.text))):D.executeEdits("formatEditsCommand",P.map(A=>w.h.replaceMove(r.e.lift(A.range),A.text))),M&&D.pushUndoStop()}}},73523:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{MarkerController:function(){return Ye},NextMarkerAction:function(){return qe}});var w=i(73046),r=i(9917),O=i(16830),V=i(11640),D=i(50187),$=i(24314),M=i(29102),P=i(9488),A=i(4669),L=i(91741),c=i(97295),p=i(70666),l=i(65026),n=i(72065),a=i(98674),g=i(33108),f=function(Ne,de,Pe,He){var $e=arguments.length,me=$e<3?de:He===null?He=Object.getOwnPropertyDescriptor(de,Pe):He,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(Ne,de,Pe,He);else for(var Ge=Ne.length-1;Ge>=0;Ge--)(Ie=Ne[Ge])&&(me=($e<3?Ie(me):$e>3?Ie(de,Pe,me):Ie(de,Pe))||me);return $e>3&&me&&Object.defineProperty(de,Pe,me),me},u=function(Ne,de){return function(Pe,He){de(Pe,He,Ne)}};class C{constructor(de,Pe,He){this.marker=de,this.index=Pe,this.total=He}}let y=class{constructor(de,Pe,He){this._markerService=Pe,this._configService=He,this._onDidChange=new A.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new r.SL,this._markers=[],this._nextIdx=-1,p.o.isUri(de)?this._resourceFilter=Ge=>Ge.toString()===de.toString():de&&(this._resourceFilter=de);const $e=this._configService.getValue("problems.sortOrder"),me=(Ge,ft)=>{let ze=(0,c.qu)(Ge.resource.toString(),ft.resource.toString());return ze===0&&($e==="position"?ze=$.e.compareRangesUsingStarts(Ge,ft)||a.ZL.compare(Ge.severity,ft.severity):ze=a.ZL.compare(Ge.severity,ft.severity)||$.e.compareRangesUsingStarts(Ge,ft)),ze},Ie=()=>{this._markers=this._markerService.read({resource:p.o.isUri(de)?de:void 0,severities:a.ZL.Error|a.ZL.Warning|a.ZL.Info}),typeof de=="function"&&(this._markers=this._markers.filter(Ge=>this._resourceFilter(Ge.resource))),this._markers.sort(me)};Ie(),this._dispoables.add(Pe.onMarkerChanged(Ge=>{(!this._resourceFilter||Ge.some(ft=>this._resourceFilter(ft)))&&(Ie(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(de){return!this._resourceFilter&&!de?!0:!this._resourceFilter||!de?!1:this._resourceFilter(de)}get selected(){const de=this._markers[this._nextIdx];return de&&new C(de,this._nextIdx+1,this._markers.length)}_initIdx(de,Pe,He){let $e=!1,me=this._markers.findIndex(Ie=>Ie.resource.toString()===de.uri.toString());me<0&&(me=(0,P.ry)(this._markers,{resource:de.uri},(Ie,Ge)=>(0,c.qu)(Ie.resource.toString(),Ge.resource.toString())),me<0&&(me=~me));for(let Ie=me;Ie<this._markers.length;Ie++){let Ge=$.e.lift(this._markers[Ie]);if(Ge.isEmpty()){const ft=de.getWordAtPosition(Ge.getStartPosition());ft&&(Ge=new $.e(Ge.startLineNumber,ft.startColumn,Ge.startLineNumber,ft.endColumn))}if(Pe&&(Ge.containsPosition(Pe)||Pe.isBeforeOrEqual(Ge.getStartPosition()))){this._nextIdx=Ie,$e=!0;break}if(this._markers[Ie].resource.toString()!==de.uri.toString())break}$e||(this._nextIdx=He?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(de,Pe,He){if(this._markers.length===0)return!1;const $e=this._nextIdx;return this._nextIdx===-1?this._initIdx(Pe,He,de):de?this._nextIdx=(this._nextIdx+1)%this._markers.length:de||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),$e!==this._nextIdx}find(de,Pe){let He=this._markers.findIndex($e=>$e.resource.toString()===de.toString());if(!(He<0)){for(;He<this._markers.length;He++)if($.e.containsPosition(this._markers[He],Pe))return new C(this._markers[He],He+1,this._markers.length)}}};y=f([u(1,a.lT),u(2,g.Ui)],y);const b=(0,n.yh)("IMarkerNavigationService");let _=class{constructor(de,Pe){this._markerService=de,this._configService=Pe,this._provider=new L.S}getMarkerList(de){for(const Pe of this._provider){const He=Pe.getMarkerList(de);if(He)return He}return new y(de,this._markerService,this._configService)}};_=f([u(0,a.lT),u(1,g.Ui)],_),(0,l.z)(b,_,!0);var E=i(63580),I=i(84144),R=i(16141),J=i(59554),Q=i(65321),U=i(41416),K=i(41264),H=i(95935),X=i(75426),j=i(11468),x=i(44349),Z=i(50988),T=i(14603),z=i(73910),G=i(97781),re;(function(Ne){function de(Pe){switch(Pe){case T.Z.Ignore:return"severity-ignore "+w.lA.info.classNames;case T.Z.Info:return w.lA.info.classNames;case T.Z.Warning:return w.lA.warning.classNames;case T.Z.Error:return w.lA.error.classNames;default:return""}}Ne.className=de})(re||(re={})),(0,G.Ic)((Ne,de)=>{const Pe=Ne.getColor(z.JpG);if(Pe){const me=w.lA.error.cssSelector;de.addRule(`
			.monaco-editor .zone-widget ${me},
			.markers-panel .marker-icon${me},
			.text-search-provider-messages .providerMessage ${me},
			.extensions-viewlet > .extensions ${me} {
				color: ${Pe};
			}
		`)}const He=Ne.getColor(z.BOY);if(He){const me=w.lA.warning.cssSelector;de.addRule(`
			.monaco-editor .zone-widget ${me},
			.markers-panel .marker-icon${me},
			.extensions-viewlet > .extensions ${me},
			.extension-editor ${me},
			.text-search-provider-messages .providerMessage ${me},
			.preferences-editor ${me} {
				color: ${He};
			}
		`)}const $e=Ne.getColor(z.OLZ);if($e){const me=w.lA.info.cssSelector;de.addRule(`
			.monaco-editor .zone-widget ${me},
			.markers-panel .marker-icon${me},
			.extensions-viewlet > .extensions ${me},
			.text-search-provider-messages .providerMessage ${me},
			.extension-editor ${me} {
				color: ${$e};
			}
		`)}});var S=function(Ne,de,Pe,He){var $e=arguments.length,me=$e<3?de:He===null?He=Object.getOwnPropertyDescriptor(de,Pe):He,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(Ne,de,Pe,He);else for(var Ge=Ne.length-1;Ge>=0;Ge--)(Ie=Ne[Ge])&&(me=($e<3?Ie(me):$e>3?Ie(de,Pe,me):Ie(de,Pe))||me);return $e>3&&me&&Object.defineProperty(de,Pe,me),me},he=function(Ne,de){return function(Pe,He){de(Pe,He,Ne)}};class Ce{constructor(de,Pe,He,$e,me){this._openerService=$e,this._labelService=me,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new r.SL,this._editor=Pe;const Ie=document.createElement("div");Ie.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),Ie.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),Ie.appendChild(this._relatedBlock),this._disposables.add(Q.mu(this._relatedBlock,"click",Ge=>{Ge.preventDefault();const ft=this._relatedDiagnostics.get(Ge.target);ft&&He(ft)})),this._scrollable=new U.NB(Ie,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),de.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(Ge=>{Ie.style.left=`-${Ge.scrollLeft}px`,Ie.style.top=`-${Ge.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,r.B9)(this._disposables)}update(de){const{source:Pe,message:He,relatedInformation:$e,code:me}=de;let Ie=((Pe==null?void 0:Pe.length)||0)+2;me&&(typeof me=="string"?Ie+=me.length:Ie+=me.value.length);const Ge=(0,c.uq)(He);this._lines=Ge.length,this._longestLineLength=0;for(const Oe of Ge)this._longestLineLength=Math.max(Oe.length+Ie,this._longestLineLength);Q.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(de)),this._editor.applyFontInfo(this._messageBlock);let ft=this._messageBlock;for(const Oe of Ge)ft=document.createElement("div"),ft.innerText=Oe,Oe===""&&(ft.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(ft);if(Pe||me){const Oe=document.createElement("span");if(Oe.classList.add("details"),ft.appendChild(Oe),Pe){const lt=document.createElement("span");lt.innerText=Pe,lt.classList.add("source"),Oe.appendChild(lt)}if(me)if(typeof me=="string"){const lt=document.createElement("span");lt.innerText=`(${me})`,lt.classList.add("code"),Oe.appendChild(lt)}else{this._codeLink=Q.$("a.code-link"),this._codeLink.setAttribute("href",`${me.target.toString()}`),this._codeLink.onclick=Bt=>{this._openerService.open(me.target,{allowCommands:!0}),Bt.preventDefault(),Bt.stopPropagation()};const lt=Q.R3(this._codeLink,Q.$("span"));lt.innerText=me.value,Oe.appendChild(this._codeLink)}}if(Q.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,P.Of)($e)){const Oe=this._relatedBlock.appendChild(document.createElement("div"));Oe.style.paddingTop=`${Math.floor(this._editor.getOption(61)*.66)}px`,this._lines+=1;for(const lt of $e){const Bt=document.createElement("div"),Zt=document.createElement("a");Zt.classList.add("filename"),Zt.innerText=`${this._labelService.getUriBasenameLabel(lt.resource)}(${lt.startLineNumber}, ${lt.startColumn}): `,Zt.title=this._labelService.getUriLabel(lt.resource),this._relatedDiagnostics.set(Zt,lt);const pi=document.createElement("span");pi.innerText=lt.message,Bt.appendChild(Zt),Bt.appendChild(pi),this._lines+=1,Oe.appendChild(Bt)}}const ze=this._editor.getOption(46),mt=Math.ceil(ze.typicalFullwidthCharacterWidth*this._longestLineLength*.75),wt=ze.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:mt,scrollHeight:wt})}layout(de,Pe){this._scrollable.getDomNode().style.height=`${de}px`,this._scrollable.getDomNode().style.width=`${Pe}px`,this._scrollable.setScrollDimensions({width:Pe,height:de})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(de){let Pe="";switch(de.severity){case a.ZL.Error:Pe=E.NC("Error","Error");break;case a.ZL.Warning:Pe=E.NC("Warning","Warning");break;case a.ZL.Info:Pe=E.NC("Info","Info");break;case a.ZL.Hint:Pe=E.NC("Hint","Hint");break}let He=E.NC("marker aria","{0} at {1}. ",Pe,de.startLineNumber+":"+de.startColumn);const $e=this._editor.getModel();return $e&&de.startLineNumber<=$e.getLineCount()&&de.startLineNumber>=1&&(He=`${$e.getLineContent(de.startLineNumber)}, ${He}`),He}}let ge=class Wc extends X.vk{constructor(de,Pe,He,$e,me,Ie,Ge){super(de,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},me),this._themeService=Pe,this._openerService=He,this._menuService=$e,this._contextKeyService=Ie,this._labelService=Ge,this._callOnDispose=new r.SL,this._onDidSelectRelatedInformation=new A.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=a.ZL.Warning,this._backgroundColor=K.Il.white,this._applyTheme(Pe.getColorTheme()),this._callOnDispose.add(Pe.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(de){this._backgroundColor=de.getColor(le);let Pe=ne,He=oe;this._severity===a.ZL.Warning?(Pe=Se,He=Ee):this._severity===a.ZL.Info&&(Pe=Me,He=ye);const $e=de.getColor(Pe),me=de.getColor(He);this.style({arrowColor:$e,frameColor:$e,headerBackgroundColor:me,primaryHeadingColor:de.getColor(X.IH),secondaryHeadingColor:de.getColor(X.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(de){super._fillHead(de),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun($e=>this.editor.focus()));const Pe=[],He=this._menuService.createMenu(Wc.TitleMenu,this._contextKeyService);(0,j.vr)(He,void 0,Pe),this._actionbarWidget.push(Pe,{label:!1,icon:!0,index:0}),He.dispose()}_fillTitleIcon(de){this._icon=Q.R3(de,Q.$(""))}_fillBody(de){this._parentContainer=de,de.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),de.appendChild(this._container),this._message=new Ce(this._container,this.editor,Pe=>this._onDidSelectRelatedInformation.fire(Pe),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(de,Pe,He){this._container.classList.remove("stale"),this._message.update(de),this._severity=de.severity,this._applyTheme(this._themeService.getColorTheme());const $e=$.e.lift(de),me=this.editor.getPosition(),Ie=me&&$e.containsPosition(me)?me:$e.getStartPosition();super.show(Ie,this.computeRequiredHeight());const Ge=this.editor.getModel();if(Ge){const ft=He>1?E.NC("problems","{0} of {1} problems",Pe,He):E.NC("change","{0} of {1} problem",Pe,He);this.setTitle((0,H.EZ)(Ge.uri),ft)}this._icon.className=`codicon ${re.className(a.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(Ie,0),this.editor.focus()}updateMarker(de){this._container.classList.remove("stale"),this._message.update(de)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(de,Pe){super._doLayoutBody(de,Pe),this._heightInPixel=de,this._message.layout(de,Pe),this._container.style.height=`${de}px`}_onWidth(de){this._message.layout(this._heightInPixel,de)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};ge.TitleMenu=new I.eH("gotoErrorTitleMenu"),ge=S([he(1,G.XE),he(2,Z.v4),he(3,I.co),he(4,n.TG),he(5,R.i6),he(6,x.e)],ge);const pe=(0,z.kwl)(z.lXJ,z.b6y),ee=(0,z.kwl)(z.uoC,z.pW3),se=(0,z.kwl)(z.c63,z.T83),ne=(0,z.P6G)("editorMarkerNavigationError.background",{dark:pe,light:pe,hcDark:z.lRK,hcLight:z.lRK},E.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),oe=(0,z.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,z.ZnX)(ne,.1),light:(0,z.ZnX)(ne,.1),hcDark:null,hcLight:null},E.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),Se=(0,z.P6G)("editorMarkerNavigationWarning.background",{dark:ee,light:ee,hcDark:z.lRK,hcLight:z.lRK},E.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Ee=(0,z.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,z.ZnX)(Se,.1),light:(0,z.ZnX)(Se,.1),hcDark:"#0C141F",hcLight:(0,z.ZnX)(Se,.2)},E.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),Me=(0,z.P6G)("editorMarkerNavigationInfo.background",{dark:se,light:se,hcDark:z.lRK,hcLight:z.lRK},E.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),ye=(0,z.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,z.ZnX)(Me,.1),light:(0,z.ZnX)(Me,.1),hcDark:null,hcLight:null},E.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),le=(0,z.P6G)("editorMarkerNavigation.background",{dark:z.cvW,light:z.cvW,hcDark:z.cvW,hcLight:z.cvW},E.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var ie=function(Ne,de,Pe,He){var $e=arguments.length,me=$e<3?de:He===null?He=Object.getOwnPropertyDescriptor(de,Pe):He,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(Ne,de,Pe,He);else for(var Ge=Ne.length-1;Ge>=0;Ge--)(Ie=Ne[Ge])&&(me=($e<3?Ie(me):$e>3?Ie(de,Pe,me):Ie(de,Pe))||me);return $e>3&&me&&Object.defineProperty(de,Pe,me),me},ve=function(Ne,de){return function(Pe,He){de(Pe,He,Ne)}},xe=function(Ne,de,Pe,He){function $e(me){return me instanceof Pe?me:new Pe(function(Ie){Ie(me)})}return new(Pe||(Pe=Promise))(function(me,Ie){function Ge(mt){try{ze(He.next(mt))}catch(wt){Ie(wt)}}function ft(mt){try{ze(He.throw(mt))}catch(wt){Ie(wt)}}function ze(mt){mt.done?me(mt.value):$e(mt.value).then(Ge,ft)}ze((He=He.apply(Ne,de||[])).next())})};let Ye=class ba{constructor(de,Pe,He,$e,me){this._markerNavigationService=Pe,this._contextKeyService=He,this._editorService=$e,this._instantiationService=me,this._sessionDispoables=new r.SL,this._editor=de,this._widgetVisible=et.bindTo(this._contextKeyService)}static get(de){return de.getContribution(ba.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(de){if(this._model&&this._model.matches(de))return this._model;let Pe=!1;return this._model&&(Pe=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(de),Pe&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(ge,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(He=>{var $e,me,Ie;(!(!(($e=this._model)===null||$e===void 0)&&$e.selected)||!$.e.containsPosition((me=this._model)===null||me===void 0?void 0:me.selected.marker,He.position))&&((Ie=this._model)===null||Ie===void 0||Ie.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const He=this._model.find(this._editor.getModel().uri,this._widget.position);He?this._widget.updateMarker(He.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(He=>{this._editorService.openCodeEditor({resource:He.resource,options:{pinned:!0,revealIfOpened:!0,selection:$.e.lift(He).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(de=!0){this._cleanUp(),de&&this._editor.focus()}showAtMarker(de){if(this._editor.hasModel()){const Pe=this._getOrCreateModel(this._editor.getModel().uri);Pe.resetIndex(),Pe.move(!0,this._editor.getModel(),new D.L(de.startLineNumber,de.startColumn)),Pe.selected&&this._widget.showAtMarker(Pe.selected.marker,Pe.selected.index,Pe.selected.total)}}nagivate(de,Pe){var He,$e;return xe(this,void 0,void 0,function*(){if(this._editor.hasModel()){const me=this._getOrCreateModel(Pe?void 0:this._editor.getModel().uri);if(me.move(de,this._editor.getModel(),this._editor.getPosition()),!me.selected)return;if(me.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const Ie=yield this._editorService.openCodeEditor({resource:me.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:me.selected.marker}},this._editor);Ie&&((He=ba.get(Ie))===null||He===void 0||He.close(),($e=ba.get(Ie))===null||$e===void 0||$e.nagivate(de,Pe))}else this._widget.showAtMarker(me.selected.marker,me.selected.index,me.selected.total)}})}};Ye.ID="editor.contrib.markerController",Ye=ie([ve(1,b),ve(2,R.i6),ve(3,V.$),ve(4,n.TG)],Ye);class at extends O.R6{constructor(de,Pe,He){super(He),this._next=de,this._multiFile=Pe}run(de,Pe){var He;return xe(this,void 0,void 0,function*(){Pe.hasModel()&&((He=Ye.get(Pe))===null||He===void 0||He.nagivate(this._next,this._multiFile))})}}class qe extends at{constructor(){super(!0,!1,{id:qe.ID,label:qe.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:M.u.focus,primary:578,weight:100},menuOpts:{menuId:ge.TitleMenu,title:qe.LABEL,icon:(0,J.q5)("marker-navigation-next",w.lA.arrowDown,E.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}qe.ID="editor.action.marker.next",qe.LABEL=E.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Re extends at{constructor(){super(!1,!1,{id:Re.ID,label:Re.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:M.u.focus,primary:1602,weight:100},menuOpts:{menuId:ge.TitleMenu,title:Re.LABEL,icon:(0,J.q5)("marker-navigation-previous",w.lA.arrowUp,E.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Re.ID="editor.action.marker.prev",Re.LABEL=E.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class Je extends at{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:E.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:M.u.focus,primary:66,weight:100},menuOpts:{menuId:I.eH.MenubarGoMenu,title:E.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class st extends at{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:E.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:M.u.focus,primary:1090,weight:100},menuOpts:{menuId:I.eH.MenubarGoMenu,title:E.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}(0,O._K)(Ye.ID,Ye),(0,O.Qr)(qe),(0,O.Qr)(Re),(0,O.Qr)(Je),(0,O.Qr)(st);const et=new R.uy("markersNavigationVisible",!1),we=O._l.bindToContribution(Ye.get);(0,O.fK)(new we({id:"closeMarkersNavigation",precondition:et,handler:Ne=>Ne.close(),kbOpts:{weight:100+50,kbExpr:M.u.focus,primary:9,secondary:[1033]}}))},60628:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{DefinitionAction:function(){return xe},SymbolNavigationAction:function(){return ve},SymbolNavigationAnchor:function(){return ie}});var w=i(30747),r=i(57924),O=i(15393),V=i(22258),D=i(1432),$=i(98401),M=i(70666),P=i(16467),A=i(65520),L=i(16830),c=i(11640),p=i(84527),l=i(50187),n=i(24314),a=i(29102),g=i(96887),f=i(29829),u=i(1293),C=i(4669),y=i(9917),b=i(95935),_=i(63580),E=i(16141),I=i(65026),R=i(72065),J=i(91847),Q=i(49989),U=i(59422),K=function(et,we,Ne,de){var Pe=arguments.length,He=Pe<3?we:de===null?de=Object.getOwnPropertyDescriptor(we,Ne):de,$e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")He=Reflect.decorate(et,we,Ne,de);else for(var me=et.length-1;me>=0;me--)($e=et[me])&&(He=(Pe<3?$e(He):Pe>3?$e(we,Ne,He):$e(we,Ne))||He);return Pe>3&&He&&Object.defineProperty(we,Ne,He),He},H=function(et,we){return function(Ne,de){we(Ne,de,et)}};const X=new E.uy("hasSymbols",!1,(0,_.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),j=(0,R.yh)("ISymbolNavigationService");let x=class{constructor(we,Ne,de,Pe){this._editorService=Ne,this._notificationService=de,this._keybindingService=Pe,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=X.bindTo(we)}reset(){var we,Ne;this._ctxHasSymbols.reset(),(we=this._currentState)===null||we===void 0||we.dispose(),(Ne=this._currentMessage)===null||Ne===void 0||Ne.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(we){const Ne=we.parent.parent;if(Ne.references.length<=1){this.reset();return}this._currentModel=Ne,this._currentIdx=Ne.references.indexOf(we),this._ctxHasSymbols.set(!0),this._showMessage();const de=new Z(this._editorService),Pe=de.onDidChange(He=>{if(this._ignoreEditorChange)return;const $e=this._editorService.getActiveCodeEditor();if(!$e)return;const me=$e.getModel(),Ie=$e.getPosition();if(!me||!Ie)return;let Ge=!1,ft=!1;for(const ze of Ne.references)if((0,b.Xy)(ze.uri,me.uri))Ge=!0,ft=ft||n.e.containsPosition(ze.range,Ie);else if(Ge)break;(!Ge||!ft)&&this.reset()});this._currentState=(0,y.F8)(de,Pe)}revealNext(we){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const Ne=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:Ne.uri,options:{selection:n.e.collapseToStart(Ne.range),selectionRevealType:3}},we).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var we;(we=this._currentMessage)===null||we===void 0||we.dispose();const Ne=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),de=Ne?(0,_.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,Ne.getLabel()):(0,_.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(de)}};x=K([H(0,E.i6),H(1,c.$),H(2,U.lT),H(3,J.d)],x),(0,I.z)(j,x,!0),(0,L.fK)(new class extends L._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:X,kbOpts:{weight:100,primary:70}})}runEditorCommand(et,we){return et.get(j).revealNext(we)}}),Q.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:X,primary:9,handler(et){et.get(j).reset()}});let Z=class{constructor(we){this._listener=new Map,this._disposables=new y.SL,this._onDidChange=new C.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(we.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(we.onCodeEditorAdd(this._onDidAddEditor,this)),we.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,y.B9)(this._listener.values())}_onDidAddEditor(we){this._listener.set(we,(0,y.F8)(we.onDidChangeCursorPosition(Ne=>this._onDidChange.fire({editor:we})),we.onDidChangeModelContent(Ne=>this._onDidChange.fire({editor:we}))))}_onDidRemoveEditor(we){var Ne;(Ne=this._listener.get(we))===null||Ne===void 0||Ne.dispose(),this._listener.delete(we)}};Z=K([H(0,c.$)],Z);var T=i(95342),z=i(75426),G=i(84144),re=i(94565),S=i(90535),he=i(40184),Ce=i(71922),ge=function(et,we,Ne,de){function Pe(He){return He instanceof Ne?He:new Ne(function($e){$e(He)})}return new(Ne||(Ne=Promise))(function(He,$e){function me(ft){try{Ge(de.next(ft))}catch(ze){$e(ze)}}function Ie(ft){try{Ge(de.throw(ft))}catch(ze){$e(ze)}}function Ge(ft){ft.done?He(ft.value):Pe(ft.value).then(me,Ie)}Ge((de=de.apply(et,we||[])).next())})},pe,ee,se,ne,oe,Se,Ee,Me;G.BH.appendMenuItem(G.eH.EditorContext,{submenu:G.eH.EditorContextPeek,title:_.NC("peek.submenu","Peek"),group:"navigation",order:100});const ye=new Set;function le(et){const we=new et;return(0,L.QG)(we),ye.add(we.id),we}class ie{constructor(we,Ne){this.model=we,this.position=Ne}static is(we){return!we||typeof we!="object"?!1:!!(we instanceof ie||l.L.isIPosition(we.position)&&we.model)}}class ve extends L.R6{constructor(we,Ne){super(Ne),this.configuration=we}run(we,Ne,de){if(!Ne.hasModel())return Promise.resolve(void 0);const Pe=we.get(U.lT),He=we.get(c.$),$e=we.get(S.ek),me=we.get(j),Ie=we.get(Ce.p),Ge=Ne.getModel(),ft=Ne.getPosition(),ze=ie.is(de)?de:new ie(Ge,ft),mt=new P.Dl(Ne,5),wt=(0,O.eP)(this._getLocationModel(Ie,ze.model,ze.position,mt.token),mt.token).then(Oe=>ge(this,void 0,void 0,function*(){var lt;if(!Oe||mt.token.isCancellationRequested)return;(0,r.Z9)(Oe.ariaMessage);let Bt;if(Oe.referenceAt(Ge.uri,ft)){const pi=this._getAlternativeCommand(Ne);!ve._activeAlternativeCommands.has(pi)&&ye.has(pi)&&(Bt=Ne.getAction(pi))}const Zt=Oe.references.length;if(Zt===0){if(!this.configuration.muteMessage){const pi=Ge.getWordAtPosition(ft);(lt=T.O.get(Ne))===null||lt===void 0||lt.showMessage(this._getNoResultFoundMessage(pi),ft)}}else if(Zt===1&&Bt)ve._activeAlternativeCommands.add(this.id),Bt.run().finally(()=>{ve._activeAlternativeCommands.delete(this.id)});else return this._onResult(He,me,Ne,Oe)}),Oe=>{Pe.error(Oe)}).finally(()=>{mt.dispose()});return $e.showWhile(wt,250),wt}_onResult(we,Ne,de,Pe){return ge(this,void 0,void 0,function*(){const He=this._getGoToPreference(de);if(!(de instanceof p.H)&&(this.configuration.openInPeek||He==="peek"&&Pe.references.length>1))this._openInPeek(de,Pe);else{const $e=Pe.firstReference(),me=Pe.references.length>1&&He==="gotoAndPeek",Ie=yield this._openReference(de,we,$e,this.configuration.openToSide,!me);me&&Ie?this._openInPeek(Ie,Pe):Pe.dispose(),He==="goto"&&Ne.put($e)}})}_openReference(we,Ne,de,Pe,He){return ge(this,void 0,void 0,function*(){let $e;if((0,g.vx)(de)&&($e=de.targetSelectionRange),$e||($e=de.range),!$e)return;const me=yield Ne.openCodeEditor({resource:de.uri,options:{selection:n.e.collapseToStart($e),selectionRevealType:3,selectionSource:"code.jump"}},we,Pe);if(!!me){if(He){const Ie=me.getModel(),Ge=me.createDecorationsCollection([{range:$e,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{me.getModel()===Ie&&Ge.clear()},350)}return me}})}_openInPeek(we,Ne){const de=f.J.get(we);de&&we.hasModel()?de.toggleWidget(we.getSelection(),(0,O.PG)(Pe=>Promise.resolve(Ne)),this.configuration.openInPeek):Ne.dispose()}}ve._activeAlternativeCommands=new Set;class xe extends ve{_getLocationModel(we,Ne,de,Pe){return ge(this,void 0,void 0,function*(){return new u.oQ(yield(0,he.nD)(we.definitionProvider,Ne,de,Pe),_.NC("def.title","Definitions"))})}_getNoResultFoundMessage(we){return we&&we.word?_.NC("noResultWord","No definition found for '{0}'",we.word):_.NC("generic.noResults","No definition found")}_getAlternativeCommand(we){return we.getOption(53).alternativeDefinitionCommand}_getGoToPreference(we){return we.getOption(53).multipleDefinitions}}const Ye=D.$L&&!(0,w.isStandalone)()?2118:70;le((pe=class kl extends xe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:kl.id,label:_.NC("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:E.Ao.and(a.u.hasDefinitionProvider,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:Ye,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),re.P0.registerCommandAlias("editor.action.goToDeclaration",kl.id)}},pe.id="editor.action.revealDefinition",pe)),le((ee=class Fl extends xe{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:Fl.id,label:_.NC("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:E.Ao.and(a.u.hasDefinitionProvider,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:(0,V.gx)(2089,Ye),weight:100}}),re.P0.registerCommandAlias("editor.action.openDeclarationToTheSide",Fl.id)}},ee.id="editor.action.revealDefinitionAside",ee)),le((se=class Bl extends xe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Bl.id,label:_.NC("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:E.Ao.and(a.u.hasDefinitionProvider,z.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:G.eH.EditorContextPeek,group:"peek",order:2}}),re.P0.registerCommandAlias("editor.action.previewDeclaration",Bl.id)}},se.id="editor.action.peekDefinition",se));class at extends ve{_getLocationModel(we,Ne,de,Pe){return ge(this,void 0,void 0,function*(){return new u.oQ(yield(0,he.zq)(we.declarationProvider,Ne,de,Pe),_.NC("decl.title","Declarations"))})}_getNoResultFoundMessage(we){return we&&we.word?_.NC("decl.noResultWord","No declaration found for '{0}'",we.word):_.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(we){return we.getOption(53).alternativeDeclarationCommand}_getGoToPreference(we){return we.getOption(53).multipleDeclarations}}le((ne=class Vc extends at{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Vc.id,label:_.NC("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:E.Ao.and(a.u.hasDeclarationProvider,a.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(we){return we&&we.word?_.NC("decl.noResultWord","No declaration found for '{0}'",we.word):_.NC("decl.generic.noResults","No declaration found")}},ne.id="editor.action.revealDeclaration",ne)),le(class extends at{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:_.NC("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:E.Ao.and(a.u.hasDeclarationProvider,z.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:G.eH.EditorContextPeek,group:"peek",order:3}})}});class qe extends ve{_getLocationModel(we,Ne,de,Pe){return ge(this,void 0,void 0,function*(){return new u.oQ(yield(0,he.L3)(we.typeDefinitionProvider,Ne,de,Pe),_.NC("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(we){return we&&we.word?_.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",we.word):_.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(we){return we.getOption(53).alternativeTypeDefinitionCommand}_getGoToPreference(we){return we.getOption(53).multipleTypeDefinitions}}le((oe=class Hc extends qe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Hc.ID,label:_.NC("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:E.Ao.and(a.u.hasTypeDefinitionProvider,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},oe.ID="editor.action.goToTypeDefinition",oe)),le((Se=class Uc extends qe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Uc.ID,label:_.NC("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:E.Ao.and(a.u.hasTypeDefinitionProvider,z.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:G.eH.EditorContextPeek,group:"peek",order:4}})}},Se.ID="editor.action.peekTypeDefinition",Se));class Re extends ve{_getLocationModel(we,Ne,de,Pe){return ge(this,void 0,void 0,function*(){return new u.oQ(yield(0,he.f4)(we.implementationProvider,Ne,de,Pe),_.NC("impl.title","Implementations"))})}_getNoResultFoundMessage(we){return we&&we.word?_.NC("goToImplementation.noResultWord","No implementation found for '{0}'",we.word):_.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(we){return we.getOption(53).alternativeImplementationCommand}_getGoToPreference(we){return we.getOption(53).multipleImplementations}}le((Ee=class zc extends Re{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:zc.ID,label:_.NC("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:E.Ao.and(a.u.hasImplementationProvider,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},Ee.ID="editor.action.goToImplementation",Ee)),le((Me=class Kc extends Re{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Kc.ID,label:_.NC("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:E.Ao.and(a.u.hasImplementationProvider,z.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:G.eH.EditorContextPeek,group:"peek",order:5}})}},Me.ID="editor.action.peekImplementation",Me));class Je extends ve{_getNoResultFoundMessage(we){return we?_.NC("references.no","No references found for '{0}'",we.word):_.NC("references.noGeneric","No references found")}_getAlternativeCommand(we){return we.getOption(53).alternativeReferenceCommand}_getGoToPreference(we){return we.getOption(53).multipleReferences}}le(class extends Je{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:_.NC("goToReferences.label","Go to References"),alias:"Go to References",precondition:E.Ao.and(a.u.hasReferenceProvider,z.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:a.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(we,Ne,de,Pe){return ge(this,void 0,void 0,function*(){return new u.oQ(yield(0,he.aA)(we.referenceProvider,Ne,de,!0,Pe),_.NC("ref.title","References"))})}}),le(class extends Je{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:_.NC("references.action.label","Peek References"),alias:"Peek References",precondition:E.Ao.and(a.u.hasReferenceProvider,z.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:G.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(we,Ne,de,Pe){return ge(this,void 0,void 0,function*(){return new u.oQ(yield(0,he.aA)(we.referenceProvider,Ne,de,!1,Pe),_.NC("ref.title","References"))})}});class st extends ve{constructor(we,Ne,de){super(we,{id:"editor.action.goToLocation",label:_.NC("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:E.Ao.and(z.Jy.notInPeekEditor,a.u.isInWalkThroughSnippet.toNegated())}),this._references=Ne,this._gotoMultipleBehaviour=de}_getLocationModel(we,Ne,de,Pe){return ge(this,void 0,void 0,function*(){return new u.oQ(this._references,_.NC("generic.title","Locations"))})}_getNoResultFoundMessage(we){return we&&_.NC("generic.noResult","No results for '{0}'",we.word)||""}_getGoToPreference(we){var Ne;return(Ne=this._gotoMultipleBehaviour)!==null&&Ne!==void 0?Ne:we.getOption(53).multipleReferences}_getAlternativeCommand(){return""}}re.P0.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:M.o},{name:"position",description:"The position at which to start",constraint:l.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(et,we,Ne,de,Pe,He,$e)=>ge(void 0,void 0,void 0,function*(){(0,$.p_)(M.o.isUri(we)),(0,$.p_)(l.L.isIPosition(Ne)),(0,$.p_)(Array.isArray(de)),(0,$.p_)(typeof Pe>"u"||typeof Pe=="string"),(0,$.p_)(typeof $e>"u"||typeof $e=="boolean");const me=et.get(c.$),Ie=yield me.openCodeEditor({resource:we},me.getFocusedCodeEditor());if((0,A.CL)(Ie))return Ie.setPosition(Ne),Ie.revealPositionInCenterIfOutsideViewport(Ne,0),Ie.invokeWithinContext(Ge=>{const ft=new class extends st{_getNoResultFoundMessage(ze){return He||super._getNoResultFoundMessage(ze)}}({muteMessage:!Boolean(He),openInPeek:Boolean($e),openToSide:!1},de,Pe);Ge.get(R.TG).invokeFunction(ft.run.bind(ft),Ie)})})}),re.P0.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:M.o},{name:"position",description:"The position at which to start",constraint:l.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(et,we,Ne,de,Pe)=>ge(void 0,void 0,void 0,function*(){et.get(re.Hy).executeCommand("editor.action.goToLocations",we,Ne,de,Pe,void 0,!0)})}),re.P0.registerCommand({id:"editor.action.findReferences",handler:(et,we,Ne)=>{(0,$.p_)(M.o.isUri(we)),(0,$.p_)(l.L.isIPosition(Ne));const de=et.get(Ce.p),Pe=et.get(c.$);return Pe.openCodeEditor({resource:we},Pe.getFocusedCodeEditor()).then(He=>{if(!(0,A.CL)(He)||!He.hasModel())return;const $e=f.J.get(He);if(!$e)return;const me=(0,O.PG)(Ge=>(0,he.aA)(de.referenceProvider,He.getModel(),l.L.lift(Ne),!1,Ge).then(ft=>new u.oQ(ft,_.NC("ref.title","References")))),Ie=new n.e(Ne.lineNumber,Ne.column,Ne.lineNumber,Ne.column);return Promise.resolve($e.toggleWidget(Ie,me,!1))})}}),re.P0.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),G.BH.appendMenuItems([{id:G.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:_.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:G.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:_.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:G.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:_.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:G.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:_.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:G.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:_.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}])},40184:function(Ot,Te,i){"use strict";i.d(Te,{L3:function(){return c},aA:function(){return p},f4:function(){return L},nD:function(){return P},zq:function(){return A}});var w=i(71050),r=i(17301),O=i(16830),V=i(1293),D=i(71922),$=function(n,a,g,f){function u(C){return C instanceof g?C:new g(function(y){y(C)})}return new(g||(g=Promise))(function(C,y){function b(I){try{E(f.next(I))}catch(R){y(R)}}function _(I){try{E(f.throw(I))}catch(R){y(R)}}function E(I){I.done?C(I.value):u(I.value).then(b,_)}E((f=f.apply(n,a||[])).next())})};function M(n,a,g,f){const C=g.ordered(n).map(y=>Promise.resolve(f(y,n,a)).then(void 0,b=>{(0,r.Cp)(b)}));return Promise.all(C).then(y=>{const b=[];for(const _ of y)Array.isArray(_)?b.push(..._):_&&b.push(_);return b})}function P(n,a,g,f){return M(a,g,n,(u,C,y)=>u.provideDefinition(C,y,f))}function A(n,a,g,f){return M(a,g,n,(u,C,y)=>u.provideDeclaration(C,y,f))}function L(n,a,g,f){return M(a,g,n,(u,C,y)=>u.provideImplementation(C,y,f))}function c(n,a,g,f){return M(a,g,n,(u,C,y)=>u.provideTypeDefinition(C,y,f))}function p(n,a,g,f,u){return M(a,g,n,(C,y,b)=>$(this,void 0,void 0,function*(){const _=yield C.provideReferences(y,b,{includeDeclaration:!0},u);if(!f||!_||_.length!==2)return _;const E=yield C.provideReferences(y,b,{includeDeclaration:!1},u);return E&&E.length===1?E:_}))}function l(n){return $(this,void 0,void 0,function*(){const a=yield n(),g=new V.oQ(a,""),f=g.references.map(u=>u.link);return g.dispose(),f})}(0,O.sb)("_executeDefinitionProvider",(n,a,g)=>{const f=n.get(D.p),u=P(f.definitionProvider,a,g,w.T.None);return l(()=>u)}),(0,O.sb)("_executeTypeDefinitionProvider",(n,a,g)=>{const f=n.get(D.p),u=c(f.typeDefinitionProvider,a,g,w.T.None);return l(()=>u)}),(0,O.sb)("_executeDeclarationProvider",(n,a,g)=>{const f=n.get(D.p),u=A(f.declarationProvider,a,g,w.T.None);return l(()=>u)}),(0,O.sb)("_executeReferenceProvider",(n,a,g)=>{const f=n.get(D.p),u=p(f.referenceProvider,a,g,!1,w.T.None);return l(()=>u)}),(0,O.sb)("_executeImplementationProvider",(n,a,g)=>{const f=n.get(D.p),u=L(f.implementationProvider,a,g,w.T.None);return l(()=>u)})},82005:function(Ot,Te,i){"use strict";i.d(Te,{yN:function(){return A}});var w=i(4669),r=i(9917),O=i(1432);function V(L,c){return!!L[c]}class D{constructor(c,p){this.target=c.target,this.hasTriggerModifier=V(c.event,p.triggerModifier),this.hasSideBySideModifier=V(c.event,p.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=c.event.detail<=1}}class ${constructor(c,p){this.keyCodeIsTriggerKey=c.keyCode===p.triggerKey,this.keyCodeIsSideBySideKey=c.keyCode===p.triggerSideBySideKey,this.hasTriggerModifier=V(c,p.triggerModifier)}}class M{constructor(c,p,l,n){this.triggerKey=c,this.triggerModifier=p,this.triggerSideBySideKey=l,this.triggerSideBySideModifier=n}equals(c){return this.triggerKey===c.triggerKey&&this.triggerModifier===c.triggerModifier&&this.triggerSideBySideKey===c.triggerSideBySideKey&&this.triggerSideBySideModifier===c.triggerSideBySideModifier}}function P(L){return L==="altKey"?O.dz?new M(57,"metaKey",6,"altKey"):new M(5,"ctrlKey",6,"altKey"):O.dz?new M(6,"altKey",57,"metaKey"):new M(6,"altKey",5,"ctrlKey")}class A extends r.JT{constructor(c){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new w.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new w.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new w.Q5),this.onCancel=this._onCancel.event,this._editor=c,this._opts=P(this._editor.getOption(72)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(p=>{if(p.hasChanged(72)){const l=P(this._editor.getOption(72));if(this._opts.equals(l))return;this._opts=l,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(p=>this._onEditorMouseMove(new D(p,this._opts)))),this._register(this._editor.onMouseDown(p=>this._onEditorMouseDown(new D(p,this._opts)))),this._register(this._editor.onMouseUp(p=>this._onEditorMouseUp(new D(p,this._opts)))),this._register(this._editor.onKeyDown(p=>this._onEditorKeyDown(new $(p,this._opts)))),this._register(this._editor.onKeyUp(p=>this._onEditorKeyUp(new $(p,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(p=>this._onDidChangeCursorSelection(p))),this._register(this._editor.onDidChangeModel(p=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(p=>{(p.scrollTopChanged||p.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(c){c.selection&&c.selection.startColumn!==c.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(c){this._lastMouseMoveEvent=c,this._onMouseMoveOrRelevantKeyDown.fire([c,null])}_onEditorMouseDown(c){this._hasTriggerKeyOnMouseDown=c.hasTriggerModifier,this._lineNumberOnMouseDown=c.target.position?c.target.position.lineNumber:0}_onEditorMouseUp(c){const p=c.target.position?c.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===p&&this._onExecute.fire(c)}_onEditorKeyDown(c){this._lastMouseMoveEvent&&(c.keyCodeIsTriggerKey||c.keyCodeIsSideBySideKey&&c.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,c]):c.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(c){c.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},12004:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{GotoDefinitionAtPositionEditorContribution:function(){return _}});var w=i(15393),r=i(17301),O=i(59365),V=i(9917),D=i(98401),$=i(16467),M=i(16830),P=i(24314),A=i(72042),L=i(88216),c=i(82005),p=i(75426),l=i(63580),n=i(16141),a=i(73910),g=i(97781),f=i(60628),u=i(40184),C=i(71922),y=function(E,I,R,J){var Q=arguments.length,U=Q<3?I:J===null?J=Object.getOwnPropertyDescriptor(I,R):J,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(E,I,R,J);else for(var H=E.length-1;H>=0;H--)(K=E[H])&&(U=(Q<3?K(U):Q>3?K(I,R,U):K(I,R))||U);return Q>3&&U&&Object.defineProperty(I,R,U),U},b=function(E,I){return function(R,J){I(R,J,E)}};let _=class Sa{constructor(I,R,J,Q){this.textModelResolverService=R,this.languageService=J,this.languageFeaturesService=Q,this.toUnhook=new V.SL,this.toUnhookForKeyboard=new V.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=I,this.linkDecorations=this.editor.createDecorationsCollection();const U=new c.yN(I);this.toUnhook.add(U),this.toUnhook.add(U.onMouseMoveOrRelevantKeyDown(([K,H])=>{this.startFindDefinitionFromMouse(K,(0,D.f6)(H))})),this.toUnhook.add(U.onExecute(K=>{this.isEnabled(K)&&this.gotoDefinition(K.target.position,K.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},H=>{this.removeLinkDecorations(),(0,r.dL)(H)})})),this.toUnhook.add(U.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(I){return I.getContribution(Sa.ID)}startFindDefinitionFromCursor(I){return this.startFindDefinition(I).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(R=>{R&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(I,R){if(I.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(I,R)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const J=I.target.position;this.startFindDefinition(J)}startFindDefinition(I){var R;this.toUnhookForKeyboard.clear();const J=I?(R=this.editor.getModel())===null||R===void 0?void 0:R.getWordAtPosition(I):null;if(!J)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===J.startColumn&&this.currentWordAtPosition.endColumn===J.endColumn&&this.currentWordAtPosition.word===J.word)return Promise.resolve(0);this.currentWordAtPosition=J;const Q=new $.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,w.PG)(U=>this.findDefinition(I,U)),this.previousPromise.then(U=>{if(!U||!U.length||!Q.validate(this.editor)){this.removeLinkDecorations();return}if(U.length>1)this.addDecoration(new P.e(I.lineNumber,J.startColumn,I.lineNumber,J.endColumn),new O.W5().appendText(l.NC("multipleResults","Click to show {0} definitions.",U.length)));else{const K=U[0];if(!K.uri)return;this.textModelResolverService.createModelReference(K.uri).then(H=>{if(!H.object||!H.object.textEditorModel){H.dispose();return}const{object:{textEditorModel:X}}=H,{startLineNumber:j}=K.range;if(j<1||j>X.getLineCount()){H.dispose();return}const x=this.getPreviewValue(X,j,K);let Z;K.originSelectionRange?Z=P.e.lift(K.originSelectionRange):Z=new P.e(I.lineNumber,J.startColumn,I.lineNumber,J.endColumn);const T=this.languageService.guessLanguageIdByFilepathOrFirstLine(X.uri);this.addDecoration(Z,new O.W5().appendCodeblock(T||"",x)),H.dispose()})}}).then(void 0,r.dL)}getPreviewValue(I,R,J){let Q=J.range;return Q.endLineNumber-Q.startLineNumber>=Sa.MAX_SOURCE_PREVIEW_LINES&&(Q=this.getPreviewRangeBasedOnIndentation(I,R)),this.stripIndentationFromPreviewRange(I,R,Q)}stripIndentationFromPreviewRange(I,R,J){let U=I.getLineFirstNonWhitespaceColumn(R);for(let H=R+1;H<J.endLineNumber;H++){const X=I.getLineFirstNonWhitespaceColumn(H);U=Math.min(U,X)}return I.getValueInRange(J).replace(new RegExp(`^\\s{${U-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(I,R){const J=I.getLineFirstNonWhitespaceColumn(R),Q=Math.min(I.getLineCount(),R+Sa.MAX_SOURCE_PREVIEW_LINES);let U=R+1;for(;U<Q;U++){const K=I.getLineFirstNonWhitespaceColumn(U);if(J===K)break}return new P.e(R,1,U+1,1)}addDecoration(I,R){const J={range:I,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:R}};this.linkDecorations.set([J])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(I,R){return this.editor.hasModel()&&I.isNoneOrSingleMouseDown&&I.target.type===6&&(I.hasTriggerModifier||(R?R.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(I,R){const J=this.editor.getModel();return J?(0,u.nD)(this.languageFeaturesService.definitionProvider,J,I,R):Promise.resolve(null)}gotoDefinition(I,R){return this.editor.setPosition(I),this.editor.invokeWithinContext(J=>{const Q=!R&&this.editor.getOption(80)&&!this.isInPeekEditor(J);return new f.DefinitionAction({openToSide:R,openInPeek:Q,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(J,this.editor)})}isInPeekEditor(I){const R=I.get(n.i6);return p.Jy.inPeekEditor.getValue(R)}dispose(){this.toUnhook.dispose()}};_.ID="editor.contrib.gotodefinitionatposition",_.MAX_SOURCE_PREVIEW_LINES=8,_=y([b(1,L.S),b(2,A.O),b(3,C.p)],_),(0,M._K)(_.ID,_),(0,g.Ic)((E,I)=>{const R=E.getColor(a._Yy);R&&I.addRule(`.monaco-editor .goto-definition-link { color: ${R} !important; }`)})},29829:function(Ot,Te,i){"use strict";i.d(Te,{J:function(){return et}});var w=i(15393),r=i(17301),O=i(22258),V=i(9917),D=i(11640),$=i(50187),M=i(24314),P=i(75426),A=i(63580),L=i(94565),c=i(33108),p=i(16141),l=i(72065),n=i(49989),a=i(44448),g=i(59422),f=i(26904),u=i(1293),C=i(65321),y=i(13017),b=i(41264),_=i(4669),E=i(66663),I=i(95935),R=i(84527),J=i(92035),Q=i(51381),U=i(68801),K=i(72042),H=i(88216),X=i(4451),j=i(34650),x=i(11069),Z=i(75392),T=i(91847),z=i(44349),G=i(88810),re=i(97781),S=function(Ne,de,Pe,He){var $e=arguments.length,me=$e<3?de:He===null?He=Object.getOwnPropertyDescriptor(de,Pe):He,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(Ne,de,Pe,He);else for(var Ge=Ne.length-1;Ge>=0;Ge--)(Ie=Ne[Ge])&&(me=($e<3?Ie(me):$e>3?Ie(de,Pe,me):Ie(de,Pe))||me);return $e>3&&me&&Object.defineProperty(de,Pe,me),me},he=function(Ne,de){return function(Pe,He){de(Pe,He,Ne)}};let Ce=class{constructor(de){this._resolverService=de}hasChildren(de){return de instanceof u.oQ||de instanceof u.F2}getChildren(de){if(de instanceof u.oQ)return de.groups;if(de instanceof u.F2)return de.resolve(this._resolverService).then(Pe=>Pe.children);throw new Error("bad tree")}};Ce=S([he(0,H.S)],Ce);class ge{getHeight(){return 23}getTemplateId(de){return de instanceof u.F2?ne.id:Se.id}}let pe=class{constructor(de){this._keybindingService=de}getKeyboardNavigationLabel(de){var Pe;if(de instanceof u.WX){const He=(Pe=de.parent.getPreview(de))===null||Pe===void 0?void 0:Pe.preview(de.range);if(He)return He.value}return(0,I.EZ)(de.uri)}};pe=S([he(0,T.d)],pe);class ee{getId(de){return de instanceof u.WX?de.id:de.uri}}let se=class extends V.JT{constructor(de,Pe,He){super(),this._labelService=Pe;const $e=document.createElement("div");$e.classList.add("reference-file"),this.file=this._register(new x.g($e,{supportHighlights:!0})),this.badge=new X.Z(C.R3($e,C.$(".count"))),this._register((0,G.WZ)(this.badge,He)),de.appendChild($e)}set(de,Pe){const He=(0,I.XX)(de.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(de.uri),this._labelService.getUriLabel(He,{relative:!0}),{title:this._labelService.getUriLabel(de.uri),matches:Pe});const $e=de.children.length;this.badge.setCount($e),$e>1?this.badge.setTitleFormat((0,A.NC)("referencesCount","{0} references",$e)):this.badge.setTitleFormat((0,A.NC)("referenceCount","{0} reference",$e))}};se=S([he(1,z.e),he(2,re.XE)],se);let ne=class jc{constructor(de){this._instantiationService=de,this.templateId=jc.id}renderTemplate(de){return this._instantiationService.createInstance(se,de)}renderElement(de,Pe,He){He.set(de.element,(0,Z.mB)(de.filterData))}disposeTemplate(de){de.dispose()}};ne.id="FileReferencesRenderer",ne=S([he(0,l.TG)],ne);class oe{constructor(de){this.label=new j.q(de)}set(de,Pe){var He;const $e=(He=de.parent.getPreview(de))===null||He===void 0?void 0:He.preview(de.range);if(!$e||!$e.value)this.label.set(`${(0,I.EZ)(de.uri)}:${de.range.startLineNumber+1}:${de.range.startColumn+1}`);else{const{value:me,highlight:Ie}=$e;Pe&&!Z.CL.isDefault(Pe)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(me,(0,Z.mB)(Pe))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(me,[Ie]))}}}class Se{constructor(){this.templateId=Se.id}renderTemplate(de){return new oe(de)}renderElement(de,Pe,He){He.set(de.element,de.filterData)}disposeTemplate(){}}Se.id="OneReferenceRenderer";class Ee{getWidgetAriaLabel(){return(0,A.NC)("treeAriaLabel","References")}getAriaLabel(de){return de.ariaMessage}}var Me=i(64862),ye=function(Ne,de,Pe,He){var $e=arguments.length,me=$e<3?de:He===null?He=Object.getOwnPropertyDescriptor(de,Pe):He,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(Ne,de,Pe,He);else for(var Ge=Ne.length-1;Ge>=0;Ge--)(Ie=Ne[Ge])&&(me=($e<3?Ie(me):$e>3?Ie(de,Pe,me):Ie(de,Pe))||me);return $e>3&&me&&Object.defineProperty(de,Pe,me),me},le=function(Ne,de){return function(Pe,He){de(Pe,He,Ne)}},ie=function(Ne,de,Pe,He){function $e(me){return me instanceof Pe?me:new Pe(function(Ie){Ie(me)})}return new(Pe||(Pe=Promise))(function(me,Ie){function Ge(mt){try{ze(He.next(mt))}catch(wt){Ie(wt)}}function ft(mt){try{ze(He.throw(mt))}catch(wt){Ie(wt)}}function ze(mt){mt.done?me(mt.value):$e(mt.value).then(Ge,ft)}ze((He=He.apply(Ne,de||[])).next())})};class ve{constructor(de,Pe){this._editor=de,this._model=Pe,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new V.SL,this._callOnModelChange=new V.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const de=this._editor.getModel();if(!!de){for(const Pe of this._model.references)if(Pe.uri.toString()===de.uri.toString()){this._addDecorations(Pe.parent);return}}}_addDecorations(de){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const Pe=[],He=[];for(let $e=0,me=de.children.length;$e<me;$e++){const Ie=de.children[$e];this._decorationIgnoreSet.has(Ie.id)||Ie.uri.toString()===this._editor.getModel().uri.toString()&&(Pe.push({range:Ie.range,options:ve.DecorationOptions}),He.push($e))}this._editor.changeDecorations($e=>{const me=$e.deltaDecorations([],Pe);for(let Ie=0;Ie<me.length;Ie++)this._decorations.set(me[Ie],de.children[He[Ie]])})}_onDecorationChanged(){const de=[],Pe=this._editor.getModel();if(!!Pe){for(const[He,$e]of this._decorations){const me=Pe.getDecorationRange(He);if(!me)continue;let Ie=!1;if(!M.e.equalsRange(me,$e.range)){if(M.e.spansMultipleLines(me))Ie=!0;else{const Ge=$e.range.endColumn-$e.range.startColumn,ft=me.endColumn-me.startColumn;Ge!==ft&&(Ie=!0)}Ie?(this._decorationIgnoreSet.add($e.id),de.push(He)):$e.range=me}}for(let He=0,$e=de.length;He<$e;He++)this._decorations.delete(de[He]);this._editor.removeDecorations(de)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}ve.DecorationOptions=J.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class xe{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(de){let Pe,He;try{const $e=JSON.parse(de);Pe=$e.ratio,He=$e.heightInLines}catch{}return{ratio:Pe||.7,heightInLines:He||18}}}class Ye extends a.ls{}let at=class extends P.vk{constructor(de,Pe,He,$e,me,Ie,Ge,ft,ze,mt,wt,Oe){super(de,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},Ie),this._defaultTreeKeyboardSupport=Pe,this.layoutData=He,this._textModelResolverService=me,this._instantiationService=Ie,this._peekViewService=Ge,this._uriLabel=ft,this._undoRedoService=ze,this._keybindingService=mt,this._languageService=wt,this._languageConfigurationService=Oe,this._disposeOnNewModel=new V.SL,this._callOnDispose=new V.SL,this._onDidSelectReference=new _.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new C.Ro(0,0),this._applyTheme($e.getColorTheme()),this._callOnDispose.add($e.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(de,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,V.B9)(this._preview),(0,V.B9)(this._previewNotAvailableMessage),(0,V.B9)(this._tree),(0,V.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(de){const Pe=de.getColor(P.SC)||b.Il.transparent;this.style({arrowColor:Pe,frameColor:Pe,headerBackgroundColor:de.getColor(P.KY)||b.Il.transparent,primaryHeadingColor:de.getColor(P.IH),secondaryHeadingColor:de.getColor(P.R7)})}show(de){super.show(de,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(de){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:de.ctrlKey||de.metaKey||de.altKey?"side":"open",source:"title"})}_fillBody(de){this.setCssClass("reference-zone-widget"),this._messageContainer=C.R3(de,C.$("div.messages")),C.Cp(this._messageContainer),this._splitView=new y.z(de,{orientation:1}),this._previewContainer=C.R3(de,C.$("div.preview.inline"));const Pe={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(R.H,this._previewContainer,Pe,this.editor),C.Cp(this._previewContainer),this._previewNotAvailableMessage=new J.yO(A.NC("missingPreviewMessage","no preview available"),U.bd,J.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=C.R3(de,C.$("div.ref-tree.inline"));const He={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Ee,keyboardNavigationLabelProvider:this._instantiationService.createInstance(pe),identityProvider:new ee,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:P.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(C.mu(this._treeContainer,"keydown",me=>{me.equals(9)&&(this._keybindingService.dispatchEvent(me,me.target),me.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(Ye,"ReferencesWidget",this._treeContainer,new ge,[this._instantiationService.createInstance(ne),this._instantiationService.createInstance(Se)],this._instantiationService.createInstance(Ce),He),this._splitView.addView({onDidChange:_.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:me=>{this._preview.layout({height:this._dim.height,width:me})}},y.M.Distribute),this._splitView.addView({onDidChange:_.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:me=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${me}px`,this._tree.layout(this._dim.height,me)}},y.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const $e=(me,Ie)=>{me instanceof u.WX&&(Ie==="show"&&this._revealReference(me,!1),this._onDidSelectReference.fire({element:me,kind:Ie,source:"tree"}))};this._tree.onDidOpen(me=>{me.sideBySide?$e(me.element,"side"):me.editorOptions.pinned?$e(me.element,"goto"):$e(me.element,"show")}),C.Cp(this._treeContainer)}_onWidth(de){this._dim&&this._doLayoutBody(this._dim.height,de)}_doLayoutBody(de,Pe){super._doLayoutBody(de,Pe),this._dim=new C.Ro(Pe,de),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(Pe),this._splitView.resizeView(0,Pe*this.layoutData.ratio)}setSelection(de){return this._revealReference(de,!0).then(()=>{!this._model||(this._tree.setSelection([de]),this._tree.setFocus([de]))})}setModel(de){return this._disposeOnNewModel.clear(),this._model=de,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=A.NC("noResults","No results"),C.$Z(this._messageContainer),Promise.resolve(void 0)):(C.Cp(this._messageContainer),this._decorationsManager=new ve(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(de=>this._tree.rerender(de))),this._disposeOnNewModel.add(this._preview.onMouseDown(de=>{const{event:Pe,target:He}=de;if(Pe.detail!==2)return;const $e=this._getFocusedReference();!$e||this._onDidSelectReference.fire({element:{uri:$e.uri,range:He.range},kind:Pe.ctrlKey||Pe.metaKey||Pe.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),C.$Z(this._treeContainer),C.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[de]=this._tree.getFocus();if(de instanceof u.WX)return de;if(de instanceof u.F2&&de.children.length>0)return de.children[0]}revealReference(de){return ie(this,void 0,void 0,function*(){yield this._revealReference(de,!1),this._onDidSelectReference.fire({element:de,kind:"goto",source:"tree"})})}_revealReference(de,Pe){return ie(this,void 0,void 0,function*(){if(this._revealedReference===de)return;this._revealedReference=de,de.uri.scheme!==E.lg.inMemory?this.setTitle((0,I.Hx)(de.uri),this._uriLabel.getUriLabel((0,I.XX)(de.uri))):this.setTitle(A.NC("peekView.alternateTitle","References"));const He=this._textModelResolverService.createModelReference(de.uri);this._tree.getInput()===de.parent?this._tree.reveal(de):(Pe&&this._tree.reveal(de.parent),yield this._tree.expand(de.parent),this._tree.reveal(de));const $e=yield He;if(!this._model){$e.dispose();return}(0,V.B9)(this._previewModelReference);const me=$e.object;if(me){const Ie=this._preview.getModel()===me.textEditorModel?0:1,Ge=M.e.lift(de.range).collapseToStart();this._previewModelReference=$e,this._preview.setModel(me.textEditorModel),this._preview.setSelection(Ge),this._preview.revealRangeInCenter(Ge,Ie)}else this._preview.setModel(this._previewNotAvailableMessage),$e.dispose()})}};at=ye([le(3,re.XE),le(4,H.S),le(5,l.TG),le(6,P.Fw),le(7,z.e),le(8,Me.tJ),le(9,T.d),le(10,K.O),le(11,Q.c_)],at);var qe=function(Ne,de,Pe,He){var $e=arguments.length,me=$e<3?de:He===null?He=Object.getOwnPropertyDescriptor(de,Pe):He,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(Ne,de,Pe,He);else for(var Ge=Ne.length-1;Ge>=0;Ge--)(Ie=Ne[Ge])&&(me=($e<3?Ie(me):$e>3?Ie(de,Pe,me):Ie(de,Pe))||me);return $e>3&&me&&Object.defineProperty(de,Pe,me),me},Re=function(Ne,de){return function(Pe,He){de(Pe,He,Ne)}},Je=function(Ne,de,Pe,He){function $e(me){return me instanceof Pe?me:new Pe(function(Ie){Ie(me)})}return new(Pe||(Pe=Promise))(function(me,Ie){function Ge(mt){try{ze(He.next(mt))}catch(wt){Ie(wt)}}function ft(mt){try{ze(He.throw(mt))}catch(wt){Ie(wt)}}function ze(mt){mt.done?me(mt.value):$e(mt.value).then(Ge,ft)}ze((He=He.apply(Ne,de||[])).next())})};const st=new p.uy("referenceSearchVisible",!1,A.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let et=class Wl{constructor(de,Pe,He,$e,me,Ie,Ge,ft){this._defaultTreeKeyboardSupport=de,this._editor=Pe,this._editorService=$e,this._notificationService=me,this._instantiationService=Ie,this._storageService=Ge,this._configurationService=ft,this._disposables=new V.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=st.bindTo(He)}static get(de){return de.getContribution(Wl.ID)}dispose(){var de,Pe;this._referenceSearchVisible.reset(),this._disposables.dispose(),(de=this._widget)===null||de===void 0||de.dispose(),(Pe=this._model)===null||Pe===void 0||Pe.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(de,Pe,He){let $e;if(this._widget&&($e=this._widget.position),this.closeWidget(),!!$e&&de.containsPosition($e))return;this._peekMode=He,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const me="peekViewLayout",Ie=xe.fromJSON(this._storageService.get(me,0,"{}"));this._widget=this._instantiationService.createInstance(at,this._editor,this._defaultTreeKeyboardSupport,Ie),this._widget.setTitle(A.NC("labelLoading","Loading...")),this._widget.show(de),this._disposables.add(this._widget.onDidClose(()=>{Pe.cancel(),this._widget&&(this._storageService.store(me,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(ft=>{const{element:ze,kind:mt}=ft;if(!!ze)switch(mt){case"open":(ft.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(ze,!1,!1);break;case"side":this.openReference(ze,!0,!1);break;case"goto":He?this._gotoReference(ze):this.openReference(ze,!1,!0);break}}));const Ge=++this._requestIdPool;Pe.then(ft=>{var ze;if(Ge!==this._requestIdPool||!this._widget){ft.dispose();return}return(ze=this._model)===null||ze===void 0||ze.dispose(),this._model=ft,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(A.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const mt=this._editor.getModel().uri,wt=new $.L(de.startLineNumber,de.startColumn),Oe=this._model.nearestReference(mt,wt);if(Oe)return this._widget.setSelection(Oe).then(()=>{this._widget&&this._editor.getOption(79)==="editor"&&this._widget.focusOnPreviewEditor()})}})},ft=>{this._notificationService.error(ft)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(de){return Je(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const Pe=this._widget.position;if(!Pe)return;const He=this._model.nearestReference(this._editor.getModel().uri,Pe);if(!He)return;const $e=this._model.nextOrPreviousReference(He,de),me=this._editor.hasTextFocus(),Ie=this._widget.isPreviewEditorFocused();yield this._widget.setSelection($e),yield this._gotoReference($e),me?this._editor.focus():this._widget&&Ie&&this._widget.focusOnPreviewEditor()})}revealReference(de){return Je(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(de))})}closeWidget(de=!0){var Pe,He;(Pe=this._widget)===null||Pe===void 0||Pe.dispose(),(He=this._model)===null||He===void 0||He.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,de&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(de){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const Pe=M.e.lift(de.range).collapseToStart();return this._editorService.openCodeEditor({resource:de.uri,options:{selection:Pe,selectionSource:"code.jump"}},this._editor).then(He=>{var $e;if(this._ignoreModelChangeEvent=!1,!He||!this._widget){this.closeWidget();return}if(this._editor===He)this._widget.show(Pe),this._widget.focusOnReferenceTree();else{const me=Wl.get(He),Ie=this._model.clone();this.closeWidget(),He.focus(),me==null||me.toggleWidget(Pe,(0,w.PG)(Ge=>Promise.resolve(Ie)),($e=this._peekMode)!==null&&$e!==void 0?$e:!1)}},He=>{this._ignoreModelChangeEvent=!1,(0,r.dL)(He)})}openReference(de,Pe,He){Pe||this.closeWidget();const{uri:$e,range:me}=de;this._editorService.openCodeEditor({resource:$e,options:{selection:me,selectionSource:"code.jump",pinned:He}},this._editor,Pe)}};et.ID="editor.contrib.referencesController",et=qe([Re(2,p.i6),Re(3,D.$),Re(4,g.lT),Re(5,l.TG),Re(6,f.Uy),Re(7,c.Ui)],et);function we(Ne,de){const Pe=(0,P.rc)(Ne);if(!Pe)return;const He=et.get(Pe);He&&de(He)}n.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,O.gx)(2089,60),when:p.Ao.or(st,P.Jy.inPeekEditor),handler(Ne){we(Ne,de=>{de.changeFocusBetweenPreviewAndReferences()})}}),n.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:p.Ao.or(st,P.Jy.inPeekEditor),handler(Ne){we(Ne,de=>{de.goToNextOrPreviousReference(!0)})}}),n.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:p.Ao.or(st,P.Jy.inPeekEditor),handler(Ne){we(Ne,de=>{de.goToNextOrPreviousReference(!1)})}}),L.P0.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),L.P0.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),L.P0.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),L.P0.registerCommand("closeReferenceSearch",Ne=>we(Ne,de=>de.closeWidget())),n.W.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:p.Ao.and(P.Jy.inPeekEditor,p.Ao.not("config.editor.stablePeek"))}),n.W.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:p.Ao.and(st,p.Ao.not("config.editor.stablePeek"))}),n.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:p.Ao.and(st,a.CQ,a.PS.negate(),a.uJ.negate()),handler(Ne){var de;const He=(de=Ne.get(a.Lw).lastFocusedList)===null||de===void 0?void 0:de.getFocus();Array.isArray(He)&&He[0]instanceof u.WX&&we(Ne,$e=>$e.revealReference(He[0]))}}),n.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:p.Ao.and(st,a.CQ,a.PS.negate(),a.uJ.negate()),handler(Ne){var de;const He=(de=Ne.get(a.Lw).lastFocusedList)===null||de===void 0?void 0:de.getFocus();Array.isArray(He)&&He[0]instanceof u.WX&&we(Ne,$e=>$e.openReference(He[0],!0,!0))}}),L.P0.registerCommand("openReference",Ne=>{var de;const He=(de=Ne.get(a.Lw).lastFocusedList)===null||de===void 0?void 0:de.getFocus();Array.isArray(He)&&He[0]instanceof u.WX&&we(Ne,$e=>$e.openReference(He[0],!1,!0))})},1293:function(Ot,Te,i){"use strict";i.d(Te,{F2:function(){return l},WX:function(){return c},oQ:function(){return n}});var w=i(17301),r=i(4669),O=i(44742),V=i(9917),D=i(43702),$=i(95935),M=i(97295),P=i(24314),A=i(63580),L=function(a,g,f,u){function C(y){return y instanceof f?y:new f(function(b){b(y)})}return new(f||(f=Promise))(function(y,b){function _(R){try{I(u.next(R))}catch(J){b(J)}}function E(R){try{I(u.throw(R))}catch(J){b(J)}}function I(R){R.done?y(R.value):C(R.value).then(_,E)}I((u=u.apply(a,g||[])).next())})};class c{constructor(g,f,u,C){this.isProviderFirst=g,this.parent=f,this.link=u,this._rangeCallback=C,this.id=O.a.nextId()}get uri(){return this.link.uri}get range(){var g,f;return(f=(g=this._range)!==null&&g!==void 0?g:this.link.targetSelectionRange)!==null&&f!==void 0?f:this.link.range}set range(g){this._range=g,this._rangeCallback(this)}get ariaMessage(){var g;const f=(g=this.parent.getPreview(this))===null||g===void 0?void 0:g.preview(this.range);return f?(0,A.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,$.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,f.value):(0,A.NC)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,$.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class p{constructor(g){this._modelReference=g}dispose(){this._modelReference.dispose()}preview(g,f=8){const u=this._modelReference.object.textEditorModel;if(!u)return;const{startLineNumber:C,startColumn:y,endLineNumber:b,endColumn:_}=g,E=u.getWordUntilPosition({lineNumber:C,column:y-f}),I=new P.e(C,E.startColumn,C,y),R=new P.e(b,_,b,1073741824),J=u.getValueInRange(I).replace(/^\s+/,""),Q=u.getValueInRange(g),U=u.getValueInRange(R).replace(/\s+$/,"");return{value:J+Q+U,highlight:{start:J.length,end:J.length+Q.length}}}}class l{constructor(g,f){this.parent=g,this.uri=f,this.children=[],this._previews=new D.Y9}dispose(){(0,V.B9)(this._previews.values()),this._previews.clear()}getPreview(g){return this._previews.get(g.uri)}get ariaMessage(){const g=this.children.length;return g===1?(0,A.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,$.EZ)(this.uri),this.uri.fsPath):(0,A.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",g,(0,$.EZ)(this.uri),this.uri.fsPath)}resolve(g){return L(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(const f of this.children)if(!this._previews.has(f.uri))try{const u=yield g.createModelReference(f.uri);this._previews.set(f.uri,new p(u))}catch(u){(0,w.dL)(u)}return this})}}class n{constructor(g,f){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new r.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=g,this._title=f;const[u]=g;g.sort(n._compareReferences);let C;for(const y of g)if((!C||!$.SF.isEqual(C.uri,y.uri,!0))&&(C=new l(this,y.uri),this.groups.push(C)),C.children.length===0||n._compareReferences(y,C.children[C.children.length-1])!==0){const b=new c(u===y,C,y,_=>this._onDidChangeReferenceRange.fire(_));this.references.push(b),C.children.push(b)}}dispose(){(0,V.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new n(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,A.NC)("aria.result.0","No results found"):this.references.length===1?(0,A.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?(0,A.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,A.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(g,f){const{parent:u}=g;let C=u.children.indexOf(g);const y=u.children.length,b=u.parent.groups.length;return b===1||f&&C+1<y||!f&&C>0?(f?C=(C+1)%y:C=(C+y-1)%y,u.children[C]):(C=u.parent.groups.indexOf(u),f?(C=(C+1)%b,u.parent.groups[C].children[0]):(C=(C+b-1)%b,u.parent.groups[C].children[u.parent.groups[C].children.length-1]))}nearestReference(g,f){const u=this.references.map((C,y)=>({idx:y,prefixLen:M.Mh(C.uri.toString(),g.toString()),offsetDist:Math.abs(C.range.startLineNumber-f.lineNumber)*100+Math.abs(C.range.startColumn-f.column)})).sort((C,y)=>C.prefixLen>y.prefixLen?-1:C.prefixLen<y.prefixLen?1:C.offsetDist<y.offsetDist?-1:C.offsetDist>y.offsetDist?1:0)[0];if(u)return this.references[u.idx]}referenceAt(g,f){for(const u of this.references)if(u.uri.toString()===g.toString()&&P.e.containsPosition(u.range,f))return u}firstReference(){for(const g of this.references)if(g.isProviderFirst)return g;return this.references[0]}static _compareReferences(g,f){return $.SF.compare(g.uri,f.uri)||P.e.compareRangesUsingStarts(g.range,f.range)}}},41095:function(Ot,Te,i){"use strict";i.d(Te,{R8:function(){return A}});var w=i(15393),r=i(71050),O=i(17301),V=i(16830),D=i(71922),$=function(p,l,n,a){function g(f){return f instanceof n?f:new n(function(u){u(f)})}return new(n||(n=Promise))(function(f,u){function C(_){try{b(a.next(_))}catch(E){u(E)}}function y(_){try{b(a.throw(_))}catch(E){u(E)}}function b(_){_.done?f(_.value):g(_.value).then(C,y)}b((a=a.apply(p,l||[])).next())})};class M{constructor(l,n,a){this.provider=l,this.hover=n,this.ordinal=a}}function P(p,l,n,a,g){return $(this,void 0,void 0,function*(){try{const f=yield Promise.resolve(p.provideHover(n,a,g));if(f&&c(f))return new M(p,f,l)}catch(f){(0,O.Cp)(f)}})}function A(p,l,n,a){const f=p.ordered(l).map((u,C)=>P(u,C,l,n,a));return w.Aq.fromPromises(f).coalesce()}function L(p,l,n,a){return A(p,l,n,a).map(g=>g.hover).toPromise()}(0,V.sb)("_executeHoverProvider",(p,l,n)=>{const a=p.get(D.p);return L(a.hoverProvider,l,n,r.T.None)});function c(p){const l=typeof p.range<"u",n=typeof p.contents<"u"&&p.contents&&p.contents.length>0;return l&&n}},34231:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{ModesHoverController:function(){return de}});var w=i(22258),r=i(9917),O=i(16830),V=i(24314),D=i(29102),$=i(72042),M=i(12004),P=i(65321),A=i(59069),L=i(41416);const c=P.$;class p extends r.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new L.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class l extends r.JT{constructor(me,Ie,Ge){super(),this.actionContainer=P.R3(me,c("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=P.R3(this.actionContainer,c("a.action")),this.action.setAttribute("role","button"),Ie.iconClass&&P.R3(this.action,c(`span.icon.${Ie.iconClass}`));const ft=P.R3(this.action,c("span"));ft.textContent=Ge?`${Ie.label} (${Ge})`:Ie.label,this._register(P.nm(this.actionContainer,P.tw.CLICK,ze=>{ze.stopPropagation(),ze.preventDefault(),Ie.run(this.actionContainer)})),this._register(P.nm(this.actionContainer,P.tw.KEY_UP,ze=>{new A.y(ze).equals(3)&&(ze.stopPropagation(),ze.preventDefault(),Ie.run(this.actionContainer))})),this.setEnabled(!0)}static render(me,Ie,Ge){return new l(me,Ie,Ge)}setEnabled(me){me?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var n=i(9488),a=i(50187),g=i(92035),f=i(96887),u=i(15393),C=i(17301),y=i(4669),b=function($e,me,Ie,Ge){function ft(ze){return ze instanceof Ie?ze:new Ie(function(mt){mt(ze)})}return new(Ie||(Ie=Promise))(function(ze,mt){function wt(Bt){try{lt(Ge.next(Bt))}catch(Zt){mt(Zt)}}function Oe(Bt){try{lt(Ge.throw(Bt))}catch(Zt){mt(Zt)}}function lt(Bt){Bt.done?ze(Bt.value):ft(Bt.value).then(wt,Oe)}lt((Ge=Ge.apply($e,me||[])).next())})},_=function($e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me=$e[Symbol.asyncIterator],Ie;return me?me.call($e):($e=typeof __values=="function"?__values($e):$e[Symbol.iterator](),Ie={},Ge("next"),Ge("throw"),Ge("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function Ge(ze){Ie[ze]=$e[ze]&&function(mt){return new Promise(function(wt,Oe){mt=$e[ze](mt),ft(wt,Oe,mt.done,mt.value)})}}function ft(ze,mt,wt,Oe){Promise.resolve(Oe).then(function(lt){ze({value:lt,done:wt})},mt)}};class E{constructor(me,Ie,Ge){this.value=me,this.isComplete=Ie,this.hasLoadingMessage=Ge}}class I extends r.JT{constructor(me,Ie){super(),this._editor=me,this._computer=Ie,this._onResult=this._register(new y.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new u.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new u.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new u.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(55).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(me,Ie=!0){this._state=me,Ie&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,u.zS)(me=>this._computer.computeAsync(me)),b(this,void 0,void 0,function*(){var me,Ie;try{try{for(var Ge=_(this._asyncIterable),ft;ft=yield Ge.next(),!ft.done;){const ze=ft.value;ze&&(this._result.push(ze),this._fireResult())}}catch(ze){me={error:ze}}finally{try{ft&&!ft.done&&(Ie=Ge.return)&&(yield Ie.call(Ge))}finally{if(me)throw me.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(ze){(0,C.dL)(ze)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const me=this._state===0,Ie=this._state===4;this._onResult.fire(new E(this._result.slice(0),me,Ie))}start(me){if(me===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}var R=i(66520),J=i(16141),Q=i(72065),U=i(91847),K=i(55621),H=function($e,me,Ie,Ge){var ft=arguments.length,ze=ft<3?me:Ge===null?Ge=Object.getOwnPropertyDescriptor(me,Ie):Ge,mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ze=Reflect.decorate($e,me,Ie,Ge);else for(var wt=$e.length-1;wt>=0;wt--)(mt=$e[wt])&&(ze=(ft<3?mt(ze):ft>3?mt(me,Ie,ze):mt(me,Ie))||ze);return ft>3&&ze&&Object.defineProperty(me,Ie,ze),ze},X=function($e,me){return function(Ie,Ge){me(Ie,Ge,$e)}};const j=P.$;let x=class Vl extends r.JT{constructor(me,Ie,Ge){super(),this._editor=me,this._instantiationService=Ie,this._keybindingService=Ge,this._widget=this._register(this._instantiationService.createInstance(T,this._editor)),this._isChangingDecorations=!1,this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const ft of R.Ae.getAll())this._participants.push(this._instantiationService.createInstance(ft,this._editor));this._participants.sort((ft,ze)=>ft.hoverOrdinal-ze.hoverOrdinal),this._computer=new G(this._editor,this._participants),this._hoverOperation=this._register(new I(this._editor,this._computer)),this._register(this._hoverOperation.onResult(ft=>{this._withResult(ft.value,ft.isComplete,ft.hasLoadingMessage)})),this._register(this._editor.onDidChangeModelDecorations(()=>{this._isChangingDecorations||this._onModelDecorationsChanged()})),this._register(P.mu(this._widget.getDomNode(),"keydown",ft=>{ft.equals(9)&&this.hide()})),this._register(f.RW.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(me){const Ie=[];for(const ft of this._participants)if(ft.suggestHoverAnchor){const ze=ft.suggestHoverAnchor(me);ze&&Ie.push(ze)}const Ge=me.target;if(Ge.type===6&&Ie.push(new R.Qj(0,Ge.range)),Ge.type===7){const ft=this._editor.getOption(46).typicalHalfwidthCharacterWidth/2;!Ge.detail.isAfterLines&&typeof Ge.detail.horizontalDistanceToText=="number"&&Ge.detail.horizontalDistanceToText<ft&&Ie.push(new R.Qj(0,Ge.range))}return Ie.length===0?!1:(Ie.sort((ft,ze)=>ze.priority-ft.priority),this._startShowingAt(Ie[0],0,!1),!0)}startShowingAtRange(me,Ie,Ge){this._startShowingAt(new R.Qj(0,me),Ie,Ge)}_startShowingAt(me,Ie,Ge){if(!(this._computer.anchor&&this._computer.anchor.equals(me))){if(this._hoverOperation.cancel(),this._widget.position)if(!this._computer.anchor||!me.canAdoptVisibleHover(this._computer.anchor,this._widget.position))this.hide();else{const ft=this._messages.filter(ze=>ze.isValidForHoverAnchor(me));if(ft.length===0)this.hide();else{if(ft.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(me,ft)}}this._computer.anchor=me,this._computer.shouldFocus=Ge,this._hoverOperation.start(Ie)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}containsNode(me){return this._widget.getDomNode().contains(me)}_addLoadingMessage(me){if(this._computer.anchor){for(const Ie of this._participants)if(Ie.createLoadingMessage){const Ge=Ie.createLoadingMessage(this._computer.anchor);if(Ge)return me.slice(0).concat([Ge])}}return me}_withResult(me,Ie,Ge){this._messages=Ge?this._addLoadingMessage(me):me,this._messagesAreComplete=Ie,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):Ie&&this.hide()}_renderMessages(me,Ie){const{showAtPosition:Ge,showAtRange:ft,highlightRange:ze}=Vl.computeHoverRanges(me.range,Ie),mt=new r.SL,wt=mt.add(new z(this._keybindingService)),Oe=document.createDocumentFragment();let lt=null;const Bt={fragment:Oe,statusBar:wt,setColorPicker:Zt=>lt=Zt,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const Zt of this._participants){const pi=Ie.filter(Li=>Li.owner===Zt);pi.length>0&&mt.add(Zt.renderHoverParts(Bt,pi))}if(wt.hasContent&&Oe.appendChild(wt.hoverElement),Oe.hasChildNodes()){if(ze){const Zt=this._editor.createDecorationsCollection();try{this._isChangingDecorations=!0,Zt.set([{range:ze,options:Vl._DECORATION_OPTIONS}])}finally{this._isChangingDecorations=!1}mt.add((0,r.OF)(()=>{try{this._isChangingDecorations=!0,Zt.clear()}finally{this._isChangingDecorations=!1}}))}this._widget.showAt(Oe,new Z(lt,Ge,ft,this._editor.getOption(55).above,this._computer.shouldFocus,mt))}else mt.dispose()}static computeHoverRanges(me,Ie){const Ge=me.startLineNumber;let ft=me.startColumn,ze=me.endColumn,mt=Ie[0].range,wt=null;for(const Oe of Ie)mt=V.e.plusRange(mt,Oe.range),Oe.range.startLineNumber===Ge&&Oe.range.endLineNumber===Ge&&(ft=Math.min(ft,Oe.range.startColumn),ze=Math.max(ze,Oe.range.endColumn)),Oe.forceShowAtRange&&(wt=Oe.range);return{showAtPosition:wt?wt.getStartPosition():new a.L(me.startLineNumber,ft),showAtRange:wt||new V.e(Ge,ft,Ge,ze),highlightRange:mt}}};x._DECORATION_OPTIONS=g.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),x=H([X(1,Q.TG),X(2,U.d)],x);class Z{constructor(me,Ie,Ge,ft,ze,mt){this.colorPicker=me,this.showAtPosition=Ie,this.showAtRange=Ge,this.preferAbove=ft,this.stoleFocus=ze,this.disposables=mt}}let T=class $c extends r.JT{constructor(me,Ie){super(),this._editor=me,this._contextKeyService=Ie,this.allowEditorOverflow=!0,this._hoverVisibleKey=D.u.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new p),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(Ge=>{Ge.hasChanged(46)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var me,Ie;return(Ie=(me=this._visibleData)===null||me===void 0?void 0:me.showAtPosition)!==null&&Ie!==void 0?Ie:null}get isColorPickerVisible(){var me;return Boolean((me=this._visibleData)===null||me===void 0?void 0:me.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return $c.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let me=this._visibleData.preferAbove;return!me&&this._contextKeyService.getContextKeyValue(K._y.Visible.key)&&(me=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:me?[1,2]:[2,1]}}_setVisibleData(me){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=me,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const me=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:Ie,lineHeight:Ge}=this._editor.getOption(46);this._hover.contentsDomNode.style.fontSize=`${Ie}px`,this._hover.contentsDomNode.style.lineHeight=`${Ge/Ie}`,this._hover.contentsDomNode.style.maxHeight=`${me}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(Ie=>this._editor.applyFontInfo(Ie))}showAt(me,Ie){this._setVisibleData(Ie),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(me),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),Ie.stoleFocus&&this._hover.containerDomNode.focus(),Ie.colorPicker&&Ie.colorPicker.layout()}hide(){if(this._visibleData){const me=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),me&&this._editor.focus()}}onContentsChanged(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();const me=this._hover.scrollbar.getScrollDimensions();if(me.scrollWidth>me.width){const Ge=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==Ge&&(this._hover.contentsDomNode.style.paddingBottom=Ge,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};T.ID="editor.contrib.contentHoverWidget",T=H([X(1,J.i6)],T);let z=class extends r.JT{constructor(me){super(),this._keybindingService=me,this._hasContent=!1,this.hoverElement=j("div.hover-row.status-bar"),this.actionsElement=P.R3(this.hoverElement,j("div.actions"))}get hasContent(){return this._hasContent}addAction(me){const Ie=this._keybindingService.lookupKeybinding(me.commandId),Ge=Ie?Ie.getLabel():null;return this._hasContent=!0,this._register(l.render(this.actionsElement,me,Ge))}append(me){const Ie=P.R3(this.actionsElement,me);return this._hasContent=!0,Ie}};z=H([X(0,U.d)],z);class G{constructor(me,Ie){this._editor=me,this._participants=Ie,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(me){this._anchor=me}get shouldFocus(){return this._shouldFocus}set shouldFocus(me){this._shouldFocus=me}static _getLineDecorations(me,Ie){if(Ie.type!==1)return[];const Ge=me.getModel(),ft=Ie.range.startLineNumber;if(ft>Ge.getLineCount())return[];const ze=Ge.getLineMaxColumn(ft);return me.getLineDecorations(ft).filter(mt=>{if(mt.options.isWholeLine)return!0;const wt=mt.range.startLineNumber===ft?mt.range.startColumn:1,Oe=mt.range.endLineNumber===ft?mt.range.endColumn:ze;if(mt.options.showIfCollapsed){if(wt>Ie.range.startColumn+1||Ie.range.endColumn-1>Oe)return!1}else if(wt>Ie.range.startColumn||Ie.range.endColumn>Oe)return!1;return!0})}computeAsync(me){const Ie=this._anchor;if(!this._editor.hasModel()||!Ie)return u.Aq.EMPTY;const Ge=G._getLineDecorations(this._editor,Ie);return u.Aq.merge(this._participants.map(ft=>ft.computeAsync?ft.computeAsync(Ie,Ge,me):u.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const me=G._getLineDecorations(this._editor,this._anchor);let Ie=[];for(const Ge of this._participants)Ie=Ie.concat(Ge.computeSync(this._anchor,me));return(0,n.kX)(Ie)}}var re=i(59365),S=i(8598),he=i(50988);const Ce=P.$;class ge extends r.JT{constructor(me,Ie,Ge=he.SW){super(),this._renderDisposeables=this._register(new r.SL),this._editor=me,this._isVisible=!1,this._messages=[],this._hover=this._register(new p),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new S.$({editor:this._editor},Ie,Ge)),this._computer=new pe(this._editor),this._hoverOperation=this._register(new I(this._editor,this._computer)),this._register(this._hoverOperation.onResult(ft=>{this._withResult(ft.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(ft=>{ft.hasChanged(46)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return ge.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(Ie=>this._editor.applyFontInfo(Ie))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(me){this._computer.lineNumber!==me&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=me,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(me){this._messages=me,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(me,Ie){this._renderDisposeables.clear();const Ge=document.createDocumentFragment();for(const ft of Ie){const ze=Ce("div.hover-row.markdown-hover"),mt=P.R3(ze,Ce("div.hover-contents")),wt=this._renderDisposeables.add(this._markdownRenderer.render(ft.value));mt.appendChild(wt.element),Ge.appendChild(ze)}this._updateContents(Ge),this._showAt(me)}_updateContents(me){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(me),this._updateFont()}_showAt(me){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const Ie=this._editor.getLayoutInfo(),Ge=this._editor.getTopForLineNumber(me),ft=this._editor.getScrollTop(),ze=this._editor.getOption(61),mt=this._hover.containerDomNode.clientHeight,wt=Ge-ft-(mt-ze)/2;this._hover.containerDomNode.style.left=`${Ie.glyphMarginLeft+Ie.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(wt),0)}px`}}ge.ID="editor.contrib.modesGlyphHoverWidget";class pe{constructor(me){this._editor=me,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(me){this._lineNumber=me}computeSync(){const me=ft=>({value:ft}),Ie=this._editor.getLineDecorations(this._lineNumber),Ge=[];if(!Ie)return Ge;for(const ft of Ie){if(!ft.options.glyphMarginClassName)continue;const ze=ft.options.glyphMarginHoverMessage;!ze||(0,re.CP)(ze)||Ge.push(...(0,n._2)(ze).map(me))}return Ge}}var ee=i(63580),se=i(73910),ne=i(97781),oe=i(22374),Se=i(95935),Ee=i(36357),Me=i(75396),ye=i(38939),le=i(76014),ie=i(73523),ve=i(98674),xe=i(90535),Ye=i(71922),at=function($e,me,Ie,Ge){var ft=arguments.length,ze=ft<3?me:Ge===null?Ge=Object.getOwnPropertyDescriptor(me,Ie):Ge,mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ze=Reflect.decorate($e,me,Ie,Ge);else for(var wt=$e.length-1;wt>=0;wt--)(mt=$e[wt])&&(ze=(ft<3?mt(ze):ft>3?mt(me,Ie,ze):mt(me,Ie))||ze);return ft>3&&ze&&Object.defineProperty(me,Ie,ze),ze},qe=function($e,me){return function(Ie,Ge){me(Ie,Ge,$e)}};const Re=P.$;class Je{constructor(me,Ie,Ge){this.owner=me,this.range=Ie,this.marker=Ge}isValidForHoverAnchor(me){return me.type===1&&this.range.startColumn<=me.range.startColumn&&this.range.endColumn>=me.range.endColumn}}const st={type:1,filter:{include:le.yN.QuickFix},triggerAction:le.aQ.QuickFixHover};let et=class{constructor(me,Ie,Ge,ft){this._editor=me,this._markerDecorationsService=Ie,this._openerService=Ge,this._languageFeaturesService=ft,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(me,Ie){if(!this._editor.hasModel()||me.type!==1)return[];const Ge=this._editor.getModel(),ft=me.range.startLineNumber,ze=Ge.getLineMaxColumn(ft),mt=[];for(const wt of Ie){const Oe=wt.range.startLineNumber===ft?wt.range.startColumn:1,lt=wt.range.endLineNumber===ft?wt.range.endColumn:ze,Bt=this._markerDecorationsService.getMarker(Ge.uri,wt);if(!Bt)continue;const Zt=new V.e(me.range.startLineNumber,Oe,me.range.startLineNumber,lt);mt.push(new Je(this,Zt,Bt))}return mt}renderHoverParts(me,Ie){if(!Ie.length)return r.JT.None;const Ge=new r.SL;Ie.forEach(ze=>me.fragment.appendChild(this.renderMarkerHover(ze,Ge)));const ft=Ie.length===1?Ie[0]:Ie.sort((ze,mt)=>ve.ZL.compare(ze.marker.severity,mt.marker.severity))[0];return this.renderMarkerStatusbar(me,ft,Ge),Ge}renderMarkerHover(me,Ie){const Ge=Re("div.hover-row"),ft=P.R3(Ge,Re("div.marker.hover-contents")),{source:ze,message:mt,code:wt,relatedInformation:Oe}=me.marker;this._editor.applyFontInfo(ft);const lt=P.R3(ft,Re("span"));if(lt.style.whiteSpace="pre-wrap",lt.innerText=mt,ze||wt)if(wt&&typeof wt!="string"){const Bt=Re("span");if(ze){const ot=P.R3(Bt,Re("span"));ot.innerText=ze}const Zt=P.R3(Bt,Re("a.code-link"));Zt.setAttribute("href",wt.target.toString()),Ie.add(P.nm(Zt,"click",ot=>{this._openerService.open(wt.target,{allowCommands:!0}),ot.preventDefault(),ot.stopPropagation()}));const pi=P.R3(Zt,Re("span"));pi.innerText=wt.value;const Li=P.R3(ft,Bt);Li.style.opacity="0.6",Li.style.paddingLeft="6px"}else{const Bt=P.R3(ft,Re("span"));Bt.style.opacity="0.6",Bt.style.paddingLeft="6px",Bt.innerText=ze&&wt?`${ze}(${wt})`:ze||`(${wt})`}if((0,n.Of)(Oe))for(const{message:Bt,resource:Zt,startLineNumber:pi,startColumn:Li}of Oe){const ot=P.R3(ft,Re("div"));ot.style.marginTop="8px";const Ft=P.R3(ot,Re("a"));Ft.innerText=`${(0,Se.EZ)(Zt)}(${pi}, ${Li}): `,Ft.style.cursor="pointer",Ie.add(P.nm(Ft,"click",_i=>{_i.stopPropagation(),_i.preventDefault(),this._openerService&&this._openerService.open(Zt,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:pi,startColumn:Li}}}).catch(C.dL)}));const Yt=P.R3(ot,Re("span"));Yt.innerText=Bt,this._editor.applyFontInfo(Yt)}return Ge}renderMarkerStatusbar(me,Ie,Ge){if((Ie.marker.severity===ve.ZL.Error||Ie.marker.severity===ve.ZL.Warning||Ie.marker.severity===ve.ZL.Info)&&me.statusBar.addAction({label:ee.NC("view problem","View Problem"),commandId:ie.NextMarkerAction.ID,run:()=>{var ft;me.hide(),(ft=ie.MarkerController.get(this._editor))===null||ft===void 0||ft.showAtMarker(Ie.marker),this._editor.focus()}}),!this._editor.getOption(83)){const ft=me.statusBar.append(Re("div"));this.recentMarkerCodeActionsInfo&&(ve.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===ve.H0.makeKey(Ie.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(ft.textContent=ee.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const ze=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?r.JT.None:Ge.add((0,u.Vg)(()=>ft.textContent=ee.NC("checkingForQuickFixes","Checking for quick fixes..."),200));ft.textContent||(ft.textContent=String.fromCharCode(160));const mt=this.getCodeActions(Ie.marker);Ge.add((0,r.OF)(()=>mt.cancel())),mt.then(wt=>{if(ze.dispose(),this.recentMarkerCodeActionsInfo={marker:Ie.marker,hasCodeActions:wt.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){wt.dispose(),ft.textContent=ee.NC("noQuickFixes","No quick fixes available");return}ft.style.display="none";let Oe=!1;Ge.add((0,r.OF)(()=>{Oe||wt.dispose()})),me.statusBar.addAction({label:ee.NC("quick fixes","Quick Fix..."),commandId:ye.E7.Id,run:lt=>{Oe=!0;const Bt=ye.pY.get(this._editor),Zt=P.i(lt);me.hide(),Bt==null||Bt.showCodeActions(st,wt,{x:Zt.left+6,y:Zt.top+Zt.height+6,width:Zt.width,height:Zt.height})}})},C.dL)}}getCodeActions(me){return(0,u.PG)(Ie=>(0,Me.aI)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new V.e(me.startLineNumber,me.startColumn,me.endLineNumber,me.endColumn),st,xe.Ex.None,Ie))}};et=at([qe(1,Ee.i),qe(2,he.v4),qe(3,Ye.p)],et),(0,ne.Ic)(($e,me)=>{const Ie=$e.getColor(se.url);Ie&&me.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${Ie}; }`);const Ge=$e.getColor(se.sgC);Ge&&me.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${Ge}; }`)});var we=function($e,me,Ie,Ge){var ft=arguments.length,ze=ft<3?me:Ge===null?Ge=Object.getOwnPropertyDescriptor(me,Ie):Ge,mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ze=Reflect.decorate($e,me,Ie,Ge);else for(var wt=$e.length-1;wt>=0;wt--)(mt=$e[wt])&&(ze=(ft<3?mt(ze):ft>3?mt(me,Ie,ze):mt(me,Ie))||ze);return ft>3&&ze&&Object.defineProperty(me,Ie,ze),ze},Ne=function($e,me){return function(Ie,Ge){me(Ie,Ge,$e)}};let de=class Gc{constructor(me,Ie,Ge,ft,ze){this._editor=me,this._instantiationService=Ie,this._openerService=Ge,this._languageService=ft,this._toUnhook=new r.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(mt=>{mt.hasChanged(55)&&(this._unhookEvents(),this._hookEvents())})}static get(me){return me.getContribution(Gc.ID)}_hookEvents(){const me=()=>this._hideWidgets(),Ie=this._editor.getOption(55);this._isHoverEnabled=Ie.enabled,this._isHoverSticky=Ie.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(Ge=>this._onEditorMouseDown(Ge))),this._toUnhook.add(this._editor.onMouseUp(Ge=>this._onEditorMouseUp(Ge))),this._toUnhook.add(this._editor.onMouseMove(Ge=>this._onEditorMouseMove(Ge))),this._toUnhook.add(this._editor.onKeyDown(Ge=>this._onKeyDown(Ge)))):(this._toUnhook.add(this._editor.onMouseMove(Ge=>this._onEditorMouseMove(Ge))),this._toUnhook.add(this._editor.onKeyDown(Ge=>this._onKeyDown(Ge)))),this._toUnhook.add(this._editor.onMouseLeave(Ge=>this._onEditorMouseLeave(Ge))),this._toUnhook.add(this._editor.onDidChangeModel(me)),this._toUnhook.add(this._editor.onDidScrollChange(Ge=>this._onEditorScrollChanged(Ge)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(me){(me.scrollTopChanged||me.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(me){this._isMouseDown=!0;const Ie=me.target;if(Ie.type===9&&Ie.detail===T.ID){this._hoverClicked=!0;return}Ie.type===12&&Ie.detail===ge.ID||(Ie.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(me){this._isMouseDown=!1}_onEditorMouseLeave(me){var Ie;const Ge=me.event.browserEvent.relatedTarget;!((Ie=this._contentWidget)===null||Ie===void 0)&&Ie.containsNode(Ge)||this._hideWidgets()}_onEditorMouseMove(me){var Ie,Ge,ft,ze,mt;const wt=me.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&wt.type===9&&wt.detail===T.ID||this._isHoverSticky&&!(!((Ge=(Ie=me.event.browserEvent.view)===null||Ie===void 0?void 0:Ie.getSelection())===null||Ge===void 0)&&Ge.isCollapsed)||!this._isHoverSticky&&wt.type===9&&wt.detail===T.ID&&((ft=this._contentWidget)===null||ft===void 0?void 0:ft.isColorPickerVisible())||this._isHoverSticky&&wt.type===12&&wt.detail===ge.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(me)){(ze=this._glyphWidget)===null||ze===void 0||ze.hide();return}if(wt.type===2&&wt.position){(mt=this._contentWidget)===null||mt===void 0||mt.hide(),this._glyphWidget||(this._glyphWidget=new ge(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(wt.position.lineNumber);return}this._hideWidgets()}_onKeyDown(me){me.keyCode!==5&&me.keyCode!==6&&me.keyCode!==57&&me.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var me,Ie,Ge;this._isMouseDown&&this._hoverClicked&&((me=this._contentWidget)===null||me===void 0?void 0:me.isColorPickerVisible())||(this._hoverClicked=!1,(Ie=this._glyphWidget)===null||Ie===void 0||Ie.hide(),(Ge=this._contentWidget)===null||Ge===void 0||Ge.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(x,this._editor)),this._contentWidget}isColorPickerVisible(){var me;return((me=this._contentWidget)===null||me===void 0?void 0:me.isColorPickerVisible())||!1}showContentHover(me,Ie,Ge){this._getOrCreateContentWidget().startShowingAtRange(me,Ie,Ge)}dispose(){var me,Ie;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(me=this._glyphWidget)===null||me===void 0||me.dispose(),(Ie=this._contentWidget)===null||Ie===void 0||Ie.dispose()}};de.ID="editor.contrib.hover",de=we([Ne(1,Q.TG),Ne(2,he.v4),Ne(3,$.O),Ne(4,J.i6)],de);class Pe extends O.R6{constructor(){super({id:"editor.action.showHover",label:ee.NC({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:D.u.editorTextFocus,primary:(0,w.gx)(2089,2087),weight:100}})}run(me,Ie){if(!Ie.hasModel())return;const Ge=de.get(Ie);if(!Ge)return;const ft=Ie.getPosition(),ze=new V.e(ft.lineNumber,ft.column,ft.lineNumber,ft.column),mt=Ie.getOption(2)===2;Ge.showContentHover(ze,1,mt)}}class He extends O.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:ee.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(me,Ie){const Ge=de.get(Ie);if(!Ge)return;const ft=Ie.getPosition();if(!ft)return;const ze=new V.e(ft.lineNumber,ft.column,ft.lineNumber,ft.column),mt=M.GotoDefinitionAtPositionEditorContribution.get(Ie);if(!mt)return;mt.startFindDefinitionFromCursor(ft).then(()=>{Ge.showContentHover(ze,1,!0)})}}(0,O._K)(de.ID,de),(0,O.Qr)(Pe),(0,O.Qr)(He),R.Ae.register(oe.D5),R.Ae.register(et),(0,ne.Ic)(($e,me)=>{const Ie=$e.getColor(se.ptc);Ie&&me.addRule(`.monaco-editor .hoverHighlight { background-color: ${Ie}; }`);const Ge=$e.getColor(se.yJx);Ge&&me.addRule(`.monaco-editor .monaco-hover { background-color: ${Ge}; }`);const ft=$e.getColor(se.CNo);ft&&(me.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${ft}; }`),me.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${ft.transparent(.5)}; }`),me.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${ft.transparent(.5)}; }`),me.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${ft.transparent(.5)}; }`));const ze=$e.getColor(se.url);ze&&me.addRule(`.monaco-editor .monaco-hover a { color: ${ze}; }`);const mt=$e.getColor(se.sgC);mt&&me.addRule(`.monaco-editor .monaco-hover a:hover { color: ${mt}; }`);const wt=$e.getColor(se.Sbf);wt&&me.addRule(`.monaco-editor .monaco-hover { color: ${wt}; }`);const Oe=$e.getColor(se.LoV);Oe&&me.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${Oe}; }`);const lt=$e.getColor(se.SwI);lt&&me.addRule(`.monaco-editor .monaco-hover code { background-color: ${lt}; }`)})},66520:function(Ot,Te,i){"use strict";i.d(Te,{Ae:function(){return O},Qj:function(){return w},YM:function(){return r}});class w{constructor(D,$){this.priority=D,this.range=$,this.type=1}equals(D){return D.type===1&&this.range.equalsRange(D.range)}canAdoptVisibleHover(D,$){return D.type===1&&$.lineNumber===this.range.startLineNumber}}class r{constructor(D,$,M){this.priority=D,this.owner=$,this.range=M,this.type=2}equals(D){return D.type===2&&this.owner===D.owner}canAdoptVisibleHover(D,$){return D.type===2&&this.owner===D.owner}}const O=new class{constructor(){this._participants=[]}register(D){this._participants.push(D)}getAll(){return this._participants}}},22374:function(Ot,Te,i){"use strict";i.d(Te,{D5:function(){return C},c:function(){return y},hU:function(){return u}});var w=i(65321),r=i(9488),O=i(15393),V=i(59365),D=i(9917),$=i(8598),M=i(50187),P=i(24314),A=i(72042),L=i(41095),c=i(63580),p=i(33108),l=i(50988),n=i(71922),a=function(b,_,E,I){var R=arguments.length,J=R<3?_:I===null?I=Object.getOwnPropertyDescriptor(_,E):I,Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(b,_,E,I);else for(var U=b.length-1;U>=0;U--)(Q=b[U])&&(J=(R<3?Q(J):R>3?Q(_,E,J):Q(_,E))||J);return R>3&&J&&Object.defineProperty(_,E,J),J},g=function(b,_){return function(E,I){_(E,I,b)}};const f=w.$;class u{constructor(_,E,I,R){this.owner=_,this.range=E,this.contents=I,this.ordinal=R}isValidForHoverAnchor(_){return _.type===1&&this.range.startColumn<=_.range.startColumn&&this.range.endColumn>=_.range.endColumn}}let C=class{constructor(_,E,I,R,J){this._editor=_,this._languageService=E,this._openerService=I,this._configurationService=R,this._languageFeaturesService=J,this.hoverOrdinal=2}createLoadingMessage(_){return new u(this,_.range,[new V.W5().appendText(c.NC("modesContentHover.loading","Loading..."))],2e3)}computeSync(_,E){if(!this._editor.hasModel()||_.type!==1)return[];const I=this._editor.getModel(),R=_.range.startLineNumber,J=I.getLineMaxColumn(R),Q=[];let U=1e3;const K=I.getLineLength(R),H=I.getLanguageIdAtPosition(_.range.startLineNumber,_.range.startColumn),X=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:H});typeof X=="number"&&K>=X&&Q.push(new u(this,_.range,[{value:c.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],U++));for(const j of E){const x=j.range.startLineNumber===R?j.range.startColumn:1,Z=j.range.endLineNumber===R?j.range.endColumn:J,T=j.options.hoverMessage;if(!T||(0,V.CP)(T))continue;const z=new P.e(_.range.startLineNumber,x,_.range.startLineNumber,Z);Q.push(new u(this,z,(0,r._2)(T),U++))}return Q}computeAsync(_,E,I){if(!this._editor.hasModel()||_.type!==1)return O.Aq.EMPTY;const R=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(R))return O.Aq.EMPTY;const J=new M.L(_.range.startLineNumber,_.range.startColumn);return(0,L.R8)(this._languageFeaturesService.hoverProvider,R,J,I).filter(Q=>!(0,V.CP)(Q.hover.contents)).map(Q=>{const U=Q.hover.range?P.e.lift(Q.hover.range):_.range;return new u(this,U,Q.hover.contents,Q.ordinal)})}renderHoverParts(_,E){return y(_,E,this._editor,this._languageService,this._openerService)}};C=a([g(1,A.O),g(2,l.v4),g(3,p.Ui),g(4,n.p)],C);function y(b,_,E,I,R){_.sort((Q,U)=>Q.ordinal-U.ordinal);const J=new D.SL;for(const Q of _)for(const U of Q.contents){if((0,V.CP)(U))continue;const K=f("div.hover-row.markdown-hover"),H=w.R3(K,f("div.hover-contents")),X=J.add(new $.$({editor:E},I,R));J.add(X.onDidRenderAsync(()=>{H.className="hover-contents code-hover-contents",b.onContentsChanged()}));const j=J.add(X.render(U));H.appendChild(j.element),b.fragment.appendChild(K)}return J}},56353:function(Ot,Te,i){"use strict";i.r(Te);var w=i(15393),r=i(17301),O=i(16467),V=i(16830),D=i(24314),$=i(3860),M=i(29102),P=i(92035),A=i(85215),L=i(8625),c=i(63580),p=i(97781);class l{constructor(y,b,_){this._editRange=y,this._originalSelection=b,this._text=_}getEditOperations(y,b){b.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(y,b){const E=b.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new $.Y(E.endLineNumber,Math.min(this._originalSelection.positionColumn,E.endColumn),E.endLineNumber,Math.min(this._originalSelection.positionColumn,E.endColumn)):new $.Y(E.endLineNumber,E.endColumn-this._text.length,E.endLineNumber,E.endColumn)}}var n=function(C,y,b,_){var E=arguments.length,I=E<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,b):_,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(C,y,b,_);else for(var J=C.length-1;J>=0;J--)(R=C[J])&&(I=(E<3?R(I):E>3?R(y,b,I):R(y,b))||I);return E>3&&I&&Object.defineProperty(y,b,I),I},a=function(C,y){return function(b,_){y(b,_,C)}};let g=class Hl{constructor(y,b){this.editor=y,this.editorWorkerService=b,this.decorations=this.editor.createDecorationsCollection()}static get(y){return y.getContribution(Hl.ID)}dispose(){}run(y,b){this.currentRequest&&this.currentRequest.cancel();const _=this.editor.getSelection(),E=this.editor.getModel();if(!E||!_)return;let I=_;if(I.startLineNumber!==I.endLineNumber)return;const R=new O.yy(this.editor,5),J=E.uri;return this.editorWorkerService.canNavigateValueSet(J)?(this.currentRequest=(0,w.PG)(Q=>this.editorWorkerService.navigateValueSet(J,I,b)),this.currentRequest.then(Q=>{if(!Q||!Q.range||!Q.value||!R.validate(this.editor))return;const U=D.e.lift(Q.range);let K=Q.range;const H=Q.value.length-(I.endColumn-I.startColumn);K={startLineNumber:K.startLineNumber,startColumn:K.startColumn,endLineNumber:K.endLineNumber,endColumn:K.startColumn+Q.value.length},H>1&&(I=new $.Y(I.startLineNumber,I.startColumn,I.endLineNumber,I.endColumn+H-1));const X=new l(U,I,Q.value);this.editor.pushUndoStop(),this.editor.executeCommand(y,X),this.editor.pushUndoStop(),this.decorations.set([{range:K,options:Hl.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,w.Vs)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(r.dL)}).catch(r.dL)):Promise.resolve(void 0)}};g.ID="editor.contrib.inPlaceReplaceController",g.DECORATION=P.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),g=n([a(1,A.p)],g);class f extends V.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:c.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:M.u.writable,kbOpts:{kbExpr:M.u.editorTextFocus,primary:3154,weight:100}})}run(y,b){const _=g.get(b);return _?_.run(this.id,!0):Promise.resolve(void 0)}}class u extends V.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:c.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:M.u.writable,kbOpts:{kbExpr:M.u.editorTextFocus,primary:3156,weight:100}})}run(y,b){const _=g.get(b);return _?_.run(this.id,!1):Promise.resolve(void 0)}}(0,V._K)(g.ID,g),(0,V.Qr)(f),(0,V.Qr)(u),(0,p.Ic)((C,y)=>{const b=C.getColor(L.Dl);b&&y.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${b}; }`)})},18279:function(Ot,Te,i){"use strict";i.d(Te,{J:function(){return r},Y:function(){return w}});function w(O,V){let D=0;for(let $=0;$<O.length;$++)O.charAt($)==="	"?D+=V:D++;return D}function r(O,V,D){O=O<0?0:O;let $="";if(!D){const M=Math.floor(O/V);O=O%V;for(let P=0;P<M;P++)$+="	"}for(let M=0;M<O;M++)$+=" ";return $}},84602:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{AutoIndentOnPaste:function(){return U},AutoIndentOnPasteCommand:function(){return Q},ChangeIndentationSizeAction:function(){return b},DetectIndentation:function(){return I},IndentUsingSpaces:function(){return E},IndentUsingTabs:function(){return _},IndentationToSpacesAction:function(){return C},IndentationToSpacesCommand:function(){return H},IndentationToTabsAction:function(){return y},IndentationToTabsCommand:function(){return X},ReindentLinesAction:function(){return R},ReindentSelectedLinesAction:function(){return J},getReindentEditOperations:function(){return u}});var w=i(9917),r=i(97295),O=i(16830),V=i(10291),D=i(69386),$=i(24314),M=i(3860),P=i(29102),A=i(51381),L=i(73733),c=i(18279),p=i(63580),l=i(41157),n=i(83158),a=i(75383),g=function(j,x,Z,T){var z=arguments.length,G=z<3?x:T===null?T=Object.getOwnPropertyDescriptor(x,Z):T,re;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")G=Reflect.decorate(j,x,Z,T);else for(var S=j.length-1;S>=0;S--)(re=j[S])&&(G=(z<3?re(G):z>3?re(x,Z,G):re(x,Z))||G);return z>3&&G&&Object.defineProperty(x,Z,G),G},f=function(j,x){return function(Z,T){x(Z,T,j)}};function u(j,x,Z,T,z){if(j.getLineCount()===1&&j.getLineMaxColumn(1)===1)return[];const G=x.getLanguageConfiguration(j.getLanguageId()).indentationRules;if(!G)return[];for(T=Math.min(T,j.getLineCount());Z<=T&&G.unIndentedLinePattern;){const Se=j.getLineContent(Z);if(!G.unIndentedLinePattern.test(Se))break;Z++}if(Z>T-1)return[];const{tabSize:re,indentSize:S,insertSpaces:he}=j.getOptions(),Ce=(Se,Ee)=>(Ee=Ee||1,V.U.shiftIndent(Se,Se.length+Ee,re,S,he)),ge=(Se,Ee)=>(Ee=Ee||1,V.U.unshiftIndent(Se,Se.length+Ee,re,S,he)),pe=[];let ee;const se=j.getLineContent(Z);let ne=se;if(z!=null){ee=z;const Se=r.V8(se);ne=ee+se.substring(Se.length),G.decreaseIndentPattern&&G.decreaseIndentPattern.test(ne)&&(ee=ge(ee),ne=ee+se.substring(Se.length)),se!==ne&&pe.push(D.h.replaceMove(new M.Y(Z,1,Z,Se.length+1),(0,n.x)(ee,S,he)))}else ee=r.V8(se);let oe=ee;G.increaseIndentPattern&&G.increaseIndentPattern.test(ne)?(oe=Ce(oe),ee=Ce(ee)):G.indentNextLinePattern&&G.indentNextLinePattern.test(ne)&&(oe=Ce(oe)),Z++;for(let Se=Z;Se<=T;Se++){const Ee=j.getLineContent(Se),Me=r.V8(Ee),ye=oe+Ee.substring(Me.length);G.decreaseIndentPattern&&G.decreaseIndentPattern.test(ye)&&(oe=ge(oe),ee=ge(ee)),Me!==oe&&pe.push(D.h.replaceMove(new M.Y(Se,1,Se,Me.length+1),(0,n.x)(oe,S,he))),!(G.unIndentedLinePattern&&G.unIndentedLinePattern.test(Ee))&&(G.increaseIndentPattern&&G.increaseIndentPattern.test(ye)?(ee=Ce(ee),oe=ee):G.indentNextLinePattern&&G.indentNextLinePattern.test(ye)?oe=Ce(oe):oe=ee)}return pe}class C extends O.R6{constructor(){super({id:C.ID,label:p.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:P.u.writable})}run(x,Z){const T=Z.getModel();if(!T)return;const z=T.getOptions(),G=Z.getSelection();if(!G)return;const re=new H(G,z.tabSize);Z.pushUndoStop(),Z.executeCommands(this.id,[re]),Z.pushUndoStop(),T.updateOptions({insertSpaces:!0})}}C.ID="editor.action.indentationToSpaces";class y extends O.R6{constructor(){super({id:y.ID,label:p.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:P.u.writable})}run(x,Z){const T=Z.getModel();if(!T)return;const z=T.getOptions(),G=Z.getSelection();if(!G)return;const re=new X(G,z.tabSize);Z.pushUndoStop(),Z.executeCommands(this.id,[re]),Z.pushUndoStop(),T.updateOptions({insertSpaces:!1})}}y.ID="editor.action.indentationToTabs";class b extends O.R6{constructor(x,Z){super(Z),this.insertSpaces=x}run(x,Z){const T=x.get(l.eJ),z=x.get(L.q),G=Z.getModel();if(!G)return;const re=z.getCreationOptions(G.getLanguageId(),G.uri,G.isForSimpleWidget),S=[1,2,3,4,5,6,7,8].map(Ce=>({id:Ce.toString(),label:Ce.toString(),description:Ce===re.tabSize?p.NC("configuredTabSize","Configured Tab Size"):void 0})),he=Math.min(G.getOptions().tabSize-1,7);setTimeout(()=>{T.pick(S,{placeHolder:p.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:S[he]}).then(Ce=>{Ce&&G&&!G.isDisposed()&&G.updateOptions({tabSize:parseInt(Ce.label,10),insertSpaces:this.insertSpaces})})},50)}}class _ extends b{constructor(){super(!1,{id:_.ID,label:p.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}_.ID="editor.action.indentUsingTabs";class E extends b{constructor(){super(!0,{id:E.ID,label:p.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}E.ID="editor.action.indentUsingSpaces";class I extends O.R6{constructor(){super({id:I.ID,label:p.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(x,Z){const T=x.get(L.q),z=Z.getModel();if(!z)return;const G=T.getCreationOptions(z.getLanguageId(),z.uri,z.isForSimpleWidget);z.detectIndentation(G.insertSpaces,G.tabSize)}}I.ID="editor.action.detectIndentation";class R extends O.R6{constructor(){super({id:"editor.action.reindentlines",label:p.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:P.u.writable})}run(x,Z){const T=x.get(A.c_),z=Z.getModel();if(!z)return;const G=u(z,T,1,z.getLineCount());G.length>0&&(Z.pushUndoStop(),Z.executeEdits(this.id,G),Z.pushUndoStop())}}class J extends O.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:p.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:P.u.writable})}run(x,Z){const T=x.get(A.c_),z=Z.getModel();if(!z)return;const G=Z.getSelections();if(G===null)return;const re=[];for(const S of G){let he=S.startLineNumber,Ce=S.endLineNumber;if(he!==Ce&&S.endColumn===1&&Ce--,he===1){if(he===Ce)continue}else he--;const ge=u(z,T,he,Ce);re.push(...ge)}re.length>0&&(Z.pushUndoStop(),Z.executeEdits(this.id,re),Z.pushUndoStop())}}class Q{constructor(x,Z){this._initialSelection=Z,this._edits=[],this._selectionId=null;for(const T of x)T.range&&typeof T.text=="string"&&this._edits.push(T)}getEditOperations(x,Z){for(const z of this._edits)Z.addEditOperation($.e.lift(z.range),z.text);let T=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(T=!0,this._selectionId=Z.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(T=!0,this._selectionId=Z.trackSelection(this._initialSelection,!1))),T||(this._selectionId=Z.trackSelection(this._initialSelection))}computeCursorState(x,Z){return Z.getTrackedSelection(this._selectionId)}}let U=class{constructor(x,Z){this.editor=x,this._languageConfigurationService=Z,this.callOnDispose=new w.SL,this.callOnModel=new w.SL,this.callOnDispose.add(x.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(x.onDidChangeModel(()=>this.update())),this.callOnDispose.add(x.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(50))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:x})=>{this.trigger(x)})))}trigger(x){const Z=this.editor.getSelections();if(Z===null||Z.length>1)return;const T=this.editor.getModel();if(!T||!T.tokenization.isCheapToTokenize(x.getStartPosition().lineNumber))return;const z=this.editor.getOption(9),{tabSize:G,indentSize:re,insertSpaces:S}=T.getOptions(),he=[],Ce={shiftIndent:se=>V.U.shiftIndent(se,se.length+1,G,re,S),unshiftIndent:se=>V.U.unshiftIndent(se,se.length+1,G,re,S)};let ge=x.startLineNumber;for(;ge<=x.endLineNumber;){if(this.shouldIgnoreLine(T,ge)){ge++;continue}break}if(ge>x.endLineNumber)return;let pe=T.getLineContent(ge);if(!/\S/.test(pe.substring(0,x.startColumn-1))){const se=(0,a.n8)(z,T,T.getLanguageId(),ge,Ce,this._languageConfigurationService);if(se!==null){const ne=r.V8(pe),oe=c.Y(se,G),Se=c.Y(ne,G);if(oe!==Se){const Ee=c.J(oe,G,S);he.push({range:new $.e(ge,1,ge,ne.length+1),text:Ee}),pe=Ee+pe.substr(ne.length)}else{const Ee=(0,a.tI)(T,ge,this._languageConfigurationService);if(Ee===0||Ee===8)return}}}const ee=ge;for(;ge<x.endLineNumber;){if(!/\S/.test(T.getLineContent(ge+1))){ge++;continue}break}if(ge!==x.endLineNumber){const se={tokenization:{getLineTokens:oe=>T.tokenization.getLineTokens(oe),getLanguageId:()=>T.getLanguageId(),getLanguageIdAtPosition:(oe,Se)=>T.getLanguageIdAtPosition(oe,Se)},getLineContent:oe=>oe===ee?pe:T.getLineContent(oe)},ne=(0,a.n8)(z,se,T.getLanguageId(),ge+1,Ce,this._languageConfigurationService);if(ne!==null){const oe=c.Y(ne,G),Se=c.Y(r.V8(T.getLineContent(ge+1)),G);if(oe!==Se){const Ee=oe-Se;for(let Me=ge+1;Me<=x.endLineNumber;Me++){const ye=T.getLineContent(Me),le=r.V8(ye),ve=c.Y(le,G)+Ee,xe=c.J(ve,G,S);xe!==le&&he.push({range:new $.e(Me,1,Me,le.length+1),text:xe})}}}}if(he.length>0){this.editor.pushUndoStop();const se=new Q(he,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",se),this.editor.pushUndoStop()}}shouldIgnoreLine(x,Z){x.tokenization.forceTokenization(Z);const T=x.getLineFirstNonWhitespaceColumn(Z);if(T===0)return!0;const z=x.tokenization.getLineTokens(Z);if(z.getCount()>0){const G=z.findTokenIndexAtOffset(T);if(G>=0&&z.getStandardTokenType(G)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};U.ID="editor.contrib.autoIndentOnPaste",U=g([f(1,A.c_)],U);function K(j,x,Z,T){if(j.getLineCount()===1&&j.getLineMaxColumn(1)===1)return;let z="";for(let re=0;re<Z;re++)z+=" ";const G=new RegExp(z,"gi");for(let re=1,S=j.getLineCount();re<=S;re++){let he=j.getLineFirstNonWhitespaceColumn(re);if(he===0&&(he=j.getLineMaxColumn(re)),he===1)continue;const Ce=new $.e(re,1,re,he),ge=j.getValueInRange(Ce),pe=T?ge.replace(/\t/ig,z):ge.replace(G,"	");x.addEditOperation(Ce,pe)}}class H{constructor(x,Z){this.selection=x,this.tabSize=Z,this.selectionId=null}getEditOperations(x,Z){this.selectionId=Z.trackSelection(this.selection),K(x,Z,this.tabSize,!0)}computeCursorState(x,Z){return Z.getTrackedSelection(this.selectionId)}}class X{constructor(x,Z){this.selection=x,this.tabSize=Z,this.selectionId=null}getEditOperations(x,Z){this.selectionId=Z.trackSelection(this.selection),K(x,Z,this.tabSize,!1)}computeCursorState(x,Z){return Z.getTrackedSelection(this.selectionId)}}(0,O._K)(U.ID,U),(0,O.Qr)(C),(0,O.Qr)(y),(0,O.Qr)(_),(0,O.Qr)(E),(0,O.Qr)(I),(0,O.Qr)(R),(0,O.Qr)(J)},8782:function(Ot,Te,i){"use strict";i.r(Te);var w=i(16830),r=i(66520),O=i(65321),V=i(9488),D=i(15393),$=i(71050),M=i(17301),P=i(9917),A=i(43702),L=i(98401),c=i(70666),p=i(29994),l=i(64141),n=i(69386),a=i(24314),g=i(96887),f=i(84973),u=i(92035),C=i(88191),y=i(71922),b=i(88216),_=i(82005),E=i(50187),I=i(66663),R=function($e,me,Ie,Ge){function ft(ze){return ze instanceof Ie?ze:new Ie(function(mt){mt(ze)})}return new(Ie||(Ie=Promise))(function(ze,mt){function wt(Bt){try{lt(Ge.next(Bt))}catch(Zt){mt(Zt)}}function Oe(Bt){try{lt(Ge.throw(Bt))}catch(Zt){mt(Zt)}}function lt(Bt){Bt.done?ze(Bt.value):ft(Bt.value).then(wt,Oe)}lt((Ge=Ge.apply($e,me||[])).next())})};class J{constructor(me,Ie){this.range=me,this.direction=Ie}}class Q{constructor(me,Ie,Ge){this.hint=me,this.anchor=Ie,this.provider=Ge,this._isResolved=!1}with(me){const Ie=new Q(this.hint,me.anchor,this.provider);return Ie._isResolved=this._isResolved,Ie._currentResolve=this._currentResolve,Ie}resolve(me){return R(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,me.isCancellationRequested?void 0:this.resolve(me);this._isResolved||(this._currentResolve=this._doResolve(me).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(me){var Ie,Ge;return R(this,void 0,void 0,function*(){try{const ft=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,me));this.hint.tooltip=(Ie=ft==null?void 0:ft.tooltip)!==null&&Ie!==void 0?Ie:this.hint.tooltip,this.hint.label=(Ge=ft==null?void 0:ft.label)!==null&&Ge!==void 0?Ge:this.hint.label,this._isResolved=!0}catch(ft){(0,M.Cp)(ft),this._isResolved=!1}})}}class U{constructor(me,Ie,Ge){this._disposables=new P.SL,this.ranges=me,this.provider=new Set;const ft=[];for(const[ze,mt]of Ie){this._disposables.add(ze),this.provider.add(mt);for(const wt of ze.hints){const Oe=Ge.validatePosition(wt.position);let lt="before";const Bt=U._getRangeAtPosition(Ge,Oe);let Zt;Bt.getStartPosition().isBefore(Oe)?(Zt=a.e.fromPositions(Bt.getStartPosition(),Oe),lt="after"):(Zt=a.e.fromPositions(Oe,Bt.getEndPosition()),lt="before"),ft.push(new Q(wt,new J(Zt,lt),mt))}}this.items=ft.sort((ze,mt)=>E.L.compare(ze.hint.position,mt.hint.position))}static create(me,Ie,Ge,ft){return R(this,void 0,void 0,function*(){const ze=[],mt=me.ordered(Ie).reverse().map(wt=>Ge.map(Oe=>R(this,void 0,void 0,function*(){try{const lt=yield wt.provideInlayHints(Ie,Oe,ft);lt!=null&&lt.hints.length&&ze.push([lt,wt])}catch(lt){(0,M.Cp)(lt)}})));if(yield Promise.all(mt.flat()),ft.isCancellationRequested||Ie.isDisposed())throw new M.FU;return new U(Ge,ze,Ie)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(me,Ie){const Ge=Ie.lineNumber,ft=me.getWordAtPosition(Ie);if(ft)return new a.e(Ge,ft.startColumn,Ge,ft.endColumn);me.tokenization.tokenizeIfCheap(Ge);const ze=me.tokenization.getLineTokens(Ge),mt=Ie.column-1,wt=ze.findTokenIndexAtOffset(mt);let Oe=ze.getStartOffset(wt),lt=ze.getEndOffset(wt);return lt-Oe===1&&(Oe===mt&&wt>1?(Oe=ze.getStartOffset(wt-1),lt=ze.getEndOffset(wt-1)):lt===mt&&wt<ze.getCount()-1&&(Oe=ze.getStartOffset(wt+1),lt=ze.getEndOffset(wt+1))),new a.e(Ge,Oe+1,Ge,lt+1)}}function K($e){return c.o.from({scheme:I.lg.command,path:$e.id,query:$e.arguments&&encodeURIComponent(JSON.stringify($e.arguments))}).toString()}var H=i(74741),X=i(60628),j=i(75426),x=i(84144),Z=i(94565),T=i(16141),z=i(5606),G=i(72065),re=i(59422),S=function($e,me,Ie,Ge){function ft(ze){return ze instanceof Ie?ze:new Ie(function(mt){mt(ze)})}return new(Ie||(Ie=Promise))(function(ze,mt){function wt(Bt){try{lt(Ge.next(Bt))}catch(Zt){mt(Zt)}}function Oe(Bt){try{lt(Ge.throw(Bt))}catch(Zt){mt(Zt)}}function lt(Bt){Bt.done?ze(Bt.value):ft(Bt.value).then(wt,Oe)}lt((Ge=Ge.apply($e,me||[])).next())})};function he($e,me,Ie,Ge){var ft;return S(this,void 0,void 0,function*(){const ze=$e.get(b.S),mt=$e.get(z.i),wt=$e.get(Z.Hy),Oe=$e.get(G.TG),lt=$e.get(re.lT);if(yield Ge.item.resolve($.T.None),!Ge.part.location)return;const Bt=Ge.part.location,Zt=[],pi=new Set(x.BH.getMenuItems(x.eH.EditorContext).map(ot=>(0,x.vr)(ot)?ot.command.id:""));for(const ot of w.Uc.getEditorActions())ot instanceof X.SymbolNavigationAction&&pi.has(ot.id)&&Zt.push(new H.aU(ot.id,ot.label,void 0,!0,()=>S(this,void 0,void 0,function*(){const Ft=yield ze.createModelReference(Bt.uri);try{yield Oe.invokeFunction(ot.run.bind(ot),me,new X.SymbolNavigationAnchor(Ft.object.textEditorModel,a.e.getStartPosition(Bt.range)))}finally{Ft.dispose()}})));if(Ge.part.command){const{command:ot}=Ge.part;Zt.push(new H.Z0),Zt.push(new H.aU(ot.id,ot.title,void 0,!0,()=>S(this,void 0,void 0,function*(){var Ft;try{yield wt.executeCommand(ot.id,...(Ft=ot.arguments)!==null&&Ft!==void 0?Ft:[])}catch(Yt){lt.notify({severity:re.zb.Error,source:Ge.item.provider.displayName,message:Yt})}})))}const Li=me.getOption(117);mt.showContextMenu({domForShadowRoot:Li&&(ft=me.getDomNode())!==null&&ft!==void 0?ft:void 0,getAnchor:()=>{const ot=O.i(Ie);return{x:ot.left,y:ot.top+ot.height+8}},getActions:()=>Zt,onHide:()=>{me.focus()},autoSelectFirstItem:!0})})}function Ce($e,me,Ie,Ge){return S(this,void 0,void 0,function*(){const ze=yield $e.get(b.S).createModelReference(Ge.uri);yield Ie.invokeWithinContext(mt=>S(this,void 0,void 0,function*(){const wt=me.hasSideBySideModifier,Oe=mt.get(T.i6),lt=j.Jy.inPeekEditor.getValue(Oe),Bt=!wt&&Ie.getOption(80)&&!lt;return new X.DefinitionAction({openToSide:wt,openInPeek:Bt,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(mt,Ie,{model:ze.object.textEditorModel,position:a.e.getStartPosition(Ge.range)})})),ze.dispose()})}var ge=i(65026),pe=i(73910),ee=i(97781),se=function($e,me,Ie,Ge){var ft=arguments.length,ze=ft<3?me:Ge===null?Ge=Object.getOwnPropertyDescriptor(me,Ie):Ge,mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ze=Reflect.decorate($e,me,Ie,Ge);else for(var wt=$e.length-1;wt>=0;wt--)(mt=$e[wt])&&(ze=(ft<3?mt(ze):ft>3?mt(me,Ie,ze):mt(me,Ie))||ze);return ft>3&&ze&&Object.defineProperty(me,Ie,ze),ze},ne=function($e,me){return function(Ie,Ge){me(Ie,Ge,$e)}},oe=function($e,me,Ie,Ge){function ft(ze){return ze instanceof Ie?ze:new Ie(function(mt){mt(ze)})}return new(Ie||(Ie=Promise))(function(ze,mt){function wt(Bt){try{lt(Ge.next(Bt))}catch(Zt){mt(Zt)}}function Oe(Bt){try{lt(Ge.throw(Bt))}catch(Zt){mt(Zt)}}function lt(Bt){Bt.done?ze(Bt.value):ft(Bt.value).then(wt,Oe)}lt((Ge=Ge.apply($e,me||[])).next())})};class Se{constructor(){this._entries=new A.z6(50)}get(me){const Ie=Se._key(me);return this._entries.get(Ie)}set(me,Ie){const Ge=Se._key(me);this._entries.set(Ge,Ie)}static _key(me){return`${me.uri.toString()}/${me.getVersionId()}`}}const Ee=(0,G.yh)("IInlayHintsCache");(0,ge.z)(Ee,Se,!0);class Me{constructor(me,Ie){this.item=me,this.index=Ie}get part(){const me=this.item.hint.label;return typeof me=="string"?{label:me}:me[this.index]}}class ye{constructor(me,Ie){this.part=me,this.hasTriggerModifier=Ie}}let le=class Ul{constructor(me,Ie,Ge,ft,ze,mt,wt){this._editor=me,this._languageFeaturesService=Ie,this._inlayHintsCache=ft,this._commandService=ze,this._notificationService=mt,this._instaService=wt,this._disposables=new P.SL,this._sessionDisposables=new P.SL,this._decorationsMetadata=new Map,this._ruleFactory=new p.t7(this._editor),this._activeRenderMode=0,this._debounceInfo=Ge.for(Ie.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(Ie.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(me.onDidChangeModel(()=>this._update())),this._disposables.add(me.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(me.onDidChangeConfiguration(Oe=>{Oe.hasChanged(129)&&this._update()})),this._update()}static get(me){var Ie;return(Ie=me.getContribution(Ul.ID))!==null&&Ie!==void 0?Ie:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const me=this._editor.getOption(129);if(me.enabled==="off")return;const Ie=this._editor.getModel();if(!Ie||!this._languageFeaturesService.inlayHintsProvider.has(Ie))return;const Ge=this._inlayHintsCache.get(Ie);Ge&&this._updateHintsDecorators([Ie.getFullModelRange()],Ge),this._sessionDisposables.add((0,P.OF)(()=>{Ie.isDisposed()||this._cacheHintsForFastRestore(Ie)}));let ft;const ze=new Set,mt=new D.pY(()=>oe(this,void 0,void 0,function*(){const wt=Date.now();ft==null||ft.dispose(!0),ft=new $.A;const Oe=Ie.onWillDispose(()=>ft==null?void 0:ft.cancel());try{const lt=ft.token,Bt=yield U.create(this._languageFeaturesService.inlayHintsProvider,Ie,this._getHintsRanges(),lt);if(mt.delay=this._debounceInfo.update(Ie,Date.now()-wt),lt.isCancellationRequested){Bt.dispose();return}for(const Zt of Bt.provider)typeof Zt.onDidChangeInlayHints=="function"&&!ze.has(Zt)&&(ze.add(Zt),this._sessionDisposables.add(Zt.onDidChangeInlayHints(()=>{mt.isScheduled()||mt.schedule()})));this._sessionDisposables.add(Bt),this._updateHintsDecorators(Bt.ranges,Bt.items),this._cacheHintsForFastRestore(Ie)}catch(lt){(0,M.dL)(lt)}finally{ft.dispose(),Oe.dispose()}}),this._debounceInfo.get(Ie));if(this._sessionDisposables.add(mt),this._sessionDisposables.add((0,P.OF)(()=>ft==null?void 0:ft.dispose(!0))),mt.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(wt=>{(wt.scrollTopChanged||!mt.isScheduled())&&mt.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(wt=>{const Oe=Math.max(mt.delay,1250);mt.schedule(Oe)})),me.enabled==="on")this._activeRenderMode=0;else{let wt,Oe;me.enabled==="onUnlessPressed"?(wt=0,Oe=1):(wt=1,Oe=0),this._activeRenderMode=wt,this._sessionDisposables.add(O._q.getInstance().event(lt=>{if(!this._editor.hasModel())return;const Bt=lt.altKey&&lt.ctrlKey?Oe:wt;if(Bt!==this._activeRenderMode){this._activeRenderMode=Bt;const Zt=this._editor.getModel(),pi=this._copyInlayHintsWithCurrentAnchor(Zt);this._updateHintsDecorators([Zt.getFullModelRange()],pi),mt.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>mt.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const me=new P.SL,Ie=me.add(new _.yN(this._editor)),Ge=new P.SL;return me.add(Ge),me.add(Ie.onMouseMoveOrRelevantKeyDown(ft=>{const[ze]=ft,mt=this._getInlayHintLabelPart(ze),wt=this._editor.getModel();if(!mt||!wt){Ge.clear();return}const Oe=new $.A;Ge.add((0,P.OF)(()=>Oe.dispose(!0))),mt.item.resolve(Oe.token),this._activeInlayHintPart=mt.part.command||mt.part.location?new ye(mt,ze.hasTriggerModifier):void 0;const lt=mt.item.hint.position.lineNumber,Bt=new a.e(lt,1,lt,wt.getLineMaxColumn(lt)),Zt=this._getInlineHintsForRange(Bt);this._updateHintsDecorators([Bt],Zt),Ge.add((0,P.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([Bt],Zt)}))})),me.add(Ie.onCancel(()=>Ge.clear())),me.add(Ie.onExecute(ft=>oe(this,void 0,void 0,function*(){const ze=this._getInlayHintLabelPart(ft);if(ze){const mt=ze.part;mt.location?this._instaService.invokeFunction(Ce,ft,this._editor,mt.location):g.mY.is(mt.command)&&(yield this._invokeCommand(mt.command,ze.item))}}))),me}_getInlineHintsForRange(me){const Ie=new Set;for(const Ge of this._decorationsMetadata.values())me.containsRange(Ge.item.anchor.range)&&Ie.add(Ge.item);return Array.from(Ie)}_installDblClickGesture(me){return this._editor.onMouseUp(Ie=>oe(this,void 0,void 0,function*(){if(Ie.event.detail!==2)return;const Ge=this._getInlayHintLabelPart(Ie);if(!!Ge&&(Ie.event.preventDefault(),yield Ge.item.resolve($.T.None),(0,V.Of)(Ge.item.hint.textEdits))){const ft=Ge.item.hint.textEdits.map(ze=>n.h.replace(a.e.lift(ze.range),ze.text));this._editor.executeEdits("inlayHint.default",ft),me()}}))}_installContextMenu(){return this._editor.onContextMenu(me=>oe(this,void 0,void 0,function*(){if(!(me.event.target instanceof HTMLElement))return;const Ie=this._getInlayHintLabelPart(me);Ie&&(yield this._instaService.invokeFunction(he,this._editor,me.event.target,Ie))}))}_getInlayHintLabelPart(me){var Ie;if(me.target.type!==6)return;const Ge=(Ie=me.target.detail.injectedText)===null||Ie===void 0?void 0:Ie.options;if(Ge instanceof u.HS&&(Ge==null?void 0:Ge.attachedData)instanceof Me)return Ge.attachedData}_invokeCommand(me,Ie){var Ge;return oe(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(me.id,...(Ge=me.arguments)!==null&&Ge!==void 0?Ge:[])}catch(ft){this._notificationService.notify({severity:re.zb.Error,source:Ie.provider.displayName,message:ft})}})}_cacheHintsForFastRestore(me){const Ie=this._copyInlayHintsWithCurrentAnchor(me);this._inlayHintsCache.set(me,Ie)}_copyInlayHintsWithCurrentAnchor(me){const Ie=new Map;for(const[Ge,ft]of this._decorationsMetadata){if(Ie.has(ft.item))continue;const ze=me.getDecorationRange(Ge);if(ze){const mt=new J(ze,ft.item.anchor.direction),wt=ft.item.with({anchor:mt});Ie.set(ft.item,wt)}}return Array.from(Ie.values())}_getHintsRanges(){const Ie=this._editor.getModel(),Ge=this._editor.getVisibleRangesPlusViewportAboveBelow(),ft=[];for(const ze of Ge.sort(a.e.compareRangesUsingStarts)){const mt=Ie.validateRange(new a.e(ze.startLineNumber-30,ze.startColumn,ze.endLineNumber+30,ze.endColumn));ft.length===0||!a.e.areIntersectingOrTouching(ft[ft.length-1],mt)?ft.push(mt):ft[ft.length-1]=a.e.plusRange(ft[ft.length-1],mt)}return ft}_updateHintsDecorators(me,Ie){var Ge,ft;const ze=[],mt=(ot,Ft,Yt,_i,Ci)=>{const bi={content:Yt,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:Ft.className,cursorStops:_i,attachedData:Ci};ze.push({item:ot,classNameRef:Ft,decoration:{range:ot.anchor.range,options:{description:"InlayHint",showIfCollapsed:ot.anchor.range.isEmpty(),collapseOnReplaceEdit:!ot.anchor.range.isEmpty(),stickiness:0,[ot.anchor.direction]:this._activeRenderMode===0?bi:void 0}}})},wt=(ot,Ft)=>{const Yt=this._ruleFactory.createClassNameRef({width:`${Oe/3|0}px`,display:"inline-block"});mt(ot,Yt,"\u200A",Ft?f.RM.Right:f.RM.None)},{fontSize:Oe,fontFamily:lt,padding:Bt,isUniform:Zt}=this._getLayoutInfo(),pi="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(pi,lt);for(const ot of Ie){ot.hint.paddingLeft&&wt(ot,!1);const Ft=typeof ot.hint.label=="string"?[{label:ot.hint.label}]:ot.hint.label;for(let Yt=0;Yt<Ft.length;Yt++){const _i=Ft[Yt],Ci=Yt===0,bi=Yt===Ft.length-1,ai={fontSize:`${Oe}px`,fontFamily:`var(${pi}), ${l.hL.fontFamily}`,verticalAlign:Zt?"baseline":"middle"};(0,V.Of)(ot.hint.textEdits)&&(ai.cursor="default"),this._fillInColors(ai,ot.hint),(_i.command||_i.location)&&((Ge=this._activeInlayHintPart)===null||Ge===void 0?void 0:Ge.part.item)===ot&&this._activeInlayHintPart.part.index===Yt&&(ai.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(ai.color=(0,ee.EN)(pe._Yy),ai.cursor="pointer")),Bt&&(Ci&&bi?(ai.padding=`1px ${Math.max(1,Oe/4)|0}px`,ai.borderRadius=`${Oe/4|0}px`):Ci?(ai.padding=`1px 0 1px ${Math.max(1,Oe/4)|0}px`,ai.borderRadius=`${Oe/4|0}px 0 0 ${Oe/4|0}px`):bi?(ai.padding=`1px ${Math.max(1,Oe/4)|0}px 1px 0`,ai.borderRadius=`0 ${Oe/4|0}px ${Oe/4|0}px 0`):ai.padding="1px 0 1px 0"),mt(ot,this._ruleFactory.createClassNameRef(ai),ie(_i.label),bi&&!ot.hint.paddingRight?f.RM.Right:f.RM.None,new Me(ot,Yt))}if(ot.hint.paddingRight&&wt(ot,!0),ze.length>Ul._MAX_DECORATORS)break}const Li=[];for(const ot of me)for(const{id:Ft}of(ft=this._editor.getDecorationsInRange(ot))!==null&&ft!==void 0?ft:[]){const Yt=this._decorationsMetadata.get(Ft);Yt&&(Li.push(Ft),Yt.classNameRef.dispose(),this._decorationsMetadata.delete(Ft))}this._editor.changeDecorations(ot=>{const Ft=ot.deltaDecorations(Li,ze.map(Yt=>Yt.decoration));for(let Yt=0;Yt<Ft.length;Yt++){const _i=ze[Yt];this._decorationsMetadata.set(Ft[Yt],_i)}})}_fillInColors(me,Ie){Ie.kind===g.gl.Parameter?(me.backgroundColor=(0,ee.EN)(pe.phM),me.color=(0,ee.EN)(pe.HCL)):Ie.kind===g.gl.Type?(me.backgroundColor=(0,ee.EN)(pe.bKB),me.color=(0,ee.EN)(pe.hX8)):(me.backgroundColor=(0,ee.EN)(pe.PpC),me.color=(0,ee.EN)(pe.VVv))}_getLayoutInfo(){const me=this._editor.getOption(129),Ie=me.padding,Ge=this._editor.getOption(48),ft=this._editor.getOption(45);let ze=me.fontSize;(!ze||ze<5||ze>Ge)&&(ze=Ge);const mt=me.fontFamily||ft;return{fontSize:ze,fontFamily:mt,padding:Ie,isUniform:!Ie&&mt===ft&&ze===Ge}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const me of this._decorationsMetadata.values())me.classNameRef.dispose();this._decorationsMetadata.clear()}};le.ID="editor.contrib.InlayHints",le._MAX_DECORATORS=1500,le=se([ne(1,y.p),ne(2,C.A),ne(3,Ee),ne(4,Z.Hy),ne(5,re.lT),ne(6,G.TG)],le);function ie($e){const me="\xA0";return $e.replace(/[ \t]/g,me)}Z.P0.registerCommand("_executeInlayHintProvider",($e,...me)=>oe(void 0,void 0,void 0,function*(){const[Ie,Ge]=me;(0,L.p_)(c.o.isUri(Ie)),(0,L.p_)(a.e.isIRange(Ge));const{inlayHintsProvider:ft}=$e.get(y.p),ze=yield $e.get(b.S).createModelReference(Ie);try{const mt=yield U.create(ft,ze.object.textEditorModel,[a.e.lift(Ge)],$.T.None),wt=mt.items.map(Oe=>Oe.hint);return setTimeout(()=>mt.dispose(),0),wt}finally{ze.dispose()}}));var ve=i(59365),xe=i(72042),Ye=i(41095),at=i(22374),qe=i(33108),Re=i(50988),Je=i(63580),st=i(1432),et=function($e,me,Ie,Ge){var ft=arguments.length,ze=ft<3?me:Ge===null?Ge=Object.getOwnPropertyDescriptor(me,Ie):Ge,mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ze=Reflect.decorate($e,me,Ie,Ge);else for(var wt=$e.length-1;wt>=0;wt--)(mt=$e[wt])&&(ze=(ft<3?mt(ze):ft>3?mt(me,Ie,ze):mt(me,Ie))||ze);return ft>3&&ze&&Object.defineProperty(me,Ie,ze),ze},we=function($e,me){return function(Ie,Ge){me(Ie,Ge,$e)}},Ne=function($e,me,Ie,Ge){function ft(ze){return ze instanceof Ie?ze:new Ie(function(mt){mt(ze)})}return new(Ie||(Ie=Promise))(function(ze,mt){function wt(Bt){try{lt(Ge.next(Bt))}catch(Zt){mt(Zt)}}function Oe(Bt){try{lt(Ge.throw(Bt))}catch(Zt){mt(Zt)}}function lt(Bt){Bt.done?ze(Bt.value):ft(Bt.value).then(wt,Oe)}lt((Ge=Ge.apply($e,me||[])).next())})},de=function($e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me=$e[Symbol.asyncIterator],Ie;return me?me.call($e):($e=typeof __values=="function"?__values($e):$e[Symbol.iterator](),Ie={},Ge("next"),Ge("throw"),Ge("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function Ge(ze){Ie[ze]=$e[ze]&&function(mt){return new Promise(function(wt,Oe){mt=$e[ze](mt),ft(wt,Oe,mt.done,mt.value)})}}function ft(ze,mt,wt,Oe){Promise.resolve(Oe).then(function(lt){ze({value:lt,done:wt})},mt)}};class Pe extends r.YM{constructor(me,Ie){super(10,Ie,me.item.anchor.range),this.part=me}}let He=class extends at.D5{constructor(me,Ie,Ge,ft,ze,mt){super(me,Ie,Ge,ft,mt),this._resolverService=ze,this.hoverOrdinal=6}suggestHoverAnchor(me){var Ie;if(!le.get(this._editor)||me.target.type!==6)return null;const ft=(Ie=me.target.detail.injectedText)===null||Ie===void 0?void 0:Ie.options;return ft instanceof u.HS&&ft.attachedData instanceof Me?new Pe(ft.attachedData,this):null}computeSync(){return[]}computeAsync(me,Ie,Ge){return me instanceof Pe?new D.Aq(ft=>Ne(this,void 0,void 0,function*(){var ze,mt;const{part:wt}=me;if(yield wt.item.resolve(Ge),Ge.isCancellationRequested)return;let Oe;typeof wt.item.hint.tooltip=="string"?Oe=new ve.W5().appendText(wt.item.hint.tooltip):wt.item.hint.tooltip&&(Oe=wt.item.hint.tooltip),Oe&&ft.emitOne(new at.hU(this,me.range,[Oe],0)),(0,V.Of)(wt.item.hint.textEdits)&&ft.emitOne(new at.hU(this,me.range,[new ve.W5().appendText((0,Je.NC)("hint.dbl","Double click to insert"))],10001));let lt;if(typeof wt.part.tooltip=="string"?lt=new ve.W5().appendText(wt.part.tooltip):wt.part.tooltip&&(lt=wt.part.tooltip),lt&&ft.emitOne(new at.hU(this,me.range,[lt],1)),wt.part.location||wt.part.command){let Li;const Ft=this._editor.getOption(72)==="altKey"?st.dz?(0,Je.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,Je.NC)("links.navigate.kb.meta","ctrl + click"):st.dz?(0,Je.NC)("links.navigate.kb.alt.mac","option + click"):(0,Je.NC)("links.navigate.kb.alt","alt + click");wt.part.location&&wt.part.command?Li=new ve.W5().appendText((0,Je.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",Ft)):wt.part.location?Li=new ve.W5().appendText((0,Je.NC)("hint.def","Go to Definition ({0})",Ft)):wt.part.command&&(Li=new ve.W5(`[${(0,Je.NC)("hint.cmd","Execute Command")}](${K(wt.part.command)} "${wt.part.command.title}") (${Ft})`,{isTrusted:!0})),Li&&ft.emitOne(new at.hU(this,me.range,[Li],1e4))}const Bt=yield this._resolveInlayHintLabelPartHover(wt,Ge);try{for(var Zt=de(Bt),pi;pi=yield Zt.next(),!pi.done;){const Li=pi.value;ft.emitOne(Li)}}catch(Li){ze={error:Li}}finally{try{pi&&!pi.done&&(mt=Zt.return)&&(yield mt.call(Zt))}finally{if(ze)throw ze.error}}})):D.Aq.EMPTY}_resolveInlayHintLabelPartHover(me,Ie){return Ne(this,void 0,void 0,function*(){if(!me.part.location)return D.Aq.EMPTY;const{uri:Ge,range:ft}=me.part.location,ze=yield this._resolverService.createModelReference(Ge);try{const mt=ze.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(mt)?(0,Ye.R8)(this._languageFeaturesService.hoverProvider,mt,new E.L(ft.startLineNumber,ft.startColumn),Ie).filter(wt=>!(0,ve.CP)(wt.hover.contents)).map(wt=>new at.hU(this,me.item.anchor.range,wt.hover.contents,2+wt.ordinal)):D.Aq.EMPTY}finally{ze.dispose()}})}};He=et([we(1,xe.O),we(2,Re.v4),we(3,qe.Ui),we(4,b.S),we(5,y.p)],He),(0,w._K)(le.ID,le),r.Ae.register(He)},87009:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{commitInlineSuggestionAction:function(){return ii}});var w=i(16830),r=i(29102),O=i(66520);const V="editor.action.inlineSuggest.commit";var D=i(4669),$=i(9917),M=i(97295),P=i(7988),A=i(50187),L=i(96887),c=i(15393),p=i(71050),l=i(17301),n=i(69317),a=i(69386),g=i(24314);function f(xt,Ve){return{object:xt,dispose:()=>Ve==null?void 0:Ve.dispose()}}function u(xt,Ve){const dt=new C(xt),Tt=Ve.map(jt=>{const $t=g.e.lift(jt.range);return{startOffset:dt.getOffset($t.getStartPosition()),endOffset:dt.getOffset($t.getEndPosition()),text:jt.text}});Tt.sort((jt,$t)=>$t.startOffset-jt.startOffset);for(const jt of Tt)xt=xt.substring(0,jt.startOffset)+jt.text+xt.substring(jt.endOffset);return xt}class C{constructor(Ve){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let dt=0;dt<Ve.length;dt++)Ve.charAt(dt)===`
`&&this.lineStartOffsetByLineIdx.push(dt+1)}getOffset(Ve){return this.lineStartOffsetByLineIdx[Ve.lineNumber-1]+Ve.column-1}}const y=[];function b(){return y}class _{constructor(Ve,dt,Tt=0){this.lineNumber=Ve,this.parts=dt,this.additionalReservedLineCount=Tt}renderForScreenReader(Ve){if(this.parts.length===0)return"";const dt=this.parts[this.parts.length-1],Tt=Ve.substr(0,dt.column-1);return u(Tt,this.parts.map($t=>({range:{startLineNumber:1,endLineNumber:1,startColumn:$t.column,endColumn:$t.column},text:$t.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(Ve=>Ve.lines.length===0)}}class E{constructor(Ve,dt,Tt){this.column=Ve,this.lines=dt,this.preview=Tt}}class I{constructor(Ve,dt,Tt,jt,$t=0){this.lineNumber=Ve,this.columnStart=dt,this.length=Tt,this.newLines=jt,this.additionalReservedLineCount=$t,this.parts=[new E(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(Ve){return this.newLines.join(`
`)}}class R extends $.JT{constructor(Ve){super(),this.editor=Ve,this._expanded=void 0,this.onDidChangeEmitter=new D.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(Ve.onDidChangeConfiguration(dt=>{dt.hasChanged(108)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(Ve){this._expanded=!0,this.onDidChangeEmitter.fire()}}var J=i(94565),Q=i(2484);function U(xt,Ve){if(!Ve)return Ve;const dt=xt.getValueInRange(Ve.range),Tt=M.Mh(dt,Ve.insertText),jt=xt.getOffsetAt(Ve.range.getStartPosition())+Tt,$t=xt.getPositionAt(jt),Wt=dt.substr(Tt),We=M.P1(Wt,Ve.insertText),Xe=xt.getPositionAt(Math.max(jt,xt.getOffsetAt(Ve.range.getEndPosition())-We));return{range:g.e.fromPositions($t,Xe),insertText:Ve.insertText.substr(Tt,Ve.insertText.length-Tt-We),snippetInfo:Ve.snippetInfo,filterText:Ve.filterText,additionalTextEdits:Ve.additionalTextEdits}}function K(xt,Ve){return xt===Ve?!0:!xt||!Ve?!1:xt.range.equalsRange(Ve.range)&&xt.insertText===Ve.insertText&&xt.command===Ve.command}function H(xt,Ve,dt,Tt,jt=0){if(xt.range.startLineNumber!==xt.range.endLineNumber)return;const $t=Ve.getLineContent(xt.range.startLineNumber),Wt=M.V8($t).length;if(xt.range.startColumn-1<=Wt){const Gt=M.V8(xt.insertText).length,Ei=$t.substring(xt.range.startColumn-1,Wt),Oi=g.e.fromPositions(xt.range.getStartPosition().delta(0,Ei.length),xt.range.getEndPosition()),wi=xt.insertText.startsWith(Ei)?xt.insertText.substring(Ei.length):xt.insertText.substring(Gt);xt={range:Oi,insertText:wi,command:xt.command,snippetInfo:void 0,filterText:xt.filterText,additionalTextEdits:xt.additionalTextEdits}}const Xe=Ve.getValueInRange(xt.range),ut=j(Xe,xt.insertText);if(!ut)return;const pt=xt.range.startLineNumber,kt=new Array;if(dt==="prefix"){const Gt=ut.filter(Ei=>Ei.originalLength===0);if(Gt.length>1||Gt.length===1&&Gt[0].originalStart!==Xe.length)return}const Kt=xt.insertText.length-jt;for(const Gt of ut){const Ei=xt.range.startColumn+Gt.originalStart+Gt.originalLength;if(dt==="subwordSmart"&&Tt&&Tt.lineNumber===xt.range.startLineNumber&&Ei<Tt.column||Gt.originalLength>0)return;if(Gt.modifiedLength===0)continue;const Oi=Gt.modifiedStart+Gt.modifiedLength,wi=Math.max(Gt.modifiedStart,Math.min(Oi,Kt)),Pt=xt.insertText.substring(Gt.modifiedStart,wi),Pi=xt.insertText.substring(wi,Math.max(Gt.modifiedStart,Oi));if(Pt.length>0){const en=M.uq(Pt);kt.push(new E(Ei,en,!1))}if(Pi.length>0){const en=M.uq(Pi);kt.push(new E(Ei,en,!0))}}return new _(pt,kt,0)}let X;function j(xt,Ve){if((X==null?void 0:X.originalValue)===xt&&(X==null?void 0:X.newValue)===Ve)return X==null?void 0:X.changes;{let dt=Z(xt,Ve,!0);if(dt){const Tt=x(dt);if(Tt>0){const jt=Z(xt,Ve,!1);jt&&x(jt)<Tt&&(dt=jt)}}return X={originalValue:xt,newValue:Ve,changes:dt},dt}}function x(xt){let Ve=0;for(const dt of xt)Ve+=Math.max(dt.originalLength-dt.modifiedLength,0);return Ve}function Z(xt,Ve,dt){if(xt.length>5e3||Ve.length>5e3)return;function Tt(ut){let pt=0;for(let kt=0,Kt=ut.length;kt<Kt;kt++){const Gt=ut.charCodeAt(kt);Gt>pt&&(pt=Gt)}return pt}const jt=Math.max(Tt(xt),Tt(Ve));function $t(ut){if(ut<0)throw new Error("unexpected");return jt+ut+1}function Wt(ut){let pt=0,kt=0;const Kt=new Int32Array(ut.length);for(let Gt=0,Ei=ut.length;Gt<Ei;Gt++)if(dt&&ut[Gt]==="("){const Oi=kt*100+pt;Kt[Gt]=$t(2*Oi),pt++}else if(dt&&ut[Gt]===")"){pt=Math.max(pt-1,0);const Oi=kt*100+pt;Kt[Gt]=$t(2*Oi+1),pt===0&&kt++}else Kt[Gt]=ut.charCodeAt(Gt);return Kt}const We=Wt(xt),Xe=Wt(Ve);return new Q.Hs({getElements:()=>We},{getElements:()=>Xe}).ComputeDiff(!1).changes}var T=i(51381),z=i(35382),G=i(45035),re=i(13883),S=i(61761),he=i(6735);function Ce(xt,Ve){const dt=new S.FE,Tt=new z.Z(dt,ut=>Ve.getLanguageConfiguration(ut)),jt=new he.xH(new ge([xt]),Tt),$t=(0,re.w)(jt,[],void 0,!0);let Wt="";const We=xt.getLineContent();function Xe(ut,pt){if(ut.kind===2)Xe(ut.openingBracket,pt),pt=(0,G.Ii)(pt,ut.openingBracket.length),ut.child&&(Xe(ut.child,pt),pt=(0,G.Ii)(pt,ut.child.length)),ut.closingBracket?(Xe(ut.closingBracket,pt),pt=(0,G.Ii)(pt,ut.closingBracket.length)):Wt+=Tt.getSingleLanguageBracketTokens(ut.openingBracket.languageId).findClosingTokenText(ut.openingBracket.bracketIds);else if(ut.kind!==3){if(ut.kind===0||ut.kind===1)Wt+=We.substring((0,G.F_)(pt),(0,G.F_)((0,G.Ii)(pt,ut.length)));else if(ut.kind===4)for(const kt of ut.children)Xe(kt,pt),pt=(0,G.Ii)(pt,kt.length)}}return Xe($t,G.xl),Wt}class ge{constructor(Ve){this.lines=Ve,this.tokenization={getLineTokens:dt=>this.lines[dt-1]}}getLineCount(){return this.lines.length}getLineLength(Ve){return this.lines[Ve-1].getLineContent().length}}var pe=i(71922),ee=i(88191),se=i(35084),ne=i(98762),oe=i(98401),Se=i(75392),Ee=i(33108),Me=function(xt,Ve,dt,Tt){var jt=arguments.length,$t=jt<3?Ve:Tt===null?Tt=Object.getOwnPropertyDescriptor(Ve,dt):Tt,Wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$t=Reflect.decorate(xt,Ve,dt,Tt);else for(var We=xt.length-1;We>=0;We--)(Wt=xt[We])&&($t=(jt<3?Wt($t):jt>3?Wt(Ve,dt,$t):Wt(Ve,dt))||$t);return jt>3&&$t&&Object.defineProperty(Ve,dt,$t),$t},ye=function(xt,Ve){return function(dt,Tt){Ve(dt,Tt,xt)}},le=function(xt,Ve,dt,Tt){function jt($t){return $t instanceof dt?$t:new dt(function(Wt){Wt($t)})}return new(dt||(dt=Promise))(function($t,Wt){function We(pt){try{ut(Tt.next(pt))}catch(kt){Wt(kt)}}function Xe(pt){try{ut(Tt.throw(pt))}catch(kt){Wt(kt)}}function ut(pt){pt.done?$t(pt.value):jt(pt.value).then(We,Xe)}ut((Tt=Tt.apply(xt,Ve||[])).next())})};let ie=class extends $.JT{constructor(Ve,dt,Tt,jt,$t,Wt,We){super(),this.editor=Ve,this.cache=dt,this.commandService=Tt,this.languageConfigurationService=jt,this.languageFeaturesService=$t,this.debounceService=Wt,this.onDidChangeEmitter=new D.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new $.XK),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(Tt.onDidExecuteCommand(Xe=>{new Set([n.CoreEditingCommands.Tab.id,n.CoreEditingCommands.DeleteLeft.id,n.CoreEditingCommands.DeleteRight.id,V,"acceptSelectedSuggestion"]).has(Xe.commandId)&&Ve.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(Xe=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(Xe=>{(Xe.reason===3||this.session&&!this.session.isValid)&&this.hide()})),this._register((0,$.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{We.getValue("editor.inlineSuggest.hideOnBlur")||this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var Ve;return(Ve=this.session)===null||Ve===void 0?void 0:Ve.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(Ve){var dt;(dt=this.session)===null||dt===void 0||dt.setExpanded(Ve)}setActive(Ve){var dt;this.active=Ve,Ve&&((dt=this.session)===null||dt===void 0||dt.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(57).enabled||this.session&&this.session.isValid||this.trigger(L.bw.Automatic)}trigger(Ve){if(this.completionSession.value){Ve===L.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new ve(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,Ve,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var Ve;(Ve=this.session)===null||Ve===void 0||Ve.commitCurrentCompletion()}showNext(){var Ve;(Ve=this.session)===null||Ve===void 0||Ve.showNextInlineCompletion()}showPrevious(){var Ve;(Ve=this.session)===null||Ve===void 0||Ve.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var Ve;return le(this,void 0,void 0,function*(){const dt=yield(Ve=this.session)===null||Ve===void 0?void 0:Ve.hasMultipleInlineCompletions();return dt!==void 0?dt:!1})}};ie=Me([ye(2,J.Hy),ye(3,T.c_),ye(4,pe.p),ye(5,ee.A),ye(6,Ee.Ui)],ie);class ve extends R{constructor(Ve,dt,Tt,jt,$t,Wt,We,Xe,ut){super(Ve),this.triggerPosition=dt,this.shouldUpdate=Tt,this.commandService=jt,this.cache=$t,this.initialTriggerKind=Wt,this.languageConfigurationService=We,this.registry=Xe,this.debounce=ut,this.minReservedLineCount=0,this.updateOperation=this._register(new $.XK),this.updateSoon=this._register(new c.pY(()=>{const kt=this.initialTriggerKind;return this.initialTriggerKind=L.bw.Automatic,this.update(kt)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0;let pt;this._register(this.onDidChange(()=>{var kt;const Kt=this.currentCompletion;if(Kt&&Kt.sourceInlineCompletion!==pt){pt=Kt.sourceInlineCompletion;const Gt=Kt.sourceProvider;(kt=Gt.handleItemDidShow)===null||kt===void 0||kt.call(Gt,Kt.sourceInlineCompletions,pt)}})),this._register((0,$.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(kt=>{var Kt;kt.reason!==3&&((Kt=this.cache.value)===null||Kt===void 0||Kt.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(kt=>{var Kt;(Kt=this.cache.value)===null||Kt===void 0||Kt.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value){this.filteredCompletions=[];return}const Ve=this.editor.getModel(),dt=Ve.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(Tt=>{const jt=Ve.getValueInRange(Tt.synchronizedRange).toLowerCase(),$t=Tt.inlineCompletion.filterText.toLowerCase(),Wt=Ve.getLineIndentColumn(Tt.synchronizedRange.startLineNumber),We=Math.max(0,dt.column-Tt.synchronizedRange.startColumn);let Xe=$t.substring(0,We),ut=$t.substring(We),pt=jt.substring(0,We),kt=jt.substring(We);return Tt.synchronizedRange.startColumn<=Wt&&(pt=pt.trimStart(),pt.length===0&&(kt=kt.trimStart()),Xe=Xe.trimStart(),Xe.length===0&&(ut=ut.trimStart())),Xe.startsWith(pt)&&(0,Se.Sy)(kt,ut)})}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const Ve=this.filteredCompletions.findIndex(dt=>dt.semanticId===this.currentlySelectedCompletionId);return Ve===-1?(this.currentlySelectedCompletionId=void 0,0):Ve}get currentCachedCompletion(){if(!!this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return le(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const Ve=this.filteredCompletions||[];if(Ve.length>0){const dt=(this.fixAndGetIndexOfCurrentSelection()+1)%Ve.length;this.currentlySelectedCompletionId=Ve[dt].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return le(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const Ve=this.filteredCompletions||[];if(Ve.length>0){const dt=(this.fixAndGetIndexOfCurrentSelection()+Ve.length-1)%Ve.length;this.currentlySelectedCompletionId=Ve[dt].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var Ve;return le(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===L.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(L.bw.Explicit):((Ve=this.cache.value)===null||Ve===void 0?void 0:Ve.triggerKind)!==L.bw.Explicit&&(yield this.update(L.bw.Explicit))})}hasMultipleInlineCompletions(){var Ve;return le(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((Ve=this.cache.value)===null||Ve===void 0?void 0:Ve.completions.length)||0)>1})}get ghostText(){const Ve=this.currentCompletion;if(!Ve)return;const dt=this.editor.getPosition();if(Ve.range.getEndPosition().isBefore(dt))return;const Tt=this.editor.getOptions().get(57).mode,jt=H(Ve,this.editor.getModel(),Tt,dt);return jt?jt.isEmpty()?void 0:jt:new I(Ve.range.startLineNumber,Ve.range.startColumn,Ve.range.endColumn-Ve.range.startColumn,Ve.insertText.split(`
`),0)}get currentCompletion(){const Ve=this.currentCachedCompletion;if(!!Ve)return Ve.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(Ve){return le(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const dt=this.editor.getPosition(),Tt=new Date,jt=(0,c.PG)(Wt=>le(this,void 0,void 0,function*(){let We;try{We=yield qe(this.registry,dt,this.editor.getModel(),{triggerKind:Ve,selectedSuggestionInfo:void 0},Wt,this.languageConfigurationService);const Xe=new Date;this.debounce.update(this.editor.getModel(),Xe.getTime()-Tt.getTime())}catch(Xe){(0,l.dL)(Xe);return}Wt.isCancellationRequested||(this.cache.setValue(this.editor,We,Ve),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),$t=new xe(jt,Ve);this.updateOperation.value=$t,yield jt,this.updateOperation.value===$t&&this.updateOperation.clear()})}takeOwnership(Ve){this._register(Ve)}commitCurrentCompletion(){if(!this.ghostText)return;const dt=this.currentCompletion;dt&&this.commit(dt)}commit(Ve){var dt;const Tt=this.cache.clearAndLeak();Ve.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[a.h.replaceMove(Ve.range,""),...Ve.additionalTextEdits]),this.editor.setPosition(Ve.snippetInfo.range.getStartPosition()),(dt=ne.SnippetController2.get(this.editor))===null||dt===void 0||dt.insert(Ve.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[a.h.replaceMove(Ve.range,Ve.insertText),...Ve.additionalTextEdits]),Ve.command?this.commandService.executeCommand(Ve.command.id,...Ve.command.arguments||[]).finally(()=>{Tt==null||Tt.dispose()}).then(void 0,l.Cp):Tt==null||Tt.dispose(),this.onDidChangeEmitter.fire()}get commands(){var Ve;return[...new Set(((Ve=this.cache.value)===null||Ve===void 0?void 0:Ve.completions.map(Tt=>Tt.inlineCompletion.sourceInlineCompletions))||[])].flatMap(Tt=>Tt.commands||[])}}class xe{constructor(Ve,dt){this.promise=Ve,this.triggerKind=dt}dispose(){this.promise.cancel()}}class Ye extends $.JT{constructor(Ve,dt,Tt,jt){super(),this.editor=dt,this.onChange=Tt,this.triggerKind=jt,this.isDisposing=!1;const $t=dt.changeDecorations(Wt=>Wt.deltaDecorations([],Ve.items.map(We=>({range:We.range,options:{description:"inline-completion-tracking-range"}}))));this._register((0,$.OF)(()=>{this.isDisposing=!0,dt.removeDecorations($t)})),this.completions=Ve.items.map((Wt,We)=>new at(Wt,$t[We])),this._register(dt.onDidChangeModelContent(()=>{this.updateRanges()})),this._register(Ve)}updateRanges(){if(this.isDisposing)return;let Ve=!1;const dt=this.editor.getModel();for(const Tt of this.completions){const jt=dt.getDecorationRange(Tt.decorationId);if(!jt){(0,l.dL)(new Error("Decoration has no range"));continue}Tt.synchronizedRange.equalsRange(jt)||(Ve=!0,Tt.synchronizedRange=jt)}Ve&&this.onChange()}}class at{constructor(Ve,dt){this.inlineCompletion=Ve,this.decorationId=dt,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=Ve.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function qe(xt,Ve,dt,Tt,jt=p.T.None,$t){return le(this,void 0,void 0,function*(){const Wt=Re(Ve,dt),We=xt.all(dt),Xe=yield Promise.all(We.map(pt=>le(this,void 0,void 0,function*(){const kt=yield Promise.resolve(pt.provideInlineCompletions(dt,Ve,Tt,jt)).catch(l.Cp);return{completions:kt,provider:pt,dispose:()=>{kt&&pt.freeInlineCompletions(kt)}}}))),ut=new Map;for(const pt of Xe){const kt=pt.completions;if(!!kt)for(const Kt of kt.items){let Gt=Kt.range?g.e.lift(Kt.range):Wt;if(Gt.startLineNumber!==Gt.endLineNumber)continue;let Ei,Oi;if(typeof Kt.insertText=="string"){if(Ei=Kt.insertText,$t&&Kt.completeBracketPairs){Ei=Je(Ei,Gt.getStartPosition(),dt,$t);const Pt=Ei.length-Kt.insertText.length;Pt!==0&&(Gt=new g.e(Gt.startLineNumber,Gt.startColumn,Gt.endLineNumber,Gt.endColumn+Pt))}Oi=void 0}else"snippet"in Kt.insertText?(Ei=new se.Yj().parse(Kt.insertText.snippet).toString(),Oi={snippet:Kt.insertText.snippet,range:Gt}):(0,oe.vE)(Kt.insertText);const wi={insertText:Ei,snippetInfo:Oi,range:Gt,command:Kt.command,sourceProvider:pt.provider,sourceInlineCompletions:kt,sourceInlineCompletion:Kt,filterText:Kt.filterText||Ei,additionalTextEdits:Kt.additionalTextEdits||b()};ut.set(JSON.stringify({insertText:Ei,range:Kt.range}),wi)}}return{items:[...ut.values()],dispose:()=>{for(const pt of Xe)pt.dispose()}}})}function Re(xt,Ve){const dt=Ve.getWordAtPosition(xt),Tt=Ve.getLineMaxColumn(xt.lineNumber);return dt?new g.e(xt.lineNumber,dt.startColumn,xt.lineNumber,Tt):g.e.fromPositions(xt,xt.with(void 0,Tt))}function Je(xt,Ve,dt,Tt){const $t=dt.getLineContent(Ve.lineNumber).substring(0,Ve.column-1)+xt,Wt=dt.tokenization.tokenizeLineWithEdit(Ve,$t.length-(Ve.column-1),xt),We=Wt==null?void 0:Wt.sliceAndInflate(Ve.column-1,$t.length,0);return We?Ce(We,Tt):xt}var st=i(9488),et=i(61659),we=i(1053);class Ne extends $.JT{constructor(Ve,dt){super(),this.editor=Ve,this.suggestControllerPreselector=dt,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new D.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new c.pY(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(Ve.onKeyDown(jt=>{jt.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(Ve.onKeyUp(jt=>{jt.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const Tt=we.SuggestController.get(this.editor);if(Tt){this._register(Tt.registerSelector({priority:100,select:(Wt,We,Xe)=>{const ut=this.editor.getModel(),pt=U(ut,this.suggestControllerPreselector());if(!pt)return-1;const kt=A.L.lift(We),Kt=Xe.map((Ei,Oi)=>{const wi=He(Tt,kt,Ei,this.isShiftKeyPressed),Pt=U(ut,wi==null?void 0:wi.normalizedInlineCompletion);if(!Pt)return;const Pi=de(pt.range,Pt.range)&&pt.insertText.startsWith(Pt.insertText);return{index:Oi,valid:Pi,prefixLength:Pt.insertText.length,suggestItem:Ei}}).filter(Ei=>Ei&&Ei.valid),Gt=(0,st.Dc)(Kt,(0,st.tT)(Ei=>Ei.prefixLength,st.fv));return Gt?Gt.index:-1}}));let jt=!1;const $t=()=>{jt||(jt=!0,this._register(Tt.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(Tt.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(Tt.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(D.ju.once(Tt.model.onDidTrigger)(Wt=>{$t()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(Ve){const dt=this.getSuggestItemInfo();let Tt=!1;Pe(this._currentSuggestItemInfo,dt)||(this._currentSuggestItemInfo=dt,Tt=!0),this._isActive!==Ve&&(this._isActive=Ve,Tt=!0),Tt&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const Ve=we.SuggestController.get(this.editor);if(!Ve||!this.isSuggestWidgetVisible)return;const dt=Ve.widget.value.getFocusedItem();if(!!dt)return He(Ve,this.editor.getPosition(),dt.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const Ve=we.SuggestController.get(this.editor);Ve&&Ve.stopForceRenderingAbove()}forceRenderingAbove(){const Ve=we.SuggestController.get(this.editor);Ve&&Ve.forceRenderingAbove()}}function de(xt,Ve){return Ve.startLineNumber===xt.startLineNumber&&Ve.startColumn===xt.startColumn&&(Ve.endLineNumber<xt.endLineNumber||Ve.endLineNumber===xt.endLineNumber&&Ve.endColumn<=xt.endColumn)}function Pe(xt,Ve){return xt===Ve?!0:!xt||!Ve?!1:xt.completionItemKind===Ve.completionItemKind&&xt.isSnippetText===Ve.isSnippetText&&K(xt.normalizedInlineCompletion,Ve.normalizedInlineCompletion)}function He(xt,Ve,dt,Tt){if(Array.isArray(dt.completion.additionalTextEdits)&&dt.completion.additionalTextEdits.length>0)return{completionItemKind:dt.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:g.e.fromPositions(Ve,Ve),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:jt}=dt.completion,$t=!1;if(dt.completion.insertTextRules&4){const We=new se.Yj().parse(jt),Xe=xt.editor.getModel();if(We.children.length>100)return;et.l.adjustWhitespace(Xe,Ve,We,!0,!0),jt=We.toString(),$t=!0}const Wt=xt.getOverwriteInfo(dt,Tt);return{isSnippetText:$t,completionItemKind:dt.completion.kind,normalizedInlineCompletion:{insertText:jt,filterText:jt,range:g.e.fromPositions(Ve.delta(0,-Wt.overwriteBefore),Ve.delta(0,Math.max(Wt.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}var $e=function(xt,Ve,dt,Tt){var jt=arguments.length,$t=jt<3?Ve:Tt===null?Tt=Object.getOwnPropertyDescriptor(Ve,dt):Tt,Wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$t=Reflect.decorate(xt,Ve,dt,Tt);else for(var We=xt.length-1;We>=0;We--)(Wt=xt[We])&&($t=(jt<3?Wt($t):jt>3?Wt(Ve,dt,$t):Wt(Ve,dt))||$t);return jt>3&&$t&&Object.defineProperty(Ve,dt,$t),$t},me=function(xt,Ve){return function(dt,Tt){Ve(dt,Tt,xt)}},Ie=function(xt,Ve,dt,Tt){function jt($t){return $t instanceof dt?$t:new dt(function(Wt){Wt($t)})}return new(dt||(dt=Promise))(function($t,Wt){function We(pt){try{ut(Tt.next(pt))}catch(kt){Wt(kt)}}function Xe(pt){try{ut(Tt.throw(pt))}catch(kt){Wt(kt)}}function ut(pt){pt.done?$t(pt.value):jt(pt.value).then(We,Xe)}ut((Tt=Tt.apply(xt,Ve||[])).next())})};let Ge=class extends R{constructor(Ve,dt,Tt){super(Ve),this.cache=dt,this.languageFeaturesService=Tt,this.suggestionInlineCompletionSource=this._register(new Ne(this.editor,()=>{var jt,$t;return($t=(jt=this.cache.value)===null||jt===void 0?void 0:jt.completions[0])===null||$t===void 0?void 0:$t.toLiveInlineCompletion()})),this.updateOperation=this._register(new $.XK),this.updateCacheSoon=this._register(new c.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const $t=this.ghostText;$t&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,ft($t.parts.map(Wt=>Wt.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(jt=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,$.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(108).preview}updateCache(){return Ie(this,void 0,void 0,function*(){const Ve=this.suggestionInlineCompletionSource.state;if(!Ve||!Ve.selectedItem)return;const dt={text:Ve.selectedItem.normalizedInlineCompletion.insertText,range:Ve.selectedItem.normalizedInlineCompletion.range,isSnippetText:Ve.selectedItem.isSnippetText,completionKind:Ve.selectedItem.completionItemKind},Tt=this.editor.getPosition();if(Ve.selectedItem.isSnippetText||Ve.selectedItem.completionItemKind===27||Ve.selectedItem.completionItemKind===20||Ve.selectedItem.completionItemKind===23){this.cache.clear();return}const jt=(0,c.PG)(Wt=>Ie(this,void 0,void 0,function*(){let We;try{We=yield qe(this.languageFeaturesService.inlineCompletionsProvider,Tt,this.editor.getModel(),{triggerKind:L.bw.Automatic,selectedSuggestionInfo:dt},Wt)}catch(Xe){(0,l.dL)(Xe);return}if(Wt.isCancellationRequested){We.dispose();return}this.cache.setValue(this.editor,We,L.bw.Automatic),this.onDidChangeEmitter.fire()})),$t=new xe(jt,L.bw.Automatic);this.updateOperation.value=$t,yield jt,this.updateOperation.value===$t&&this.updateOperation.clear()})}get ghostText(){var Ve,dt,Tt;const jt=this.isSuggestionPreviewEnabled(),$t=this.editor.getModel(),Wt=U($t,(dt=(Ve=this.cache.value)===null||Ve===void 0?void 0:Ve.completions[0])===null||dt===void 0?void 0:dt.toLiveInlineCompletion()),We=this.suggestionInlineCompletionSource.state,Xe=U($t,(Tt=We==null?void 0:We.selectedItem)===null||Tt===void 0?void 0:Tt.normalizedInlineCompletion),ut=Wt&&Xe&&Wt.insertText.startsWith(Xe.insertText)&&Wt.range.equalsRange(Xe.range);if(!jt&&!ut)return;const pt=ut?Wt:Xe||Wt,kt=ut?pt.insertText.length-Xe.insertText.length:0;return this.toGhostText(pt,kt)}toGhostText(Ve,dt){const Tt=this.editor.getOptions().get(108).previewMode;return Ve?H(Ve,this.editor.getModel(),Tt,this.editor.getPosition(),dt)||new _(Ve.range.endLineNumber,[],this.minReservedLineCount):void 0}};Ge=$e([me(2,pe.p)],Ge);function ft(xt){return xt.reduce((Ve,dt)=>Ve+dt,0)}var ze=i(72065),mt=function(xt,Ve,dt,Tt){var jt=arguments.length,$t=jt<3?Ve:Tt===null?Tt=Object.getOwnPropertyDescriptor(Ve,dt):Tt,Wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$t=Reflect.decorate(xt,Ve,dt,Tt);else for(var We=xt.length-1;We>=0;We--)(Wt=xt[We])&&($t=(jt<3?Wt($t):jt>3?Wt(Ve,dt,$t):Wt(Ve,dt))||$t);return jt>3&&$t&&Object.defineProperty(Ve,dt,$t),$t},wt=function(xt,Ve){return function(dt,Tt){Ve(dt,Tt,xt)}},Oe=function(xt,Ve,dt,Tt){function jt($t){return $t instanceof dt?$t:new dt(function(Wt){Wt($t)})}return new(dt||(dt=Promise))(function($t,Wt){function We(pt){try{ut(Tt.next(pt))}catch(kt){Wt(kt)}}function Xe(pt){try{ut(Tt.throw(pt))}catch(kt){Wt(kt)}}function ut(pt){pt.done?$t(pt.value):jt(pt.value).then(We,Xe)}ut((Tt=Tt.apply(xt,Ve||[])).next())})};class lt extends $.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new D.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new $.XK)}get targetModel(){var Ve;return(Ve=this.currentModelRef.value)===null||Ve===void 0?void 0:Ve.object}setTargetModel(Ve){var dt;((dt=this.currentModelRef.value)===null||dt===void 0?void 0:dt.object)!==Ve&&(this.currentModelRef.clear(),this.currentModelRef.value=Ve?f(Ve,Ve.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var Ve,dt;return this.hasCachedGhostText||(this.cachedGhostText=(dt=(Ve=this.currentModelRef.value)===null||Ve===void 0?void 0:Ve.object)===null||dt===void 0?void 0:dt.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(Ve){var dt;(dt=this.targetModel)===null||dt===void 0||dt.setExpanded(Ve)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let Bt=class extends lt{constructor(Ve,dt){super(),this.editor=Ve,this.instantiationService=dt,this.sharedCache=this._register(new Zt),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(Ge,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(ie,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(Ve){var dt;const Tt=(dt=this.activeInlineCompletionsModel)===null||dt===void 0?void 0:dt.ghostText;return Tt?Tt.parts.some(jt=>Ve.containsPosition(new A.L(Tt.lineNumber,jt.column))):!1}triggerInlineCompletion(){var Ve;(Ve=this.activeInlineCompletionsModel)===null||Ve===void 0||Ve.trigger(L.bw.Explicit)}commitInlineCompletion(){var Ve;(Ve=this.activeInlineCompletionsModel)===null||Ve===void 0||Ve.commitCurrentSuggestion()}hideInlineCompletion(){var Ve;(Ve=this.activeInlineCompletionsModel)===null||Ve===void 0||Ve.hide()}showNextInlineCompletion(){var Ve;(Ve=this.activeInlineCompletionsModel)===null||Ve===void 0||Ve.showNext()}showPreviousInlineCompletion(){var Ve;(Ve=this.activeInlineCompletionsModel)===null||Ve===void 0||Ve.showPrevious()}hasMultipleInlineCompletions(){var Ve;return Oe(this,void 0,void 0,function*(){const dt=yield(Ve=this.activeInlineCompletionsModel)===null||Ve===void 0?void 0:Ve.hasMultipleInlineCompletions();return dt!==void 0?dt:!1})}};Bt=mt([wt(1,ze.TG)],Bt);class Zt extends $.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new D.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new $.XK)}get value(){return this.cache.value}setValue(Ve,dt,Tt){this.cache.value=new Ye(dt,Ve,()=>this.onDidChangeEmitter.fire(),Tt)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var pi=i(65321),Li=i(52136),ot=i(64141),Ft=i(77378),Yt=i(50072),_i=i(84973),Ci=i(72042),bi=i(8625),ai=i(92550),Mt=i(91557),Ut=i(97781),vt=function(xt,Ve,dt,Tt){var jt=arguments.length,$t=jt<3?Ve:Tt===null?Tt=Object.getOwnPropertyDescriptor(Ve,dt):Tt,Wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$t=Reflect.decorate(xt,Ve,dt,Tt);else for(var We=xt.length-1;We>=0;We--)(Wt=xt[We])&&($t=(jt<3?Wt($t):jt>3?Wt(Ve,dt,$t):Wt(Ve,dt))||$t);return jt>3&&$t&&Object.defineProperty(Ve,dt,$t),$t},_t=function(xt,Ve){return function(dt,Tt){Ve(dt,Tt,xt)}},nt;const be=(nt=window.trustedTypes)===null||nt===void 0?void 0:nt.createPolicy("editorGhostText",{createHTML:xt=>xt});let Le=class extends $.JT{constructor(Ve,dt,Tt,jt){super(),this.editor=Ve,this.model=dt,this.instantiationService=Tt,this.languageService=jt,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(je,this.editor)),this.additionalLinesWidget=this._register(new ht(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new Qe(this.editor)),this._register(this.editor.onDidChangeConfiguration($t=>{($t.hasChanged(29)||$t.hasChanged(107)||$t.hasChanged(90)||$t.hasChanged(85)||$t.hasChanged(47)||$t.hasChanged(46)||$t.hasChanged(61))&&this.update()})),this._register((0,$.OF)(()=>{var $t;this.disposed=!0,this.update(),($t=this.viewMoreContentWidget)===null||$t===void 0||$t.dispose(),this.viewMoreContentWidget=void 0})),this._register(dt.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(Ve){return this.additionalLinesWidget.viewZoneId===Ve}update(){var Ve;const dt=this.model.ghostText;if(!this.editor.hasModel()||!dt||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear(),this.replacementDecoration.clear();return}const Tt=new Array,jt=new Array;function $t(ut,pt){if(jt.length>0){const kt=jt[jt.length-1];pt&&kt.decorations.push(new ai.Kp(kt.content.length+1,kt.content.length+1+ut[0].length,pt,0)),kt.content+=ut[0],ut=ut.slice(1)}for(const kt of ut)jt.push({content:kt,decorations:pt?[new ai.Kp(1,kt.length+1,pt,0)]:[]})}dt instanceof I?this.replacementDecoration.setDecorations([{range:new g.e(dt.lineNumber,dt.columnStart,dt.lineNumber,dt.columnStart+dt.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]):this.replacementDecoration.setDecorations([]);const Wt=this.editor.getModel().getLineContent(dt.lineNumber);let We,Xe=0;for(const ut of dt.parts){let pt=ut.lines;We===void 0?(Tt.push({column:ut.column,text:pt[0],preview:ut.preview}),pt=pt.slice(1)):$t([Wt.substring(Xe,ut.column-1)],void 0),pt.length>0&&($t(pt,"ghost-text"),We===void 0&&ut.column<=Wt.length&&(We=ut.column)),Xe=ut.column-1}We!==void 0&&$t([Wt.substring(Xe)],void 0),this.partsWidget.setParts(dt.lineNumber,Tt,We!==void 0?{column:We,length:Wt.length+1-We}:void 0),this.additionalLinesWidget.updateLines(dt.lineNumber,jt,dt.additionalReservedLineCount),(Ve=this.viewMoreContentWidget)===null||Ve===void 0||Ve.dispose(),this.viewMoreContentWidget=void 0}renderViewMoreLines(Ve,dt,Tt){const jt=this.editor.getOption(46),$t=document.createElement("div");$t.className="suggest-preview-additional-widget",(0,Li.N)($t,jt);const Wt=document.createElement("span");Wt.className="content-spacer",Wt.append(dt),$t.append(Wt);const We=document.createElement("span");We.className="content-newline suggest-preview-text",We.append("\u23CE  "),$t.append(We);const Xe=new $.SL,ut=document.createElement("div");return ut.className="button suggest-preview-text",ut.append(`+${Tt} lines\u2026`),Xe.add(pi.mu(ut,"mousedown",pt=>{var kt;(kt=this.model)===null||kt===void 0||kt.setExpanded(!0),pt.preventDefault(),this.editor.focus()})),$t.append(ut),new Dt(this.editor,Ve,$t,Xe)}};Le=vt([_t(2,ze.TG),_t(3,Ci.O)],Le);class Qe{constructor(Ve){this.editor=Ve,this.decorationIds=[]}setDecorations(Ve){this.editor.changeDecorations(dt=>{this.decorationIds=dt.deltaDecorations(this.decorationIds,Ve)})}clear(){this.setDecorations([])}dispose(){this.clear()}}class je{constructor(Ve){this.editor=Ve,this.decorationIds=[]}dispose(){this.clear()}clear(){this.editor.changeDecorations(Ve=>{this.decorationIds=Ve.deltaDecorations(this.decorationIds,[])})}setParts(Ve,dt,Tt){if(!this.editor.getModel())return;const $t=new Array;Tt&&$t.push({range:g.e.fromPositions(new A.L(Ve,Tt.column),new A.L(Ve,Tt.column+Tt.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations(Wt=>{this.decorationIds=Wt.deltaDecorations(this.decorationIds,dt.map(We=>({range:g.e.fromPositions(new A.L(Ve,We.column)),options:{description:"ghost-text",after:{content:We.text,inlineClassName:We.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:_i.RM.Left},showIfCollapsed:!0}})).concat($t))})}}class ht{constructor(Ve,dt){this.editor=Ve,this.languageIdCodec=dt,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(Ve=>{this._viewZoneId&&(Ve.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(Ve,dt,Tt){const jt=this.editor.getModel();if(!jt)return;const{tabSize:$t}=jt.getOptions();this.editor.changeViewZones(Wt=>{this._viewZoneId&&(Wt.removeZone(this._viewZoneId),this._viewZoneId=void 0);const We=Math.max(dt.length,Tt);if(We>0){const Xe=document.createElement("div");bt(Xe,$t,dt,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=Wt.addZone({afterLineNumber:Ve,heightInLines:We,domNode:Xe,afterColumnAffinity:1})}})}}function bt(xt,Ve,dt,Tt,jt){const $t=Tt.get(29),Wt=Tt.get(107),We="none",Xe=Tt.get(85),ut=Tt.get(47),pt=Tt.get(46),kt=Tt.get(61),Kt=(0,Yt.l$)(1e4);Kt.appendASCIIString('<div class="suggest-preview-text">');for(let Oi=0,wi=dt.length;Oi<wi;Oi++){const Pt=dt[Oi],Pi=Pt.content;Kt.appendASCIIString('<div class="view-line'),Kt.appendASCIIString('" style="top:'),Kt.appendASCIIString(String(Oi*kt)),Kt.appendASCIIString('px;width:1000000px;">');const en=M.$i(Pi),un=M.Ut(Pi),hn=Ft.A.createEmpty(Pi,jt);(0,Mt.d1)(new Mt.IJ(pt.isMonospace&&!$t,pt.canUseHalfwidthRightwardsArrow,Pi,!1,en,un,0,hn,Pt.decorations,Ve,0,pt.spaceWidth,pt.middotWidth,pt.wsmiddotWidth,Wt,We,Xe,ut!==ot.n0.OFF,null),Kt),Kt.appendASCIIString("</div>")}Kt.appendASCIIString("</div>"),(0,Li.N)(xt,pt);const Gt=Kt.build(),Ei=be?be.createHTML(Gt):Gt;xt.innerHTML=Ei}class Dt extends $.JT{constructor(Ve,dt,Tt,jt){super(),this.editor=Ve,this.position=dt,this.domNode=Tt,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(jt),this._register((0,$.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,Ut.Ic)((xt,Ve)=>{const dt=xt.getColor(bi.N5);dt&&(Ve.addRule(`.monaco-editor .ghost-text-decoration { color: ${dt.toString()} !important; }`),Ve.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${dt.toString()} !important; }`),Ve.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${dt.toString()} !important; }`));const Tt=xt.getColor(bi.IO);Tt&&(Ve.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${Tt.toString()}; }`),Ve.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${Tt.toString()}; }`),Ve.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${Tt.toString()}; }`));const jt=xt.getColor(bi.x3);jt&&(Ve.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${jt}; }`),Ve.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${jt}; }`),Ve.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${jt}; }`))});var Ht=i(63580),ei=i(16141),ui=function(xt,Ve,dt,Tt){var jt=arguments.length,$t=jt<3?Ve:Tt===null?Tt=Object.getOwnPropertyDescriptor(Ve,dt):Tt,Wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$t=Reflect.decorate(xt,Ve,dt,Tt);else for(var We=xt.length-1;We>=0;We--)(Wt=xt[We])&&($t=(jt<3?Wt($t):jt>3?Wt(Ve,dt,$t):Wt(Ve,dt))||$t);return jt>3&&$t&&Object.defineProperty(Ve,dt,$t),$t},xi=function(xt,Ve){return function(dt,Tt){Ve(dt,Tt,xt)}},Si=function(xt,Ve,dt,Tt){function jt($t){return $t instanceof dt?$t:new dt(function(Wt){Wt($t)})}return new(dt||(dt=Promise))(function($t,Wt){function We(pt){try{ut(Tt.next(pt))}catch(kt){Wt(kt)}}function Xe(pt){try{ut(Tt.throw(pt))}catch(kt){Wt(kt)}}function ut(pt){pt.done?$t(pt.value):jt(pt.value).then(We,Xe)}ut((Tt=Tt.apply(xt,Ve||[])).next())})};let mi=class Zc extends $.JT{constructor(Ve,dt){super(),this.editor=Ve,this.instantiationService=dt,this.triggeredExplicitly=!1,this.activeController=this._register(new $.XK),this.activeModelDidChangeEmitter=this._register(new D.Q5),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(Tt=>{Tt.hasChanged(108)&&this.updateModelController(),Tt.hasChanged(57)&&this.updateModelController()})),this.updateModelController()}static get(Ve){return Ve.getContribution(Zc.ID)}get activeModel(){var Ve;return(Ve=this.activeController.value)===null||Ve===void 0?void 0:Ve.model}updateModelController(){const Ve=this.editor.getOption(108),dt=this.editor.getOption(57);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(Ve.preview||dt.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(Mi,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(Ve){var dt;return((dt=this.activeModel)===null||dt===void 0?void 0:dt.shouldShowHoverAt(Ve))||!1}shouldShowHoverAtViewZone(Ve){var dt,Tt;return((Tt=(dt=this.activeController.value)===null||dt===void 0?void 0:dt.widget)===null||Tt===void 0?void 0:Tt.shouldShowHoverAtViewZone(Ve))||!1}trigger(){var Ve;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(Ve=this.activeModel)===null||Ve===void 0||Ve.triggerInlineCompletion()}commit(){var Ve;(Ve=this.activeModel)===null||Ve===void 0||Ve.commitInlineCompletion()}hide(){var Ve;(Ve=this.activeModel)===null||Ve===void 0||Ve.hideInlineCompletion()}showNextInlineCompletion(){var Ve;(Ve=this.activeModel)===null||Ve===void 0||Ve.showNextInlineCompletion()}showPreviousInlineCompletion(){var Ve;(Ve=this.activeModel)===null||Ve===void 0||Ve.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var Ve;return Si(this,void 0,void 0,function*(){const dt=yield(Ve=this.activeModel)===null||Ve===void 0?void 0:Ve.hasMultipleInlineCompletions();return dt!==void 0?dt:!1})}};mi.inlineSuggestionVisible=new ei.uy("inlineSuggestionVisible",!1,Ht.NC("inlineSuggestionVisible","Whether an inline suggestion is visible")),mi.inlineSuggestionHasIndentation=new ei.uy("inlineSuggestionHasIndentation",!1,Ht.NC("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),mi.inlineSuggestionHasIndentationLessThanTabSize=new ei.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,Ht.NC("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),mi.ID="editor.contrib.ghostTextController",mi=ui([xi(1,ze.TG)],mi);class mn{constructor(Ve){this.contextKeyService=Ve,this.inlineCompletionVisible=mi.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=mi.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=mi.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let Mi=class extends $.JT{constructor(Ve,dt,Tt){super(),this.editor=Ve,this.instantiationService=dt,this.contextKeyService=Tt,this.contextKeys=new mn(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(Bt,this.editor)),this.widget=this._register(this.instantiationService.createInstance(Le,this.editor,this.model)),this._register((0,$.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var Ve;this.contextKeys.inlineCompletionVisible.set(((Ve=this.model.activeInlineCompletionsModel)===null||Ve===void 0?void 0:Ve.ghostText)!==void 0);let dt=!1,Tt=!0;const jt=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&jt&&jt.parts.length>0){const{column:$t,lines:Wt}=jt.parts[0],We=Wt[0],Xe=this.editor.getModel().getLineIndentColumn(jt.lineNumber);if($t<=Xe){let pt=(0,M.LC)(We);pt===-1&&(pt=We.length-1),dt=pt>0;const kt=this.editor.getModel().getOptions().tabSize;Tt=P.i.visibleColumnFromColumn(We,pt+1,kt)<kt}}this.contextKeys.inlineCompletionSuggestsIndentation.set(dt),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(Tt)}};Mi=ui([xi(1,ze.TG),xi(2,ei.i6)],Mi);class fn extends w.R6{constructor(){super({id:fn.ID,label:Ht.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:ei.Ao.and(r.u.writable,mi.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(Ve,dt){return Si(this,void 0,void 0,function*(){const Tt=mi.get(dt);Tt&&(Tt.showNextInlineCompletion(),dt.focus())})}}fn.ID="editor.action.inlineSuggest.showNext";class Fi extends w.R6{constructor(){super({id:Fi.ID,label:Ht.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:ei.Ao.and(r.u.writable,mi.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(Ve,dt){return Si(this,void 0,void 0,function*(){const Tt=mi.get(dt);Tt&&(Tt.showPreviousInlineCompletion(),dt.focus())})}}Fi.ID="editor.action.inlineSuggest.showPrevious";class Ni extends w.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:Ht.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:r.u.writable})}run(Ve,dt){return Si(this,void 0,void 0,function*(){const Tt=mi.get(dt);Tt&&Tt.trigger()})}}var Dn=i(59365),Tn=i(8598),$i=i(31106),pn=i(84144),Sn=i(50988),wn=function(xt,Ve,dt,Tt){var jt=arguments.length,$t=jt<3?Ve:Tt===null?Tt=Object.getOwnPropertyDescriptor(Ve,dt):Tt,Wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$t=Reflect.decorate(xt,Ve,dt,Tt);else for(var We=xt.length-1;We>=0;We--)(Wt=xt[We])&&($t=(jt<3?Wt($t):jt>3?Wt(Ve,dt,$t):Wt(Ve,dt))||$t);return jt>3&&$t&&Object.defineProperty(Ve,dt,$t),$t},li=function(xt,Ve){return function(dt,Tt){Ve(dt,Tt,xt)}};class Ke{constructor(Ve,dt,Tt){this.owner=Ve,this.range=dt,this.controller=Tt}isValidForHoverAnchor(Ve){return Ve.type===1&&this.range.startColumn<=Ve.range.startColumn&&this.range.endColumn>=Ve.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}get commands(){var Ve,dt,Tt;return((Tt=(dt=(Ve=this.controller.activeModel)===null||Ve===void 0?void 0:Ve.activeInlineCompletionsModel)===null||dt===void 0?void 0:dt.completionSession.value)===null||Tt===void 0?void 0:Tt.commands)||[]}}let Rt=class{constructor(Ve,dt,Tt,jt,$t,Wt,We){this._editor=Ve,this._commandService=dt,this._menuService=Tt,this._contextKeyService=jt,this._languageService=$t,this._openerService=Wt,this.accessibilityService=We,this.hoverOrdinal=3}suggestHoverAnchor(Ve){const dt=mi.get(this._editor);if(!dt)return null;const Tt=Ve.target;if(Tt.type===8){const jt=Tt.detail;if(dt.shouldShowHoverAtViewZone(jt.viewZoneId))return new O.YM(1e3,this,g.e.fromPositions(jt.positionBefore||jt.position,jt.positionBefore||jt.position))}return Tt.type===7&&dt.shouldShowHoverAt(Tt.range)?new O.YM(1e3,this,Tt.range):Tt.type===6&&Tt.detail.mightBeForeignElement&&dt.shouldShowHoverAt(Tt.range)?new O.YM(1e3,this,Tt.range):null}computeSync(Ve,dt){const Tt=mi.get(this._editor);return Tt&&Tt.shouldShowHoverAt(Ve.range)?[new Ke(this,Ve.range,Tt)]:[]}renderHoverParts(Ve,dt){const Tt=new $.SL,jt=dt[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(Ve,jt,Tt);const $t=Tt.add(this._menuService.createMenu(pn.eH.InlineCompletionsActions,this._contextKeyService)),Wt=Ve.statusBar.addAction({label:Ht.NC("showNextInlineSuggestion","Next"),commandId:fn.ID,run:()=>this._commandService.executeCommand(fn.ID)}),We=Ve.statusBar.addAction({label:Ht.NC("showPreviousInlineSuggestion","Previous"),commandId:Fi.ID,run:()=>this._commandService.executeCommand(Fi.ID)});Ve.statusBar.addAction({label:Ht.NC("acceptInlineSuggestion","Accept"),commandId:V,run:()=>this._commandService.executeCommand(V)});const Xe=[Wt,We];for(const ut of Xe)ut.setEnabled(!1);jt.hasMultipleSuggestions().then(ut=>{for(const pt of Xe)pt.setEnabled(ut)});for(const ut of jt.commands)Ve.statusBar.addAction({label:ut.title,commandId:ut.id,run:()=>this._commandService.executeCommand(ut.id,...ut.arguments||[])});for(const[ut,pt]of $t.getActions())for(const kt of pt)kt instanceof pn.U8&&Ve.statusBar.addAction({label:kt.label,commandId:kt.item.id,run:()=>this._commandService.executeCommand(kt.item.id)});return Tt}renderScreenReaderText(Ve,dt,Tt){var jt,$t;const Wt=pi.$,We=Wt("div.hover-row.markdown-hover"),Xe=pi.R3(We,Wt("div.hover-contents")),ut=Tt.add(new Tn.$({editor:this._editor},this._languageService,this._openerService)),pt=Kt=>{Tt.add(ut.onDidRenderAsync(()=>{Xe.className="hover-contents code-hover-contents",Ve.onContentsChanged()}));const Gt=Ht.NC("inlineSuggestionFollows","Suggestion:"),Ei=Tt.add(ut.render(new Dn.W5().appendText(Gt).appendCodeblock("text",Kt)));Xe.replaceChildren(Ei.element)},kt=($t=(jt=dt.controller.activeModel)===null||jt===void 0?void 0:jt.inlineCompletionsModel)===null||$t===void 0?void 0:$t.ghostText;if(kt){const Kt=this._editor.getModel().getLineContent(kt.lineNumber);pt(kt.renderForScreenReader(Kt))}Ve.fragment.appendChild(We)}};Rt=wn([li(1,J.Hy),li(2,pn.co),li(3,ei.i6),li(4,Ci.O),li(5,Sn.v4),li(6,$i.F)],Rt);var At=i(49989);(0,w._K)(mi.ID,mi),(0,w.Qr)(Ni),(0,w.Qr)(fn),(0,w.Qr)(Fi),O.Ae.register(Rt);const ni=w._l.bindToContribution(mi.get),ii=new ni({id:V,precondition:mi.inlineSuggestionVisible,handler(xt){xt.commit(),xt.editor.focus()}});(0,w.fK)(ii),At.W.registerKeybindingRule({primary:2,weight:200,id:ii.id,when:ei.Ao.and(ii.precondition,r.u.tabMovesFocus.toNegated(),mi.inlineSuggestionHasIndentationLessThanTabSize)}),(0,w.fK)(new ni({id:"editor.action.inlineSuggest.hide",precondition:mi.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(xt){xt.hide()}}))},97615:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{ExpandLineSelectionAction:function(){return D}});var w=i(16830),r=i(28108),O=i(29102),V=i(63580);class D extends w.R6{constructor(){super({id:"expandLineSelection",label:V.NC("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:O.u.textInputFocus,primary:2090}})}run(M,P,A){if(A=A||{},!P.hasModel())return;const L=P._getViewModel();L.model.pushStackElement(),L.setCursorStates(A.source,3,r.P.expandLineSelection(L,L.getCursorStates())),L.revealPrimaryCursor(A.source,!0)}}(0,w.Qr)(D)},65766:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{AbstractCaseAction:function(){return ye},AbstractDeleteAllToBoundaryAction:function(){return ne},AbstractSortLinesAction:function(){return z},DeleteAllLeftAction:function(){return oe},DeleteAllRightAction:function(){return Se},DeleteDuplicateLinesAction:function(){return S},DeleteLinesAction:function(){return Ce},DuplicateSelectionAction:function(){return j},IndentLinesAction:function(){return ge},InsertLineAfterAction:function(){return se},InsertLineBeforeAction:function(){return ee},JoinLinesAction:function(){return Ee},KebabCaseAction:function(){return at},LowerCaseAction:function(){return ie},SnakeCaseAction:function(){return Ye},SortLinesAscendingAction:function(){return G},SortLinesDescendingAction:function(){return re},TitleCaseAction:function(){return xe},TransposeAction:function(){return Me},TrimTrailingWhitespaceAction:function(){return he},UpperCaseAction:function(){return le}});var w=i(22258),r=i(69317),O=i(16830),V=i(61329),D=i(97295),$=i(69386),M=i(24314);class P{constructor(Re,Je){this._selection=Re,this._cursors=Je,this._selectionId=null}getEditOperations(Re,Je){const st=A(Re,this._cursors);for(let et=0,we=st.length;et<we;et++){const Ne=st[et];Je.addEditOperation(Ne.range,Ne.text)}this._selectionId=Je.trackSelection(this._selection)}computeCursorState(Re,Je){return Je.getTrackedSelection(this._selectionId)}}function A(qe,Re){Re.sort((Ne,de)=>Ne.lineNumber===de.lineNumber?Ne.column-de.column:Ne.lineNumber-de.lineNumber);for(let Ne=Re.length-2;Ne>=0;Ne--)Re[Ne].lineNumber===Re[Ne+1].lineNumber&&Re.splice(Ne,1);const Je=[];let st=0,et=0;const we=Re.length;for(let Ne=1,de=qe.getLineCount();Ne<=de;Ne++){const Pe=qe.getLineContent(Ne),He=Pe.length+1;let $e=0;if(et<we&&Re[et].lineNumber===Ne&&($e=Re[et].column,et++,$e===He)||Pe.length===0)continue;const me=D.ow(Pe);let Ie=0;if(me===-1)Ie=1;else if(me!==Pe.length-1)Ie=me+2;else continue;Ie=Math.max($e,Ie),Je[st++]=$.h.delete(new M.e(Ne,Ie,Ne,He))}return Je}var L=i(51336),c=i(50187),p=i(3860),l=i(29102);class n{constructor(Re,Je,st){this._selection=Re,this._isCopyingDown=Je,this._noop=st||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(Re,Je){let st=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,st.startLineNumber<st.endLineNumber&&st.endColumn===1&&(this._endLineNumberDelta=1,st=st.setEndPosition(st.endLineNumber-1,Re.getLineMaxColumn(st.endLineNumber-1)));const et=[];for(let Ne=st.startLineNumber;Ne<=st.endLineNumber;Ne++)et.push(Re.getLineContent(Ne));const we=et.join(`
`);we===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?Je.addEditOperation(new M.e(st.endLineNumber,Re.getLineMaxColumn(st.endLineNumber),st.endLineNumber+1,1),st.endLineNumber===Re.getLineCount()?"":`
`):this._isCopyingDown?Je.addEditOperation(new M.e(st.startLineNumber,1,st.startLineNumber,1),we+`
`):Je.addEditOperation(new M.e(st.endLineNumber,Re.getLineMaxColumn(st.endLineNumber),st.endLineNumber,Re.getLineMaxColumn(st.endLineNumber)),`
`+we),this._selectionId=Je.trackSelection(st),this._selectionDirection=this._selection.getDirection()}computeCursorState(Re,Je){let st=Je.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let et=st.startLineNumber,we=st.startColumn,Ne=st.endLineNumber,de=st.endColumn;this._startLineNumberDelta!==0&&(et=et+this._startLineNumberDelta,we=1),this._endLineNumberDelta!==0&&(Ne=Ne+this._endLineNumberDelta,de=1),st=p.Y.createWithDirection(et,we,Ne,de,this._selectionDirection)}return st}}var a=i(10291),g=i(49119),f=i(51381),u=i(18279),C=i(75383),y=i(1615),b=function(qe,Re,Je,st){var et=arguments.length,we=et<3?Re:st===null?st=Object.getOwnPropertyDescriptor(Re,Je):st,Ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")we=Reflect.decorate(qe,Re,Je,st);else for(var de=qe.length-1;de>=0;de--)(Ne=qe[de])&&(we=(et<3?Ne(we):et>3?Ne(Re,Je,we):Ne(Re,Je))||we);return et>3&&we&&Object.defineProperty(Re,Je,we),we},_=function(qe,Re){return function(Je,st){Re(Je,st,qe)}};let E=class{constructor(Re,Je,st,et){this._languageConfigurationService=et,this._selection=Re,this._isMovingDown=Je,this._autoIndent=st,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(Re,Je){const st=Re.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===st){this._selectionId=Je.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=Je.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let et=this._selection;et.startLineNumber<et.endLineNumber&&et.endColumn===1&&(this._moveEndPositionDown=!0,et=et.setEndPosition(et.endLineNumber-1,Re.getLineMaxColumn(et.endLineNumber-1)));const{tabSize:we,indentSize:Ne,insertSpaces:de}=Re.getOptions(),Pe=this.buildIndentConverter(we,Ne,de),He={tokenization:{getLineTokens:$e=>Re.tokenization.getLineTokens($e),getLanguageId:()=>Re.getLanguageId(),getLanguageIdAtPosition:($e,me)=>Re.getLanguageIdAtPosition($e,me)},getLineContent:null};if(et.startLineNumber===et.endLineNumber&&Re.getLineMaxColumn(et.startLineNumber)===1){const $e=et.startLineNumber,me=this._isMovingDown?$e+1:$e-1;Re.getLineMaxColumn(me)===1?Je.addEditOperation(new M.e(1,1,1,1),null):(Je.addEditOperation(new M.e($e,1,$e,1),Re.getLineContent(me)),Je.addEditOperation(new M.e(me,1,me,Re.getLineMaxColumn(me)),null)),et=new p.Y(me,1,me,1)}else{let $e,me;if(this._isMovingDown){$e=et.endLineNumber+1,me=Re.getLineContent($e),Je.addEditOperation(new M.e($e-1,Re.getLineMaxColumn($e-1),$e,Re.getLineMaxColumn($e)),null);let Ie=me;if(this.shouldAutoIndent(Re,et)){const Ge=this.matchEnterRule(Re,Pe,we,$e,et.startLineNumber-1);if(Ge!==null){const ze=D.V8(Re.getLineContent($e)),mt=Ge+u.Y(ze,we);Ie=u.J(mt,we,de)+this.trimLeft(me)}else{He.getLineContent=mt=>mt===et.startLineNumber?Re.getLineContent($e):Re.getLineContent(mt);const ze=(0,C.n8)(this._autoIndent,He,Re.getLanguageIdAtPosition($e,1),et.startLineNumber,Pe,this._languageConfigurationService);if(ze!==null){const mt=D.V8(Re.getLineContent($e)),wt=u.Y(ze,we),Oe=u.Y(mt,we);wt!==Oe&&(Ie=u.J(wt,we,de)+this.trimLeft(me))}}Je.addEditOperation(new M.e(et.startLineNumber,1,et.startLineNumber,1),Ie+`
`);const ft=this.matchEnterRuleMovingDown(Re,Pe,we,et.startLineNumber,$e,Ie);if(ft!==null)ft!==0&&this.getIndentEditsOfMovingBlock(Re,Je,et,we,de,ft);else{He.getLineContent=mt=>mt===et.startLineNumber?Ie:mt>=et.startLineNumber+1&&mt<=et.endLineNumber+1?Re.getLineContent(mt-1):Re.getLineContent(mt);const ze=(0,C.n8)(this._autoIndent,He,Re.getLanguageIdAtPosition($e,1),et.startLineNumber+1,Pe,this._languageConfigurationService);if(ze!==null){const mt=D.V8(Re.getLineContent(et.startLineNumber)),wt=u.Y(ze,we),Oe=u.Y(mt,we);if(wt!==Oe){const lt=wt-Oe;this.getIndentEditsOfMovingBlock(Re,Je,et,we,de,lt)}}}}else Je.addEditOperation(new M.e(et.startLineNumber,1,et.startLineNumber,1),Ie+`
`)}else if($e=et.startLineNumber-1,me=Re.getLineContent($e),Je.addEditOperation(new M.e($e,1,$e+1,1),null),Je.addEditOperation(new M.e(et.endLineNumber,Re.getLineMaxColumn(et.endLineNumber),et.endLineNumber,Re.getLineMaxColumn(et.endLineNumber)),`
`+me),this.shouldAutoIndent(Re,et)){He.getLineContent=Ge=>Ge===$e?Re.getLineContent(et.startLineNumber):Re.getLineContent(Ge);const Ie=this.matchEnterRule(Re,Pe,we,et.startLineNumber,et.startLineNumber-2);if(Ie!==null)Ie!==0&&this.getIndentEditsOfMovingBlock(Re,Je,et,we,de,Ie);else{const Ge=(0,C.n8)(this._autoIndent,He,Re.getLanguageIdAtPosition(et.startLineNumber,1),$e,Pe,this._languageConfigurationService);if(Ge!==null){const ft=D.V8(Re.getLineContent(et.startLineNumber)),ze=u.Y(Ge,we),mt=u.Y(ft,we);if(ze!==mt){const wt=ze-mt;this.getIndentEditsOfMovingBlock(Re,Je,et,we,de,wt)}}}}}this._selectionId=Je.trackSelection(et)}buildIndentConverter(Re,Je,st){return{shiftIndent:et=>a.U.shiftIndent(et,et.length+1,Re,Je,st),unshiftIndent:et=>a.U.unshiftIndent(et,et.length+1,Re,Je,st)}}parseEnterResult(Re,Je,st,et,we){if(we){let Ne=we.indentation;we.indentAction===g.wU.None||we.indentAction===g.wU.Indent?Ne=we.indentation+we.appendText:we.indentAction===g.wU.IndentOutdent?Ne=we.indentation:we.indentAction===g.wU.Outdent&&(Ne=Je.unshiftIndent(we.indentation)+we.appendText);const de=Re.getLineContent(et);if(this.trimLeft(de).indexOf(this.trimLeft(Ne))>=0){const Pe=D.V8(Re.getLineContent(et));let He=D.V8(Ne);const $e=(0,C.tI)(Re,et,this._languageConfigurationService);$e!==null&&$e&2&&(He=Je.unshiftIndent(He));const me=u.Y(He,st),Ie=u.Y(Pe,st);return me-Ie}}return null}matchEnterRuleMovingDown(Re,Je,st,et,we,Ne){if(D.ow(Ne)>=0){const de=Re.getLineMaxColumn(we),Pe=(0,y.A)(this._autoIndent,Re,new M.e(we,de,we,de),this._languageConfigurationService);return this.parseEnterResult(Re,Je,st,et,Pe)}else{let de=et-1;for(;de>=1;){const $e=Re.getLineContent(de);if(D.ow($e)>=0)break;de--}if(de<1||et>Re.getLineCount())return null;const Pe=Re.getLineMaxColumn(de),He=(0,y.A)(this._autoIndent,Re,new M.e(de,Pe,de,Pe),this._languageConfigurationService);return this.parseEnterResult(Re,Je,st,et,He)}}matchEnterRule(Re,Je,st,et,we,Ne){let de=we;for(;de>=1;){let $e;if(de===we&&Ne!==void 0?$e=Ne:$e=Re.getLineContent(de),D.ow($e)>=0)break;de--}if(de<1||et>Re.getLineCount())return null;const Pe=Re.getLineMaxColumn(de),He=(0,y.A)(this._autoIndent,Re,new M.e(de,Pe,de,Pe),this._languageConfigurationService);return this.parseEnterResult(Re,Je,st,et,He)}trimLeft(Re){return Re.replace(/^\s+/,"")}shouldAutoIndent(Re,Je){if(this._autoIndent<4||!Re.tokenization.isCheapToTokenize(Je.startLineNumber))return!1;const st=Re.getLanguageIdAtPosition(Je.startLineNumber,1),et=Re.getLanguageIdAtPosition(Je.endLineNumber,1);return!(st!==et||this._languageConfigurationService.getLanguageConfiguration(st).indentRulesSupport===null)}getIndentEditsOfMovingBlock(Re,Je,st,et,we,Ne){for(let de=st.startLineNumber;de<=st.endLineNumber;de++){const Pe=Re.getLineContent(de),He=D.V8(Pe),me=u.Y(He,et)+Ne,Ie=u.J(me,et,we);Ie!==He&&(Je.addEditOperation(new M.e(de,1,de,He.length+1),Ie),de===st.endLineNumber&&st.endColumn<=He.length+1&&Ie===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(Re,Je){let st=Je.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(st=st.setEndPosition(st.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&st.startLineNumber<st.endLineNumber&&(st=st.setEndPosition(st.endLineNumber,2)),st}};E=b([_(3,f.c_)],E);class I{constructor(Re,Je){this.selection=Re,this.descending=Je,this.selectionId=null}static getCollator(){return I._COLLATOR||(I._COLLATOR=new Intl.Collator),I._COLLATOR}getEditOperations(Re,Je){const st=J(Re,this.selection,this.descending);st&&Je.addEditOperation(st.range,st.text),this.selectionId=Je.trackSelection(this.selection)}computeCursorState(Re,Je){return Je.getTrackedSelection(this.selectionId)}static canRun(Re,Je,st){if(Re===null)return!1;const et=R(Re,Je,st);if(!et)return!1;for(let we=0,Ne=et.before.length;we<Ne;we++)if(et.before[we]!==et.after[we])return!0;return!1}}I._COLLATOR=null;function R(qe,Re,Je){const st=Re.startLineNumber;let et=Re.endLineNumber;if(Re.endColumn===1&&et--,st>=et)return null;const we=[];for(let de=st;de<=et;de++)we.push(qe.getLineContent(de));let Ne=we.slice(0);return Ne.sort(I.getCollator().compare),Je===!0&&(Ne=Ne.reverse()),{startLineNumber:st,endLineNumber:et,before:we,after:Ne}}function J(qe,Re,Je){const st=R(qe,Re,Je);return st?$.h.replace(new M.e(st.startLineNumber,1,st.endLineNumber,qe.getLineMaxColumn(st.endLineNumber)),st.after.join(`
`)):null}var Q=i(63580),U=i(84144);class K extends O.R6{constructor(Re,Je){super(Je),this.down=Re}run(Re,Je){if(!Je.hasModel())return;const st=Je.getSelections().map((Ne,de)=>({selection:Ne,index:de,ignore:!1}));st.sort((Ne,de)=>M.e.compareRangesUsingStarts(Ne.selection,de.selection));let et=st[0];for(let Ne=1;Ne<st.length;Ne++){const de=st[Ne];et.selection.endLineNumber===de.selection.startLineNumber&&(et.index<de.index?de.ignore=!0:(et.ignore=!0,et=de))}const we=[];for(const Ne of st)we.push(new n(Ne.selection,this.down,Ne.ignore));Je.pushUndoStop(),Je.executeCommands(this.id,we),Je.pushUndoStop()}}class H extends K{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:Q.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:l.u.writable,kbOpts:{kbExpr:l.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:U.eH.MenubarSelectionMenu,group:"2_line",title:Q.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class X extends K{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:Q.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:l.u.writable,kbOpts:{kbExpr:l.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:U.eH.MenubarSelectionMenu,group:"2_line",title:Q.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class j extends O.R6{constructor(){super({id:"editor.action.duplicateSelection",label:Q.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:l.u.writable,menuOpts:{menuId:U.eH.MenubarSelectionMenu,group:"2_line",title:Q.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(Re,Je,st){if(!Je.hasModel())return;const et=[],we=Je.getSelections(),Ne=Je.getModel();for(const de of we)if(de.isEmpty())et.push(new n(de,!0));else{const Pe=new p.Y(de.endLineNumber,de.endColumn,de.endLineNumber,de.endColumn);et.push(new V.OY(Pe,Ne.getValueInRange(de)))}Je.pushUndoStop(),Je.executeCommands(this.id,et),Je.pushUndoStop()}}class x extends O.R6{constructor(Re,Je){super(Je),this.down=Re}run(Re,Je){const st=Re.get(f.c_),et=[],we=Je.getSelections()||[],Ne=Je.getOption(9);for(const de of we)et.push(new E(de,this.down,Ne,st));Je.pushUndoStop(),Je.executeCommands(this.id,et),Je.pushUndoStop()}}class Z extends x{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:Q.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:l.u.writable,kbOpts:{kbExpr:l.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:U.eH.MenubarSelectionMenu,group:"2_line",title:Q.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class T extends x{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:Q.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:l.u.writable,kbOpts:{kbExpr:l.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:U.eH.MenubarSelectionMenu,group:"2_line",title:Q.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class z extends O.R6{constructor(Re,Je){super(Je),this.descending=Re}run(Re,Je){const st=Je.getSelections()||[];for(const we of st)if(!I.canRun(Je.getModel(),we,this.descending))return;const et=[];for(let we=0,Ne=st.length;we<Ne;we++)et[we]=new I(st[we],this.descending);Je.pushUndoStop(),Je.executeCommands(this.id,et),Je.pushUndoStop()}}class G extends z{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:Q.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:l.u.writable})}}class re extends z{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:Q.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:l.u.writable})}}class S extends O.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:Q.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:l.u.writable})}run(Re,Je){if(!Je.hasModel())return;const st=Je.getModel();if(st.getLineCount()===1&&st.getLineMaxColumn(1)===1)return;const et=[],we=[];let Ne=0;for(const de of Je.getSelections()){const Pe=new Set,He=[];for(let Ge=de.startLineNumber;Ge<=de.endLineNumber;Ge++){const ft=st.getLineContent(Ge);Pe.has(ft)||(He.push(ft),Pe.add(ft))}const $e=new p.Y(de.startLineNumber,1,de.endLineNumber,st.getLineMaxColumn(de.endLineNumber)),me=de.startLineNumber-Ne,Ie=new p.Y(me,1,me+He.length-1,He[He.length-1].length);et.push($.h.replace($e,He.join(`
`))),we.push(Ie),Ne+=de.endLineNumber-de.startLineNumber+1-He.length}Je.pushUndoStop(),Je.executeEdits(this.id,et,we),Je.pushUndoStop()}}class he extends O.R6{constructor(){super({id:he.ID,label:Q.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:l.u.writable,kbOpts:{kbExpr:l.u.editorTextFocus,primary:(0,w.gx)(2089,2102),weight:100}})}run(Re,Je,st){let et=[];st.reason==="auto-save"&&(et=(Je.getSelections()||[]).map(de=>new c.L(de.positionLineNumber,de.positionColumn)));const we=Je.getSelection();if(we===null)return;const Ne=new P(we,et);Je.pushUndoStop(),Je.executeCommands(this.id,[Ne]),Je.pushUndoStop()}}he.ID="editor.action.trimTrailingWhitespace";class Ce extends O.R6{constructor(){super({id:"editor.action.deleteLines",label:Q.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:l.u.writable,kbOpts:{kbExpr:l.u.textInputFocus,primary:3113,weight:100}})}run(Re,Je){if(!Je.hasModel())return;const st=this._getLinesToRemove(Je),et=Je.getModel();if(et.getLineCount()===1&&et.getLineMaxColumn(1)===1)return;let we=0;const Ne=[],de=[];for(let Pe=0,He=st.length;Pe<He;Pe++){const $e=st[Pe];let me=$e.startLineNumber,Ie=$e.endLineNumber,Ge=1,ft=et.getLineMaxColumn(Ie);Ie<et.getLineCount()?(Ie+=1,ft=1):me>1&&(me-=1,Ge=et.getLineMaxColumn(me)),Ne.push($.h.replace(new p.Y(me,Ge,Ie,ft),"")),de.push(new p.Y(me-we,$e.positionColumn,me-we,$e.positionColumn)),we+=$e.endLineNumber-$e.startLineNumber+1}Je.pushUndoStop(),Je.executeEdits(this.id,Ne,de),Je.pushUndoStop()}_getLinesToRemove(Re){const Je=Re.getSelections().map(we=>{let Ne=we.endLineNumber;return we.startLineNumber<we.endLineNumber&&we.endColumn===1&&(Ne-=1),{startLineNumber:we.startLineNumber,selectionStartColumn:we.selectionStartColumn,endLineNumber:Ne,positionColumn:we.positionColumn}});Je.sort((we,Ne)=>we.startLineNumber===Ne.startLineNumber?we.endLineNumber-Ne.endLineNumber:we.startLineNumber-Ne.startLineNumber);const st=[];let et=Je[0];for(let we=1;we<Je.length;we++)et.endLineNumber+1>=Je[we].startLineNumber?et.endLineNumber=Je[we].endLineNumber:(st.push(et),et=Je[we]);return st.push(et),st}}class ge extends O.R6{constructor(){super({id:"editor.action.indentLines",label:Q.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:l.u.writable,kbOpts:{kbExpr:l.u.editorTextFocus,primary:2137,weight:100}})}run(Re,Je){const st=Je._getViewModel();!st||(Je.pushUndoStop(),Je.executeCommands(this.id,L.u6.indent(st.cursorConfig,Je.getModel(),Je.getSelections())),Je.pushUndoStop())}}class pe extends O.R6{constructor(){super({id:"editor.action.outdentLines",label:Q.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:l.u.writable,kbOpts:{kbExpr:l.u.editorTextFocus,primary:2135,weight:100}})}run(Re,Je){r.CoreEditingCommands.Outdent.runEditorCommand(Re,Je,null)}}class ee extends O.R6{constructor(){super({id:"editor.action.insertLineBefore",label:Q.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:l.u.writable,kbOpts:{kbExpr:l.u.editorTextFocus,primary:3075,weight:100}})}run(Re,Je){const st=Je._getViewModel();!st||(Je.pushUndoStop(),Je.executeCommands(this.id,L.u6.lineInsertBefore(st.cursorConfig,Je.getModel(),Je.getSelections())))}}class se extends O.R6{constructor(){super({id:"editor.action.insertLineAfter",label:Q.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:l.u.writable,kbOpts:{kbExpr:l.u.editorTextFocus,primary:2051,weight:100}})}run(Re,Je){const st=Je._getViewModel();!st||(Je.pushUndoStop(),Je.executeCommands(this.id,L.u6.lineInsertAfter(st.cursorConfig,Je.getModel(),Je.getSelections())))}}class ne extends O.R6{run(Re,Je){if(!Je.hasModel())return;const st=Je.getSelection(),et=this._getRangesToDelete(Je),we=[];for(let Pe=0,He=et.length-1;Pe<He;Pe++){const $e=et[Pe],me=et[Pe+1];M.e.intersectRanges($e,me)===null?we.push($e):et[Pe+1]=M.e.plusRange($e,me)}we.push(et[et.length-1]);const Ne=this._getEndCursorState(st,we),de=we.map(Pe=>$.h.replace(Pe,""));Je.pushUndoStop(),Je.executeEdits(this.id,de,Ne),Je.pushUndoStop()}}class oe extends ne{constructor(){super({id:"deleteAllLeft",label:Q.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:l.u.writable,kbOpts:{kbExpr:l.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(Re,Je){let st=null;const et=[];let we=0;return Je.forEach(Ne=>{let de;if(Ne.endColumn===1&&we>0){const Pe=Ne.startLineNumber-we;de=new p.Y(Pe,Ne.startColumn,Pe,Ne.startColumn)}else de=new p.Y(Ne.startLineNumber,Ne.startColumn,Ne.startLineNumber,Ne.startColumn);we+=Ne.endLineNumber-Ne.startLineNumber,Ne.intersectRanges(Re)?st=de:et.push(de)}),st&&et.unshift(st),et}_getRangesToDelete(Re){const Je=Re.getSelections();if(Je===null)return[];let st=Je;const et=Re.getModel();return et===null?[]:(st.sort(M.e.compareRangesUsingStarts),st=st.map(we=>{if(we.isEmpty())if(we.startColumn===1){const Ne=Math.max(1,we.startLineNumber-1),de=we.startLineNumber===1?1:et.getLineContent(Ne).length+1;return new M.e(Ne,de,we.startLineNumber,1)}else return new M.e(we.startLineNumber,1,we.startLineNumber,we.startColumn);else return new M.e(we.startLineNumber,1,we.endLineNumber,we.endColumn)}),st)}}class Se extends ne{constructor(){super({id:"deleteAllRight",label:Q.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:l.u.writable,kbOpts:{kbExpr:l.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(Re,Je){let st=null;const et=[];for(let we=0,Ne=Je.length,de=0;we<Ne;we++){const Pe=Je[we],He=new p.Y(Pe.startLineNumber-de,Pe.startColumn,Pe.startLineNumber-de,Pe.startColumn);Pe.intersectRanges(Re)?st=He:et.push(He)}return st&&et.unshift(st),et}_getRangesToDelete(Re){const Je=Re.getModel();if(Je===null)return[];const st=Re.getSelections();if(st===null)return[];const et=st.map(we=>{if(we.isEmpty()){const Ne=Je.getLineMaxColumn(we.startLineNumber);return we.startColumn===Ne?new M.e(we.startLineNumber,we.startColumn,we.startLineNumber+1,1):new M.e(we.startLineNumber,we.startColumn,we.startLineNumber,Ne)}return we});return et.sort(M.e.compareRangesUsingStarts),et}}class Ee extends O.R6{constructor(){super({id:"editor.action.joinLines",label:Q.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:l.u.writable,kbOpts:{kbExpr:l.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(Re,Je){const st=Je.getSelections();if(st===null)return;let et=Je.getSelection();if(et===null)return;st.sort(M.e.compareRangesUsingStarts);const we=[],Ne=st.reduce((Ie,Ge)=>Ie.isEmpty()?Ie.endLineNumber===Ge.startLineNumber?(et.equalsSelection(Ie)&&(et=Ge),Ge):Ge.startLineNumber>Ie.endLineNumber+1?(we.push(Ie),Ge):new p.Y(Ie.startLineNumber,Ie.startColumn,Ge.endLineNumber,Ge.endColumn):Ge.startLineNumber>Ie.endLineNumber?(we.push(Ie),Ge):new p.Y(Ie.startLineNumber,Ie.startColumn,Ge.endLineNumber,Ge.endColumn));we.push(Ne);const de=Je.getModel();if(de===null)return;const Pe=[],He=[];let $e=et,me=0;for(let Ie=0,Ge=we.length;Ie<Ge;Ie++){const ft=we[Ie],ze=ft.startLineNumber,mt=1;let wt=0,Oe,lt;const Bt=de.getLineContent(ft.endLineNumber).length-ft.endColumn;if(ft.isEmpty()||ft.startLineNumber===ft.endLineNumber){const Li=ft.getStartPosition();Li.lineNumber<de.getLineCount()?(Oe=ze+1,lt=de.getLineMaxColumn(Oe)):(Oe=Li.lineNumber,lt=de.getLineMaxColumn(Li.lineNumber))}else Oe=ft.endLineNumber,lt=de.getLineMaxColumn(Oe);let Zt=de.getLineContent(ze);for(let Li=ze+1;Li<=Oe;Li++){const ot=de.getLineContent(Li),Ft=de.getLineFirstNonWhitespaceColumn(Li);if(Ft>=1){let Yt=!0;Zt===""&&(Yt=!1),Yt&&(Zt.charAt(Zt.length-1)===" "||Zt.charAt(Zt.length-1)==="	")&&(Yt=!1,Zt=Zt.replace(/[\s\uFEFF\xA0]+$/g," "));const _i=ot.substr(Ft-1);Zt+=(Yt?" ":"")+_i,Yt?wt=_i.length+1:wt=_i.length}else wt=0}const pi=new M.e(ze,mt,Oe,lt);if(!pi.isEmpty()){let Li;ft.isEmpty()?(Pe.push($.h.replace(pi,Zt)),Li=new p.Y(pi.startLineNumber-me,Zt.length-wt+1,ze-me,Zt.length-wt+1)):ft.startLineNumber===ft.endLineNumber?(Pe.push($.h.replace(pi,Zt)),Li=new p.Y(ft.startLineNumber-me,ft.startColumn,ft.endLineNumber-me,ft.endColumn)):(Pe.push($.h.replace(pi,Zt)),Li=new p.Y(ft.startLineNumber-me,ft.startColumn,ft.startLineNumber-me,Zt.length-Bt)),M.e.intersectRanges(pi,et)!==null?$e=Li:He.push(Li)}me+=pi.endLineNumber-pi.startLineNumber}He.unshift($e),Je.pushUndoStop(),Je.executeEdits(this.id,Pe,He),Je.pushUndoStop()}}class Me extends O.R6{constructor(){super({id:"editor.action.transpose",label:Q.NC("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:l.u.writable})}run(Re,Je){const st=Je.getSelections();if(st===null)return;const et=Je.getModel();if(et===null)return;const we=[];for(let Ne=0,de=st.length;Ne<de;Ne++){const Pe=st[Ne];if(!Pe.isEmpty())continue;const He=Pe.getStartPosition(),$e=et.getLineMaxColumn(He.lineNumber);if(He.column>=$e){if(He.lineNumber===et.getLineCount())continue;const me=new M.e(He.lineNumber,Math.max(1,He.column-1),He.lineNumber+1,1),Ie=et.getValueInRange(me).split("").reverse().join("");we.push(new V.T4(new p.Y(He.lineNumber,Math.max(1,He.column-1),He.lineNumber+1,1),Ie))}else{const me=new M.e(He.lineNumber,Math.max(1,He.column-1),He.lineNumber,He.column+1),Ie=et.getValueInRange(me).split("").reverse().join("");we.push(new V.hP(me,Ie,new p.Y(He.lineNumber,He.column+1,He.lineNumber,He.column+1)))}}Je.pushUndoStop(),Je.executeCommands(this.id,we),Je.pushUndoStop()}}class ye extends O.R6{run(Re,Je){const st=Je.getSelections();if(st===null)return;const et=Je.getModel();if(et===null)return;const we=Je.getOption(119),Ne=[];for(const de of st)if(de.isEmpty()){const Pe=de.getStartPosition(),He=Je.getConfiguredWordAtPosition(Pe);if(!He)continue;const $e=new M.e(Pe.lineNumber,He.startColumn,Pe.lineNumber,He.endColumn),me=et.getValueInRange($e);Ne.push($.h.replace($e,this._modifyText(me,we)))}else{const Pe=et.getValueInRange(de);Ne.push($.h.replace(de,this._modifyText(Pe,we)))}Je.pushUndoStop(),Je.executeEdits(this.id,Ne),Je.pushUndoStop()}}class le extends ye{constructor(){super({id:"editor.action.transformToUppercase",label:Q.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:l.u.writable})}_modifyText(Re,Je){return Re.toLocaleUpperCase()}}class ie extends ye{constructor(){super({id:"editor.action.transformToLowercase",label:Q.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:l.u.writable})}_modifyText(Re,Je){return Re.toLocaleLowerCase()}}class ve{constructor(Re,Je){this._pattern=Re,this._flags=Je,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class xe extends ye{constructor(){super({id:"editor.action.transformToTitlecase",label:Q.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:l.u.writable})}_modifyText(Re,Je){const st=xe.titleBoundary.get();return st?Re.toLocaleLowerCase().replace(st,et=>et.toLocaleUpperCase()):Re}}xe.titleBoundary=new ve("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Ye extends ye{constructor(){super({id:"editor.action.transformToSnakecase",label:Q.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:l.u.writable})}_modifyText(Re,Je){const st=Ye.caseBoundary.get(),et=Ye.singleLetters.get();return!st||!et?Re:Re.replace(st,"$1_$2").replace(et,"$1_$2$3").toLocaleLowerCase()}}Ye.caseBoundary=new ve("(\\p{Ll})(\\p{Lu})","gmu"),Ye.singleLetters=new ve("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class at extends ye{constructor(){super({id:"editor.action.transformToKebabcase",label:Q.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:l.u.writable})}static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(Je=>Je.isSupported())}_modifyText(Re,Je){const st=at.caseBoundary.get(),et=at.singleLetters.get(),we=at.underscoreBoundary.get();return!st||!et||!we?Re:Re.replace(we,"$1-$3").replace(st,"$1-$2").replace(et,"$1-$2").toLocaleLowerCase()}}at.caseBoundary=new ve("(\\p{Ll})(\\p{Lu})","gmu"),at.singleLetters=new ve("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),at.underscoreBoundary=new ve("(\\S)(_)(\\S)","gm"),(0,O.Qr)(H),(0,O.Qr)(X),(0,O.Qr)(j),(0,O.Qr)(Z),(0,O.Qr)(T),(0,O.Qr)(G),(0,O.Qr)(re),(0,O.Qr)(S),(0,O.Qr)(he),(0,O.Qr)(Ce),(0,O.Qr)(ge),(0,O.Qr)(pe),(0,O.Qr)(ee),(0,O.Qr)(se),(0,O.Qr)(oe),(0,O.Qr)(Se),(0,O.Qr)(Ee),(0,O.Qr)(Me),(0,O.Qr)(le),(0,O.Qr)(ie),Ye.caseBoundary.isSupported()&&Ye.singleLetters.isSupported()&&(0,O.Qr)(Ye),xe.titleBoundary.isSupported()&&(0,O.Qr)(xe),at.isSupported()&&(0,O.Qr)(at)},76:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE:function(){return Q},LinkedEditingAction:function(){return H},LinkedEditingContribution:function(){return K},editorLinkedEditingBackground:function(){return x}});var w=i(9488),r=i(15393),O=i(71050),V=i(41264),D=i(17301),$=i(4669),M=i(9917),P=i(97295),A=i(70666),L=i(16830),c=i(11640),p=i(50187),l=i(24314),n=i(29102),a=i(92035),g=i(51381),f=i(63580),u=i(16141),C=i(73910),y=i(97781),b=i(71922),_=i(88191),E=i(84013),I=function(Z,T,z,G){var re=arguments.length,S=re<3?T:G===null?G=Object.getOwnPropertyDescriptor(T,z):G,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(Z,T,z,G);else for(var Ce=Z.length-1;Ce>=0;Ce--)(he=Z[Ce])&&(S=(re<3?he(S):re>3?he(T,z,S):he(T,z))||S);return re>3&&S&&Object.defineProperty(T,z,S),S},R=function(Z,T){return function(z,G){T(z,G,Z)}},J=function(Z,T,z,G){function re(S){return S instanceof z?S:new z(function(he){he(S)})}return new(z||(z=Promise))(function(S,he){function Ce(ee){try{pe(G.next(ee))}catch(se){he(se)}}function ge(ee){try{pe(G.throw(ee))}catch(se){he(se)}}function pe(ee){ee.done?S(ee.value):re(ee.value).then(Ce,ge)}pe((G=G.apply(Z,T||[])).next())})};const Q=new u.uy("LinkedEditingInputVisible",!1),U="linked-editing-decoration";let K=class zl extends M.JT{constructor(T,z,G,re,S){super(),this.languageConfigurationService=re,this._syncRangesToken=0,this._localToDispose=this._register(new M.SL),this._editor=T,this._providers=G.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=Q.bindTo(z),this._debounceInformation=S.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new M.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(he=>{(he.hasChanged(64)||he.hasChanged(84))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(T){return T.getContribution(zl.ID)}reinitialize(T){const z=this._editor.getModel(),G=z!==null&&(this._editor.getOption(64)||this._editor.getOption(84))&&this._providers.has(z);if(G===this._enabled&&!T||(this._enabled=G,this.clearRanges(),this._localToDispose.clear(),!G||z===null))return;this._localToDispose.add($.ju.runAndSubscribe(z.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(z.getLanguageId()).getWordDefinition()}));const re=new r.vp(this._debounceInformation.get(z)),S=()=>{var ge;this._rangeUpdateTriggerPromise=re.trigger(()=>this.updateRanges(),(ge=this._debounceDuration)!==null&&ge!==void 0?ge:this._debounceInformation.get(z))},he=new r.vp(0),Ce=ge=>{this._rangeSyncTriggerPromise=he.trigger(()=>this._syncRanges(ge))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{S()})),this._localToDispose.add(this._editor.onDidChangeModelContent(ge=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const pe=this._currentDecorations.getRange(0);if(pe&&ge.changes.every(ee=>pe.intersectRanges(ee.range))){Ce(this._syncRangesToken);return}}S()})),this._localToDispose.add({dispose:()=>{re.dispose(),he.dispose()}}),this.updateRanges()}_syncRanges(T){if(!this._editor.hasModel()||T!==this._syncRangesToken||this._currentDecorations.length===0)return;const z=this._editor.getModel(),G=this._currentDecorations.getRange(0);if(!G||G.startLineNumber!==G.endLineNumber)return this.clearRanges();const re=z.getValueInRange(G);if(this._currentWordPattern){const he=re.match(this._currentWordPattern);if((he?he[0].length:0)!==re.length)return this.clearRanges()}const S=[];for(let he=1,Ce=this._currentDecorations.length;he<Ce;he++){const ge=this._currentDecorations.getRange(he);if(!!ge)if(ge.startLineNumber!==ge.endLineNumber)S.push({range:ge,text:re});else{let pe=z.getValueInRange(ge),ee=re,se=ge.startColumn,ne=ge.endColumn;const oe=P.Mh(pe,ee);se+=oe,pe=pe.substr(oe),ee=ee.substr(oe);const Se=P.P1(pe,ee);ne-=Se,pe=pe.substr(0,pe.length-Se),ee=ee.substr(0,ee.length-Se),(se!==ne||ee.length!==0)&&S.push({range:new l.e(ge.startLineNumber,se,ge.endLineNumber,ne),text:ee})}}if(S.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const he=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",S),this._editor._getViewModel().setPrevEditOperationType(he)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(T=!1){return J(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const z=this._editor.getPosition();if(!this._enabled&&!T||this._editor.getSelections().length>1){this.clearRanges();return}const G=this._editor.getModel(),re=G.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===re){if(z.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const he=this._currentDecorations.getRange(0);if(he&&he.containsPosition(z))return}}this._currentRequestPosition=z,this._currentRequestModelVersion=re;const S=(0,r.PG)(he=>J(this,void 0,void 0,function*(){try{const Ce=new E.G(!1),ge=yield j(this._providers,G,z,he);if(this._debounceInformation.update(G,Ce.elapsed()),S!==this._currentRequest||(this._currentRequest=null,re!==G.getVersionId()))return;let pe=[];ge!=null&&ge.ranges&&(pe=ge.ranges),this._currentWordPattern=(ge==null?void 0:ge.wordPattern)||this._languageWordPattern;let ee=!1;for(let ne=0,oe=pe.length;ne<oe;ne++)if(l.e.containsPosition(pe[ne],z)){if(ee=!0,ne!==0){const Se=pe[ne];pe.splice(ne,1),pe.unshift(Se)}break}if(!ee){this.clearRanges();return}const se=pe.map(ne=>({range:ne,options:zl.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(se),this._syncRangesToken++}catch(Ce){(0,D.n2)(Ce)||(0,D.dL)(Ce),(this._currentRequest===S||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=S,S})}};K.ID="editor.contrib.linkedEditing",K.DECORATION=a.qx.register({description:"linked-editing",stickiness:0,className:U}),K=I([R(1,u.i6),R(2,b.p),R(3,g.c_),R(4,_.A)],K);class H extends L.R6{constructor(){super({id:"editor.action.linkedEditing",label:f.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:u.Ao.and(n.u.writable,n.u.hasRenameProvider),kbOpts:{kbExpr:n.u.editorTextFocus,primary:3132,weight:100}})}runCommand(T,z){const G=T.get(c.$),[re,S]=Array.isArray(z)&&z||[void 0,void 0];return A.o.isUri(re)&&p.L.isIPosition(S)?G.openCodeEditor({resource:re},G.getActiveCodeEditor()).then(he=>{!he||(he.setPosition(S),he.invokeWithinContext(Ce=>(this.reportTelemetry(Ce,he),this.run(Ce,he))))},D.dL):super.runCommand(T,z)}run(T,z){const G=K.get(z);return G?Promise.resolve(G.updateRanges(!0)):Promise.resolve()}}const X=L._l.bindToContribution(K.get);(0,L.fK)(new X({id:"cancelLinkedEditingInput",precondition:Q,handler:Z=>Z.clearRanges(),kbOpts:{kbExpr:n.u.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function j(Z,T,z,G){const re=Z.ordered(T);return(0,r.Ps)(re.map(S=>()=>J(this,void 0,void 0,function*(){try{return yield S.provideLinkedEditingRanges(T,z,G)}catch(he){(0,D.Cp)(he);return}})),S=>!!S&&w.Of(S==null?void 0:S.ranges))}const x=(0,C.P6G)("editor.linkedEditingBackground",{dark:V.Il.fromHex("#f00").transparent(.3),light:V.Il.fromHex("#f00").transparent(.3),hcDark:V.Il.fromHex("#f00").transparent(.3),hcLight:V.Il.white},f.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,y.Ic)((Z,T)=>{const z=Z.getColor(x);z&&T.addRule(`.monaco-editor .${U} { background: ${z}; border-left-color: ${z}; }`)}),(0,L.sb)("_executeLinkedEditingProvider",(Z,T,z)=>{const{linkedEditingRangeProvider:G}=Z.get(b.p);return j(G,T,z,O.T.None)}),(0,L._K)(K.ID,K),(0,L.Qr)(H)},7094:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{LinkDetector:function(){return x}});var w=i(15393),r=i(71050),O=i(17301),V=i(59365),D=i(9917),$=i(66663),M=i(1432),P=i(95935),A=i(84013),L=i(70666),c=i(16830),p=i(92035),l=i(88191),n=i(71922),a=i(82005),g=i(9488),f=i(98401),u=i(24314),C=i(73733),y=i(94565),b=function(re,S,he,Ce){function ge(pe){return pe instanceof he?pe:new he(function(ee){ee(pe)})}return new(he||(he=Promise))(function(pe,ee){function se(Se){try{oe(Ce.next(Se))}catch(Ee){ee(Ee)}}function ne(Se){try{oe(Ce.throw(Se))}catch(Ee){ee(Ee)}}function oe(Se){Se.done?pe(Se.value):ge(Se.value).then(se,ne)}oe((Ce=Ce.apply(re,S||[])).next())})};class _{constructor(S,he){this._link=S,this._provider=he}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(S){return b(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,S)).then(he=>(this._link=he||this._link,this._link.url?this.resolve(S):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class E{constructor(S){this._disposables=new D.SL;let he=[];for(const[Ce,ge]of S){const pe=Ce.links.map(ee=>new _(ee,ge));he=E._union(he,pe),(0,D.Wf)(Ce)&&this._disposables.add(Ce)}this.links=he}dispose(){this._disposables.dispose(),this.links.length=0}static _union(S,he){const Ce=[];let ge,pe,ee,se;for(ge=0,ee=0,pe=S.length,se=he.length;ge<pe&&ee<se;){const ne=S[ge],oe=he[ee];if(u.e.areIntersectingOrTouching(ne.range,oe.range)){ge++;continue}u.e.compareRangesUsingStarts(ne.range,oe.range)<0?(Ce.push(ne),ge++):(Ce.push(oe),ee++)}for(;ge<pe;ge++)Ce.push(S[ge]);for(;ee<se;ee++)Ce.push(he[ee]);return Ce}}function I(re,S,he){const Ce=[],ge=re.ordered(S).reverse().map((pe,ee)=>Promise.resolve(pe.provideLinks(S,he)).then(se=>{se&&(Ce[ee]=[se,pe])},O.Cp));return Promise.all(ge).then(()=>{const pe=new E((0,g.kX)(Ce));return he.isCancellationRequested?(pe.dispose(),new E([])):pe})}y.P0.registerCommand("_executeLinkProvider",(re,...S)=>b(void 0,void 0,void 0,function*(){let[he,Ce]=S;(0,f.p_)(he instanceof L.o),typeof Ce!="number"&&(Ce=0);const{linkProvider:ge}=re.get(n.p),pe=re.get(C.q).getModel(he);if(!pe)return[];const ee=yield I(ge,pe,r.T.None);if(!ee)return[];for(let ne=0;ne<Math.min(Ce,ee.links.length);ne++)yield ee.links[ne].resolve(r.T.None);const se=ee.links.slice(0);return ee.dispose(),se}));var R=i(63580),J=i(59422),Q=i(50988),U=i(73910),K=i(97781),H=function(re,S,he,Ce){var ge=arguments.length,pe=ge<3?S:Ce===null?Ce=Object.getOwnPropertyDescriptor(S,he):Ce,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pe=Reflect.decorate(re,S,he,Ce);else for(var se=re.length-1;se>=0;se--)(ee=re[se])&&(pe=(ge<3?ee(pe):ge>3?ee(S,he,pe):ee(S,he))||pe);return ge>3&&pe&&Object.defineProperty(S,he,pe),pe},X=function(re,S){return function(he,Ce){S(he,Ce,re)}},j=function(re,S,he,Ce){function ge(pe){return pe instanceof he?pe:new he(function(ee){ee(pe)})}return new(he||(he=Promise))(function(pe,ee){function se(Se){try{oe(Ce.next(Se))}catch(Ee){ee(Ee)}}function ne(Se){try{oe(Ce.throw(Se))}catch(Ee){ee(Ee)}}function oe(Se){Se.done?pe(Se.value):ge(Se.value).then(se,ne)}oe((Ce=Ce.apply(re,S||[])).next())})};let x=class Qc extends D.JT{constructor(S,he,Ce,ge,pe){super(),this.editor=S,this.openerService=he,this.notificationService=Ce,this.languageFeaturesService=ge,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=pe.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new w.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const ee=this._register(new a.yN(S));this._register(ee.onMouseMoveOrRelevantKeyDown(([se,ne])=>{this._onEditorMouseMove(se,ne)})),this._register(ee.onExecute(se=>{this.onEditorMouseUp(se)})),this._register(ee.onCancel(se=>{this.cleanUpActiveLinkDecoration()})),this._register(S.onDidChangeConfiguration(se=>{!se.hasChanged(65)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(S.onDidChangeModelContent(se=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(S.onDidChangeModel(se=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(S.onDidChangeModelLanguage(se=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(se=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(S){return S.getContribution(Qc.ID)}computeLinksNow(){return j(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(65))return;const S=this.editor.getModel();if(!!this.providers.has(S)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,w.PG)(he=>I(this.providers,S,he));try{const he=new A.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(S,he.elapsed()),S.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(he){(0,O.dL)(he)}finally{this.computePromise=null}}})}updateDecorations(S){const he=this.editor.getOption(72)==="altKey",Ce=[],ge=Object.keys(this.currentOccurrences);for(const ee of ge){const se=this.currentOccurrences[ee];Ce.push(se.decorationId)}const pe=[];if(S)for(const ee of S)pe.push(T.decoration(ee,he));this.editor.changeDecorations(ee=>{const se=ee.deltaDecorations(Ce,pe);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let ne=0,oe=se.length;ne<oe;ne++){const Se=new T(S[ne],se[ne]);this.currentOccurrences[Se.decorationId]=Se}})}_onEditorMouseMove(S,he){const Ce=this.editor.getOption(72)==="altKey";if(this.isEnabled(S,he)){this.cleanUpActiveLinkDecoration();const ge=this.getLinkOccurrence(S.target.position);ge&&this.editor.changeDecorations(pe=>{ge.activate(pe,Ce),this.activeLinkDecorationId=ge.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const S=this.editor.getOption(72)==="altKey";if(this.activeLinkDecorationId){const he=this.currentOccurrences[this.activeLinkDecorationId];he&&this.editor.changeDecorations(Ce=>{he.deactivate(Ce,S)}),this.activeLinkDecorationId=null}}onEditorMouseUp(S){if(!this.isEnabled(S))return;const he=this.getLinkOccurrence(S.target.position);!he||this.openLinkOccurrence(he,S.hasSideBySideModifier,!0)}openLinkOccurrence(S,he,Ce=!1){if(!this.openerService)return;const{link:ge}=S;ge.resolve(r.T.None).then(pe=>{if(typeof pe=="string"&&this.editor.hasModel()){const ee=this.editor.getModel().uri;if(ee.scheme===$.lg.file&&pe.startsWith(`${$.lg.file}:`)){const se=L.o.parse(pe);if(se.scheme===$.lg.file){const ne=P.z_(se);let oe=null;ne.startsWith("/./")?oe=`.${ne.substr(1)}`:ne.startsWith("//./")&&(oe=`.${ne.substr(2)}`),oe&&(pe=P.Vo(ee,oe))}}}return this.openerService.open(pe,{openToSide:he,fromUserGesture:Ce,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},pe=>{const ee=pe instanceof Error?pe.message:pe;ee==="invalid"?this.notificationService.warn(R.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",ge.url.toString())):ee==="missing"?this.notificationService.warn(R.NC("missing.url","Failed to open this link because its target is missing.")):(0,O.dL)(pe)})}getLinkOccurrence(S){if(!this.editor.hasModel()||!S)return null;const he=this.editor.getModel().getDecorationsInRange({startLineNumber:S.lineNumber,startColumn:S.column,endLineNumber:S.lineNumber,endColumn:S.column},0,!0);for(const Ce of he){const ge=this.currentOccurrences[Ce.id];if(ge)return ge}return null}isEnabled(S,he){return Boolean(S.target.type===6&&(S.hasTriggerModifier||he&&he.keyCodeIsTriggerKey))}stop(){var S;this.computeLinks.cancel(),this.activeLinksList&&((S=this.activeLinksList)===null||S===void 0||S.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};x.ID="editor.linkDetector",x=H([X(1,Q.v4),X(2,J.lT),X(3,n.p),X(4,l.A)],x);const Z={general:p.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:p.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class T{constructor(S,he){this.link=S,this.decorationId=he}static decoration(S,he){return{range:S.range,options:T._getOptions(S,he,!1)}}static _getOptions(S,he,Ce){const ge=Object.assign({},Ce?Z.active:Z.general);return ge.hoverMessage=z(S,he),ge}activate(S,he){S.changeDecorationOptions(this.decorationId,T._getOptions(this.link,he,!0))}deactivate(S,he){S.changeDecorationOptions(this.decorationId,T._getOptions(this.link,he,!1))}}function z(re,S){const he=re.url&&/^command:/i.test(re.url.toString()),Ce=re.tooltip?re.tooltip:he?R.NC("links.navigate.executeCmd","Execute command"):R.NC("links.navigate.follow","Follow link"),ge=S?M.dz?R.NC("links.navigate.kb.meta.mac","cmd + click"):R.NC("links.navigate.kb.meta","ctrl + click"):M.dz?R.NC("links.navigate.kb.alt.mac","option + click"):R.NC("links.navigate.kb.alt","alt + click");if(re.url){let pe="";if(/^command:/i.test(re.url.toString())){const se=re.url.toString().match(/^command:([^?#]+)/);if(se){const ne=se[1];pe=R.NC("tooltip.explanation","Execute command {0}",ne)}}return new V.W5("",!0).appendLink(re.url.toString(!0).replace(/ /g,"%20"),Ce,pe).appendMarkdown(` (${ge})`)}else return new V.W5().appendText(`${Ce} (${ge})`)}class G extends c.R6{constructor(){super({id:"editor.action.openLink",label:R.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}run(S,he){const Ce=x.get(he);if(!Ce||!he.hasModel())return;const ge=he.getSelections();for(const pe of ge){const ee=Ce.getLinkOccurrence(pe.getEndPosition());ee&&Ce.openLinkOccurrence(ee,!1)}}}(0,c._K)(x.ID,x),(0,c.Qr)(G),(0,K.Ic)((re,S)=>{const he=re.getColor(U._Yy);he&&S.addRule(`.monaco-editor .detected-link-active { color: ${he} !important; }`)})},8598:function(Ot,Te,i){"use strict";i.d(Te,{$:function(){return Z}});var w=i(65321),r=i(70921),O=i(4850),V=i(94079),D=i(7448),$=i(56811),M=i(17301),P=i(4669),A=i(59365),L=i(21212),c=i(44742),p=i(9917);let l={};(function(){function T(z,G){G(l)}T.amd=!0,function(z,G){typeof exports=="object"?G(exports):typeof T=="function"&&T.amd?T(["exports"],G):(z=typeof globalThis<"u"?globalThis:z||self,G(z.marked={}))}(this,function(z){"use strict";function G(vt,_t){for(var nt=0;nt<_t.length;nt++){var be=_t[nt];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(vt,be.key,be)}}function re(vt,_t,nt){return _t&&G(vt.prototype,_t),nt&&G(vt,nt),Object.defineProperty(vt,"prototype",{writable:!1}),vt}function S(vt,_t){if(!!vt){if(typeof vt=="string")return he(vt,_t);var nt=Object.prototype.toString.call(vt).slice(8,-1);if(nt==="Object"&&vt.constructor&&(nt=vt.constructor.name),nt==="Map"||nt==="Set")return Array.from(vt);if(nt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(nt))return he(vt,_t)}}function he(vt,_t){(_t==null||_t>vt.length)&&(_t=vt.length);for(var nt=0,be=new Array(_t);nt<_t;nt++)be[nt]=vt[nt];return be}function Ce(vt,_t){var nt=typeof Symbol<"u"&&vt[Symbol.iterator]||vt["@@iterator"];if(nt)return(nt=nt.call(vt)).next.bind(nt);if(Array.isArray(vt)||(nt=S(vt))||_t&&vt&&typeof vt.length=="number"){nt&&(vt=nt);var be=0;return function(){return be>=vt.length?{done:!0}:{done:!1,value:vt[be++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ge(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}z.defaults=ge();function pe(vt){z.defaults=vt}var ee=/[&<>"']/,se=/[&<>"']/g,ne=/[<>"']|&(?!#?\w+;)/,oe=/[<>"']|&(?!#?\w+;)/g,Se={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ee=function(_t){return Se[_t]};function Me(vt,_t){if(_t){if(ee.test(vt))return vt.replace(se,Ee)}else if(ne.test(vt))return vt.replace(oe,Ee);return vt}var ye=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function le(vt){return vt.replace(ye,function(_t,nt){return nt=nt.toLowerCase(),nt==="colon"?":":nt.charAt(0)==="#"?nt.charAt(1)==="x"?String.fromCharCode(parseInt(nt.substring(2),16)):String.fromCharCode(+nt.substring(1)):""})}var ie=/(^|[^\[])\^/g;function ve(vt,_t){vt=typeof vt=="string"?vt:vt.source,_t=_t||"";var nt={replace:function(Le,Qe){return Qe=Qe.source||Qe,Qe=Qe.replace(ie,"$1"),vt=vt.replace(Le,Qe),nt},getRegex:function(){return new RegExp(vt,_t)}};return nt}var xe=/[^\w:]/g,Ye=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function at(vt,_t,nt){if(vt){var be;try{be=decodeURIComponent(le(nt)).replace(xe,"").toLowerCase()}catch{return null}if(be.indexOf("javascript:")===0||be.indexOf("vbscript:")===0||be.indexOf("data:")===0)return null}_t&&!Ye.test(nt)&&(nt=et(_t,nt));try{nt=encodeURI(nt).replace(/%25/g,"%")}catch{return null}return nt}var qe={},Re=/^[^:]+:\/*[^/]*$/,Je=/^([^:]+:)[\s\S]*$/,st=/^([^:]+:\/*[^/]*)[\s\S]*$/;function et(vt,_t){qe[" "+vt]||(Re.test(vt)?qe[" "+vt]=vt+"/":qe[" "+vt]=Pe(vt,"/",!0)),vt=qe[" "+vt];var nt=vt.indexOf(":")===-1;return _t.substring(0,2)==="//"?nt?_t:vt.replace(Je,"$1")+_t:_t.charAt(0)==="/"?nt?_t:vt.replace(st,"$1")+_t:vt+_t}var we={exec:function(){}};function Ne(vt){for(var _t=1,nt,be;_t<arguments.length;_t++){nt=arguments[_t];for(be in nt)Object.prototype.hasOwnProperty.call(nt,be)&&(vt[be]=nt[be])}return vt}function de(vt,_t){var nt=vt.replace(/\|/g,function(Qe,je,ht){for(var bt=!1,Dt=je;--Dt>=0&&ht[Dt]==="\\";)bt=!bt;return bt?"|":" |"}),be=nt.split(/ \|/),Le=0;if(be[0].trim()||be.shift(),be.length>0&&!be[be.length-1].trim()&&be.pop(),be.length>_t)be.splice(_t);else for(;be.length<_t;)be.push("");for(;Le<be.length;Le++)be[Le]=be[Le].trim().replace(/\\\|/g,"|");return be}function Pe(vt,_t,nt){var be=vt.length;if(be===0)return"";for(var Le=0;Le<be;){var Qe=vt.charAt(be-Le-1);if(Qe===_t&&!nt)Le++;else if(Qe!==_t&&nt)Le++;else break}return vt.slice(0,be-Le)}function He(vt,_t){if(vt.indexOf(_t[1])===-1)return-1;for(var nt=vt.length,be=0,Le=0;Le<nt;Le++)if(vt[Le]==="\\")Le++;else if(vt[Le]===_t[0])be++;else if(vt[Le]===_t[1]&&(be--,be<0))return Le;return-1}function $e(vt){vt&&vt.sanitize&&!vt.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function me(vt,_t){if(_t<1)return"";for(var nt="";_t>1;)_t&1&&(nt+=vt),_t>>=1,vt+=vt;return nt+vt}function Ie(vt,_t,nt,be){var Le=_t.href,Qe=_t.title?Me(_t.title):null,je=vt[1].replace(/\\([\[\]])/g,"$1");if(vt[0].charAt(0)!=="!"){be.state.inLink=!0;var ht={type:"link",raw:nt,href:Le,title:Qe,text:je,tokens:be.inlineTokens(je,[])};return be.state.inLink=!1,ht}return{type:"image",raw:nt,href:Le,title:Qe,text:Me(je)}}function Ge(vt,_t){var nt=vt.match(/^(\s+)(?:```)/);if(nt===null)return _t;var be=nt[1];return _t.split(`
`).map(function(Le){var Qe=Le.match(/^\s+/);if(Qe===null)return Le;var je=Qe[0];return je.length>=be.length?Le.slice(be.length):Le}).join(`
`)}var ft=function(){function vt(nt){this.options=nt||z.defaults}var _t=vt.prototype;return _t.space=function(be){var Le=this.rules.block.newline.exec(be);if(Le&&Le[0].length>0)return{type:"space",raw:Le[0]}},_t.code=function(be){var Le=this.rules.block.code.exec(be);if(Le){var Qe=Le[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Le[0],codeBlockStyle:"indented",text:this.options.pedantic?Qe:Pe(Qe,`
`)}}},_t.fences=function(be){var Le=this.rules.block.fences.exec(be);if(Le){var Qe=Le[0],je=Ge(Qe,Le[3]||"");return{type:"code",raw:Qe,lang:Le[2]?Le[2].trim():Le[2],text:je}}},_t.heading=function(be){var Le=this.rules.block.heading.exec(be);if(Le){var Qe=Le[2].trim();if(/#$/.test(Qe)){var je=Pe(Qe,"#");(this.options.pedantic||!je||/ $/.test(je))&&(Qe=je.trim())}var ht={type:"heading",raw:Le[0],depth:Le[1].length,text:Qe,tokens:[]};return this.lexer.inline(ht.text,ht.tokens),ht}},_t.hr=function(be){var Le=this.rules.block.hr.exec(be);if(Le)return{type:"hr",raw:Le[0]}},_t.blockquote=function(be){var Le=this.rules.block.blockquote.exec(be);if(Le){var Qe=Le[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:Le[0],tokens:this.lexer.blockTokens(Qe,[]),text:Qe}}},_t.list=function(be){var Le=this.rules.block.list.exec(be);if(Le){var Qe,je,ht,bt,Dt,Ht,ei,ui,xi,Si,mi,mn,Mi=Le[1].trim(),fn=Mi.length>1,Fi={type:"list",raw:"",ordered:fn,start:fn?+Mi.slice(0,-1):"",loose:!1,items:[]};Mi=fn?"\\d{1,9}\\"+Mi.slice(-1):"\\"+Mi,this.options.pedantic&&(Mi=fn?Mi:"[*+-]");for(var Ni=new RegExp("^( {0,3}"+Mi+")((?:[	 ][^\\n]*)?(?:\\n|$))");be&&(mn=!1,!(!(Le=Ni.exec(be))||this.rules.block.hr.test(be)));){if(Qe=Le[0],be=be.substring(Qe.length),ui=Le[2].split(`
`,1)[0],xi=be.split(`
`,1)[0],this.options.pedantic?(bt=2,mi=ui.trimLeft()):(bt=Le[2].search(/[^ ]/),bt=bt>4?1:bt,mi=ui.slice(bt),bt+=Le[1].length),Ht=!1,!ui&&/^ *$/.test(xi)&&(Qe+=xi+`
`,be=be.substring(xi.length+1),mn=!0),!mn)for(var Dn=new RegExp("^ {0,"+Math.min(3,bt-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Tn=new RegExp("^ {0,"+Math.min(3,bt-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)");be&&(Si=be.split(`
`,1)[0],ui=Si,this.options.pedantic&&(ui=ui.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Dn.test(ui)||Tn.test(be)));){if(ui.search(/[^ ]/)>=bt||!ui.trim())mi+=`
`+ui.slice(bt);else if(!Ht)mi+=`
`+ui;else break;!Ht&&!ui.trim()&&(Ht=!0),Qe+=Si+`
`,be=be.substring(Si.length+1)}Fi.loose||(ei?Fi.loose=!0:/\n *\n *$/.test(Qe)&&(ei=!0)),this.options.gfm&&(je=/^\[[ xX]\] /.exec(mi),je&&(ht=je[0]!=="[ ] ",mi=mi.replace(/^\[[ xX]\] +/,""))),Fi.items.push({type:"list_item",raw:Qe,task:!!je,checked:ht,loose:!1,text:mi}),Fi.raw+=Qe}Fi.items[Fi.items.length-1].raw=Qe.trimRight(),Fi.items[Fi.items.length-1].text=mi.trimRight(),Fi.raw=Fi.raw.trimRight();var $i=Fi.items.length;for(Dt=0;Dt<$i;Dt++){this.lexer.state.top=!1,Fi.items[Dt].tokens=this.lexer.blockTokens(Fi.items[Dt].text,[]);var pn=Fi.items[Dt].tokens.filter(function(wn){return wn.type==="space"}),Sn=pn.every(function(wn){for(var li=wn.raw.split(""),Ke=0,Rt=Ce(li),At;!(At=Rt()).done;){var ni=At.value;if(ni===`
`&&(Ke+=1),Ke>1)return!0}return!1});!Fi.loose&&pn.length&&Sn&&(Fi.loose=!0,Fi.items[Dt].loose=!0)}return Fi}},_t.html=function(be){var Le=this.rules.block.html.exec(be);if(Le){var Qe={type:"html",raw:Le[0],pre:!this.options.sanitizer&&(Le[1]==="pre"||Le[1]==="script"||Le[1]==="style"),text:Le[0]};return this.options.sanitize&&(Qe.type="paragraph",Qe.text=this.options.sanitizer?this.options.sanitizer(Le[0]):Me(Le[0]),Qe.tokens=[],this.lexer.inline(Qe.text,Qe.tokens)),Qe}},_t.def=function(be){var Le=this.rules.block.def.exec(be);if(Le){Le[3]&&(Le[3]=Le[3].substring(1,Le[3].length-1));var Qe=Le[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:Qe,raw:Le[0],href:Le[2],title:Le[3]}}},_t.table=function(be){var Le=this.rules.block.table.exec(be);if(Le){var Qe={type:"table",header:de(Le[1]).map(function(ei){return{text:ei}}),align:Le[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Le[3]&&Le[3].trim()?Le[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(Qe.header.length===Qe.align.length){Qe.raw=Le[0];var je=Qe.align.length,ht,bt,Dt,Ht;for(ht=0;ht<je;ht++)/^ *-+: *$/.test(Qe.align[ht])?Qe.align[ht]="right":/^ *:-+: *$/.test(Qe.align[ht])?Qe.align[ht]="center":/^ *:-+ *$/.test(Qe.align[ht])?Qe.align[ht]="left":Qe.align[ht]=null;for(je=Qe.rows.length,ht=0;ht<je;ht++)Qe.rows[ht]=de(Qe.rows[ht],Qe.header.length).map(function(ei){return{text:ei}});for(je=Qe.header.length,bt=0;bt<je;bt++)Qe.header[bt].tokens=[],this.lexer.inline(Qe.header[bt].text,Qe.header[bt].tokens);for(je=Qe.rows.length,bt=0;bt<je;bt++)for(Ht=Qe.rows[bt],Dt=0;Dt<Ht.length;Dt++)Ht[Dt].tokens=[],this.lexer.inline(Ht[Dt].text,Ht[Dt].tokens);return Qe}}},_t.lheading=function(be){var Le=this.rules.block.lheading.exec(be);if(Le){var Qe={type:"heading",raw:Le[0],depth:Le[2].charAt(0)==="="?1:2,text:Le[1],tokens:[]};return this.lexer.inline(Qe.text,Qe.tokens),Qe}},_t.paragraph=function(be){var Le=this.rules.block.paragraph.exec(be);if(Le){var Qe={type:"paragraph",raw:Le[0],text:Le[1].charAt(Le[1].length-1)===`
`?Le[1].slice(0,-1):Le[1],tokens:[]};return this.lexer.inline(Qe.text,Qe.tokens),Qe}},_t.text=function(be){var Le=this.rules.block.text.exec(be);if(Le){var Qe={type:"text",raw:Le[0],text:Le[0],tokens:[]};return this.lexer.inline(Qe.text,Qe.tokens),Qe}},_t.escape=function(be){var Le=this.rules.inline.escape.exec(be);if(Le)return{type:"escape",raw:Le[0],text:Me(Le[1])}},_t.tag=function(be){var Le=this.rules.inline.tag.exec(be);if(Le)return!this.lexer.state.inLink&&/^<a /i.test(Le[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Le[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Le[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Le[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Le[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Le[0]):Me(Le[0]):Le[0]}},_t.link=function(be){var Le=this.rules.inline.link.exec(be);if(Le){var Qe=Le[2].trim();if(!this.options.pedantic&&/^</.test(Qe)){if(!/>$/.test(Qe))return;var je=Pe(Qe.slice(0,-1),"\\");if((Qe.length-je.length)%2===0)return}else{var ht=He(Le[2],"()");if(ht>-1){var bt=Le[0].indexOf("!")===0?5:4,Dt=bt+Le[1].length+ht;Le[2]=Le[2].substring(0,ht),Le[0]=Le[0].substring(0,Dt).trim(),Le[3]=""}}var Ht=Le[2],ei="";if(this.options.pedantic){var ui=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ht);ui&&(Ht=ui[1],ei=ui[3])}else ei=Le[3]?Le[3].slice(1,-1):"";return Ht=Ht.trim(),/^</.test(Ht)&&(this.options.pedantic&&!/>$/.test(Qe)?Ht=Ht.slice(1):Ht=Ht.slice(1,-1)),Ie(Le,{href:Ht&&Ht.replace(this.rules.inline._escapes,"$1"),title:ei&&ei.replace(this.rules.inline._escapes,"$1")},Le[0],this.lexer)}},_t.reflink=function(be,Le){var Qe;if((Qe=this.rules.inline.reflink.exec(be))||(Qe=this.rules.inline.nolink.exec(be))){var je=(Qe[2]||Qe[1]).replace(/\s+/g," ");if(je=Le[je.toLowerCase()],!je||!je.href){var ht=Qe[0].charAt(0);return{type:"text",raw:ht,text:ht}}return Ie(Qe,je,Qe[0],this.lexer)}},_t.emStrong=function(be,Le,Qe){Qe===void 0&&(Qe="");var je=this.rules.inline.emStrong.lDelim.exec(be);if(!!je&&!(je[3]&&Qe.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ht=je[1]||je[2]||"";if(!ht||ht&&(Qe===""||this.rules.inline.punctuation.exec(Qe))){var bt=je[0].length-1,Dt,Ht,ei=bt,ui=0,xi=je[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(xi.lastIndex=0,Le=Le.slice(-1*be.length+bt);(je=xi.exec(Le))!=null;)if(Dt=je[1]||je[2]||je[3]||je[4]||je[5]||je[6],!!Dt){if(Ht=Dt.length,je[3]||je[4]){ei+=Ht;continue}else if((je[5]||je[6])&&bt%3&&!((bt+Ht)%3)){ui+=Ht;continue}if(ei-=Ht,!(ei>0)){if(Ht=Math.min(Ht,Ht+ei+ui),Math.min(bt,Ht)%2){var Si=be.slice(1,bt+je.index+Ht);return{type:"em",raw:be.slice(0,bt+je.index+Ht+1),text:Si,tokens:this.lexer.inlineTokens(Si,[])}}var mi=be.slice(2,bt+je.index+Ht-1);return{type:"strong",raw:be.slice(0,bt+je.index+Ht+1),text:mi,tokens:this.lexer.inlineTokens(mi,[])}}}}}},_t.codespan=function(be){var Le=this.rules.inline.code.exec(be);if(Le){var Qe=Le[2].replace(/\n/g," "),je=/[^ ]/.test(Qe),ht=/^ /.test(Qe)&&/ $/.test(Qe);return je&&ht&&(Qe=Qe.substring(1,Qe.length-1)),Qe=Me(Qe,!0),{type:"codespan",raw:Le[0],text:Qe}}},_t.br=function(be){var Le=this.rules.inline.br.exec(be);if(Le)return{type:"br",raw:Le[0]}},_t.del=function(be){var Le=this.rules.inline.del.exec(be);if(Le)return{type:"del",raw:Le[0],text:Le[2],tokens:this.lexer.inlineTokens(Le[2],[])}},_t.autolink=function(be,Le){var Qe=this.rules.inline.autolink.exec(be);if(Qe){var je,ht;return Qe[2]==="@"?(je=Me(this.options.mangle?Le(Qe[1]):Qe[1]),ht="mailto:"+je):(je=Me(Qe[1]),ht=je),{type:"link",raw:Qe[0],text:je,href:ht,tokens:[{type:"text",raw:je,text:je}]}}},_t.url=function(be,Le){var Qe;if(Qe=this.rules.inline.url.exec(be)){var je,ht;if(Qe[2]==="@")je=Me(this.options.mangle?Le(Qe[0]):Qe[0]),ht="mailto:"+je;else{var bt;do bt=Qe[0],Qe[0]=this.rules.inline._backpedal.exec(Qe[0])[0];while(bt!==Qe[0]);je=Me(Qe[0]),Qe[1]==="www."?ht="http://"+je:ht=je}return{type:"link",raw:Qe[0],text:je,href:ht,tokens:[{type:"text",raw:je,text:je}]}}},_t.inlineText=function(be,Le){var Qe=this.rules.inline.text.exec(be);if(Qe){var je;return this.lexer.state.inRawBlock?je=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Qe[0]):Me(Qe[0]):Qe[0]:je=Me(this.options.smartypants?Le(Qe[0]):Qe[0]),{type:"text",raw:Qe[0],text:je}}},vt}(),ze={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:we,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};ze._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ze._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,ze.def=ve(ze.def).replace("label",ze._label).replace("title",ze._title).getRegex(),ze.bullet=/(?:[*+-]|\d{1,9}[.)])/,ze.listItemStart=ve(/^( *)(bull) */).replace("bull",ze.bullet).getRegex(),ze.list=ve(ze.list).replace(/bull/g,ze.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ze.def.source+")").getRegex(),ze._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ze._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,ze.html=ve(ze.html,"i").replace("comment",ze._comment).replace("tag",ze._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ze.paragraph=ve(ze._paragraph).replace("hr",ze.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ze._tag).getRegex(),ze.blockquote=ve(ze.blockquote).replace("paragraph",ze.paragraph).getRegex(),ze.normal=Ne({},ze),ze.gfm=Ne({},ze.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),ze.gfm.table=ve(ze.gfm.table).replace("hr",ze.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ze._tag).getRegex(),ze.gfm.paragraph=ve(ze._paragraph).replace("hr",ze.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ze.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ze._tag).getRegex(),ze.pedantic=Ne({},ze.normal,{html:ve(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ze._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:we,paragraph:ve(ze.normal._paragraph).replace("hr",ze.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ze.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var mt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:we,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:we,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};mt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",mt.punctuation=ve(mt.punctuation).replace(/punctuation/g,mt._punctuation).getRegex(),mt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,mt.escapedEmSt=/\\\*|\\_/g,mt._comment=ve(ze._comment).replace("(?:-->|$)","-->").getRegex(),mt.emStrong.lDelim=ve(mt.emStrong.lDelim).replace(/punct/g,mt._punctuation).getRegex(),mt.emStrong.rDelimAst=ve(mt.emStrong.rDelimAst,"g").replace(/punct/g,mt._punctuation).getRegex(),mt.emStrong.rDelimUnd=ve(mt.emStrong.rDelimUnd,"g").replace(/punct/g,mt._punctuation).getRegex(),mt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,mt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,mt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,mt.autolink=ve(mt.autolink).replace("scheme",mt._scheme).replace("email",mt._email).getRegex(),mt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,mt.tag=ve(mt.tag).replace("comment",mt._comment).replace("attribute",mt._attribute).getRegex(),mt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,mt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,mt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,mt.link=ve(mt.link).replace("label",mt._label).replace("href",mt._href).replace("title",mt._title).getRegex(),mt.reflink=ve(mt.reflink).replace("label",mt._label).replace("ref",ze._label).getRegex(),mt.nolink=ve(mt.nolink).replace("ref",ze._label).getRegex(),mt.reflinkSearch=ve(mt.reflinkSearch,"g").replace("reflink",mt.reflink).replace("nolink",mt.nolink).getRegex(),mt.normal=Ne({},mt),mt.pedantic=Ne({},mt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ve(/^!?\[(label)\]\((.*?)\)/).replace("label",mt._label).getRegex(),reflink:ve(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",mt._label).getRegex()}),mt.gfm=Ne({},mt.normal,{escape:ve(mt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),mt.gfm.url=ve(mt.gfm.url,"i").replace("email",mt.gfm._extended_email).getRegex(),mt.breaks=Ne({},mt.gfm,{br:ve(mt.br).replace("{2,}","*").getRegex(),text:ve(mt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function wt(vt){return vt.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Oe(vt){var _t="",nt,be,Le=vt.length;for(nt=0;nt<Le;nt++)be=vt.charCodeAt(nt),Math.random()>.5&&(be="x"+be.toString(16)),_t+="&#"+be+";";return _t}var lt=function(){function vt(nt){this.tokens=[],this.tokens.links=Object.create(null),this.options=nt||z.defaults,this.options.tokenizer=this.options.tokenizer||new ft,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var be={block:ze.normal,inline:mt.normal};this.options.pedantic?(be.block=ze.pedantic,be.inline=mt.pedantic):this.options.gfm&&(be.block=ze.gfm,this.options.breaks?be.inline=mt.breaks:be.inline=mt.gfm),this.tokenizer.rules=be}vt.lex=function(be,Le){var Qe=new vt(Le);return Qe.lex(be)},vt.lexInline=function(be,Le){var Qe=new vt(Le);return Qe.inlineTokens(be)};var _t=vt.prototype;return _t.lex=function(be){be=be.replace(/\r\n|\r/g,`
`),this.blockTokens(be,this.tokens);for(var Le;Le=this.inlineQueue.shift();)this.inlineTokens(Le.src,Le.tokens);return this.tokens},_t.blockTokens=function(be,Le){var Qe=this;Le===void 0&&(Le=[]),this.options.pedantic?be=be.replace(/\t/g,"    ").replace(/^ +$/gm,""):be=be.replace(/^( *)(\t+)/gm,function(ei,ui,xi){return ui+"    ".repeat(xi.length)});for(var je,ht,bt,Dt;be;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ei){return(je=ei.call({lexer:Qe},be,Le))?(be=be.substring(je.raw.length),Le.push(je),!0):!1}))){if(je=this.tokenizer.space(be)){be=be.substring(je.raw.length),je.raw.length===1&&Le.length>0?Le[Le.length-1].raw+=`
`:Le.push(je);continue}if(je=this.tokenizer.code(be)){be=be.substring(je.raw.length),ht=Le[Le.length-1],ht&&(ht.type==="paragraph"||ht.type==="text")?(ht.raw+=`
`+je.raw,ht.text+=`
`+je.text,this.inlineQueue[this.inlineQueue.length-1].src=ht.text):Le.push(je);continue}if(je=this.tokenizer.fences(be)){be=be.substring(je.raw.length),Le.push(je);continue}if(je=this.tokenizer.heading(be)){be=be.substring(je.raw.length),Le.push(je);continue}if(je=this.tokenizer.hr(be)){be=be.substring(je.raw.length),Le.push(je);continue}if(je=this.tokenizer.blockquote(be)){be=be.substring(je.raw.length),Le.push(je);continue}if(je=this.tokenizer.list(be)){be=be.substring(je.raw.length),Le.push(je);continue}if(je=this.tokenizer.html(be)){be=be.substring(je.raw.length),Le.push(je);continue}if(je=this.tokenizer.def(be)){be=be.substring(je.raw.length),ht=Le[Le.length-1],ht&&(ht.type==="paragraph"||ht.type==="text")?(ht.raw+=`
`+je.raw,ht.text+=`
`+je.raw,this.inlineQueue[this.inlineQueue.length-1].src=ht.text):this.tokens.links[je.tag]||(this.tokens.links[je.tag]={href:je.href,title:je.title});continue}if(je=this.tokenizer.table(be)){be=be.substring(je.raw.length),Le.push(je);continue}if(je=this.tokenizer.lheading(be)){be=be.substring(je.raw.length),Le.push(je);continue}if(bt=be,this.options.extensions&&this.options.extensions.startBlock&&function(){var ei=1/0,ui=be.slice(1),xi=void 0;Qe.options.extensions.startBlock.forEach(function(Si){xi=Si.call({lexer:this},ui),typeof xi=="number"&&xi>=0&&(ei=Math.min(ei,xi))}),ei<1/0&&ei>=0&&(bt=be.substring(0,ei+1))}(),this.state.top&&(je=this.tokenizer.paragraph(bt))){ht=Le[Le.length-1],Dt&&ht.type==="paragraph"?(ht.raw+=`
`+je.raw,ht.text+=`
`+je.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ht.text):Le.push(je),Dt=bt.length!==be.length,be=be.substring(je.raw.length);continue}if(je=this.tokenizer.text(be)){be=be.substring(je.raw.length),ht=Le[Le.length-1],ht&&ht.type==="text"?(ht.raw+=`
`+je.raw,ht.text+=`
`+je.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ht.text):Le.push(je);continue}if(be){var Ht="Infinite loop on byte: "+be.charCodeAt(0);if(this.options.silent){console.error(Ht);break}else throw new Error(Ht)}}return this.state.top=!0,Le},_t.inline=function(be,Le){this.inlineQueue.push({src:be,tokens:Le})},_t.inlineTokens=function(be,Le){var Qe=this;Le===void 0&&(Le=[]);var je,ht,bt,Dt=be,Ht,ei,ui;if(this.tokens.links){var xi=Object.keys(this.tokens.links);if(xi.length>0)for(;(Ht=this.tokenizer.rules.inline.reflinkSearch.exec(Dt))!=null;)xi.includes(Ht[0].slice(Ht[0].lastIndexOf("[")+1,-1))&&(Dt=Dt.slice(0,Ht.index)+"["+me("a",Ht[0].length-2)+"]"+Dt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Ht=this.tokenizer.rules.inline.blockSkip.exec(Dt))!=null;)Dt=Dt.slice(0,Ht.index)+"["+me("a",Ht[0].length-2)+"]"+Dt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Ht=this.tokenizer.rules.inline.escapedEmSt.exec(Dt))!=null;)Dt=Dt.slice(0,Ht.index)+"++"+Dt.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;be;)if(ei||(ui=""),ei=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(mi){return(je=mi.call({lexer:Qe},be,Le))?(be=be.substring(je.raw.length),Le.push(je),!0):!1}))){if(je=this.tokenizer.escape(be)){be=be.substring(je.raw.length),Le.push(je);continue}if(je=this.tokenizer.tag(be)){be=be.substring(je.raw.length),ht=Le[Le.length-1],ht&&je.type==="text"&&ht.type==="text"?(ht.raw+=je.raw,ht.text+=je.text):Le.push(je);continue}if(je=this.tokenizer.link(be)){be=be.substring(je.raw.length),Le.push(je);continue}if(je=this.tokenizer.reflink(be,this.tokens.links)){be=be.substring(je.raw.length),ht=Le[Le.length-1],ht&&je.type==="text"&&ht.type==="text"?(ht.raw+=je.raw,ht.text+=je.text):Le.push(je);continue}if(je=this.tokenizer.emStrong(be,Dt,ui)){be=be.substring(je.raw.length),Le.push(je);continue}if(je=this.tokenizer.codespan(be)){be=be.substring(je.raw.length),Le.push(je);continue}if(je=this.tokenizer.br(be)){be=be.substring(je.raw.length),Le.push(je);continue}if(je=this.tokenizer.del(be)){be=be.substring(je.raw.length),Le.push(je);continue}if(je=this.tokenizer.autolink(be,Oe)){be=be.substring(je.raw.length),Le.push(je);continue}if(!this.state.inLink&&(je=this.tokenizer.url(be,Oe))){be=be.substring(je.raw.length),Le.push(je);continue}if(bt=be,this.options.extensions&&this.options.extensions.startInline&&function(){var mi=1/0,mn=be.slice(1),Mi=void 0;Qe.options.extensions.startInline.forEach(function(fn){Mi=fn.call({lexer:this},mn),typeof Mi=="number"&&Mi>=0&&(mi=Math.min(mi,Mi))}),mi<1/0&&mi>=0&&(bt=be.substring(0,mi+1))}(),je=this.tokenizer.inlineText(bt,wt)){be=be.substring(je.raw.length),je.raw.slice(-1)!=="_"&&(ui=je.raw.slice(-1)),ei=!0,ht=Le[Le.length-1],ht&&ht.type==="text"?(ht.raw+=je.raw,ht.text+=je.text):Le.push(je);continue}if(be){var Si="Infinite loop on byte: "+be.charCodeAt(0);if(this.options.silent){console.error(Si);break}else throw new Error(Si)}}return Le},re(vt,null,[{key:"rules",get:function(){return{block:ze,inline:mt}}}]),vt}(),Bt=function(){function vt(nt){this.options=nt||z.defaults}var _t=vt.prototype;return _t.code=function(be,Le,Qe){var je=(Le||"").match(/\S*/)[0];if(this.options.highlight){var ht=this.options.highlight(be,je);ht!=null&&ht!==be&&(Qe=!0,be=ht)}return be=be.replace(/\n$/,"")+`
`,je?'<pre><code class="'+this.options.langPrefix+Me(je,!0)+'">'+(Qe?be:Me(be,!0))+`</code></pre>
`:"<pre><code>"+(Qe?be:Me(be,!0))+`</code></pre>
`},_t.blockquote=function(be){return`<blockquote>
`+be+`</blockquote>
`},_t.html=function(be){return be},_t.heading=function(be,Le,Qe,je){if(this.options.headerIds){var ht=this.options.headerPrefix+je.slug(Qe);return"<h"+Le+' id="'+ht+'">'+be+"</h"+Le+`>
`}return"<h"+Le+">"+be+"</h"+Le+`>
`},_t.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},_t.list=function(be,Le,Qe){var je=Le?"ol":"ul",ht=Le&&Qe!==1?' start="'+Qe+'"':"";return"<"+je+ht+`>
`+be+"</"+je+`>
`},_t.listitem=function(be){return"<li>"+be+`</li>
`},_t.checkbox=function(be){return"<input "+(be?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},_t.paragraph=function(be){return"<p>"+be+`</p>
`},_t.table=function(be,Le){return Le&&(Le="<tbody>"+Le+"</tbody>"),`<table>
<thead>
`+be+`</thead>
`+Le+`</table>
`},_t.tablerow=function(be){return`<tr>
`+be+`</tr>
`},_t.tablecell=function(be,Le){var Qe=Le.header?"th":"td",je=Le.align?"<"+Qe+' align="'+Le.align+'">':"<"+Qe+">";return je+be+("</"+Qe+`>
`)},_t.strong=function(be){return"<strong>"+be+"</strong>"},_t.em=function(be){return"<em>"+be+"</em>"},_t.codespan=function(be){return"<code>"+be+"</code>"},_t.br=function(){return this.options.xhtml?"<br/>":"<br>"},_t.del=function(be){return"<del>"+be+"</del>"},_t.link=function(be,Le,Qe){if(be=at(this.options.sanitize,this.options.baseUrl,be),be===null)return Qe;var je='<a href="'+Me(be)+'"';return Le&&(je+=' title="'+Le+'"'),je+=">"+Qe+"</a>",je},_t.image=function(be,Le,Qe){if(be=at(this.options.sanitize,this.options.baseUrl,be),be===null)return Qe;var je='<img src="'+be+'" alt="'+Qe+'"';return Le&&(je+=' title="'+Le+'"'),je+=this.options.xhtml?"/>":">",je},_t.text=function(be){return be},vt}(),Zt=function(){function vt(){}var _t=vt.prototype;return _t.strong=function(be){return be},_t.em=function(be){return be},_t.codespan=function(be){return be},_t.del=function(be){return be},_t.html=function(be){return be},_t.text=function(be){return be},_t.link=function(be,Le,Qe){return""+Qe},_t.image=function(be,Le,Qe){return""+Qe},_t.br=function(){return""},vt}(),pi=function(){function vt(){this.seen={}}var _t=vt.prototype;return _t.serialize=function(be){return be.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},_t.getNextSafeSlug=function(be,Le){var Qe=be,je=0;if(this.seen.hasOwnProperty(Qe)){je=this.seen[be];do je++,Qe=be+"-"+je;while(this.seen.hasOwnProperty(Qe))}return Le||(this.seen[be]=je,this.seen[Qe]=0),Qe},_t.slug=function(be,Le){Le===void 0&&(Le={});var Qe=this.serialize(be);return this.getNextSafeSlug(Qe,Le.dryrun)},vt}(),Li=function(){function vt(nt){this.options=nt||z.defaults,this.options.renderer=this.options.renderer||new Bt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Zt,this.slugger=new pi}vt.parse=function(be,Le){var Qe=new vt(Le);return Qe.parse(be)},vt.parseInline=function(be,Le){var Qe=new vt(Le);return Qe.parseInline(be)};var _t=vt.prototype;return _t.parse=function(be,Le){Le===void 0&&(Le=!0);var Qe="",je,ht,bt,Dt,Ht,ei,ui,xi,Si,mi,mn,Mi,fn,Fi,Ni,Dn,Tn,$i,pn,Sn=be.length;for(je=0;je<Sn;je++){if(mi=be[je],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[mi.type]&&(pn=this.options.extensions.renderers[mi.type].call({parser:this},mi),pn!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(mi.type))){Qe+=pn||"";continue}switch(mi.type){case"space":continue;case"hr":{Qe+=this.renderer.hr();continue}case"heading":{Qe+=this.renderer.heading(this.parseInline(mi.tokens),mi.depth,le(this.parseInline(mi.tokens,this.textRenderer)),this.slugger);continue}case"code":{Qe+=this.renderer.code(mi.text,mi.lang,mi.escaped);continue}case"table":{for(xi="",ui="",Dt=mi.header.length,ht=0;ht<Dt;ht++)ui+=this.renderer.tablecell(this.parseInline(mi.header[ht].tokens),{header:!0,align:mi.align[ht]});for(xi+=this.renderer.tablerow(ui),Si="",Dt=mi.rows.length,ht=0;ht<Dt;ht++){for(ei=mi.rows[ht],ui="",Ht=ei.length,bt=0;bt<Ht;bt++)ui+=this.renderer.tablecell(this.parseInline(ei[bt].tokens),{header:!1,align:mi.align[bt]});Si+=this.renderer.tablerow(ui)}Qe+=this.renderer.table(xi,Si);continue}case"blockquote":{Si=this.parse(mi.tokens),Qe+=this.renderer.blockquote(Si);continue}case"list":{for(mn=mi.ordered,Mi=mi.start,fn=mi.loose,Dt=mi.items.length,Si="",ht=0;ht<Dt;ht++)Ni=mi.items[ht],Dn=Ni.checked,Tn=Ni.task,Fi="",Ni.task&&($i=this.renderer.checkbox(Dn),fn?Ni.tokens.length>0&&Ni.tokens[0].type==="paragraph"?(Ni.tokens[0].text=$i+" "+Ni.tokens[0].text,Ni.tokens[0].tokens&&Ni.tokens[0].tokens.length>0&&Ni.tokens[0].tokens[0].type==="text"&&(Ni.tokens[0].tokens[0].text=$i+" "+Ni.tokens[0].tokens[0].text)):Ni.tokens.unshift({type:"text",text:$i}):Fi+=$i),Fi+=this.parse(Ni.tokens,fn),Si+=this.renderer.listitem(Fi,Tn,Dn);Qe+=this.renderer.list(Si,mn,Mi);continue}case"html":{Qe+=this.renderer.html(mi.text);continue}case"paragraph":{Qe+=this.renderer.paragraph(this.parseInline(mi.tokens));continue}case"text":{for(Si=mi.tokens?this.parseInline(mi.tokens):mi.text;je+1<Sn&&be[je+1].type==="text";)mi=be[++je],Si+=`
`+(mi.tokens?this.parseInline(mi.tokens):mi.text);Qe+=Le?this.renderer.paragraph(Si):Si;continue}default:{var wn='Token with "'+mi.type+'" type was not found.';if(this.options.silent){console.error(wn);return}else throw new Error(wn)}}}return Qe},_t.parseInline=function(be,Le){Le=Le||this.renderer;var Qe="",je,ht,bt,Dt=be.length;for(je=0;je<Dt;je++){if(ht=be[je],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ht.type]&&(bt=this.options.extensions.renderers[ht.type].call({parser:this},ht),bt!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ht.type))){Qe+=bt||"";continue}switch(ht.type){case"escape":{Qe+=Le.text(ht.text);break}case"html":{Qe+=Le.html(ht.text);break}case"link":{Qe+=Le.link(ht.href,ht.title,this.parseInline(ht.tokens,Le));break}case"image":{Qe+=Le.image(ht.href,ht.title,ht.text);break}case"strong":{Qe+=Le.strong(this.parseInline(ht.tokens,Le));break}case"em":{Qe+=Le.em(this.parseInline(ht.tokens,Le));break}case"codespan":{Qe+=Le.codespan(ht.text);break}case"br":{Qe+=Le.br();break}case"del":{Qe+=Le.del(this.parseInline(ht.tokens,Le));break}case"text":{Qe+=Le.text(ht.text);break}default:{var Ht='Token with "'+ht.type+'" type was not found.';if(this.options.silent){console.error(Ht);return}else throw new Error(Ht)}}}return Qe},vt}();function ot(vt,_t,nt){if(typeof vt>"u"||vt===null)throw new Error("marked(): input parameter is undefined or null");if(typeof vt!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(vt)+", string expected");if(typeof _t=="function"&&(nt=_t,_t=null),_t=Ne({},ot.defaults,_t||{}),$e(_t),nt){var be=_t.highlight,Le;try{Le=lt.lex(vt,_t)}catch(bt){return nt(bt)}var Qe=function(Dt){var Ht;if(!Dt)try{_t.walkTokens&&ot.walkTokens(Le,_t.walkTokens),Ht=Li.parse(Le,_t)}catch(ei){Dt=ei}return _t.highlight=be,Dt?nt(Dt):nt(null,Ht)};if(!be||be.length<3||(delete _t.highlight,!Le.length))return Qe();var je=0;ot.walkTokens(Le,function(bt){bt.type==="code"&&(je++,setTimeout(function(){be(bt.text,bt.lang,function(Dt,Ht){if(Dt)return Qe(Dt);Ht!=null&&Ht!==bt.text&&(bt.text=Ht,bt.escaped=!0),je--,je===0&&Qe()})},0))}),je===0&&Qe();return}try{var ht=lt.lex(vt,_t);return _t.walkTokens&&ot.walkTokens(ht,_t.walkTokens),Li.parse(ht,_t)}catch(bt){if(bt.message+=`
Please report this to https://github.com/markedjs/marked.`,_t.silent)return"<p>An error occurred:</p><pre>"+Me(bt.message+"",!0)+"</pre>";throw bt}}ot.options=ot.setOptions=function(vt){return Ne(ot.defaults,vt),pe(ot.defaults),ot},ot.getDefaults=ge,ot.defaults=z.defaults,ot.use=function(){for(var vt=arguments.length,_t=new Array(vt),nt=0;nt<vt;nt++)_t[nt]=arguments[nt];var be=Ne.apply(void 0,[{}].concat(_t)),Le=ot.defaults.extensions||{renderers:{},childTokens:{}},Qe;_t.forEach(function(je){if(je.extensions&&(Qe=!0,je.extensions.forEach(function(bt){if(!bt.name)throw new Error("extension name required");if(bt.renderer){var Dt=Le.renderers?Le.renderers[bt.name]:null;Dt?Le.renderers[bt.name]=function(){for(var Ht=arguments.length,ei=new Array(Ht),ui=0;ui<Ht;ui++)ei[ui]=arguments[ui];var xi=bt.renderer.apply(this,ei);return xi===!1&&(xi=Dt.apply(this,ei)),xi}:Le.renderers[bt.name]=bt.renderer}if(bt.tokenizer){if(!bt.level||bt.level!=="block"&&bt.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Le[bt.level]?Le[bt.level].unshift(bt.tokenizer):Le[bt.level]=[bt.tokenizer],bt.start&&(bt.level==="block"?Le.startBlock?Le.startBlock.push(bt.start):Le.startBlock=[bt.start]:bt.level==="inline"&&(Le.startInline?Le.startInline.push(bt.start):Le.startInline=[bt.start]))}bt.childTokens&&(Le.childTokens[bt.name]=bt.childTokens)})),je.renderer&&function(){var bt=ot.defaults.renderer||new Bt,Dt=function(ui){var xi=bt[ui];bt[ui]=function(){for(var Si=arguments.length,mi=new Array(Si),mn=0;mn<Si;mn++)mi[mn]=arguments[mn];var Mi=je.renderer[ui].apply(bt,mi);return Mi===!1&&(Mi=xi.apply(bt,mi)),Mi}};for(var Ht in je.renderer)Dt(Ht);be.renderer=bt}(),je.tokenizer&&function(){var bt=ot.defaults.tokenizer||new ft,Dt=function(ui){var xi=bt[ui];bt[ui]=function(){for(var Si=arguments.length,mi=new Array(Si),mn=0;mn<Si;mn++)mi[mn]=arguments[mn];var Mi=je.tokenizer[ui].apply(bt,mi);return Mi===!1&&(Mi=xi.apply(bt,mi)),Mi}};for(var Ht in je.tokenizer)Dt(Ht);be.tokenizer=bt}(),je.walkTokens){var ht=ot.defaults.walkTokens;be.walkTokens=function(bt){je.walkTokens.call(this,bt),ht&&ht.call(this,bt)}}Qe&&(be.extensions=Le),ot.setOptions(be)})},ot.walkTokens=function(vt,_t){for(var nt=function(){var je=Le.value;switch(_t.call(ot,je),je.type){case"table":{for(var ht=Ce(je.header),bt;!(bt=ht()).done;){var Dt=bt.value;ot.walkTokens(Dt.tokens,_t)}for(var Ht=Ce(je.rows),ei;!(ei=Ht()).done;)for(var ui=ei.value,xi=Ce(ui),Si;!(Si=xi()).done;){var mi=Si.value;ot.walkTokens(mi.tokens,_t)}break}case"list":{ot.walkTokens(je.items,_t);break}default:ot.defaults.extensions&&ot.defaults.extensions.childTokens&&ot.defaults.extensions.childTokens[je.type]?ot.defaults.extensions.childTokens[je.type].forEach(function(mn){ot.walkTokens(je[mn],_t)}):je.tokens&&ot.walkTokens(je.tokens,_t)}},be=Ce(vt),Le;!(Le=be()).done;)nt()},ot.parseInline=function(vt,_t){if(typeof vt>"u"||vt===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof vt!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(vt)+", string expected");_t=Ne({},ot.defaults,_t||{}),$e(_t);try{var nt=lt.lexInline(vt,_t);return _t.walkTokens&&ot.walkTokens(nt,_t.walkTokens),Li.parseInline(nt,_t)}catch(be){if(be.message+=`
Please report this to https://github.com/markedjs/marked.`,_t.silent)return"<p>An error occurred:</p><pre>"+Me(be.message+"",!0)+"</pre>";throw be}},ot.Parser=Li,ot.parser=Li.parse,ot.Renderer=Bt,ot.TextRenderer=Zt,ot.Lexer=lt,ot.lexer=lt.lex,ot.Tokenizer=ft,ot.Slugger=pi,ot.parse=ot;var Ft=ot.options,Yt=ot.setOptions,_i=ot.use,Ci=ot.walkTokens,bi=ot.parseInline,ai=ot,Mt=Li.parse,Ut=lt.lex;z.Lexer=lt,z.Parser=Li,z.Renderer=Bt,z.Slugger=pi,z.TextRenderer=Zt,z.Tokenizer=ft,z.getDefaults=ge,z.lexer=Ut,z.marked=ot,z.options=Ft,z.parse=ai,z.parseInline=bi,z.parser=Mt,z.setOptions=Yt,z.use=_i,z.walkTokens=Ci,Object.defineProperty(z,"__esModule",{value:!0})})})();var n=l||exports,a=i(23897),g=i(66663),f=i(36248),u=i(95935),C=i(97295),y=i(70666);function b(T,z={},G={}){var re;const S=new p.SL;let he=!1;const Ce=(0,V.az)(z),ge=function(Me){let ye;try{ye=(0,a.Q)(decodeURIComponent(Me))}catch{}return ye?(ye=(0,f.rs)(ye,le=>{if(T.uris&&T.uris[le])return y.o.revive(T.uris[le])}),encodeURIComponent(JSON.stringify(ye))):Me},pe=function(Me,ye){const le=T.uris&&T.uris[Me];let ie=y.o.revive(le);return ye?Me.startsWith(g.lg.data+":")?Me:(ie||(ie=y.o.parse(Me)),g.Gi.asBrowserUri(ie).toString(!0)):!ie||y.o.parse(Me).toString()===ie.toString()?Me:(ie.query&&(ie=ie.with({query:ge(ie.query)})),ie.toString())},ee=new n.Renderer;ee.image=(Me,ye,le)=>{let ie=[],ve=[];return Me&&({href:Me,dimensions:ie}=(0,A.v1)(Me),ve.push(`src="${(0,A.d9)(Me)}"`)),le&&ve.push(`alt="${(0,A.d9)(le)}"`),ye&&ve.push(`title="${(0,A.d9)(ye)}"`),ie.length&&(ve=ve.concat(ie)),"<img "+ve.join(" ")+">"},ee.link=(Me,ye,le)=>typeof Me!="string"?"":(Me===le&&(le=(0,A.oR)(le)),ye=typeof ye=="string"?(0,A.d9)((0,A.oR)(ye)):"",Me=(0,A.oR)(Me),Me=Me.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${Me}" title="${ye||Me}">${le}</a>`),ee.paragraph=Me=>`<p>${Me}</p>`;const se=[];if(z.codeBlockRenderer&&(ee.code=(Me,ye)=>{const le=c.a.nextId(),ie=z.codeBlockRenderer(ye??"",Me);return se.push(ie.then(ve=>[le,ve])),`<div class="code" data-code="${le}">${(0,C.YU)(Me)}</div>`}),z.actionHandler){const Me=z.actionHandler.disposables.add(new O.Y(Ce,"click")),ye=z.actionHandler.disposables.add(new O.Y(Ce,"auxclick"));z.actionHandler.disposables.add(P.ju.any(Me.event,ye.event)(le=>{const ie=new D.n(le);if(!ie.leftButton&&!ie.middleButton)return;let ve=ie.target;if(!(ve.tagName!=="A"&&(ve=ve.parentElement,!ve||ve.tagName!=="A")))try{let xe=ve.dataset.href;xe&&(T.baseUri&&(xe=_(y.o.from(T.baseUri),xe)),z.actionHandler.callback(xe,ie))}catch(xe){(0,M.dL)(xe)}finally{ie.preventDefault()}}))}T.supportHtml||(G.sanitizer=Me=>(T.isTrusted?Me.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?Me:"",G.sanitize=!0,G.silent=!0),G.renderer=ee;let ne=(re=T.value)!==null&&re!==void 0?re:"";ne.length>1e5&&(ne=`${ne.substr(0,1e5)}\u2026`),T.supportThemeIcons&&(ne=(0,L.f$)(ne));let oe=n.parse(ne,G);T.supportThemeIcons&&(oe=(0,$.T)(oe).map(ye=>typeof ye=="string"?ye:ye.outerHTML).join(""));const Ee=new DOMParser().parseFromString(E(T,oe),"text/html");if(Ee.body.querySelectorAll("img").forEach(Me=>{const ye=Me.getAttribute("src");if(ye){let le=ye;try{T.baseUri&&(le=_(y.o.from(T.baseUri),le))}catch{}Me.src=pe(le,!0)}}),Ee.body.querySelectorAll("a").forEach(Me=>{const ye=Me.getAttribute("href");if(Me.setAttribute("href",""),!ye||/^data:|javascript:/i.test(ye)||/^command:/i.test(ye)&&!T.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(ye))Me.replaceWith(...Me.childNodes);else{let le=pe(ye,!1);T.baseUri&&(le=_(y.o.from(T.baseUri),ye)),Me.dataset.href=le}}),Ce.innerHTML=E(T,Ee.body.innerHTML),se.length>0&&Promise.all(se).then(Me=>{var ye,le;if(he)return;const ie=new Map(Me),ve=Ce.querySelectorAll("div[data-code]");for(const xe of ve){const Ye=ie.get((ye=xe.dataset.code)!==null&&ye!==void 0?ye:"");Ye&&w.mc(xe,Ye)}(le=z.asyncRenderCallback)===null||le===void 0||le.call(z)}),z.asyncRenderCallback)for(const Me of Ce.getElementsByTagName("img")){const ye=S.add(w.nm(Me,"load",()=>{ye.dispose(),z.asyncRenderCallback()}))}return{element:Ce,dispose:()=>{he=!0,S.dispose()}}}function _(T,z){return/^\w[\w\d+.-]*:/.test(z)?z:T.path.endsWith("/")?(0,u.i3)(T,z).toString():(0,u.i3)((0,u.XX)(T),z).toString()}function E(T,z){const{config:G,allowedSchemes:re}=I(T);r.v5("uponSanitizeAttribute",(he,Ce)=>{if(Ce.attrName==="style"||Ce.attrName==="class"){if(he.tagName==="SPAN"){if(Ce.attrName==="style"){Ce.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(Ce.attrValue);return}else if(Ce.attrName==="class"){Ce.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(Ce.attrValue);return}}Ce.keepAttr=!1;return}});const S=w._F(re);try{return r.Nw(z,Object.assign(Object.assign({},G),{RETURN_TRUSTED_TYPE:!0}))}finally{r.ok("uponSanitizeAttribute"),S.dispose()}}function I(T){const z=[g.lg.http,g.lg.https,g.lg.mailto,g.lg.data,g.lg.file,g.lg.vscodeFileResource,g.lg.vscodeRemote,g.lg.vscodeRemoteResource];return T.isTrusted&&z.push(g.lg.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:z}}var R=i(50988),J=i(72042),Q=i(82963),U=i(52136),K=i(68801),H=function(T,z,G,re){var S=arguments.length,he=S<3?z:re===null?re=Object.getOwnPropertyDescriptor(z,G):re,Ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")he=Reflect.decorate(T,z,G,re);else for(var ge=T.length-1;ge>=0;ge--)(Ce=T[ge])&&(he=(S<3?Ce(he):S>3?Ce(z,G,he):Ce(z,G))||he);return S>3&&he&&Object.defineProperty(z,G,he),he},X=function(T,z){return function(G,re){z(G,re,T)}},j=function(T,z,G,re){function S(he){return he instanceof G?he:new G(function(Ce){Ce(he)})}return new(G||(G=Promise))(function(he,Ce){function ge(se){try{ee(re.next(se))}catch(ne){Ce(ne)}}function pe(se){try{ee(re.throw(se))}catch(ne){Ce(ne)}}function ee(se){se.done?he(se.value):S(se.value).then(ge,pe)}ee((re=re.apply(T,z||[])).next())})},x;let Z=class Yc{constructor(z,G,re){this._options=z,this._languageService=G,this._openerService=re,this._onDidRenderAsync=new P.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(z,G,re){if(!z)return{element:document.createElement("span"),dispose:()=>{}};const S=new p.SL;return{element:S.add(b(z,Object.assign(Object.assign({},this._getRenderOptions(z,S)),G),re)).element,dispose:()=>S.dispose()}}_getRenderOptions(z,G){return{codeBlockRenderer:(re,S)=>j(this,void 0,void 0,function*(){var he,Ce,ge;let pe;re?pe=this._languageService.getLanguageIdByLanguageName(re):this._options.editor&&(pe=(he=this._options.editor.getModel())===null||he===void 0?void 0:he.getLanguageId()),pe||(pe=K.bd);const ee=yield(0,Q.C2)(this._languageService,S,pe),se=document.createElement("span");if(se.innerHTML=(ge=(Ce=Yc._ttpTokenizer)===null||Ce===void 0?void 0:Ce.createHTML(ee))!==null&&ge!==void 0?ge:ee,this._options.editor){const ne=this._options.editor.getOption(46);(0,U.N)(se,ne)}else this._options.codeBlockFontFamily&&(se.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(se.style.fontSize=this._options.codeBlockFontSize),se}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:re=>this._openerService.open(re,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:z.isTrusted}).catch(M.dL),disposables:G}}}};Z._ttpTokenizer=(x=window.trustedTypes)===null||x===void 0?void 0:x.createPolicy("tokenizeToString",{createHTML(T){return T}}),Z=H([X(1,J.O),X(2,R.v4)],Z)},95342:function(Ot,Te,i){"use strict";i.d(Te,{O:function(){return L}});var w=i(57924),r=i(15393),O=i(9917),V=i(16830),D=i(24314),$=i(63580),M=i(16141),P=function(l,n,a,g){var f=arguments.length,u=f<3?n:g===null?g=Object.getOwnPropertyDescriptor(n,a):g,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(l,n,a,g);else for(var y=l.length-1;y>=0;y--)(C=l[y])&&(u=(f<3?C(u):f>3?C(n,a,u):C(n,a))||u);return f>3&&u&&Object.defineProperty(n,a,u),u},A=function(l,n){return function(a,g){n(a,g,l)}};let L=class Kl{constructor(n,a){this._messageWidget=new O.XK,this._messageListeners=new O.SL,this._editor=n,this._visible=Kl.MESSAGE_VISIBLE.bindTo(a)}static get(n){return n.getContribution(Kl.ID)}dispose(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(n,a){(0,w.Z9)(n),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new p(this._editor,a,n),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new r._F(()=>this.closeMessage(),3e3));let g;this._messageListeners.add(this._editor.onMouseMove(f=>{!f.target.position||(g?g.containsPosition(f.target.position)||this.closeMessage():g=new D.e(a.lineNumber-3,1,f.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(p.fadeOut(this._messageWidget.value))}};L.ID="editor.contrib.messageController",L.MESSAGE_VISIBLE=new M.uy("messageVisible",!1,$.NC("messageVisible","Whether the editor is currently showing an inline message")),L=P([A(1,M.i6)],L);const c=V._l.bindToContribution(L.get);(0,V.fK)(new c({id:"leaveEditorMessage",precondition:L.MESSAGE_VISIBLE,handler:l=>l.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class p{constructor(n,{lineNumber:a,column:g},f){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=n,this._editor.revealLinesInCenterIfOutsideViewport(a,a,0),this._position={lineNumber:a,column:g},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const u=document.createElement("div");u.classList.add("anchor","top"),this._domNode.appendChild(u);const C=document.createElement("div");C.classList.add("message"),C.textContent=f,this._domNode.appendChild(C);const y=document.createElement("div");y.classList.add("anchor","below"),this._domNode.appendChild(y),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(n){const a=()=>{n.dispose(),clearTimeout(g),n.getDomNode().removeEventListener("animationend",a)},g=setTimeout(a,110);return n.getDomNode().addEventListener("animationend",a),n.getDomNode().classList.add("fadeOut"),{dispose:a}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(n){this._domNode.classList.toggle("below",n===2)}}(0,V._K)(L.ID,L)},77061:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{AddSelectionToNextFindMatchAction:function(){return X},AddSelectionToPreviousFindMatchAction:function(){return j},CompatChangeAll:function(){return z},FocusNextCursor:function(){return Ce},FocusPreviousCursor:function(){return ge},InsertCursorAbove:function(){return _},InsertCursorBelow:function(){return E},MoveSelectionToNextFindMatchAction:function(){return x},MoveSelectionToPreviousFindMatchAction:function(){return Z},MultiCursorSelectionController:function(){return K},MultiCursorSelectionControllerAction:function(){return H},MultiCursorSession:function(){return U},MultiCursorSessionResult:function(){return Q},SelectHighlightsAction:function(){return T},SelectionHighlighter:function(){return re}});var w=i(57924),r=i(15393),O=i(22258),V=i(9917),D=i(16830),$=i(28108),M=i(24314),P=i(3860),A=i(29102),L=i(84973),c=i(92035),p=i(1266),l=i(63580),n=i(84144),a=i(16141),g=i(73910),f=i(97781),u=i(71922),C=function(pe,ee,se,ne){var oe=arguments.length,Se=oe<3?ee:ne===null?ne=Object.getOwnPropertyDescriptor(ee,se):ne,Ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Se=Reflect.decorate(pe,ee,se,ne);else for(var Me=pe.length-1;Me>=0;Me--)(Ee=pe[Me])&&(Se=(oe<3?Ee(Se):oe>3?Ee(ee,se,Se):Ee(ee,se))||Se);return oe>3&&Se&&Object.defineProperty(ee,se,Se),Se},y=function(pe,ee){return function(se,ne){ee(se,ne,pe)}};function b(pe,ee){const se=ee.filter(ne=>!pe.find(oe=>oe.equals(ne)));if(se.length>=1){const ne=se.map(Se=>`line ${Se.viewState.position.lineNumber} column ${Se.viewState.position.column}`).join(", "),oe=se.length===1?l.NC("cursorAdded","Cursor added: {0}",ne):l.NC("cursorsAdded","Cursors added: {0}",ne);(0,w.i7)(oe)}}class _ extends D.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:l.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:A.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:l.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(ee,se,ne){if(!se.hasModel())return;let oe=!0;ne&&ne.logicalLine===!1&&(oe=!1);const Se=se._getViewModel();if(Se.cursorConfig.readOnly)return;Se.model.pushStackElement();const Ee=Se.getCursorStates();Se.setCursorStates(ne.source,3,$.P.addCursorUp(Se,Ee,oe)),Se.revealTopMostCursor(ne.source),b(Ee,Se.getCursorStates())}}class E extends D.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:l.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:A.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:l.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(ee,se,ne){if(!se.hasModel())return;let oe=!0;ne&&ne.logicalLine===!1&&(oe=!1);const Se=se._getViewModel();if(Se.cursorConfig.readOnly)return;Se.model.pushStackElement();const Ee=Se.getCursorStates();Se.setCursorStates(ne.source,3,$.P.addCursorDown(Se,Ee,oe)),Se.revealBottomMostCursor(ne.source),b(Ee,Se.getCursorStates())}}class I extends D.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:l.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:A.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:l.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(ee,se,ne){if(!ee.isEmpty()){for(let oe=ee.startLineNumber;oe<ee.endLineNumber;oe++){const Se=se.getLineMaxColumn(oe);ne.push(new P.Y(oe,Se,oe,Se))}ee.endColumn>1&&ne.push(new P.Y(ee.endLineNumber,ee.endColumn,ee.endLineNumber,ee.endColumn))}}run(ee,se){if(!se.hasModel())return;const ne=se.getModel(),oe=se.getSelections(),Se=se._getViewModel(),Ee=Se.getCursorStates(),Me=[];oe.forEach(ye=>this.getCursorsForSelection(ye,ne,Me)),Me.length>0&&se.setSelections(Me),b(Ee,Se.getCursorStates())}}class R extends D.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:l.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(ee,se){if(!se.hasModel())return;const ne=se.getSelections(),oe=se.getModel().getLineCount(),Se=[];for(let ye=ne[0].startLineNumber;ye<=oe;ye++)Se.push(new P.Y(ye,ne[0].startColumn,ye,ne[0].endColumn));const Ee=se._getViewModel(),Me=Ee.getCursorStates();Se.length>0&&se.setSelections(Se),b(Me,Ee.getCursorStates())}}class J extends D.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:l.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(ee,se){if(!se.hasModel())return;const ne=se.getSelections(),oe=[];for(let Me=ne[0].startLineNumber;Me>=1;Me--)oe.push(new P.Y(Me,ne[0].startColumn,Me,ne[0].endColumn));const Se=se._getViewModel(),Ee=Se.getCursorStates();oe.length>0&&se.setSelections(oe),b(Ee,Se.getCursorStates())}}class Q{constructor(ee,se,ne){this.selections=ee,this.revealRange=se,this.revealScrollType=ne}}class U{constructor(ee,se,ne,oe,Se,Ee,Me){this._editor=ee,this.findController=se,this.isDisconnectedFromFindController=ne,this.searchText=oe,this.wholeWord=Se,this.matchCase=Ee,this.currentMatch=Me}static create(ee,se){if(!ee.hasModel())return null;const ne=se.getState();if(!ee.hasTextFocus()&&ne.isRevealed&&ne.searchString.length>0)return new U(ee,se,!1,ne.searchString,ne.wholeWord,ne.matchCase,null);let oe=!1,Se,Ee;const Me=ee.getSelections();Me.length===1&&Me[0].isEmpty()?(oe=!0,Se=!0,Ee=!0):(Se=ne.wholeWord,Ee=ne.matchCase);const ye=ee.getSelection();let le,ie=null;if(ye.isEmpty()){const ve=ee.getConfiguredWordAtPosition(ye.getStartPosition());if(!ve)return null;le=ve.word,ie=new P.Y(ye.startLineNumber,ve.startColumn,ye.startLineNumber,ve.endColumn)}else le=ee.getModel().getValueInRange(ye).replace(/\r\n/g,`
`);return new U(ee,se,oe,le,Se,Ee,ie)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const ee=this._getNextMatch();if(!ee)return null;const se=this._editor.getSelections();return new Q(se.concat(ee),ee,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const ee=this._getNextMatch();if(!ee)return null;const se=this._editor.getSelections();return new Q(se.slice(0,se.length-1).concat(ee),ee,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const oe=this.currentMatch;return this.currentMatch=null,oe}this.findController.highlightFindOptions();const ee=this._editor.getSelections(),se=ee[ee.length-1],ne=this._editor.getModel().findNextMatch(this.searchText,se.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return ne?new P.Y(ne.range.startLineNumber,ne.range.startColumn,ne.range.endLineNumber,ne.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const ee=this._getPreviousMatch();if(!ee)return null;const se=this._editor.getSelections();return new Q(se.concat(ee),ee,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const ee=this._getPreviousMatch();if(!ee)return null;const se=this._editor.getSelections();return new Q(se.slice(0,se.length-1).concat(ee),ee,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const oe=this.currentMatch;return this.currentMatch=null,oe}this.findController.highlightFindOptions();const ee=this._editor.getSelections(),se=ee[ee.length-1],ne=this._editor.getModel().findPreviousMatch(this.searchText,se.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return ne?new P.Y(ne.range.startLineNumber,ne.range.startColumn,ne.range.endLineNumber,ne.range.endColumn):null}selectAll(ee){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const se=this._editor.getModel();return ee?se.findMatches(this.searchText,ee,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824):se.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824)}}class K extends V.JT{constructor(ee){super(),this._sessionDispose=this._register(new V.SL),this._editor=ee,this._ignoreSelectionChange=!1,this._session=null}static get(ee){return ee.getContribution(K.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(ee){if(!this._session){const se=U.create(this._editor,ee);if(!se)return;this._session=se;const ne={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(ne.wholeWordOverride=1,ne.matchCaseOverride=1,ne.isRegexOverride=2),ee.getState().change(ne,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(oe=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(ee.getState().onFindReplaceStateChange(oe=>{(oe.matchCase||oe.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const ee={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(ee,!1)}this._session=null}_setSelections(ee){this._ignoreSelectionChange=!0,this._editor.setSelections(ee),this._ignoreSelectionChange=!1}_expandEmptyToWord(ee,se){if(!se.isEmpty())return se;const ne=this._editor.getConfiguredWordAtPosition(se.getStartPosition());return ne?new P.Y(se.startLineNumber,ne.startColumn,se.startLineNumber,ne.endColumn):se}_applySessionResult(ee){!ee||(this._setSelections(ee.selections),ee.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(ee.revealRange,ee.revealScrollType))}getSession(ee){return this._session}addSelectionToNextFindMatch(ee){if(!!this._editor.hasModel()){if(!this._session){const se=this._editor.getSelections();if(se.length>1){const oe=ee.getState().matchCase;if(!S(this._editor.getModel(),se,oe)){const Ee=this._editor.getModel(),Me=[];for(let ye=0,le=se.length;ye<le;ye++)Me[ye]=this._expandEmptyToWord(Ee,se[ye]);this._editor.setSelections(Me);return}}}this._beginSessionIfNeeded(ee),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(ee){this._beginSessionIfNeeded(ee),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(ee){this._beginSessionIfNeeded(ee),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(ee){this._beginSessionIfNeeded(ee),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(ee){if(!this._editor.hasModel())return;let se=null;const ne=ee.getState();if(ne.isRevealed&&ne.searchString.length>0&&ne.isRegex){const oe=this._editor.getModel();ne.searchScope?se=oe.findMatches(ne.searchString,ne.searchScope,ne.isRegex,ne.matchCase,ne.wholeWord?this._editor.getOption(119):null,!1,1073741824):se=oe.findMatches(ne.searchString,!0,ne.isRegex,ne.matchCase,ne.wholeWord?this._editor.getOption(119):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(ee),!this._session)return;se=this._session.selectAll(ne.searchScope)}if(se.length>0){const oe=this._editor.getSelection();for(let Se=0,Ee=se.length;Se<Ee;Se++){const Me=se[Se];if(Me.range.intersectRanges(oe)){se[Se]=se[0],se[0]=Me;break}}this._setSelections(se.map(Se=>new P.Y(Se.range.startLineNumber,Se.range.startColumn,Se.range.endLineNumber,Se.range.endColumn)))}}}K.ID="editor.contrib.multiCursorController";class H extends D.R6{run(ee,se){const ne=K.get(se);if(!ne)return;const oe=p.CommonFindController.get(se);if(!oe)return;const Se=se._getViewModel();if(Se){const Ee=Se.getCursorStates();this._run(ne,oe),b(Ee,Se.getCursorStates())}}}class X extends H{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:l.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:A.u.focus,primary:2082,weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:l.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(ee,se){ee.addSelectionToNextFindMatch(se)}}class j extends H{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:l.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:l.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(ee,se){ee.addSelectionToPreviousFindMatch(se)}}class x extends H{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:l.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:A.u.focus,primary:(0,O.gx)(2089,2082),weight:100}})}_run(ee,se){ee.moveSelectionToNextFindMatch(se)}}class Z extends H{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:l.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(ee,se){ee.moveSelectionToPreviousFindMatch(se)}}class T extends H{constructor(){super({id:"editor.action.selectHighlights",label:l.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:A.u.focus,primary:3114,weight:100},menuOpts:{menuId:n.eH.MenubarSelectionMenu,group:"3_multi",title:l.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(ee,se){ee.selectAll(se)}}class z extends H{constructor(){super({id:"editor.action.changeAll",label:l.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:a.Ao.and(A.u.writable,A.u.editorTextFocus),kbOpts:{kbExpr:A.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(ee,se){ee.selectAll(se)}}class G{constructor(ee,se,ne,oe,Se){this._model=ee,this._searchText=se,this._matchCase=ne,this._wordSeparators=oe,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,Se&&this._model===Se._model&&this._searchText===Se._searchText&&this._matchCase===Se._matchCase&&this._wordSeparators===Se._wordSeparators&&this._modelVersionId===Se._modelVersionId&&(this._cachedFindMatches=Se._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(ee=>ee.range),this._cachedFindMatches.sort(M.e.compareRangesUsingStarts)),this._cachedFindMatches}}let re=class wa extends V.JT{constructor(ee,se){super(),this._languageFeaturesService=se,this.editor=ee,this._isEnabled=ee.getOption(99),this._decorations=ee.createDecorationsCollection(),this.updateSoon=this._register(new r.pY(()=>this._update(),300)),this.state=null,this._register(ee.onDidChangeConfiguration(oe=>{this._isEnabled=ee.getOption(99)})),this._register(ee.onDidChangeCursorSelection(oe=>{!this._isEnabled||(oe.selection.isEmpty()?oe.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(ee.onDidChangeModel(oe=>{this._setState(null)})),this._register(ee.onDidChangeModelContent(oe=>{this._isEnabled&&this.updateSoon.schedule()}));const ne=p.CommonFindController.get(ee);ne&&this._register(ne.getState().onFindReplaceStateChange(oe=>{this._update()}))}_update(){this._setState(wa._createState(this.state,this._isEnabled,this.editor))}static _createState(ee,se,ne){if(!se||!ne.hasModel())return null;const oe=ne.getSelection();if(oe.startLineNumber!==oe.endLineNumber)return null;const Se=K.get(ne);if(!Se)return null;const Ee=p.CommonFindController.get(ne);if(!Ee)return null;let Me=Se.getSession(Ee);if(!Me){const ie=ne.getSelections();if(ie.length>1){const xe=Ee.getState().matchCase;if(!S(ne.getModel(),ie,xe))return null}Me=U.create(ne,Ee)}if(!Me||Me.currentMatch||/^[ \t]+$/.test(Me.searchText)||Me.searchText.length>200)return null;const ye=Ee.getState(),le=ye.matchCase;if(ye.isRevealed){let ie=ye.searchString;le||(ie=ie.toLowerCase());let ve=Me.searchText;if(le||(ve=ve.toLowerCase()),ie===ve&&Me.matchCase===ye.matchCase&&Me.wholeWord===ye.wholeWord&&!ye.isRegex)return null}return new G(ne.getModel(),Me.searchText,Me.matchCase,Me.wholeWord?ne.getOption(119):null,ee)}_setState(ee){if(this.state=ee,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const se=this.editor.getModel();if(se.isTooLargeForTokenization())return;const ne=this.state.findMatches(),oe=this.editor.getSelections();oe.sort(M.e.compareRangesUsingStarts);const Se=[];for(let ye=0,le=0,ie=ne.length,ve=oe.length;ye<ie;){const xe=ne[ye];if(le>=ve)Se.push(xe),ye++;else{const Ye=M.e.compareRangesUsingStarts(xe,oe[le]);Ye<0?((oe[le].isEmpty()||!M.e.areIntersecting(xe,oe[le]))&&Se.push(xe),ye++):(Ye>0||ye++,le++)}}const Ee=this._languageFeaturesService.documentHighlightProvider.has(se)&&this.editor.getOption(74),Me=Se.map(ye=>({range:ye,options:Ee?wa._SELECTION_HIGHLIGHT:wa._SELECTION_HIGHLIGHT_OVERVIEW}));this._decorations.set(Me)}dispose(){this._setState(null),super.dispose()}};re.ID="editor.contrib.selectionHighlighter",re._SELECTION_HIGHLIGHT_OVERVIEW=c.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,f.EN)(g.IYc),position:L.F5.Inline},overviewRuler:{color:(0,f.EN)(g.SPM),position:L.sh.Center}}),re._SELECTION_HIGHLIGHT=c.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),re=C([y(1,u.p)],re);function S(pe,ee,se){const ne=he(pe,ee[0],!se);for(let oe=1,Se=ee.length;oe<Se;oe++){const Ee=ee[oe];if(Ee.isEmpty())return!1;const Me=he(pe,Ee,!se);if(ne!==Me)return!1}return!0}function he(pe,ee,se){const ne=pe.getValueInRange(ee);return se?ne.toLowerCase():ne}class Ce extends D.R6{constructor(){super({id:"editor.action.focusNextCursor",label:l.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:l.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(ee,se,ne){if(!se.hasModel())return;const oe=se._getViewModel();if(oe.cursorConfig.readOnly)return;oe.model.pushStackElement();const Se=Array.from(oe.getCursorStates()),Ee=Se.shift();!Ee||(Se.push(Ee),oe.setCursorStates(ne.source,3,Se),oe.revealPrimaryCursor(ne.source,!0),b(Se,oe.getCursorStates()))}}class ge extends D.R6{constructor(){super({id:"editor.action.focusPreviousCursor",label:l.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:l.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(ee,se,ne){if(!se.hasModel())return;const oe=se._getViewModel();if(oe.cursorConfig.readOnly)return;oe.model.pushStackElement();const Se=Array.from(oe.getCursorStates()),Ee=Se.pop();!Ee||(Se.unshift(Ee),oe.setCursorStates(ne.source,3,Se),oe.revealPrimaryCursor(ne.source,!0),b(Se,oe.getCursorStates()))}}(0,D._K)(K.ID,K),(0,D._K)(re.ID,re),(0,D.Qr)(_),(0,D.Qr)(E),(0,D.Qr)(I),(0,D.Qr)(X),(0,D.Qr)(j),(0,D.Qr)(x),(0,D.Qr)(Z),(0,D.Qr)(T),(0,D.Qr)(z),(0,D.Qr)(R),(0,D.Qr)(J),(0,D.Qr)(Ce),(0,D.Qr)(ge)},20465:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{TriggerParameterHintsAction:function(){return Se}});var w=i(9917),r=i(16830),O=i(29102),V=i(96887),D=i(71050),$=i(17301),M=i(98401),P=i(70666),A=i(50187),L=i(71922),c=i(88216),p=i(94565),l=i(16141),n=function(ye,le,ie,ve){function xe(Ye){return Ye instanceof ie?Ye:new ie(function(at){at(Ye)})}return new(ie||(ie=Promise))(function(Ye,at){function qe(st){try{Je(ve.next(st))}catch(et){at(et)}}function Re(st){try{Je(ve.throw(st))}catch(et){at(et)}}function Je(st){st.done?Ye(st.value):xe(st.value).then(qe,Re)}Je((ve=ve.apply(ye,le||[])).next())})};const a={Visible:new l.uy("parameterHintsVisible",!1),MultipleSignatures:new l.uy("parameterHintsMultipleSignatures",!1)};function g(ye,le,ie,ve,xe){return n(this,void 0,void 0,function*(){const Ye=ye.ordered(le);for(const at of Ye)try{const qe=yield at.provideSignatureHelp(le,ie,xe,ve);if(qe)return qe}catch(qe){(0,$.Cp)(qe)}})}p.P0.registerCommand("_executeSignatureHelpProvider",(ye,...le)=>n(void 0,void 0,void 0,function*(){const[ie,ve,xe]=le;(0,M.p_)(P.o.isUri(ie)),(0,M.p_)(A.L.isIPosition(ve)),(0,M.p_)(typeof xe=="string"||!xe);const Ye=ye.get(L.p),at=yield ye.get(c.S).createModelReference(ie);try{const qe=yield g(Ye.signatureHelpProvider,at.object.textEditorModel,A.L.lift(ve),{triggerKind:V.WW.Invoke,isRetrigger:!1,triggerCharacter:xe},D.T.None);return qe?(setTimeout(()=>qe.dispose(),0),qe.value):void 0}finally{at.dispose()}}));var f=i(63580),u=i(72065),C=i(65321),y=i(57924),b=i(41416),_=i(73046),E=i(4669),I=i(97295),R=i(72042),J=i(8598),Q=i(15393),U=i(44906),K=function(ye,le,ie,ve){function xe(Ye){return Ye instanceof ie?Ye:new ie(function(at){at(Ye)})}return new(ie||(ie=Promise))(function(Ye,at){function qe(st){try{Je(ve.next(st))}catch(et){at(et)}}function Re(st){try{Je(ve.throw(st))}catch(et){at(et)}}function Je(st){st.done?Ye(st.value):xe(st.value).then(qe,Re)}Je((ve=ve.apply(ye,le||[])).next())})},H;(function(ye){ye.Default={type:0};class le{constructor(xe,Ye){this.request=xe,this.previouslyActiveHints=Ye,this.type=2}}ye.Pending=le;class ie{constructor(xe){this.hints=xe,this.type=1}}ye.Active=ie})(H||(H={}));class X extends w.JT{constructor(le,ie,ve=X.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new E.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=H.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new w.XK),this.triggerChars=new U.q,this.retriggerChars=new U.q,this.triggerId=0,this.editor=le,this.providers=ie,this.throttledDelayer=new Q.vp(ve),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(xe=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(xe=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(xe=>this.onCursorChange(xe))),this._register(this.editor.onDidChangeModelContent(xe=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(xe=>this.onDidType(xe))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(le){this._state.type===2&&this._state.request.cancel(),this._state=le}cancel(le=!1){this.state=H.Default,this.throttledDelayer.cancel(),le||this._onChangedHints.fire(void 0)}trigger(le,ie){const ve=this.editor.getModel();if(!ve||!this.providers.has(ve))return;const xe=++this.triggerId;this._pendingTriggers.push(le),this.throttledDelayer.trigger(()=>this.doTrigger(xe),ie).catch($.dL)}next(){if(this.state.type!==1)return;const le=this.state.hints.signatures.length,ie=this.state.hints.activeSignature,ve=ie%le===le-1,xe=this.editor.getOption(78).cycle;if((le<2||ve)&&!xe){this.cancel();return}this.updateActiveSignature(ve&&xe?0:ie+1)}previous(){if(this.state.type!==1)return;const le=this.state.hints.signatures.length,ie=this.state.hints.activeSignature,ve=ie===0,xe=this.editor.getOption(78).cycle;if((le<2||ve)&&!xe){this.cancel();return}this.updateActiveSignature(ve&&xe?le-1:ie-1)}updateActiveSignature(le){this.state.type===1&&(this.state=new H.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:le})),this._onChangedHints.fire(this.state.hints))}doTrigger(le){return K(this,void 0,void 0,function*(){const ie=this.state.type===1||this.state.type===2,ve=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const xe=this._pendingTriggers.reduce(j);this._pendingTriggers=[];const Ye={triggerKind:xe.triggerKind,triggerCharacter:xe.triggerCharacter,isRetrigger:ie,activeSignatureHelp:ve};if(!this.editor.hasModel())return!1;const at=this.editor.getModel(),qe=this.editor.getPosition();this.state=new H.Pending((0,Q.PG)(Re=>g(this.providers,at,qe,Ye,Re)),ve);try{const Re=yield this.state.request;return le!==this.triggerId?(Re==null||Re.dispose(),!1):!Re||!Re.value.signatures||Re.value.signatures.length===0?(Re==null||Re.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new H.Active(Re.value),this._lastSignatureHelpResult.value=Re,this._onChangedHints.fire(this.state.hints),!0)}catch(Re){return le===this.triggerId&&(this.state=H.Default),(0,$.dL)(Re),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new U.q,this.retriggerChars=new U.q;const le=this.editor.getModel();if(!!le)for(const ie of this.providers.ordered(le)){for(const ve of ie.signatureHelpTriggerCharacters||[])this.triggerChars.add(ve.charCodeAt(0)),this.retriggerChars.add(ve.charCodeAt(0));for(const ve of ie.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(ve.charCodeAt(0))}}onDidType(le){if(!this.triggerOnType)return;const ie=le.length-1,ve=le.charCodeAt(ie);(this.triggerChars.has(ve)||this.isTriggered&&this.retriggerChars.has(ve))&&this.trigger({triggerKind:V.WW.TriggerCharacter,triggerCharacter:le.charAt(ie)})}onCursorChange(le){le.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:V.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:V.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(78).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}X.DEFAULT_DELAY=120;function j(ye,le){switch(le.triggerKind){case V.WW.Invoke:return le;case V.WW.ContentChange:return ye;case V.WW.TriggerCharacter:default:return le}}var x=i(50988),Z=i(73910),T=i(59554),z=i(92321),G=i(97781),re=function(ye,le,ie,ve){var xe=arguments.length,Ye=xe<3?le:ve===null?ve=Object.getOwnPropertyDescriptor(le,ie):ve,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ye=Reflect.decorate(ye,le,ie,ve);else for(var qe=ye.length-1;qe>=0;qe--)(at=ye[qe])&&(Ye=(xe<3?at(Ye):xe>3?at(le,ie,Ye):at(le,ie))||Ye);return xe>3&&Ye&&Object.defineProperty(le,ie,Ye),Ye},S=function(ye,le){return function(ie,ve){le(ie,ve,ye)}};const he=C.$,Ce=(0,T.q5)("parameter-hints-next",_.lA.chevronDown,f.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),ge=(0,T.q5)("parameter-hints-previous",_.lA.chevronUp,f.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let pe=class Xc extends w.JT{constructor(le,ie,ve,xe,Ye){super(),this.editor=le,this.renderDisposeables=this._register(new w.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new J.$({editor:le},xe,ve)),this.model=this._register(new X(le,Ye.signatureHelpProvider)),this.keyVisible=a.Visible.bindTo(ie),this.keyMultipleSignatures=a.MultipleSignatures.bindTo(ie),this._register(this.model.onChangedHints(at=>{at?(this.show(),this.render(at)):this.hide()}))}createParameterHintDOMNodes(){const le=he(".editor-widget.parameter-hints-widget"),ie=C.R3(le,he(".phwrapper"));ie.tabIndex=-1;const ve=C.R3(ie,he(".controls")),xe=C.R3(ve,he(".button"+G.kS.asCSSSelector(ge))),Ye=C.R3(ve,he(".overloads")),at=C.R3(ve,he(".button"+G.kS.asCSSSelector(Ce)));this._register(C.nm(xe,"click",we=>{C.zB.stop(we),this.previous()})),this._register(C.nm(at,"click",we=>{C.zB.stop(we),this.next()}));const qe=he(".body"),Re=new b.s$(qe,{alwaysConsumeMouseWheel:!0});this._register(Re),ie.appendChild(Re.getDomNode());const Je=C.R3(qe,he(".signature")),st=C.R3(qe,he(".docs"));le.style.userSelect="text",this.domNodes={element:le,signature:Je,overloads:Ye,docs:st,scrollbar:Re},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(we=>{this.visible&&this.editor.layoutContentWidget(this)}));const et=()=>{if(!this.domNodes)return;const we=this.editor.getOption(46);this.domNodes.element.style.fontSize=`${we.fontSize}px`,this.domNodes.element.style.lineHeight=`${we.lineHeight/we.fontSize}`};et(),this._register(E.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(we=>we.hasChanged(46)).on(et,null)),this._register(this.editor.onDidLayoutChange(we=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var le;(le=this.domNodes)===null||le===void 0||le.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var le;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(le=this.domNodes)===null||le===void 0||le.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(le){var ie;if(this.renderDisposeables.clear(),!this.domNodes)return;const ve=le.signatures.length>1;this.domNodes.element.classList.toggle("multiple",ve),this.keyMultipleSignatures.set(ve),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const xe=le.signatures[le.activeSignature];if(!xe)return;const Ye=C.R3(this.domNodes.signature,he(".code")),at=this.editor.getOption(46);Ye.style.fontSize=`${at.fontSize}px`,Ye.style.fontFamily=at.fontFamily;const qe=xe.parameters.length>0,Re=(ie=xe.activeParameter)!==null&&ie!==void 0?ie:le.activeParameter;if(qe)this.renderParameters(Ye,xe,Re);else{const et=C.R3(Ye,he("span"));et.textContent=xe.label}const Je=xe.parameters[Re];if(Je!=null&&Je.documentation){const et=he("span.documentation");if(typeof Je.documentation=="string")et.textContent=Je.documentation;else{const we=this.renderMarkdownDocs(Je.documentation);et.appendChild(we.element)}C.R3(this.domNodes.docs,he("p",{},et))}if(xe.documentation!==void 0)if(typeof xe.documentation=="string")C.R3(this.domNodes.docs,he("p",{},xe.documentation));else{const et=this.renderMarkdownDocs(xe.documentation);C.R3(this.domNodes.docs,et.element)}const st=this.hasDocs(xe,Je);if(this.domNodes.signature.classList.toggle("has-docs",st),this.domNodes.docs.classList.toggle("empty",!st),this.domNodes.overloads.textContent=String(le.activeSignature+1).padStart(le.signatures.length.toString().length,"0")+"/"+le.signatures.length,Je){let et="";const we=xe.parameters[Re];Array.isArray(we.label)?et=xe.label.substring(we.label[0],we.label[1]):et=we.label,we.documentation&&(et+=typeof we.documentation=="string"?`, ${we.documentation}`:`, ${we.documentation.value}`),xe.documentation&&(et+=typeof xe.documentation=="string"?`, ${xe.documentation}`:`, ${xe.documentation.value}`),this.announcedLabel!==et&&(y.Z9(f.NC("hint","{0}, hint",et)),this.announcedLabel=et)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(le){const ie=this.renderDisposeables.add(this.markdownRenderer.render(le,{asyncRenderCallback:()=>{var ve;(ve=this.domNodes)===null||ve===void 0||ve.scrollbar.scanDomNode()}}));return ie.element.classList.add("markdown-docs"),ie}hasDocs(le,ie){return!!(ie&&typeof ie.documentation=="string"&&(0,M.cW)(ie.documentation).length>0||ie&&typeof ie.documentation=="object"&&(0,M.cW)(ie.documentation).value.length>0||le.documentation&&typeof le.documentation=="string"&&(0,M.cW)(le.documentation).length>0||le.documentation&&typeof le.documentation=="object"&&(0,M.cW)(le.documentation.value).length>0)}renderParameters(le,ie,ve){const[xe,Ye]=this.getParameterLabelOffsets(ie,ve),at=document.createElement("span");at.textContent=ie.label.substring(0,xe);const qe=document.createElement("span");qe.textContent=ie.label.substring(xe,Ye),qe.className="parameter active";const Re=document.createElement("span");Re.textContent=ie.label.substring(Ye),C.R3(le,at,qe,Re)}getParameterLabelOffsets(le,ie){const ve=le.parameters[ie];if(ve){if(Array.isArray(ve.label))return ve.label;if(ve.label.length){const xe=new RegExp(`(\\W|^)${(0,I.ec)(ve.label)}(?=\\W|$)`,"g");xe.test(le.label);const Ye=xe.lastIndex-ve.label.length;return Ye>=0?[Ye,xe.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Xc.ID}trigger(le){this.model.trigger(le,0)}updateMaxHeight(){if(!this.domNodes)return;const ie=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=ie;const ve=this.domNodes.element.getElementsByClassName("phwrapper");ve.length&&(ve[0].style.maxHeight=ie)}};pe.ID="editor.widget.parameterHintsWidget",pe=re([S(1,l.i6),S(2,x.v4),S(3,R.O),S(4,L.p)],pe);const ee=(0,Z.P6G)("editorHoverWidget.highlightForeground",{dark:Z.Gwp,light:Z.Gwp,hcDark:Z.Gwp,hcLight:Z.Gwp},f.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));(0,G.Ic)((ye,le)=>{const ie=ye.getColor(Z.CNo);if(ie){const Je=(0,z.c3)(ye.type)?2:1;le.addRule(`.monaco-editor .parameter-hints-widget { border: ${Je}px solid ${ie}; }`),le.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${ie.transparent(.5)}; }`),le.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${ie.transparent(.5)}; }`)}const ve=ye.getColor(Z.yJx);ve&&le.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${ve}; }`);const xe=ye.getColor(Z.url);xe&&le.addRule(`.monaco-editor .parameter-hints-widget a { color: ${xe}; }`);const Ye=ye.getColor(Z.sgC);Ye&&le.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${Ye}; }`);const at=ye.getColor(Z.Sbf);at&&le.addRule(`.monaco-editor .parameter-hints-widget { color: ${at}; }`);const qe=ye.getColor(Z.SwI);qe&&le.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${qe}; }`);const Re=ye.getColor(ee);Re&&le.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${Re}}`)});var se=function(ye,le,ie,ve){var xe=arguments.length,Ye=xe<3?le:ve===null?ve=Object.getOwnPropertyDescriptor(le,ie):ve,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ye=Reflect.decorate(ye,le,ie,ve);else for(var qe=ye.length-1;qe>=0;qe--)(at=ye[qe])&&(Ye=(xe<3?at(Ye):xe>3?at(le,ie,Ye):at(le,ie))||Ye);return xe>3&&Ye&&Object.defineProperty(le,ie,Ye),Ye},ne=function(ye,le){return function(ie,ve){le(ie,ve,ye)}};let oe=class Jc extends w.JT{constructor(le,ie){super(),this.editor=le,this.widget=this._register(ie.createInstance(pe,this.editor))}static get(le){return le.getContribution(Jc.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(le){this.widget.trigger(le)}};oe.ID="editor.controller.parameterHints",oe=se([ne(1,u.TG)],oe);class Se extends r.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:f.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:O.u.hasSignatureHelpProvider,kbOpts:{kbExpr:O.u.editorTextFocus,primary:3082,weight:100}})}run(le,ie){const ve=oe.get(ie);ve&&ve.trigger({triggerKind:V.WW.Invoke})}}(0,r._K)(oe.ID,oe),(0,r.Qr)(Se);const Ee=100+75,Me=r._l.bindToContribution(oe.get);(0,r.fK)(new Me({id:"closeParameterHints",precondition:a.Visible,handler:ye=>ye.cancel(),kbOpts:{weight:Ee,kbExpr:O.u.focus,primary:9,secondary:[1033]}})),(0,r.fK)(new Me({id:"showPrevParameterHint",precondition:l.Ao.and(a.Visible,a.MultipleSignatures),handler:ye=>ye.previous(),kbOpts:{weight:Ee,kbExpr:O.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,r.fK)(new Me({id:"showNextParameterHint",precondition:l.Ao.and(a.Visible,a.MultipleSignatures),handler:ye=>ye.next(),kbOpts:{weight:Ee,kbExpr:O.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},75426:function(Ot,Te,i){"use strict";i.d(Te,{Fw:function(){return X},Jy:function(){return j},vk:function(){return z},rc:function(){return Z},SC:function(){return he},M8:function(){return Ce},KY:function(){return G},IH:function(){return re},R7:function(){return S}});var w=i(65321),r=i(90317),O=i(74741),V=i(73046),D=i(41264),$=i(4669),M=i(36248),P=i(16830),A=i(11640),L=i(84527),c=i(39218),p=i(44742),l=i(9917),n=i(24314),a=i(92035);const g=new D.Il(new D.VS(0,122,204)),f={showArrow:!0,showFrame:!0,className:"",frameColor:g,arrowColor:g,keepEditorSelection:!1},u="vs.editor.contrib.zoneWidget";class C{constructor(le,ie,ve,xe,Ye,at){this.id="",this.domNode=le,this.afterLineNumber=ie,this.afterColumn=ve,this.heightInLines=xe,this._onDomNodeTop=Ye,this._onComputedHeight=at}onDomNodeTop(le){this._onDomNodeTop(le)}onComputedHeight(le){this._onComputedHeight(le)}}class y{constructor(le,ie){this._id=le,this._domNode=ie}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class b{constructor(le){this._editor=le,this._ruleName=b._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),w.uN(this._ruleName)}set color(le){this._color!==le&&(this._color=le,this._updateStyle())}set height(le){this._height!==le&&(this._height=le,this._updateStyle())}_updateStyle(){w.uN(this._ruleName),w.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(le){le.column===1&&(le={lineNumber:le.lineNumber,column:2}),this._decorations.set([{range:n.e.fromPositions(le),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}b._IdGenerator=new p.R(".arrow-decoration-");class _{constructor(le,ie={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new l.SL,this.container=null,this._isShowing=!1,this.editor=le,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=M.I8(ie),M.jB(this.options,f,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(ve=>{const xe=this._getWidth(ve);this.domNode.style.width=xe+"px",this.domNode.style.left=this._getLeft(ve)+"px",this._onWidth(xe)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(le=>{this._viewZone&&le.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new b(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(le){le.frameColor&&(this.options.frameColor=le.frameColor),le.arrowColor&&(this.options.arrowColor=le.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const le=this.options.frameColor.toString();this.container.style.borderTopColor=le,this.container.style.borderBottomColor=le}if(this._arrow&&this.options.arrowColor){const le=this.options.arrowColor.toString();this._arrow.color=le}}_getWidth(le){return le.width-le.minimap.minimapWidth-le.verticalScrollbarWidth}_getLeft(le){return le.minimap.minimapWidth>0&&le.minimap.minimapLeft===0?le.minimap.minimapWidth:0}_onViewZoneTop(le){this.domNode.style.top=le+"px"}_onViewZoneHeight(le){if(this.domNode.style.height=`${le}px`,this.container){const ie=le-this._decoratingElementsHeight();this.container.style.height=`${ie}px`;const ve=this.editor.getLayoutInfo();this._doLayout(ie,this._getWidth(ve))}this._resizeSash&&this._resizeSash.layout()}get position(){const le=this._positionMarkerId.getRange(0);if(!!le)return le.getStartPosition()}show(le,ie){const ve=n.e.isIRange(le)?n.e.lift(le):n.e.fromPositions(le);this._isShowing=!0,this._showImpl(ve,ie),this._isShowing=!1,this._positionMarkerId.set([{range:ve,options:a.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(le=>{this._viewZone&&le.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){const le=this.editor.getOption(61);let ie=0;if(this.options.showArrow){const ve=Math.round(le/3);ie+=2*ve}if(this.options.showFrame){const ve=Math.round(le/9);ie+=2*ve}return ie}_showImpl(le,ie){const ve=le.getStartPosition(),xe=this.editor.getLayoutInfo(),Ye=this._getWidth(xe);this.domNode.style.width=`${Ye}px`,this.domNode.style.left=this._getLeft(xe)+"px";const at=document.createElement("div");at.style.overflow="hidden";const qe=this.editor.getOption(61),Re=Math.max(12,this.editor.getLayoutInfo().height/qe*.8);ie=Math.min(ie,Re);let Je=0,st=0;if(this._arrow&&this.options.showArrow&&(Je=Math.round(qe/3),this._arrow.height=Je,this._arrow.show(ve)),this.options.showFrame&&(st=Math.round(qe/9)),this.editor.changeViewZones(Ne=>{this._viewZone&&Ne.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new C(at,ve.lineNumber,ve.column,ie,de=>this._onViewZoneTop(de),de=>this._onViewZoneHeight(de)),this._viewZone.id=Ne.addZone(this._viewZone),this._overlayWidget=new y(u+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const Ne=this.options.frameWidth?this.options.frameWidth:st;this.container.style.borderTopWidth=Ne+"px",this.container.style.borderBottomWidth=Ne+"px"}const et=ie*qe-this._decoratingElementsHeight();this.container&&(this.container.style.top=Je+"px",this.container.style.height=et+"px",this.container.style.overflow="hidden"),this._doLayout(et,Ye),this.options.keepEditorSelection||this.editor.setSelection(le);const we=this.editor.getModel();if(we){const Ne=le.endLineNumber+1;Ne<=we.getLineCount()?this.revealLine(Ne,!1):this.revealLine(we.getLineCount(),!0)}}revealLine(le,ie){ie?this.editor.revealLineInCenter(le,0):this.editor.revealLine(le,0)}setCssClass(le,ie){!this.container||(ie&&this.container.classList.remove(ie),this.container.classList.add(le))}_onWidth(le){}_doLayout(le,ie){}_relayout(le){this._viewZone&&this._viewZone.heightInLines!==le&&this.editor.changeViewZones(ie=>{this._viewZone&&(this._viewZone.heightInLines=le,ie.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new c.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let le;this._disposables.add(this._resizeSash.onDidStart(ie=>{this._viewZone&&(le={startY:ie.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{le=void 0})),this._disposables.add(this._resizeSash.onDidChange(ie=>{if(le){const ve=(ie.currentY-le.startY)/this.editor.getOption(61),xe=ve<0?Math.ceil(ve):Math.floor(ve),Ye=le.heightInLines+xe;Ye>5&&Ye<35&&this._relayout(Ye)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const le=this.editor.getLayoutInfo();return le.width-le.minimap.minimapWidth}}var E=i(63580),I=i(11468),R=i(16141),J=i(65026),Q=i(72065),U=i(73910),K=function(ye,le,ie,ve){var xe=arguments.length,Ye=xe<3?le:ve===null?ve=Object.getOwnPropertyDescriptor(le,ie):ve,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ye=Reflect.decorate(ye,le,ie,ve);else for(var qe=ye.length-1;qe>=0;qe--)(at=ye[qe])&&(Ye=(xe<3?at(Ye):xe>3?at(le,ie,Ye):at(le,ie))||Ye);return xe>3&&Ye&&Object.defineProperty(le,ie,Ye),Ye},H=function(ye,le){return function(ie,ve){le(ie,ve,ye)}};const X=(0,Q.yh)("IPeekViewService");(0,J.z)(X,class{constructor(){this._widgets=new Map}addExclusiveWidget(ye,le){const ie=this._widgets.get(ye);ie&&(ie.listener.dispose(),ie.widget.dispose());const ve=()=>{const xe=this._widgets.get(ye);xe&&xe.widget===le&&(xe.listener.dispose(),this._widgets.delete(ye))};this._widgets.set(ye,{widget:le,listener:le.onDidClose(ve)})}});var j;(function(ye){ye.inPeekEditor=new R.uy("inReferenceSearchEditor",!0,E.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),ye.notInPeekEditor=ye.inPeekEditor.toNegated()})(j||(j={}));let x=class{constructor(le,ie){le instanceof L.H&&j.inPeekEditor.bindTo(ie)}dispose(){}};x.ID="editor.contrib.referenceController",x=K([H(1,R.i6)],x),(0,P._K)(x.ID,x);function Z(ye){const le=ye.get(A.$).getFocusedCodeEditor();return le instanceof L.H?le.getParentEditor():le}const T={headerBackgroundColor:D.Il.white,primaryHeadingColor:D.Il.fromHex("#333333"),secondaryHeadingColor:D.Il.fromHex("#6c6c6cb3")};let z=class extends _{constructor(le,ie,ve){super(le,ie),this.instantiationService=ve,this._onDidClose=new $.Q5,this.onDidClose=this._onDidClose.event,M.jB(this.options,T,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(le){const ie=this.options;le.headerBackgroundColor&&(ie.headerBackgroundColor=le.headerBackgroundColor),le.primaryHeadingColor&&(ie.primaryHeadingColor=le.primaryHeadingColor),le.secondaryHeadingColor&&(ie.secondaryHeadingColor=le.secondaryHeadingColor),super.style(le)}_applyStyles(){super._applyStyles();const le=this.options;this._headElement&&le.headerBackgroundColor&&(this._headElement.style.backgroundColor=le.headerBackgroundColor.toString()),this._primaryHeading&&le.primaryHeadingColor&&(this._primaryHeading.style.color=le.primaryHeadingColor.toString()),this._secondaryHeading&&le.secondaryHeadingColor&&(this._secondaryHeading.style.color=le.secondaryHeadingColor.toString()),this._bodyElement&&le.frameColor&&(this._bodyElement.style.borderColor=le.frameColor.toString())}_fillContainer(le){this.setCssClass("peekview-widget"),this._headElement=w.$(".head"),this._bodyElement=w.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),le.appendChild(this._headElement),le.appendChild(this._bodyElement)}_fillHead(le,ie){const ve=w.$(".peekview-title");this.options.supportOnTitleClick&&(ve.classList.add("clickable"),w.mu(ve,"click",at=>this._onTitleClick(at))),w.R3(this._headElement,ve),this._fillTitleIcon(ve),this._primaryHeading=w.$("span.filename"),this._secondaryHeading=w.$("span.dirname"),this._metaHeading=w.$("span.meta"),w.R3(ve,this._primaryHeading,this._secondaryHeading,this._metaHeading);const xe=w.$(".peekview-actions");w.R3(this._headElement,xe);const Ye=this._getActionBarOptions();this._actionbarWidget=new r.o(xe,Ye),this._disposables.add(this._actionbarWidget),ie||this._actionbarWidget.push(new O.aU("peekview.close",E.NC("label.close","Close"),V.lA.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(le){}_getActionBarOptions(){return{actionViewItemProvider:I.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(le){}setTitle(le,ie){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=le,this._primaryHeading.setAttribute("title",le),ie?this._secondaryHeading.innerText=ie:w.PO(this._secondaryHeading))}setMetaTitle(le){this._metaHeading&&(le?(this._metaHeading.innerText=le,w.$Z(this._metaHeading)):w.Cp(this._metaHeading))}_doLayout(le,ie){if(!this._isShowing&&le<0){this.dispose();return}const ve=Math.ceil(this.editor.getOption(61)*1.2),xe=Math.round(le-(ve+2));this._doLayoutHead(ve,ie),this._doLayoutBody(xe,ie)}_doLayoutHead(le,ie){this._headElement&&(this._headElement.style.height=`${le}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(le,ie){this._bodyElement&&(this._bodyElement.style.height=`${le}px`)}};z=K([H(2,Q.TG)],z);const G=(0,U.P6G)("peekViewTitle.background",{dark:(0,U.ZnX)(U.c63,.1),light:(0,U.ZnX)(U.c63,.1),hcDark:null,hcLight:null},E.NC("peekViewTitleBackground","Background color of the peek view title area.")),re=(0,U.P6G)("peekViewTitleLabel.foreground",{dark:D.Il.white,light:D.Il.black,hcDark:D.Il.white,hcLight:U.NOs},E.NC("peekViewTitleForeground","Color of the peek view title.")),S=(0,U.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},E.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),he=(0,U.P6G)("peekView.border",{dark:U.c63,light:U.c63,hcDark:U.lRK,hcLight:U.lRK},E.NC("peekViewBorder","Color of the peek view borders and arrow.")),Ce=(0,U.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:D.Il.black,hcLight:D.Il.white},E.NC("peekViewResultsBackground","Background color of the peek view result list.")),ge=(0,U.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:D.Il.white,hcLight:U.NOs},E.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),pe=(0,U.P6G)("peekViewResult.fileForeground",{dark:D.Il.white,light:"#1E1E1E",hcDark:D.Il.white,hcLight:U.NOs},E.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),ee=(0,U.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},E.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),se=(0,U.P6G)("peekViewResult.selectionForeground",{dark:D.Il.white,light:"#6C6C6C",hcDark:D.Il.white,hcLight:U.NOs},E.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),ne=(0,U.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:D.Il.black,hcLight:D.Il.white},E.NC("peekViewEditorBackground","Background color of the peek view editor.")),oe=(0,U.P6G)("peekViewEditorGutter.background",{dark:ne,light:ne,hcDark:ne,hcLight:ne},E.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),Se=(0,U.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},E.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),Ee=(0,U.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},E.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),Me=(0,U.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:U.xL1,hcLight:U.xL1},E.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},83943:function(Ot,Te,i){"use strict";i.d(Te,{X:function(){return P}});var w=i(88289),r=i(9917),O=i(98401),V=i(65520),D=i(84973),$=i(8625),M=i(97781);class P{constructor(L){this.options=L,this.rangeHighlightDecorationId=void 0}provide(L,c){var p;const l=new r.SL;L.canAcceptInBackground=!!(!((p=this.options)===null||p===void 0)&&p.canAcceptInBackground),L.matchOnLabel=L.matchOnDescription=L.matchOnDetail=L.sortByLabel=!1;const n=l.add(new r.XK);return n.value=this.doProvide(L,c),l.add(this.onDidActiveTextEditorControlChange(()=>{n.value=void 0,n.value=this.doProvide(L,c)})),l}doProvide(L,c){const p=new r.SL,l=this.activeTextEditorControl;if(l&&this.canProvideWithTextEditor(l)){const n={editor:l},a=(0,V.Pi)(l);if(a){let g=(0,O.f6)(l.saveViewState());p.add(a.onDidChangeCursorPosition(()=>{g=(0,O.f6)(l.saveViewState())})),n.restoreViewState=()=>{g&&l===this.activeTextEditorControl&&l.restoreViewState(g)},p.add((0,w.I)(c.onCancellationRequested)(()=>{var f;return(f=n.restoreViewState)===null||f===void 0?void 0:f.call(n)}))}p.add((0,r.OF)(()=>this.clearDecorations(l))),p.add(this.provideWithTextEditor(n,L,c))}else p.add(this.provideWithoutTextEditor(L,c));return p}canProvideWithTextEditor(L){return!0}gotoLocation({editor:L},c){L.setSelection(c.range),L.revealRangeInCenter(c.range,0),c.preserveFocus||L.focus()}getModel(L){var c;return(0,V.QI)(L)?(c=L.getModel())===null||c===void 0?void 0:c.modified:L.getModel()}addDecorations(L,c){L.changeDecorations(p=>{const l=[];this.rangeHighlightDecorationId&&(l.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),l.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const n=[{range:c,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:c,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,M.EN)($.m9),position:D.sh.Full}}}],[a,g]=p.deltaDecorations(l,n);this.rangeHighlightDecorationId={rangeHighlightId:a,overviewRulerDecorationId:g}})}clearDecorations(L){const c=this.rangeHighlightDecorationId;c&&(L.changeDecorations(p=>{p.deltaDecorations([c.overviewRulerDecorationId,c.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},73945:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{ReadOnlyMessageController:function(){return D}});var w=i(9917),r=i(16830),O=i(95342),V=i(63580);class D extends w.JT{constructor(M){super(),this.editor=M,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const M=O.O.get(this.editor);M&&this.editor.hasModel()&&(this.editor.isSimpleWidget?M.showMessage(V.NC("editor.simple.readonly","Cannot edit in read-only input"),this.editor.getPosition()):M.showMessage(V.NC("editor.readonly","Cannot edit in read-only editor"),this.editor.getPosition()))}}D.ID="editor.contrib.readOnlyMessageController",(0,r._K)(D.ID,D)},7128:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{RenameAction:function(){return S},rename:function(){return G}});var w=i(57924),r=i(15393),O=i(71050),V=i(17301),D=i(9917),$=i(98401),M=i(70666),P=i(16467),A=i(16830),L=i(66007),c=i(11640),p=i(50187),l=i(24314),n=i(29102),a=i(71765),g=i(95342),f=i(63580),u=i(23193),C=i(16141),y=i(72065),b=i(43557),_=i(59422),E=i(90535),I=i(89872),R=i(91847),J=i(73910),Q=i(97781),U=function(Ce,ge,pe,ee){var se=arguments.length,ne=se<3?ge:ee===null?ee=Object.getOwnPropertyDescriptor(ge,pe):ee,oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(Ce,ge,pe,ee);else for(var Se=Ce.length-1;Se>=0;Se--)(oe=Ce[Se])&&(ne=(se<3?oe(ne):se>3?oe(ge,pe,ne):oe(ge,pe))||ne);return se>3&&ne&&Object.defineProperty(ge,pe,ne),ne},K=function(Ce,ge){return function(pe,ee){ge(pe,ee,Ce)}};const H=new C.uy("renameInputVisible",!1,(0,f.NC)("renameInputVisible","Whether the rename input widget is visible"));let X=class{constructor(ge,pe,ee,se,ne){this._editor=ge,this._acceptKeybindings=pe,this._themeService=ee,this._keybindingService=se,this._disposables=new D.SL,this.allowEditorOverflow=!0,this._visibleContextKey=H.bindTo(ne),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(oe=>{oe.hasChanged(46)&&this._updateFont()})),this._disposables.add(ee.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,f.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const ge=()=>{var pe,ee;const[se,ne]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(se),this._label.innerText=(0,f.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(pe=this._keybindingService.lookupKeybinding(se))===null||pe===void 0?void 0:pe.getLabel(),(ee=this._keybindingService.lookupKeybinding(ne))===null||ee===void 0?void 0:ee.getLabel())};ge(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(ge)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(ge){var pe,ee,se,ne;if(!this._input||!this._domNode)return;const oe=ge.getColor(J.rh);this._domNode.style.backgroundColor=String((pe=ge.getColor(J.D0T))!==null&&pe!==void 0?pe:""),this._domNode.style.boxShadow=oe?` 0 0 8px 2px ${oe}`:"",this._domNode.style.color=String((ee=ge.getColor(J.zJb))!==null&&ee!==void 0?ee:""),this._input.style.backgroundColor=String((se=ge.getColor(J.sEe))!==null&&se!==void 0?se:"");const Se=ge.getColor(J.dt_);this._input.style.borderWidth=Se?"1px":"0px",this._input.style.borderStyle=Se?"solid":"none",this._input.style.borderColor=(ne=Se==null?void 0:Se.toString())!==null&&ne!==void 0?ne:"none"}_updateFont(){if(!this._input||!this._label)return;const ge=this._editor.getOption(46);this._input.style.fontFamily=ge.fontFamily,this._input.style.fontWeight=ge.fontWeight,this._input.style.fontSize=`${ge.fontSize}px`,this._label.style.fontSize=`${ge.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(ge){ge||this.cancelInput(!0)}acceptInput(ge){var pe;(pe=this._currentAcceptInput)===null||pe===void 0||pe.call(this,ge)}cancelInput(ge){var pe;(pe=this._currentCancelInput)===null||pe===void 0||pe.call(this,ge)}getInput(ge,pe,ee,se,ne,oe){this._domNode.classList.toggle("preview",ne),this._position=new p.L(ge.startLineNumber,ge.startColumn),this._input.value=pe,this._input.setAttribute("selectionStart",ee.toString()),this._input.setAttribute("selectionEnd",se.toString()),this._input.size=Math.max((ge.endColumn-ge.startColumn)*1.1,20);const Se=new D.SL;return new Promise(Ee=>{this._currentCancelInput=Me=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Ee(Me),!0),this._currentAcceptInput=Me=>{if(this._input.value.trim().length===0||this._input.value===pe){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,Ee({newName:this._input.value,wantsPreview:ne&&Me})},Se.add(oe.onCancellationRequested(()=>this.cancelInput(!0))),Se.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{Se.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};X=U([K(2,Q.XE),K(3,R.d),K(4,C.i6)],X);var j=i(71922),x=function(Ce,ge,pe,ee){var se=arguments.length,ne=se<3?ge:ee===null?ee=Object.getOwnPropertyDescriptor(ge,pe):ee,oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(Ce,ge,pe,ee);else for(var Se=Ce.length-1;Se>=0;Se--)(oe=Ce[Se])&&(ne=(se<3?oe(ne):se>3?oe(ge,pe,ne):oe(ge,pe))||ne);return se>3&&ne&&Object.defineProperty(ge,pe,ne),ne},Z=function(Ce,ge){return function(pe,ee){ge(pe,ee,Ce)}},T=function(Ce,ge,pe,ee){function se(ne){return ne instanceof pe?ne:new pe(function(oe){oe(ne)})}return new(pe||(pe=Promise))(function(ne,oe){function Se(ye){try{Me(ee.next(ye))}catch(le){oe(le)}}function Ee(ye){try{Me(ee.throw(ye))}catch(le){oe(le)}}function Me(ye){ye.done?ne(ye.value):se(ye.value).then(Se,Ee)}Me((ee=ee.apply(Ce,ge||[])).next())})};class z{constructor(ge,pe,ee){this.model=ge,this.position=pe,this._providerRenameIdx=0,this._providers=ee.ordered(ge)}hasProvider(){return this._providers.length>0}resolveRenameLocation(ge){return T(this,void 0,void 0,function*(){const pe=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const se=this._providers[this._providerRenameIdx];if(!se.resolveRenameLocation)break;const ne=yield se.resolveRenameLocation(this.model,this.position,ge);if(!!ne){if(ne.rejectReason){pe.push(ne.rejectReason);continue}return ne}}const ee=this.model.getWordAtPosition(this.position);return ee?{range:new l.e(this.position.lineNumber,ee.startColumn,this.position.lineNumber,ee.endColumn),text:ee.word,rejectReason:pe.length>0?pe.join(`
`):void 0}:{range:l.e.fromPositions(this.position),text:"",rejectReason:pe.length>0?pe.join(`
`):void 0}})}provideRenameEdits(ge,pe){return T(this,void 0,void 0,function*(){return this._provideRenameEdits(ge,this._providerRenameIdx,[],pe)})}_provideRenameEdits(ge,pe,ee,se){return T(this,void 0,void 0,function*(){const ne=this._providers[pe];if(!ne)return{edits:[],rejectReason:ee.join(`
`)};const oe=yield ne.provideRenameEdits(this.model,this.position,ge,se);if(oe){if(oe.rejectReason)return this._provideRenameEdits(ge,pe+1,ee.concat(oe.rejectReason),se)}else return this._provideRenameEdits(ge,pe+1,ee.concat(f.NC("no result","No result.")),se);return oe})}}function G(Ce,ge,pe,ee){return T(this,void 0,void 0,function*(){const se=new z(ge,pe,Ce),ne=yield se.resolveRenameLocation(O.T.None);return ne!=null&&ne.rejectReason?{edits:[],rejectReason:ne.rejectReason}:se.provideRenameEdits(ee,O.T.None)})}let re=class qc{constructor(ge,pe,ee,se,ne,oe,Se,Ee){this.editor=ge,this._instaService=pe,this._notificationService=ee,this._bulkEditService=se,this._progressService=ne,this._logService=oe,this._configService=Se,this._languageFeaturesService=Ee,this._disposableStore=new D.SL,this._cts=new O.A,this._renameInputField=this._disposableStore.add(new r.Ue(()=>this._disposableStore.add(this._instaService.createInstance(X,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(ge){return ge.getContribution(qc.ID)}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var ge,pe;return T(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const ee=this.editor.getPosition(),se=new z(this.editor.getModel(),ee,this._languageFeaturesService.renameProvider);if(!se.hasProvider())return;this._cts=new P.Dl(this.editor,5);let ne;try{const ie=se.resolveRenameLocation(this._cts.token);this._progressService.showWhile(ie,250),ne=yield ie}catch(ie){(ge=g.O.get(this.editor))===null||ge===void 0||ge.showMessage(ie||f.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),ee);return}if(!ne)return;if(ne.rejectReason){(pe=g.O.get(this.editor))===null||pe===void 0||pe.showMessage(ne.rejectReason,ee);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new P.Dl(this.editor,5,ne.range);const oe=this.editor.getSelection();let Se=0,Ee=ne.text.length;!l.e.isEmpty(oe)&&!l.e.spansMultipleLines(oe)&&l.e.containsRange(ne.range,oe)&&(Se=Math.max(0,oe.startColumn-ne.range.startColumn),Ee=Math.min(ne.range.endColumn,oe.endColumn)-ne.range.startColumn);const Me=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),ye=yield this._renameInputField.value.getInput(ne.range,ne.text,Se,Ee,Me,this._cts.token);if(typeof ye=="boolean"){ye&&this.editor.focus();return}this.editor.focus();const le=(0,r.eP)(se.provideRenameEdits(ye.newName,this._cts.token),this._cts.token).then(ie=>T(this,void 0,void 0,function*(){if(!(!ie||!this.editor.hasModel())){if(ie.rejectReason){this._notificationService.info(ie.rejectReason);return}this.editor.setSelection(l.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(L.fo.convert(ie),{editor:this.editor,showPreview:ye.wantsPreview,label:f.NC("label","Renaming '{0}' to '{1}'",ne==null?void 0:ne.text,ye.newName),code:"undoredo.rename",quotableLabel:f.NC("quotableLabel","Renaming {0} to {1}",ne==null?void 0:ne.text,ye.newName),respectAutoSaveConfig:!0}).then(ve=>{ve.ariaSummary&&(0,w.Z9)(f.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",ne.text,ye.newName,ve.ariaSummary))}).catch(ve=>{this._notificationService.error(f.NC("rename.failedApply","Rename failed to apply edits")),this._logService.error(ve)})}}),ie=>{this._notificationService.error(f.NC("rename.failed","Rename failed to compute edits")),this._logService.error(ie)});return this._progressService.showWhile(le,250),le})}acceptRenameInput(ge){this._renameInputField.value.acceptInput(ge)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};re.ID="editor.contrib.renameController",re=x([Z(1,y.TG),Z(2,_.lT),Z(3,L.vu),Z(4,E.ek),Z(5,b.VZ),Z(6,a.V),Z(7,j.p)],re);class S extends A.R6{constructor(){super({id:"editor.action.rename",label:f.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:C.Ao.and(n.u.writable,n.u.hasRenameProvider),kbOpts:{kbExpr:n.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(ge,pe){const ee=ge.get(c.$),[se,ne]=Array.isArray(pe)&&pe||[void 0,void 0];return M.o.isUri(se)&&p.L.isIPosition(ne)?ee.openCodeEditor({resource:se},ee.getActiveCodeEditor()).then(oe=>{!oe||(oe.setPosition(ne),oe.invokeWithinContext(Se=>(this.reportTelemetry(Se,oe),this.run(Se,oe))))},V.dL):super.runCommand(ge,pe)}run(ge,pe){const ee=re.get(pe);return ee?ee.run():Promise.resolve()}}(0,A._K)(re.ID,re),(0,A.Qr)(S);const he=A._l.bindToContribution(re.get);(0,A.fK)(new he({id:"acceptRenameInput",precondition:H,handler:Ce=>Ce.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:n.u.focus,primary:3}})),(0,A.fK)(new he({id:"acceptRenameInputWithPreview",precondition:C.Ao.and(H,C.Ao.has("config.editor.rename.enablePreview")),handler:Ce=>Ce.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:n.u.focus,primary:1024+3}})),(0,A.fK)(new he({id:"cancelRenameInput",precondition:H,handler:Ce=>Ce.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:n.u.focus,primary:9,secondary:[1033]}})),(0,A.sb)("_executeDocumentRenameProvider",function(Ce,ge,pe,...ee){const[se]=ee;(0,$.p_)(typeof se=="string");const{renameProvider:ne}=Ce.get(j.p);return G(ne,ge,pe,se)}),(0,A.sb)("_executePrepareRename",function(Ce,ge,pe){return T(this,void 0,void 0,function*(){const{renameProvider:ee}=Ce.get(j.p),ne=yield new z(ge,pe,ee).resolveRenameLocation(O.T.None);if(ne!=null&&ne.rejectReason)throw new Error(ne.rejectReason);return ne})}),I.B.as(u.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:f.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},79694:function(Ot,Te,i){"use strict";i.d(Te,{x:function(){return D}});var w=i(91741),r=i(50187),O=i(24314),V=function($,M,P,A){function L(c){return c instanceof P?c:new P(function(p){p(c)})}return new(P||(P=Promise))(function(c,p){function l(g){try{a(A.next(g))}catch(f){p(f)}}function n(g){try{a(A.throw(g))}catch(f){p(f)}}function a(g){g.done?c(g.value):L(g.value).then(l,n)}a((A=A.apply($,M||[])).next())})};class D{provideSelectionRanges(M,P){return V(this,void 0,void 0,function*(){const A=[];for(const L of P){const c=[];A.push(c);const p=new Map;yield new Promise(l=>D._bracketsRightYield(l,0,M,L,p)),yield new Promise(l=>D._bracketsLeftYield(l,0,M,L,p,c))}return A})}static _bracketsRightYield(M,P,A,L,c){const p=new Map,l=Date.now();for(;;){if(P>=D._maxRounds){M();break}if(!L){M();break}const n=A.bracketPairs.findNextBracket(L);if(!n){M();break}if(Date.now()-l>D._maxDuration){setTimeout(()=>D._bracketsRightYield(M,P+1,A,L,c));break}if(n.bracketInfo.isOpeningBracket){const g=n.bracketInfo.bracketText,f=p.has(g)?p.get(g):0;p.set(g,f+1)}else{const g=n.bracketInfo.getClosedBrackets()[0].bracketText;let f=p.has(g)?p.get(g):0;if(f-=1,p.set(g,Math.max(0,f)),f<0){let u=c.get(g);u||(u=new w.S,c.set(g,u)),u.push(n.range)}}L=n.range.getEndPosition()}}static _bracketsLeftYield(M,P,A,L,c,p){const l=new Map,n=Date.now();for(;;){if(P>=D._maxRounds&&c.size===0){M();break}if(!L){M();break}const a=A.bracketPairs.findPrevBracket(L);if(!a){M();break}if(Date.now()-n>D._maxDuration){setTimeout(()=>D._bracketsLeftYield(M,P+1,A,L,c,p));break}if(a.bracketInfo.isOpeningBracket){const f=a.bracketInfo.bracketText;let u=l.has(f)?l.get(f):0;if(u-=1,l.set(f,Math.max(0,u)),u<0){const C=c.get(f);if(C){const y=C.shift();C.size===0&&c.delete(f);const b=O.e.fromPositions(a.range.getEndPosition(),y.getStartPosition()),_=O.e.fromPositions(a.range.getStartPosition(),y.getEndPosition());p.push({range:b}),p.push({range:_}),D._addBracketLeading(A,_,p)}}}else{const f=a.bracketInfo.getClosedBrackets()[0].bracketText,u=l.has(f)?l.get(f):0;l.set(f,u+1)}L=a.range.getStartPosition()}}static _addBracketLeading(M,P,A){if(P.startLineNumber===P.endLineNumber)return;const L=P.startLineNumber,c=M.getLineFirstNonWhitespaceColumn(L);c!==0&&c!==P.startColumn&&(A.push({range:O.e.fromPositions(new r.L(L,c),P.getEndPosition())}),A.push({range:O.e.fromPositions(new r.L(L,1),P.getEndPosition())}));const p=L-1;if(p>0){const l=M.getLineFirstNonWhitespaceColumn(p);l===P.startColumn&&l!==M.getLineLastNonWhitespaceColumn(p)&&(A.push({range:O.e.fromPositions(new r.L(p,l),P.getEndPosition())}),A.push({range:O.e.fromPositions(new r.L(p,1),P.getEndPosition())}))}}}D._maxDuration=30,D._maxRounds=2},102:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{provideSelectionRanges:function(){return Q}});var w=i(9488),r=i(71050),O=i(17301),V=i(16830),D=i(50187),$=i(24314),M=i(3860),P=i(29102),A=i(79694),L=i(97295);class c{provideSelectionRanges(K,H){const X=[];for(const j of H){const x=[];X.push(x),this._addInWordRanges(x,K,j),this._addWordRanges(x,K,j),this._addWhitespaceLine(x,K,j),x.push({range:K.getFullModelRange()})}return X}_addInWordRanges(K,H,X){const j=H.getWordAtPosition(X);if(!j)return;const{word:x,startColumn:Z}=j,T=X.column-Z;let z=T,G=T,re=0;for(;z>=0;z--){const S=x.charCodeAt(z);if(z!==T&&(S===95||S===45))break;if((0,L.mK)(S)&&(0,L.df)(re))break;re=S}for(z+=1;G<x.length;G++){const S=x.charCodeAt(G);if((0,L.df)(S)&&(0,L.mK)(re))break;if(S===95||S===45)break;re=S}z<G&&K.push({range:new $.e(X.lineNumber,Z+z,X.lineNumber,Z+G)})}_addWordRanges(K,H,X){const j=H.getWordAtPosition(X);j&&K.push({range:new $.e(X.lineNumber,j.startColumn,X.lineNumber,j.endColumn)})}_addWhitespaceLine(K,H,X){H.getLineLength(X.lineNumber)>0&&H.getLineFirstNonWhitespaceColumn(X.lineNumber)===0&&H.getLineLastNonWhitespaceColumn(X.lineNumber)===0&&K.push({range:new $.e(X.lineNumber,1,X.lineNumber,H.getLineMaxColumn(X.lineNumber))})}}var p=i(63580),l=i(84144),n=i(94565),a=i(71922),g=i(88216),f=i(98401),u=i(70666),C=function(U,K,H,X){var j=arguments.length,x=j<3?K:X===null?X=Object.getOwnPropertyDescriptor(K,H):X,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(U,K,H,X);else for(var T=U.length-1;T>=0;T--)(Z=U[T])&&(x=(j<3?Z(x):j>3?Z(K,H,x):Z(K,H))||x);return j>3&&x&&Object.defineProperty(K,H,x),x},y=function(U,K){return function(H,X){K(H,X,U)}},b=function(U,K,H,X){function j(x){return x instanceof H?x:new H(function(Z){Z(x)})}return new(H||(H=Promise))(function(x,Z){function T(re){try{G(X.next(re))}catch(S){Z(S)}}function z(re){try{G(X.throw(re))}catch(S){Z(S)}}function G(re){re.done?x(re.value):j(re.value).then(T,z)}G((X=X.apply(U,K||[])).next())})};class _{constructor(K,H){this.index=K,this.ranges=H}mov(K){const H=this.index+(K?1:-1);if(H<0||H>=this.ranges.length)return this;const X=new _(H,this.ranges);return X.ranges[H].equalsRange(this.ranges[this.index])?X.mov(K):X}}let E=class ed{constructor(K,H){this._editor=K,this._languageFeaturesService=H,this._ignoreSelection=!1}static get(K){return K.getContribution(ed.ID)}dispose(){var K;(K=this._selectionListener)===null||K===void 0||K.dispose()}run(K){return b(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const H=this._editor.getSelections(),X=this._editor.getModel();if(this._state||(yield Q(this._languageFeaturesService.selectionRangeProvider,X,H.map(x=>x.getPosition()),this._editor.getOption(104),r.T.None).then(x=>{var Z;if(!(!w.Of(x)||x.length!==H.length)&&!(!this._editor.hasModel()||!w.fS(this._editor.getSelections(),H,(T,z)=>T.equalsSelection(z)))){for(let T=0;T<x.length;T++)x[T]=x[T].filter(z=>z.containsPosition(H[T].getStartPosition())&&z.containsPosition(H[T].getEndPosition())),x[T].unshift(H[T]);this._state=x.map(T=>new _(0,T)),(Z=this._selectionListener)===null||Z===void 0||Z.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var T;this._ignoreSelection||((T=this._selectionListener)===null||T===void 0||T.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(x=>x.mov(K));const j=this._state.map(x=>M.Y.fromPositions(x.ranges[x.index].getStartPosition(),x.ranges[x.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(j)}finally{this._ignoreSelection=!1}})}};E.ID="editor.contrib.smartSelectController",E=C([y(1,a.p)],E);class I extends V.R6{constructor(K,H){super(H),this._forward=K}run(K,H){return b(this,void 0,void 0,function*(){const X=E.get(H);X&&(yield X.run(this._forward))})}}class R extends I{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:p.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:P.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:l.eH.MenubarSelectionMenu,group:"1_basic",title:p.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}n.P0.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class J extends I{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:p.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:P.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:l.eH.MenubarSelectionMenu,group:"1_basic",title:p.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}(0,V._K)(E.ID,E),(0,V.Qr)(R),(0,V.Qr)(J);function Q(U,K,H,X,j){return b(this,void 0,void 0,function*(){const x=U.all(K).concat(new c);x.length===1&&x.unshift(new A.x);const Z=[],T=[];for(const z of x)Z.push(Promise.resolve(z.provideSelectionRanges(K,H,j)).then(G=>{if(w.Of(G)&&G.length===H.length)for(let re=0;re<H.length;re++){T[re]||(T[re]=[]);for(const S of G[re])$.e.isIRange(S.range)&&$.e.containsPosition(S.range,H[re])&&T[re].push($.e.lift(S.range))}},O.Cp));return yield Promise.all(Z),T.map(z=>{if(z.length===0)return[];z.sort((he,Ce)=>D.L.isBefore(he.getStartPosition(),Ce.getStartPosition())?1:D.L.isBefore(Ce.getStartPosition(),he.getStartPosition())||D.L.isBefore(he.getEndPosition(),Ce.getEndPosition())?-1:D.L.isBefore(Ce.getEndPosition(),he.getEndPosition())?1:0);const G=[];let re;for(const he of z)(!re||$.e.containsRange(he,re)&&!$.e.equalsRange(he,re))&&(G.push(he),re=he);if(!X.selectLeadingAndTrailingWhitespace)return G;const S=[G[0]];for(let he=1;he<G.length;he++){const Ce=G[he-1],ge=G[he];if(ge.startLineNumber!==Ce.startLineNumber||ge.endLineNumber!==Ce.endLineNumber){const pe=new $.e(Ce.startLineNumber,K.getLineFirstNonWhitespaceColumn(Ce.startLineNumber),Ce.endLineNumber,K.getLineLastNonWhitespaceColumn(Ce.endLineNumber));pe.containsRange(Ce)&&!pe.equalsRange(Ce)&&ge.containsRange(pe)&&!ge.equalsRange(pe)&&S.push(pe);const ee=new $.e(Ce.startLineNumber,1,Ce.endLineNumber,K.getLineMaxColumn(Ce.endLineNumber));ee.containsRange(Ce)&&!ee.equalsRange(pe)&&ge.containsRange(ee)&&!ge.equalsRange(ee)&&S.push(ee)}S.push(ge)}return S})})}n.P0.registerCommand("_executeSelectionRangeProvider",function(U,...K){return b(this,void 0,void 0,function*(){const[H,X]=K;(0,f.p_)(u.o.isUri(H));const j=U.get(a.p).selectionRangeProvider,x=yield U.get(g.S).createModelReference(H);try{return Q(j,x.object.textEditorModel,X,{selectLeadingAndTrailingWhitespace:!0},r.T.None)}finally{x.dispose()}})})},98762:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{SnippetController2:function(){return f},performSnippetEdit:function(){return C}});var w=i(9917),r=i(98401),O=i(16830),V=i(50187),D=i(3860),$=i(29102),M=i(51381),P=i(71922),A=i(55621),L=i(63580),c=i(16141),p=i(43557),l=i(61659),n=function(y,b,_,E){var I=arguments.length,R=I<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,_):E,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(y,b,_,E);else for(var Q=y.length-1;Q>=0;Q--)(J=y[Q])&&(R=(I<3?J(R):I>3?J(b,_,R):J(b,_))||R);return I>3&&R&&Object.defineProperty(b,_,R),R},a=function(y,b){return function(_,E){b(_,E,y)}};const g={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let f=class Vr{constructor(b,_,E,I,R){this._editor=b,this._logService=_,this._languageFeaturesService=E,this._languageConfigurationService=R,this._snippetListener=new w.SL,this._modelVersionId=-1,this._inSnippet=Vr.InSnippetMode.bindTo(I),this._hasNextTabstop=Vr.HasNextTabstop.bindTo(I),this._hasPrevTabstop=Vr.HasPrevTabstop.bindTo(I)}static get(b){return b.getContribution(Vr.ID)}dispose(){var b;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(b=this._session)===null||b===void 0||b.dispose(),this._snippetListener.dispose()}apply(b,_){try{this._doInsert(b,typeof _>"u"?g:Object.assign(Object.assign({},g),_))}catch(E){this.cancel(),this._logService.error(E),this._logService.error("snippet_error"),this._logService.error("insert_edits=",b),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}insert(b,_){try{this._doInsert(b,typeof _>"u"?g:Object.assign(Object.assign({},g),_))}catch(E){this.cancel(),this._logService.error(E),this._logService.error("snippet_error"),this._logService.error("insert_template=",b),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(b,_){var E;if(!!this._editor.hasModel()){if(this._snippetListener.clear(),_.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof b!="string"&&this.cancel(),this._session?((0,r.p_)(typeof b=="string"),this._session.merge(b,_)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new l.l(this._editor,b,_,this._languageConfigurationService),this._session.insert()),_.undoStopAfter&&this._editor.getModel().pushStackElement(),!((E=this._session)===null||E===void 0)&&E.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(R,J)=>{if(!this._session||R!==this._editor.getModel()||!V.L.equals(this._editor.getPosition(),J))return;const{activeChoice:Q}=this._session;if(!Q||Q.choice.options.length===0)return;const U=R.getValueInRange(Q.range),K=Boolean(Q.choice.options.find(X=>X.value===U)),H=[];for(let X=0;X<Q.choice.options.length;X++){const j=Q.choice.options[X];H.push({kind:13,label:j.value,insertText:j.value,sortText:"a".repeat(X+1),range:Q.range,filterText:K?`${U}_${j.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,L.NC)("next","Go to next placeholder...")}})}return{suggestions:H}}};const I=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme},this._choiceCompletionItemProvider);this._snippetListener.add(I)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(I=>I.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:b}=this._session;if(!b||!this._choiceCompletionItemProvider){this._currentChoice=void 0;return}this._currentChoice!==b.choice&&(this._currentChoice=b.choice,queueMicrotask(()=>{(0,A.i5)(this._editor,this._choiceCompletionItemProvider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(b=!1){var _;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(_=this._session)===null||_===void 0||_.dispose(),this._session=void 0,this._modelVersionId=-1,b&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};f.ID="snippetController2",f.InSnippetMode=new c.uy("inSnippetMode",!1,(0,L.NC)("inSnippetMode","Whether the editor in current in snippet mode")),f.HasNextTabstop=new c.uy("hasNextTabstop",!1,(0,L.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),f.HasPrevTabstop=new c.uy("hasPrevTabstop",!1,(0,L.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),f=n([a(1,p.VZ),a(2,P.p),a(3,c.i6),a(4,M.c_)],f),(0,O._K)(f.ID,f);const u=O._l.bindToContribution(f.get);(0,O.fK)(new u({id:"jumpToNextSnippetPlaceholder",precondition:c.Ao.and(f.InSnippetMode,f.HasNextTabstop),handler:y=>y.next(),kbOpts:{weight:100+30,kbExpr:$.u.editorTextFocus,primary:2}})),(0,O.fK)(new u({id:"jumpToPrevSnippetPlaceholder",precondition:c.Ao.and(f.InSnippetMode,f.HasPrevTabstop),handler:y=>y.prev(),kbOpts:{weight:100+30,kbExpr:$.u.editorTextFocus,primary:1026}})),(0,O.fK)(new u({id:"leaveSnippet",precondition:f.InSnippetMode,handler:y=>y.cancel(!0),kbOpts:{weight:100+30,kbExpr:$.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,O.fK)(new u({id:"acceptSnippet",precondition:f.InSnippetMode,handler:y=>y.finish()}));function C(y,b,_){const E=f.get(y);return E?(y.focus(),E.apply(_.map(I=>({range:D.Y.liftSelection(I),template:b}))),E.isInSnippet()):!1}},35084:function(Ot,Te,i){"use strict";i.d(Te,{Lv:function(){return $},Vm:function(){return D},Yj:function(){return p},xv:function(){return O},y1:function(){return c}});class w{constructor(){this.value="",this.pos=0}static isDigitCharacter(n){return n>=48&&n<=57}static isVariableCharacter(n){return n===95||n>=97&&n<=122||n>=65&&n<=90}text(n){this.value=n,this.pos=0}tokenText(n){return this.value.substr(n.pos,n.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const n=this.pos;let a=0,g=this.value.charCodeAt(n),f;if(f=w._table[g],typeof f=="number")return this.pos+=1,{type:f,pos:n,len:1};if(w.isDigitCharacter(g)){f=8;do a+=1,g=this.value.charCodeAt(n+a);while(w.isDigitCharacter(g));return this.pos+=a,{type:f,pos:n,len:a}}if(w.isVariableCharacter(g)){f=9;do g=this.value.charCodeAt(n+ ++a);while(w.isVariableCharacter(g)||w.isDigitCharacter(g));return this.pos+=a,{type:f,pos:n,len:a}}f=10;do a+=1,g=this.value.charCodeAt(n+a);while(!isNaN(g)&&typeof w._table[g]>"u"&&!w.isDigitCharacter(g)&&!w.isVariableCharacter(g));return this.pos+=a,{type:f,pos:n,len:a}}}w._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class r{constructor(){this._children=[]}appendChild(n){return n instanceof O&&this._children[this._children.length-1]instanceof O?this._children[this._children.length-1].value+=n.value:(n.parent=this,this._children.push(n)),this}replace(n,a){const{parent:g}=n,f=g.children.indexOf(n),u=g.children.slice(0);u.splice(f,1,...a),g._children=u,function C(y,b){for(const _ of y)_.parent=b,C(_.children,_)}(a,g)}get children(){return this._children}get snippet(){let n=this;for(;;){if(!n)return;if(n instanceof c)return n;n=n.parent}}toString(){return this.children.reduce((n,a)=>n+a.toString(),"")}len(){return 0}}class O extends r{constructor(n){super(),this.value=n}toString(){return this.value}len(){return this.value.length}clone(){return new O(this.value)}}class V extends r{}class D extends V{constructor(n){super(),this.index=n}static compareByIndex(n,a){return n.index===a.index?0:n.isFinalTabstop?1:a.isFinalTabstop||n.index<a.index?-1:n.index>a.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof $?this._children[0]:void 0}clone(){const n=new D(this.index);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(a=>a.clone()),n}}class $ extends r{constructor(){super(...arguments),this.options=[]}appendChild(n){return n instanceof O&&(n.parent=this,this.options.push(n)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const n=new $;return this.options.forEach(n.appendChild,n),n}}class M extends r{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(n){const a=this;let g=!1,f=n.replace(this.regexp,function(){return g=!0,a._replace(Array.prototype.slice.call(arguments,0,-2))});return!g&&this._children.some(u=>u instanceof P&&Boolean(u.elseValue))&&(f=this._replace([])),f}_replace(n){let a="";for(const g of this._children)if(g instanceof P){let f=n[g.index]||"";f=g.resolve(f),a+=f}else a+=g.toString();return a}toString(){return""}clone(){const n=new M;return n.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),n._children=this.children.map(a=>a.clone()),n}}class P extends r{constructor(n,a,g,f){super(),this.index=n,this.shorthandName=a,this.ifValue=g,this.elseValue=f}resolve(n){return this.shorthandName==="upcase"?n?n.toLocaleUpperCase():"":this.shorthandName==="downcase"?n?n.toLocaleLowerCase():"":this.shorthandName==="capitalize"?n?n[0].toLocaleUpperCase()+n.substr(1):"":this.shorthandName==="pascalcase"?n?this._toPascalCase(n):"":this.shorthandName==="camelcase"?n?this._toCamelCase(n):"":Boolean(n)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(n)&&typeof this.elseValue=="string"?this.elseValue:n||""}_toPascalCase(n){const a=n.match(/[a-z0-9]+/gi);return a?a.map(g=>g.charAt(0).toUpperCase()+g.substr(1)).join(""):n}_toCamelCase(n){const a=n.match(/[a-z0-9]+/gi);return a?a.map((g,f)=>f===0?g.charAt(0).toLowerCase()+g.substr(1):g.charAt(0).toUpperCase()+g.substr(1)).join(""):n}clone(){return new P(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class A extends V{constructor(n){super(),this.name=n}resolve(n){let a=n.resolve(this);return this.transform&&(a=this.transform.resolve(a||"")),a!==void 0?(this._children=[new O(a)],!0):!1}clone(){const n=new A(this.name);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(a=>a.clone()),n}}function L(l,n){const a=[...l];for(;a.length>0;){const g=a.shift();if(!n(g))break;a.unshift(...g.children)}}class c extends r{get placeholderInfo(){if(!this._placeholders){const n=[];let a;this.walk(function(g){return g instanceof D&&(n.push(g),a=!a||a.index<g.index?g:a),!0}),this._placeholders={all:n,last:a}}return this._placeholders}get placeholders(){const{all:n}=this.placeholderInfo;return n}offset(n){let a=0,g=!1;return this.walk(f=>f===n?(g=!0,!1):(a+=f.len(),!0)),g?a:-1}fullLen(n){let a=0;return L([n],g=>(a+=g.len(),!0)),a}enclosingPlaceholders(n){const a=[];let{parent:g}=n;for(;g;)g instanceof D&&a.push(g),g=g.parent;return a}resolveVariables(n){return this.walk(a=>(a instanceof A&&a.resolve(n)&&(this._placeholders=void 0),!0)),this}appendChild(n){return this._placeholders=void 0,super.appendChild(n)}replace(n,a){return this._placeholders=void 0,super.replace(n,a)}clone(){const n=new c;return this._children=this.children.map(a=>a.clone()),n}walk(n){L(this.children,n)}}class p{constructor(){this._scanner=new w,this._token={type:14,pos:0,len:0}}static escape(n){return n.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(n){return/\${?CLIPBOARD/.test(n)}parse(n,a,g){const f=new c;return this.parseFragment(n,f),this.ensureFinalTabstop(f,g??!1,a??!1),f}parseFragment(n,a){const g=a.children.length;for(this._scanner.text(n),this._token=this._scanner.next();this._parse(a););const f=new Map,u=[];a.walk(C=>(C instanceof D&&(C.isFinalTabstop?f.set(0,void 0):!f.has(C.index)&&C.children.length>0?f.set(C.index,C.children):u.push(C)),!0));for(const C of u){const y=f.get(C.index);if(y){const b=new D(C.index);b.transform=C.transform;for(const _ of y)b.appendChild(_.clone());a.replace(C,[b])}}return a.children.slice(g)}ensureFinalTabstop(n,a,g){(a||g&&n.placeholders.length>0)&&(n.placeholders.find(u=>u.index===0)||n.appendChild(new D(0)))}_accept(n,a){if(n===void 0||this._token.type===n){const g=a?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),g}return!1}_backTo(n){return this._scanner.pos=n.pos+n.len,this._token=n,!1}_until(n){const a=this._token;for(;this._token.type!==n;){if(this._token.type===14)return!1;if(this._token.type===5){const f=this._scanner.next();if(f.type!==0&&f.type!==4&&f.type!==5)return!1}this._token=this._scanner.next()}const g=this._scanner.value.substring(a.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),g}_parse(n){return this._parseEscaped(n)||this._parseTabstopOrVariableName(n)||this._parseComplexPlaceholder(n)||this._parseComplexVariable(n)||this._parseAnything(n)}_parseEscaped(n){let a;return(a=this._accept(5,!0))?(a=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||a,n.appendChild(new O(a)),!0):!1}_parseTabstopOrVariableName(n){let a;const g=this._token;return this._accept(0)&&(a=this._accept(9,!0)||this._accept(8,!0))?(n.appendChild(/^\d+$/.test(a)?new D(Number(a)):new A(a)),!0):this._backTo(g)}_parseComplexPlaceholder(n){let a;const g=this._token;if(!(this._accept(0)&&this._accept(3)&&(a=this._accept(8,!0))))return this._backTo(g);const u=new D(Number(a));if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(u),!0;if(!this._parse(u))return n.appendChild(new O("${"+a+":")),u.children.forEach(n.appendChild,n),!0}else if(u.index>0&&this._accept(7)){const C=new $;for(;;){if(this._parseChoiceElement(C)){if(this._accept(2))continue;if(this._accept(7)&&(u.appendChild(C),this._accept(4)))return n.appendChild(u),!0}return this._backTo(g),!1}}else return this._accept(6)?this._parseTransform(u)?(n.appendChild(u),!0):(this._backTo(g),!1):this._accept(4)?(n.appendChild(u),!0):this._backTo(g)}_parseChoiceElement(n){const a=this._token,g=[];for(;!(this._token.type===2||this._token.type===7);){let f;if((f=this._accept(5,!0))?f=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||f:f=this._accept(void 0,!0),!f)return this._backTo(a),!1;g.push(f)}return g.length===0?(this._backTo(a),!1):(n.appendChild(new O(g.join(""))),!0)}_parseComplexVariable(n){let a;const g=this._token;if(!(this._accept(0)&&this._accept(3)&&(a=this._accept(9,!0))))return this._backTo(g);const u=new A(a);if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(u),!0;if(!this._parse(u))return n.appendChild(new O("${"+a+":")),u.children.forEach(n.appendChild,n),!0}else return this._accept(6)?this._parseTransform(u)?(n.appendChild(u),!0):(this._backTo(g),!1):this._accept(4)?(n.appendChild(u),!0):this._backTo(g)}_parseTransform(n){const a=new M;let g="",f="";for(;!this._accept(6);){let u;if(u=this._accept(5,!0)){u=this._accept(6,!0)||u,g+=u;continue}if(this._token.type!==14){g+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let u;if(u=this._accept(5,!0)){u=this._accept(5,!0)||this._accept(6,!0)||u,a.appendChild(new O(u));continue}if(!(this._parseFormatString(a)||this._parseAnything(a)))return!1}for(;!this._accept(4);){if(this._token.type!==14){f+=this._accept(void 0,!0);continue}return!1}try{a.regexp=new RegExp(g,f)}catch{return!1}return n.transform=a,!0}_parseFormatString(n){const a=this._token;if(!this._accept(0))return!1;let g=!1;this._accept(3)&&(g=!0);const f=this._accept(8,!0);if(f)if(g){if(this._accept(4))return n.appendChild(new P(Number(f))),!0;if(!this._accept(1))return this._backTo(a),!1}else return n.appendChild(new P(Number(f))),!0;else return this._backTo(a),!1;if(this._accept(6)){const u=this._accept(9,!0);return!u||!this._accept(4)?(this._backTo(a),!1):(n.appendChild(new P(Number(f),u)),!0)}else if(this._accept(11)){const u=this._until(4);if(u)return n.appendChild(new P(Number(f),void 0,u,void 0)),!0}else if(this._accept(12)){const u=this._until(4);if(u)return n.appendChild(new P(Number(f),void 0,void 0,u)),!0}else if(this._accept(13)){const u=this._until(1);if(u){const C=this._until(4);if(C)return n.appendChild(new P(Number(f),void 0,u,C)),!0}}else{const u=this._until(4);if(u)return n.appendChild(new P(Number(f),void 0,void 0,u)),!0}return this._backTo(a),!1}_parseAnything(n){return this._token.type!==14?(n.appendChild(new O(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}},61659:function(Ot,Te,i){"use strict";i.d(Te,{l:function(){return T}});var w=i(9488),r=i(9917),O=i(97295),V=i(69386),D=i(24314),$=i(3860),M=i(51381),P=i(92035),A=i(44349),L=i(40382),c=i(35084),p=i(15527),l=i(1432);function n(z,G=l.ED){return(0,p.oP)(z,G)?z.charAt(0).toUpperCase()+z.slice(1):z}let a=Object.create(null);var g=i(88721),f=i(95935),u=i(98e3),C=i(63580),y=function(z,G,re,S){var he=arguments.length,Ce=he<3?G:S===null?S=Object.getOwnPropertyDescriptor(G,re):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ce=Reflect.decorate(z,G,re,S);else for(var pe=z.length-1;pe>=0;pe--)(ge=z[pe])&&(Ce=(he<3?ge(Ce):he>3?ge(G,re,Ce):ge(G,re))||Ce);return he>3&&Ce&&Object.defineProperty(G,re,Ce),Ce},b=function(z,G){return function(re,S){G(re,S,z)}};const _=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class E{constructor(G){this._delegates=G}resolve(G){for(const re of this._delegates){const S=re.resolve(G);if(S!==void 0)return S}}}class I{constructor(G,re,S,he){this._model=G,this._selection=re,this._selectionIdx=S,this._overtypingCapturer=he}resolve(G){const{name:re}=G;if(re==="SELECTION"||re==="TM_SELECTED_TEXT"){let S=this._model.getValueInRange(this._selection)||void 0,he=this._selection.startLineNumber!==this._selection.endLineNumber;if(!S&&this._overtypingCapturer){const Ce=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);Ce&&(S=Ce.value,he=Ce.multiline)}if(S&&he&&G.snippet){const Ce=this._model.getLineContent(this._selection.startLineNumber),ge=(0,O.V8)(Ce,0,this._selection.startColumn-1);let pe=ge;G.snippet.walk(se=>se===G?!1:(se instanceof c.xv&&(pe=(0,O.V8)((0,O.uq)(se.value).pop())),!0));const ee=(0,O.Mh)(pe,ge);S=S.replace(/(\r\n|\r|\n)(.*)/g,(se,ne,oe)=>`${ne}${pe.substr(ee)}${oe}`)}return S}else{if(re==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(re==="TM_CURRENT_WORD"){const S=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return S&&S.word||void 0}else{if(re==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(re==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(re==="CURSOR_INDEX")return String(this._selectionIdx);if(re==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}class R{constructor(G,re){this._labelService=G,this._model=re}resolve(G){const{name:re}=G;if(re==="TM_FILENAME")return g.EZ(this._model.uri.fsPath);if(re==="TM_FILENAME_BASE"){const S=g.EZ(this._model.uri.fsPath),he=S.lastIndexOf(".");return he<=0?S:S.slice(0,he)}else{if(re==="TM_DIRECTORY")return g.XX(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,f.XX)(this._model.uri));if(re==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(re==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class J{constructor(G,re,S,he){this._readClipboardText=G,this._selectionIdx=re,this._selectionCount=S,this._spread=he}resolve(G){if(G.name!=="CLIPBOARD")return;const re=this._readClipboardText();if(!!re){if(this._spread){const S=re.split(/\r\n|\n|\r/).filter(he=>!(0,O.m5)(he));if(S.length===this._selectionCount)return S[this._selectionIdx]}return re}}}let Q=class{constructor(G,re,S){this._model=G,this._selection=re,this._languageConfigurationService=S}resolve(G){const{name:re}=G,S=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),he=this._languageConfigurationService.getLanguageConfiguration(S).comments;if(!!he){if(re==="LINE_COMMENT")return he.lineCommentToken||void 0;if(re==="BLOCK_COMMENT_START")return he.blockCommentStartToken||void 0;if(re==="BLOCK_COMMENT_END")return he.blockCommentEndToken||void 0}}};Q=y([b(2,M.c_)],Q);class U{constructor(){this._date=new Date}resolve(G){const{name:re}=G;if(re==="CURRENT_YEAR")return String(this._date.getFullYear());if(re==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(re==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(re==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(re==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(re==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(re==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(re==="CURRENT_DAY_NAME")return U.dayNames[this._date.getDay()];if(re==="CURRENT_DAY_NAME_SHORT")return U.dayNamesShort[this._date.getDay()];if(re==="CURRENT_MONTH_NAME")return U.monthNames[this._date.getMonth()];if(re==="CURRENT_MONTH_NAME_SHORT")return U.monthNamesShort[this._date.getMonth()];if(re==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}U.dayNames=[C.NC("Sunday","Sunday"),C.NC("Monday","Monday"),C.NC("Tuesday","Tuesday"),C.NC("Wednesday","Wednesday"),C.NC("Thursday","Thursday"),C.NC("Friday","Friday"),C.NC("Saturday","Saturday")],U.dayNamesShort=[C.NC("SundayShort","Sun"),C.NC("MondayShort","Mon"),C.NC("TuesdayShort","Tue"),C.NC("WednesdayShort","Wed"),C.NC("ThursdayShort","Thu"),C.NC("FridayShort","Fri"),C.NC("SaturdayShort","Sat")],U.monthNames=[C.NC("January","January"),C.NC("February","February"),C.NC("March","March"),C.NC("April","April"),C.NC("May","May"),C.NC("June","June"),C.NC("July","July"),C.NC("August","August"),C.NC("September","September"),C.NC("October","October"),C.NC("November","November"),C.NC("December","December")],U.monthNamesShort=[C.NC("JanuaryShort","Jan"),C.NC("FebruaryShort","Feb"),C.NC("MarchShort","Mar"),C.NC("AprilShort","Apr"),C.NC("MayShort","May"),C.NC("JuneShort","Jun"),C.NC("JulyShort","Jul"),C.NC("AugustShort","Aug"),C.NC("SeptemberShort","Sep"),C.NC("OctoberShort","Oct"),C.NC("NovemberShort","Nov"),C.NC("DecemberShort","Dec")];class K{constructor(G){this._workspaceService=G}resolve(G){if(!this._workspaceService)return;const re=(0,L.uT)(this._workspaceService.getWorkspace());if(!!re){if(G.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(re);if(G.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(re)}}_resolveWorkspaceName(G){if((0,L.eb)(G))return g.EZ(G.uri.path);let re=g.EZ(G.configPath.path);return re.endsWith(L.A6)&&(re=re.substr(0,re.length-L.A6.length-1)),re}_resoveWorkspacePath(G){if((0,L.eb)(G))return n(G.uri.fsPath);const re=g.EZ(G.configPath.path);let S=G.configPath.fsPath;return S.endsWith(re)&&(S=S.substr(0,S.length-re.length-1)),S?n(S):"/"}}class H{resolve(G){const{name:re}=G;if(re==="RANDOM")return Math.random().toString().slice(-6);if(re==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(re==="UUID")return(0,u.R)()}}var X=function(z,G,re,S){var he=arguments.length,Ce=he<3?G:S===null?S=Object.getOwnPropertyDescriptor(G,re):S,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ce=Reflect.decorate(z,G,re,S);else for(var pe=z.length-1;pe>=0;pe--)(ge=z[pe])&&(Ce=(he<3?ge(Ce):he>3?ge(G,re,Ce):ge(G,re))||Ce);return he>3&&Ce&&Object.defineProperty(G,re,Ce),Ce},j=function(z,G){return function(re,S){G(re,S,z)}};class x{constructor(G,re,S){this._editor=G,this._snippet=re,this._snippetLineLeadingWhitespace=S,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,w.vM)(re.placeholders,c.Vm.compareByIndex),this._placeholderGroupsIdx=-1}initialize(G){this._offset=G.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const G=this._editor.getModel();this._editor.changeDecorations(re=>{for(const S of this._snippet.placeholders){const he=this._snippet.offset(S),Ce=this._snippet.fullLen(S),ge=D.e.fromPositions(G.getPositionAt(this._offset+he),G.getPositionAt(this._offset+he+Ce)),pe=S.isFinalTabstop?x._decor.inactiveFinal:x._decor.inactive,ee=re.addDecoration(ge,pe);this._placeholderDecorations.set(S,ee)}})}move(G){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const he=[];for(const Ce of this._placeholderGroups[this._placeholderGroupsIdx])if(Ce.transform){const ge=this._placeholderDecorations.get(Ce),pe=this._editor.getModel().getDecorationRange(ge),ee=this._editor.getModel().getValueInRange(pe),se=Ce.transform.resolve(ee).split(/\r\n|\r|\n/);for(let ne=1;ne<se.length;ne++)se[ne]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+se[ne]);he.push(V.h.replace(pe,se.join(this._editor.getModel().getEOL())))}he.length>0&&this._editor.executeEdits("snippet.placeholderTransform",he)}let re=!1;G===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,re=!0):G===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,re=!0);const S=this._editor.getModel().changeDecorations(he=>{const Ce=new Set,ge=[];for(const pe of this._placeholderGroups[this._placeholderGroupsIdx]){const ee=this._placeholderDecorations.get(pe),se=this._editor.getModel().getDecorationRange(ee);ge.push(new $.Y(se.startLineNumber,se.startColumn,se.endLineNumber,se.endColumn)),re=re&&this._hasPlaceholderBeenCollapsed(pe),he.changeDecorationOptions(ee,pe.isFinalTabstop?x._decor.activeFinal:x._decor.active),Ce.add(pe);for(const ne of this._snippet.enclosingPlaceholders(pe)){const oe=this._placeholderDecorations.get(ne);he.changeDecorationOptions(oe,ne.isFinalTabstop?x._decor.activeFinal:x._decor.active),Ce.add(ne)}}for(const[pe,ee]of this._placeholderDecorations)Ce.has(pe)||he.changeDecorationOptions(ee,pe.isFinalTabstop?x._decor.inactiveFinal:x._decor.inactive);return ge});return re?this.move(G):S??[]}_hasPlaceholderBeenCollapsed(G){let re=G;for(;re;){if(re instanceof c.Vm){const S=this._placeholderDecorations.get(re);if(this._editor.getModel().getDecorationRange(S).isEmpty()&&re.toString().length>0)return!0}re=re.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){return this._snippet.placeholders.length===0||this._snippet.placeholders.length===1&&this._snippet.placeholders[0].isFinalTabstop}computePossibleSelections(){const G=new Map;for(const re of this._placeholderGroups){let S;for(const he of re){if(he.isFinalTabstop)break;S||(S=[],G.set(he.index,S));const Ce=this._placeholderDecorations.get(he),ge=this._editor.getModel().getDecorationRange(Ce);if(!ge){G.delete(he.index);break}S.push(ge)}}return G}get activeChoice(){if(!this._placeholderDecorations)return;const G=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(G!=null&&G.choice))return;const re=this._placeholderDecorations.get(G);if(!re)return;const S=this._editor.getModel().getDecorationRange(re);if(!!S)return{range:S,choice:G.choice}}get hasChoice(){let G=!1;return this._snippet.walk(re=>(G=re instanceof c.Lv,!G)),G}merge(G){const re=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(S=>{for(const he of this._placeholderGroups[this._placeholderGroupsIdx]){const Ce=G.shift();console.assert(Ce._offset!==-1),console.assert(!Ce._placeholderDecorations);const ge=Ce._snippet.placeholderInfo.last.index;for(const ee of Ce._snippet.placeholderInfo.all)ee.isFinalTabstop?ee.index=he.index+(ge+1)/this._nestingLevel:ee.index=he.index+ee.index/this._nestingLevel;this._snippet.replace(he,Ce._snippet.children);const pe=this._placeholderDecorations.get(he);S.removeDecoration(pe),this._placeholderDecorations.delete(he);for(const ee of Ce._snippet.placeholders){const se=Ce._snippet.offset(ee),ne=Ce._snippet.fullLen(ee),oe=D.e.fromPositions(re.getPositionAt(Ce._offset+se),re.getPositionAt(Ce._offset+se+ne)),Se=S.addDecoration(oe,x._decor.inactive);this._placeholderDecorations.set(ee,Se)}}this._placeholderGroups=(0,w.vM)(this._snippet.placeholders,c.Vm.compareByIndex)})}}x._decor={active:P.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:P.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:P.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:P.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const Z={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let T=class ro{constructor(G,re,S=Z,he){this._editor=G,this._template=re,this._options=S,this._languageConfigurationService=he,this._templateMerges=[],this._snippets=[]}static adjustWhitespace(G,re,S,he,Ce){const ge=G.getLineContent(re.lineNumber),pe=(0,O.V8)(ge,0,re.column-1);let ee;return S.walk(se=>{if(!(se instanceof c.xv)||se.parent instanceof c.Lv)return!0;const ne=se.value.split(/\r\n|\r|\n/);if(he){const Se=S.offset(se);if(Se===0)ne[0]=G.normalizeIndentation(ne[0]);else{ee=ee??S.toString();const Ee=ee.charCodeAt(Se-1);(Ee===10||Ee===13)&&(ne[0]=G.normalizeIndentation(pe+ne[0]))}for(let Ee=1;Ee<ne.length;Ee++)ne[Ee]=G.normalizeIndentation(pe+ne[Ee])}const oe=ne.join(G.getEOL());return oe!==se.value&&(se.parent.replace(se,[new c.xv(oe)]),ee=void 0),!0}),pe}static adjustSelection(G,re,S,he){if(S!==0||he!==0){const{positionLineNumber:Ce,positionColumn:ge}=re,pe=ge-S,ee=ge+he,se=G.validateRange({startLineNumber:Ce,startColumn:pe,endLineNumber:Ce,endColumn:ee});re=$.Y.createWithDirection(se.startLineNumber,se.startColumn,se.endLineNumber,se.endColumn,re.getDirection())}return re}static createEditsAndSnippetsFromSelections(G,re,S,he,Ce,ge,pe,ee,se){const ne=[],oe=[];if(!G.hasModel())return{edits:ne,snippets:oe};const Se=G.getModel(),Ee=G.invokeWithinContext(Ye=>Ye.get(L.ec)),Me=G.invokeWithinContext(Ye=>new R(Ye.get(A.e),Se)),ye=()=>pe,le=Se.getValueInRange(ro.adjustSelection(Se,G.getSelection(),S,0)),ie=Se.getValueInRange(ro.adjustSelection(Se,G.getSelection(),0,he)),ve=Se.getLineFirstNonWhitespaceColumn(G.getSelection().positionLineNumber),xe=G.getSelections().map((Ye,at)=>({selection:Ye,idx:at})).sort((Ye,at)=>D.e.compareRangesUsingStarts(Ye.selection,at.selection));for(const{selection:Ye,idx:at}of xe){let qe=ro.adjustSelection(Se,Ye,S,0),Re=ro.adjustSelection(Se,Ye,0,he);le!==Se.getValueInRange(qe)&&(qe=Ye),ie!==Se.getValueInRange(Re)&&(Re=Ye);const Je=Ye.setStartPosition(qe.startLineNumber,qe.startColumn).setEndPosition(Re.endLineNumber,Re.endColumn),st=new c.Yj().parse(re,!0,Ce),et=Je.getStartPosition(),we=ro.adjustWhitespace(Se,et,st,ge||at>0&&ve!==Se.getLineFirstNonWhitespaceColumn(Ye.positionLineNumber),!0);st.resolveVariables(new E([Me,new J(ye,at,xe.length,G.getOption(73)==="spread"),new I(Se,Ye,at,ee),new Q(Se,Ye,se),new U,new K(Ee),new H])),ne[at]=V.h.replace(Je,st.toString()),ne[at].identifier={major:at,minor:0},ne[at]._isTracked=!0,oe[at]=new x(G,st,we)}return{edits:ne,snippets:oe}}static createEditsAndSnippetsFromEdits(G,re,S,he,Ce,ge,pe){if(!G.hasModel()||re.length===0)return{edits:[],snippets:[]};const ee=[],se=G.getModel(),ne=new c.Yj,oe=new c.y1,Se=new E([G.invokeWithinContext(Me=>new R(Me.get(A.e),se)),new J(()=>Ce,0,G.getSelections().length,G.getOption(73)==="spread"),new I(se,G.getSelection(),0,ge),new Q(se,G.getSelection(),pe),new U,new K(G.invokeWithinContext(Me=>Me.get(L.ec))),new H]);re=re.sort((Me,ye)=>D.e.compareRangesUsingStarts(Me.range,ye.range));let Ee=0;for(let Me=0;Me<re.length;Me++){const{range:ye,template:le}=re[Me];if(Me>0){const Ye=re[Me-1].range,at=D.e.fromPositions(Ye.getEndPosition(),ye.getStartPosition()),qe=new c.xv(se.getValueInRange(at));oe.appendChild(qe),Ee+=qe.value.length}ne.parseFragment(le,oe),oe.resolveVariables(Se);const ie=oe.toString(),ve=ie.slice(Ee);Ee=ie.length;const xe=V.h.replace(ye,ve);xe.identifier={major:Me,minor:0},xe._isTracked=!0,ee.push(xe)}return ne.ensureFinalTabstop(oe,S,!0),{edits:ee,snippets:[new x(G,oe,"")]}}dispose(){(0,r.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:G,snippets:re}=typeof this._template=="string"?ro.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):ro.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=re,this._editor.executeEdits("snippet",G,S=>{const he=S.filter(Ce=>!!Ce.identifier);for(let Ce=0;Ce<re.length;Ce++)re[Ce].initialize(he[Ce].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):he.map(Ce=>$.Y.fromPositions(Ce.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(G,re=Z){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,G]);const{edits:S,snippets:he}=ro.createEditsAndSnippetsFromSelections(this._editor,G,re.overwriteBefore,re.overwriteAfter,!0,re.adjustWhitespace,re.clipboardText,re.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",S,Ce=>{const ge=Ce.filter(ee=>!!ee.identifier);for(let ee=0;ee<he.length;ee++)he[ee].initialize(ge[ee].textChange);const pe=he[0].isTrivialSnippet;if(!pe){for(const ee of this._snippets)ee.merge(he);console.assert(he.length===0)}return this._snippets[0].hasPlaceholder&&!pe?this._move(void 0):ge.map(ee=>$.Y.fromPositions(ee.range.getEndPosition()))})}next(){const G=this._move(!0);this._editor.setSelections(G),this._editor.revealPositionInCenterIfOutsideViewport(G[0].getPosition())}prev(){const G=this._move(!1);this._editor.setSelections(G),this._editor.revealPositionInCenterIfOutsideViewport(G[0].getPosition())}_move(G){const re=[];for(const S of this._snippets){const he=S.move(G);re.push(...he)}return re}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const G=this._editor.getSelections();if(G.length<this._snippets.length)return!1;const re=new Map;for(const S of this._snippets){const he=S.computePossibleSelections();if(re.size===0)for(const[Ce,ge]of he){ge.sort(D.e.compareRangesUsingStarts);for(const pe of G)if(ge[0].containsRange(pe)){re.set(Ce,[]);break}}if(re.size===0)return!1;re.forEach((Ce,ge)=>{Ce.push(...he.get(ge))})}G.sort(D.e.compareRangesUsingStarts);for(const[S,he]of re){if(he.length!==G.length){re.delete(S);continue}he.sort(D.e.compareRangesUsingStarts);for(let Ce=0;Ce<he.length;Ce++)if(!he[Ce].containsRange(G[Ce])){re.delete(S);continue}}return re.size>0}};T=X([j(3,M.c_)],T)},61984:function(Ot,Te,i){"use strict";i.r(Te);var w=i(9917),r=i(16830),O=i(71922),V=i(30335),D=i(71050),$=i(65321),M=i(50072),P=i(91557),A=i(92550),L=i(15393),c=i(50187),p=function(y,b,_,E){var I=arguments.length,R=I<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,_):E,J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(y,b,_,E);else for(var Q=y.length-1;Q>=0;Q--)(J=y[Q])&&(R=(I<3?J(R):I>3?J(b,_,R):J(b,_))||R);return I>3&&R&&Object.defineProperty(b,_,R),R},l=function(y,b){return function(_,E){b(_,E,y)}},n=function(y,b,_,E){function I(R){return R instanceof _?R:new _(function(J){J(R)})}return new(_||(_=Promise))(function(R,J){function Q(H){try{K(E.next(H))}catch(X){J(X)}}function U(H){try{K(E.throw(H))}catch(X){J(X)}}function K(H){H.done?R(H.value):I(H.value).then(Q,U)}K((E=E.apply(y,b||[])).next())})},a;let g=class extends w.JT{constructor(b,_){super(),this._sessionStore=new w.SL,this._ranges=[],this._rangesVersionId=0,this._editor=b,this._languageFeaturesService=_,this.stickyScrollWidget=new C(this._editor),this._register(this._editor.onDidChangeConfiguration(E=>{E.hasChanged(34)&&this.onConfigurationChange()})),this._updateSoon=this._register(new L.pY(()=>this._update(!0),50)),this.onConfigurationChange()}onConfigurationChange(){if(this._editor.getOption(34).stickyScroll.enabled===!1){this.stickyScrollWidget.emptyRootNode(),this._editor.removeOverlayWidget(this.stickyScrollWidget),this._sessionStore.clear();return}else this._editor.addOverlayWidget(this.stickyScrollWidget),this._sessionStore.add(this._editor.onDidChangeModel(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidScrollChange(()=>this._update(!1))),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidChangeModelTokens(_=>this._onTokensChange(_))),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this._update(!0))),this._update(!0)}_needsUpdate(b){const _=this.stickyScrollWidget.getCurrentLines();for(const E of _)for(const I of b.ranges)if(E>=I.fromLineNumber&&E<=I.toLineNumber)return!0;return!1}_onTokensChange(b){this._needsUpdate(b)&&this._update(!1)}_update(b=!1){var _,E;return n(this,void 0,void 0,function*(){b&&((_=this._cts)===null||_===void 0||_.dispose(!0),this._cts=new D.A,yield this._updateOutlineModel(this._cts.token));const I=(E=this._editor._getViewModel())===null||E===void 0?void 0:E.getHiddenAreas();if(I)for(const R of I)this._ranges=this._ranges.filter(J=>!(J[0]>=R.startLineNumber&&J[1]<=R.endLineNumber+1));this._renderStickyScroll()})}_findLineRanges(b,_){if(b!=null&&b.children.size){let E=!1;for(const I of b==null?void 0:b.children.values()){const R=I.symbol.kind;(R===4||R===8||R===11||R===10||R===5||R===1)&&(E=!0,this._findLineRanges(I,_+1))}E||this._addOutlineRanges(b,_)}else this._addOutlineRanges(b,_)}_addOutlineRanges(b,_){let E=0,I=0;for(;b;){const R=b.symbol.kind;if((R===4||R===8||R===11||R===10||R===5||R===1)&&(E=b==null?void 0:b.symbol.range.startLineNumber,I=b==null?void 0:b.symbol.range.endLineNumber,this._ranges.push([E,I,_]),_--),b.parent instanceof V.sT)b=b.parent;else break}}_updateOutlineModel(b){return n(this,void 0,void 0,function*(){if(this._editor.hasModel()){const _=this._editor.getModel(),E=_.getVersionId(),I=yield V.C3.create(this._languageFeaturesService.documentSymbolProvider,_,b);if(b.isCancellationRequested)return;this._ranges=[],this._rangesVersionId=E;for(const R of I.children.values()){if(R instanceof V.sT){const Q=R.symbol.kind;Q===4||Q===8||Q===11||Q===10||Q===5||Q===1?this._findLineRanges(R,1):this._findLineRanges(R,0)}this._ranges=this._ranges.sort(function(Q,U){return Q[0]!==U[0]?Q[0]-U[0]:Q[1]!==U[1]?U[1]-Q[1]:Q[2]-U[2]});let J=[];for(const[Q,U]of this._ranges.entries()){const[K,H,X]=U;J[0]===K&&J[1]===H?this._ranges.splice(Q,1):J=U}}}})}_renderStickyScroll(){if(!this._editor.hasModel())return;const b=this._editor.getOption(61),_=this._editor.getModel();if(this._rangesVersionId!==_.getVersionId())return;const E=this._editor.getScrollTop();this.stickyScrollWidget.emptyRootNode();const I=new Set;for(const[R,J]of this._ranges.entries()){const[Q,U,K]=J;if(U-Q>0&&_.getLineContent(Q)!==""){const H=(K-1)*b,X=K*b,j=this._editor.getBottomForLineNumber(Q)-E,x=this._editor.getTopForLineNumber(U)-E,Z=this._editor.getBottomForLineNumber(U)-E;if(I.has(Q))this._ranges.splice(R,1);else if(H>=x-1&&H<Z-2){I.add(Q),this.stickyScrollWidget.pushCodeLine(new u(Q,K,this._editor,-1,Z-X));break}else X>j&&X<Z-1&&(I.add(Q),this.stickyScrollWidget.pushCodeLine(new u(Q,K,this._editor,0,0)))}}this.stickyScrollWidget.updateRootNode()}dispose(){super.dispose(),this._sessionStore.dispose()}};g.ID="store.contrib.stickyScrollController",g=p([l(1,O.p)],g);const f=(a=window.trustedTypes)===null||a===void 0?void 0:a.createPolicy("stickyScrollViewLayer",{createHTML:y=>y});class u{constructor(b,_,E,I,R){this._lineNumber=b,this._depth=_,this._editor=E,this._zIndex=I,this._relativePosition=R,this.effectiveLineHeight=0,this.effectiveLineHeight=this._editor.getOption(61)+this._relativePosition}get lineNumber(){return this._lineNumber}getDomNode(){const b=document.createElement("div"),_=this._editor._getViewModel(),E=_.coordinatesConverter.convertModelPositionToViewPosition(new c.L(this._lineNumber,1)).lineNumber,I=_.getViewLineRenderingData(E);let R;try{R=A.Kp.filter(I.inlineDecorations,E,I.minColumn,I.maxColumn)}catch{R=[]}const J=new P.IJ(!0,!0,I.content,I.continuesWithWrappedLine,I.isBasicASCII,I.containsRTL,0,I.tokens,R,I.tabSize,I.startVisibleColumn,1,1,1,100,"none",!0,!0,null),Q=(0,M.l$)(400);(0,P.d1)(J,Q);let U;f?U=f.createHTML(Q.build()):U=Q.build();const K=document.createElement("span");K.style.backgroundColor="var(--vscode-editorStickyScroll-background)",K.style.overflow="hidden",K.style.whiteSpace="nowrap",K.style.display="inline-block",K.style.lineHeight=this._editor.getOption(61).toString()+"px",K.innerHTML=U;const H=document.createElement("span");H.style.width=this._editor.getLayoutInfo().contentLeft.toString()+"px",H.style.backgroundColor="var(--vscode-editorStickyScroll-background)",H.style.color="var(--vscode-editorLineNumber-foreground)",H.style.display="inline-block",H.style.lineHeight=this._editor.getOption(61).toString()+"px";const X=document.createElement("span");return X.innerText=this._lineNumber.toString(),X.style.paddingLeft=this._editor.getLayoutInfo().lineNumbersLeft.toString()+"px",X.style.width=this._editor.getLayoutInfo().lineNumbersWidth.toString()+"px",X.style.backgroundColor="var(--vscode-editorStickyScroll-background)",X.style.textAlign="right",X.style.float="left",X.style.lineHeight=this._editor.getOption(61).toString()+"px",H.appendChild(X),b.onclick=j=>{j.stopPropagation(),j.preventDefault(),this._editor.revealPosition({lineNumber:this._lineNumber-this._depth+1,column:1})},b.onmouseover=j=>{X.style.background="var(--vscode-editorStickyScrollHover-background)",K.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",H.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",b.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",X.style.cursor="pointer",K.style.cursor="pointer",b.style.cursor="pointer",H.style.cursor="pointer"},b.onmouseleave=j=>{X.style.background="var(--vscode-editorStickyScroll-background)",K.style.backgroundColor="var(--vscode-editorStickyScroll-background)",H.style.backgroundColor="var(--vscode-editorStickyScroll-background)",b.style.backgroundColor="var(--vscode-editorStickyScroll-background)"},this._editor.applyFontInfo(K),this._editor.applyFontInfo(X),b.appendChild(H),b.appendChild(K),b.style.zIndex=this._zIndex.toString(),b.style.backgroundColor="var(--vscode-editorStickyScroll-background)",b.style.overflow="hidden",b.style.whiteSpace="nowrap",b.style.width="100%",b.style.lineHeight=this._editor.getOption(61).toString()+"px",b.style.height=this._editor.getOption(61).toString()+"px",this._relativePosition&&(b.style.position="relative",b.style.top=this._relativePosition+"px",b.style.width="100%"),b}}class C{constructor(b){this._editor=b,this.arrayOfCodeLines=[],this.rootDomNode=document.createElement("div"),this.rootDomNode=document.createElement("div"),this.rootDomNode.style.width="100%",this.rootDomNode.style.boxShadow="var(--vscode-scrollbar-shadow) 0 6px 6px -6px"}getCurrentLines(){const b=[];for(const _ of this.arrayOfCodeLines)b.push(_.lineNumber);return b}pushCodeLine(b){this.arrayOfCodeLines.push(b)}updateRootNode(){let b=0;for(const _ of this.arrayOfCodeLines)b+=_.effectiveLineHeight,this.rootDomNode.appendChild(_.getDomNode());this.rootDomNode.style.height=b.toString()+"px"}emptyRootNode(){this.arrayOfCodeLines.length=0,$.PO(this.rootDomNode)}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this.rootDomNode.style.zIndex="2",this.rootDomNode.style.backgroundColor="var(--vscode-editorStickyScroll-background)",this.rootDomNode}getPosition(){return{preference:null}}}(0,r._K)(g.ID,g)},74961:function(Ot,Te,i){"use strict";i.d(Te,{_:function(){return D},t:function(){return V}});var w=i(9488),r=i(75392),O=i(97295);class V{constructor(M,P){this.leadingLineContent=M,this.characterCountDelta=P}}class D{constructor(M,P,A,L,c,p,l=r.mX.default,n=void 0){this.clipboardText=n,this._snippetCompareFn=D._compareCompletionItems,this._items=M,this._column=P,this._wordDistance=L,this._options=c,this._refilterKind=1,this._lineContext=A,this._fuzzyScoreOptions=l,p==="top"?this._snippetCompareFn=D._compareCompletionItemsSnippetsUp:p==="bottom"&&(this._snippetCompareFn=D._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(M){(this._lineContext.leadingLineContent!==M.leadingLineContent||this._lineContext.characterCountDelta!==M.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<M.characterCountDelta&&this._filteredItems?2:1,this._lineContext=M)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const M=new Set;for(const[P,A]of this._providerInfo)A&&M.add(P);return M}adopt(M){const P=[];for(let A=0;A<this._items.length;)M.has(this._items[A].provider)?A++:(P.push(this._items[A]),this._items[A]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,P}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const M=[],{leadingLineContent:P,characterCountDelta:A}=this._lineContext;let L="",c="";const p=this._refilterKind===1?this._items:this._filteredItems,l=[],n=!this._options.filterGraceful||p.length>2e3?r.EW:r.l7;for(let a=0;a<p.length;a++){const g=p[a];if(g.isInvalid)continue;this._providerInfo.set(g.provider,Boolean(g.container.incomplete));const f=g.position.column-g.editStart.column,u=f+A-(g.position.column-this._column);if(L.length!==u&&(L=u===0?"":P.slice(-u),c=L.toLowerCase()),g.word=L,u===0)g.score=r.CL.Default;else{let C=0;for(;C<f;){const y=L.charCodeAt(C);if(y===32||y===9)C+=1;else break}if(C>=u)g.score=r.CL.Default;else if(typeof g.completion.filterText=="string"){const y=n(L,c,C,g.completion.filterText,g.filterTextLow,0,this._fuzzyScoreOptions);if(!y)continue;(0,O.zY)(g.completion.filterText,g.textLabel)===0?g.score=y:(g.score=(0,r.jB)(L,c,C,g.textLabel,g.labelLow,0),g.score[0]=y[0])}else{const y=n(L,c,C,g.textLabel,g.labelLow,0,this._fuzzyScoreOptions);if(!y)continue;g.score=y}}g.idx=a,g.distance=this._wordDistance.distance(g.position,g.completion),l.push(g),M.push(g.textLabel.length)}this._filteredItems=l.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:M.length?(0,w.HW)(M.length-.85,M,(a,g)=>a-g):0}}static _compareCompletionItems(M,P){return M.score[0]>P.score[0]?-1:M.score[0]<P.score[0]?1:M.distance<P.distance?-1:M.distance>P.distance?1:M.idx<P.idx?-1:M.idx>P.idx?1:0}static _compareCompletionItemsSnippetsDown(M,P){if(M.completion.kind!==P.completion.kind){if(M.completion.kind===27)return 1;if(P.completion.kind===27)return-1}return D._compareCompletionItems(M,P)}static _compareCompletionItemsSnippetsUp(M,P){if(M.completion.kind!==P.completion.kind){if(M.completion.kind===27)return-1;if(P.completion.kind===27)return 1}return D._compareCompletionItems(M,P)}}},55621:function(Ot,Te,i){"use strict";i.d(Te,{A9:function(){return _},GI:function(){return y},ZJ:function(){return I},_y:function(){return C},i5:function(){return j},kL:function(){return J},tG:function(){return x},wg:function(){return X}});var w=i(71050),r=i(17301),O=i(75392),V=i(9917),D=i(84013),$=i(98401),M=i(70666),P=i(50187),A=i(24314),L=i(88216),c=i(35084),p=i(63580),l=i(84144),n=i(94565),a=i(16141),g=i(71922),f=i(22980),u=function(Z,T,z,G){function re(S){return S instanceof z?S:new z(function(he){he(S)})}return new(z||(z=Promise))(function(S,he){function Ce(ee){try{pe(G.next(ee))}catch(se){he(se)}}function ge(ee){try{pe(G.throw(ee))}catch(se){he(se)}}function pe(ee){ee.done?S(ee.value):re(ee.value).then(Ce,ge)}pe((G=G.apply(Z,T||[])).next())})};const C={Visible:f.iX,HasFocusedSuggestion:new a.uy("suggestWidgetHasFocusedSuggestion",!1,(0,p.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new a.uy("suggestWidgetDetailsVisible",!1,(0,p.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new a.uy("suggestWidgetMultipleSuggestions",!1,(0,p.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new a.uy("suggestionMakesTextEdit",!0,(0,p.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new a.uy("acceptSuggestionOnEnter",!0,(0,p.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new a.uy("suggestionHasInsertAndReplaceRange",!1,(0,p.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new a.uy("suggestionInsertMode",void 0,{type:"string",description:(0,p.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new a.uy("suggestionCanResolve",!1,(0,p.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},y=new l.eH("suggestWidgetStatusBar");class b{constructor(T,z,G,re){this.position=T,this.completion=z,this.container=G,this.provider=re,this.isInvalid=!1,this.score=O.CL.Default,this.distance=0,this.textLabel=typeof z.label=="string"?z.label:z.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=z.sortText&&z.sortText.toLowerCase(),this.filterTextLow=z.filterText&&z.filterText.toLowerCase(),this.extensionId=z.extensionId,A.e.isIRange(z.range)?(this.editStart=new P.L(z.range.startLineNumber,z.range.startColumn),this.editInsertEnd=new P.L(z.range.endLineNumber,z.range.endColumn),this.editReplaceEnd=new P.L(z.range.endLineNumber,z.range.endColumn),this.isInvalid=this.isInvalid||A.e.spansMultipleLines(z.range)||z.range.startLineNumber!==T.lineNumber):(this.editStart=new P.L(z.range.insert.startLineNumber,z.range.insert.startColumn),this.editInsertEnd=new P.L(z.range.insert.endLineNumber,z.range.insert.endColumn),this.editReplaceEnd=new P.L(z.range.replace.endLineNumber,z.range.replace.endColumn),this.isInvalid=this.isInvalid||A.e.spansMultipleLines(z.range.insert)||A.e.spansMultipleLines(z.range.replace)||z.range.insert.startLineNumber!==T.lineNumber||z.range.replace.startLineNumber!==T.lineNumber||z.range.insert.startColumn!==z.range.replace.startColumn),typeof re.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(T){return u(this,void 0,void 0,function*(){if(!this._resolveCache){const z=T.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,T)).then(G=>{Object.assign(this.completion,G),this._isResolved=!0,z.dispose()},G=>{(0,r.n2)(G)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class _{constructor(T=2,z=new Set,G=new Set,re=!0){this.snippetSortOrder=T,this.kindFilter=z,this.providerFilter=G,this.showDeprecated=re}}_.default=new _;let E;function I(){return E}class R{constructor(T,z,G,re){this.items=T,this.needsClipboard=z,this.durations=G,this.disposable=re}}function J(Z,T,z,G=_.default,re={triggerKind:0},S=w.T.None){return u(this,void 0,void 0,function*(){const he=new D.G(!0);z=z.clone();const Ce=T.getWordAtPosition(z),ge=Ce?new A.e(z.lineNumber,Ce.startColumn,z.lineNumber,Ce.endColumn):A.e.fromPositions(z),pe={replace:ge,insert:ge.setEndPosition(z.lineNumber,z.column)},ee=[],se=new V.SL,ne=[];let oe=!1;const Se=(Me,ye,le)=>{var ie,ve,xe;let Ye=!1;if(!ye)return Ye;for(const at of ye.suggestions)if(!G.kindFilter.has(at.kind)){if(!G.showDeprecated&&((ie=at==null?void 0:at.tags)===null||ie===void 0?void 0:ie.includes(1)))continue;at.range||(at.range=pe),at.sortText||(at.sortText=typeof at.label=="string"?at.label:at.label.label),!oe&&at.insertTextRules&&at.insertTextRules&4&&(oe=c.Yj.guessNeedsClipboard(at.insertText)),ee.push(new b(z,at,ye,Me)),Ye=!0}return(0,V.Wf)(ye)&&se.add(ye),ne.push({providerName:(ve=Me._debugDisplayName)!==null&&ve!==void 0?ve:"unknown_provider",elapsedProvider:(xe=ye.duration)!==null&&xe!==void 0?xe:-1,elapsedOverall:le.elapsed()}),Ye},Ee=(()=>u(this,void 0,void 0,function*(){if(!E||G.kindFilter.has(27)||G.providerFilter.size>0&&!G.providerFilter.has(E))return;const Me=new D.G(!0),ye=yield E.provideCompletionItems(T,z,re,S);Se(E,ye,Me)}))();for(const Me of Z.orderedGroups(T)){let ye=!1;if(yield Promise.all(Me.map(le=>u(this,void 0,void 0,function*(){if(!(G.providerFilter.size>0&&!G.providerFilter.has(le)))try{const ie=new D.G(!0),ve=yield le.provideCompletionItems(T,z,re,S);ye=Se(le,ve,ie)||ye}catch(ie){(0,r.Cp)(ie)}}))),ye||S.isCancellationRequested)break}return yield Ee,S.isCancellationRequested?(se.dispose(),Promise.reject(new r.FU)):new R(ee.sort(X(G.snippetSortOrder)),oe,{entries:ne,elapsed:he.elapsed()},se)})}function Q(Z,T){if(Z.sortTextLow&&T.sortTextLow){if(Z.sortTextLow<T.sortTextLow)return-1;if(Z.sortTextLow>T.sortTextLow)return 1}return Z.textLabel<T.textLabel?-1:Z.textLabel>T.textLabel?1:Z.completion.kind-T.completion.kind}function U(Z,T){if(Z.completion.kind!==T.completion.kind){if(Z.completion.kind===27)return-1;if(T.completion.kind===27)return 1}return Q(Z,T)}function K(Z,T){if(Z.completion.kind!==T.completion.kind){if(Z.completion.kind===27)return 1;if(T.completion.kind===27)return-1}return Q(Z,T)}const H=new Map;H.set(0,U),H.set(2,K),H.set(1,Q);function X(Z){return H.get(Z)}n.P0.registerCommand("_executeCompletionItemProvider",(Z,...T)=>u(void 0,void 0,void 0,function*(){const[z,G,re,S]=T;(0,$.p_)(M.o.isUri(z)),(0,$.p_)(P.L.isIPosition(G)),(0,$.p_)(typeof re=="string"||!re),(0,$.p_)(typeof S=="number"||!S);const{completionProvider:he}=Z.get(g.p),Ce=yield Z.get(L.S).createModelReference(z);try{const ge={incomplete:!1,suggestions:[]},pe=[],ee=yield J(he,Ce.object.textEditorModel,P.L.lift(G),void 0,{triggerCharacter:re,triggerKind:re?1:0});for(const se of ee.items)pe.length<(S??0)&&pe.push(se.resolve(w.T.None)),ge.incomplete=ge.incomplete||se.container.incomplete,ge.suggestions.push(se.completion);try{return yield Promise.all(pe),ge}finally{setTimeout(()=>ee.disposable.dispose(),100)}}finally{Ce.dispose()}}));function j(Z,T){var z;(z=Z.getContribution("editor.contrib.suggestController"))===null||z===void 0||z.triggerSuggest(new Set().add(T),void 0,!0)}class x{static isAllOff(T){return T.other==="off"&&T.comments==="off"&&T.strings==="off"}static isAllOn(T){return T.other==="on"&&T.comments==="on"&&T.strings==="on"}static valueFor(T,z){switch(z){case 1:return T.comments;case 2:return T.strings;default:return T.other}}}},1053:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{SuggestController:function(){return Ve},TriggerSuggestAction:function(){return Tt}});var w=i(57924),r=i(9488),O=i(15393),V=i(71050),D=i(17301),$=i(4669),M=i(8313),P=i(9917),A=i(1432),L=i(84013),c=i(98401),p=i(43407),l=i(16830),n=i(69386),a=i(50187),g=i(24314),f=i(29102),u=i(98762),C=i(35084),y=i(80378),b=i(16141),_=function(Wt,We,Xe,ut){var pt=arguments.length,kt=pt<3?We:ut===null?ut=Object.getOwnPropertyDescriptor(We,Xe):ut,Kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(Wt,We,Xe,ut);else for(var Gt=Wt.length-1;Gt>=0;Gt--)(Kt=Wt[Gt])&&(kt=(pt<3?Kt(kt):pt>3?Kt(We,Xe,kt):Kt(We,Xe))||kt);return pt>3&&kt&&Object.defineProperty(We,Xe,kt),kt},E=function(Wt,We){return function(Xe,ut){We(Xe,ut,Wt)}};let I=class td{constructor(We,Xe){this._editor=We,this._enabled=!1,this._ckAtEnd=td.AtEnd.bindTo(Xe),this._configListener=this._editor.onDidChangeConfiguration(ut=>ut.hasChanged(113)&&this._update()),this._update()}dispose(){var We;this._configListener.dispose(),(We=this._selectionListener)===null||We===void 0||We.dispose(),this._ckAtEnd.reset()}_update(){const We=this._editor.getOption(113)==="on";if(this._enabled!==We)if(this._enabled=We,this._enabled){const Xe=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const ut=this._editor.getModel(),pt=this._editor.getSelection(),kt=ut.getWordAtPosition(pt.getStartPosition());if(!kt){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(kt.endColumn===pt.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(Xe),Xe()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};I.AtEnd=new b.uy("atEndOfWord",!1),I=_([E(1,b.i6)],I);var R=i(63580),J=i(94565),Q=i(72065),U=i(43557),K=i(55621),H=function(Wt,We,Xe,ut){var pt=arguments.length,kt=pt<3?We:ut===null?ut=Object.getOwnPropertyDescriptor(We,Xe):ut,Kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(Wt,We,Xe,ut);else for(var Gt=Wt.length-1;Gt>=0;Gt--)(Kt=Wt[Gt])&&(kt=(pt<3?Kt(kt):pt>3?Kt(We,Xe,kt):Kt(We,Xe))||kt);return pt>3&&kt&&Object.defineProperty(We,Xe,kt),kt},X=function(Wt,We){return function(Xe,ut){We(Xe,ut,Wt)}};let j=class ya{constructor(We,Xe){this._editor=We,this._index=0,this._ckOtherSuggestions=ya.OtherSuggestions.bindTo(Xe)}dispose(){this.reset()}reset(){var We;this._ckOtherSuggestions.reset(),(We=this._listener)===null||We===void 0||We.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:We,index:Xe},ut){if(We.items.length===0){this.reset();return}if(ya._moveIndex(!0,We,Xe)===Xe){this.reset();return}this._acceptNext=ut,this._model=We,this._index=Xe,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(We,Xe,ut){let pt=ut;for(;pt=(pt+Xe.items.length+(We?1:-1))%Xe.items.length,!(pt===ut||!Xe.items[pt].completion.additionalTextEdits););return pt}next(){this._move(!0)}prev(){this._move(!1)}_move(We){if(!!this._model)try{this._ignore=!0,this._index=ya._moveIndex(We,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};j.OtherSuggestions=new b.uy("hasOtherSuggestions",!1),j=H([X(1,b.i6)],j);var x=i(44906);class Z{constructor(We,Xe,ut){this._disposables=new P.SL,this._disposables.add(Xe.onDidShow(()=>this._onItem(Xe.getFocusedItem()))),this._disposables.add(Xe.onDidFocus(this._onItem,this)),this._disposables.add(Xe.onDidHide(this.reset,this)),this._disposables.add(We.onWillType(pt=>{if(this._active&&!Xe.isFrozen()){const kt=pt.charCodeAt(pt.length-1);this._active.acceptCharacters.has(kt)&&We.getOption(0)&&ut(this._active.item)}}))}_onItem(We){if(!We||!(0,r.Of)(We.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===We.item)return;const Xe=new x.q;for(const ut of We.item.completion.commitCharacters)ut.length>0&&Xe.add(ut.charCodeAt(0));this._active={acceptCharacters:Xe,item:We}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var T=i(97295),z=i(3860),G=i(85215),re=i(24477),S=i(84972),he=i(33108),Ce=i(10829),ge=i(74961),pe=i(71922),ee=function(Wt,We,Xe,ut){var pt=arguments.length,kt=pt<3?We:ut===null?ut=Object.getOwnPropertyDescriptor(We,Xe):ut,Kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(Wt,We,Xe,ut);else for(var Gt=Wt.length-1;Gt>=0;Gt--)(Kt=Wt[Gt])&&(kt=(pt<3?Kt(kt):pt>3?Kt(We,Xe,kt):Kt(We,Xe))||kt);return pt>3&&kt&&Object.defineProperty(We,Xe,kt),kt},se=function(Wt,We){return function(Xe,ut){We(Xe,ut,Wt)}},ne=function(Wt,We,Xe,ut){function pt(kt){return kt instanceof Xe?kt:new Xe(function(Kt){Kt(kt)})}return new(Xe||(Xe=Promise))(function(kt,Kt){function Gt(wi){try{Oi(ut.next(wi))}catch(Pt){Kt(Pt)}}function Ei(wi){try{Oi(ut.throw(wi))}catch(Pt){Kt(Pt)}}function Oi(wi){wi.done?kt(wi.value):pt(wi.value).then(Gt,Ei)}Oi((ut=ut.apply(Wt,We||[])).next())})};class oe{constructor(We,Xe,ut,pt,kt){this.leadingLineContent=We.getLineContent(Xe.lineNumber).substr(0,Xe.column-1),this.leadingWord=We.getWordUntilPosition(Xe),this.lineNumber=Xe.lineNumber,this.column=Xe.column,this.auto=ut,this.shy=pt,this.noSelect=kt}static shouldAutoTrigger(We){if(!We.hasModel())return!1;const Xe=We.getModel(),ut=We.getPosition();Xe.tokenization.tokenizeIfCheap(ut.lineNumber);const pt=Xe.getWordAtPosition(ut);return!(!pt||pt.endColumn!==ut.column||!isNaN(Number(pt.word)))}}function Se(Wt){return Wt.getOption(108).preview}function Ee(Wt,We,Xe){if(!Boolean(We.getContextKeyValue("inlineSuggestionVisible")))return!0;const ut=Xe.getValue("editor.inlineSuggest.allowQuickSuggestions");return ut!==void 0?Boolean(ut):!1}function Me(Wt,We,Xe){if(!Boolean(We.getContextKeyValue("inlineSuggestionVisible")))return!0;const ut=Xe.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return ut!==void 0?Boolean(ut):!1}let ye=class id{constructor(We,Xe,ut,pt,kt,Kt,Gt,Ei){this._editor=We,this._editorWorkerService=Xe,this._clipboardService=ut,this._telemetryService=pt,this._logService=kt,this._contextKeyService=Kt,this._configurationService=Gt,this._languageFeaturesService=Ei,this._toDispose=new P.SL,this._triggerCharacterListener=new P.SL,this._triggerQuickSuggest=new O._F,this._state=0,this._completionDisposables=new P.SL,this._onDidCancel=new $.Q5,this._onDidTrigger=new $.Q5,this._onDidSuggest=new $.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new z.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let Oi=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{Oi=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{Oi=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(wi=>{Oi||this._onCursorChange(wi)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{Oi||this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,P.B9)(this._triggerCharacterListener),(0,P.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(83)||!this._editor.hasModel()||!this._editor.getOption(111))return;const We=new Map;for(const ut of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const pt of ut.triggerCharacters||[]){let kt=We.get(pt);kt||(kt=new Set,kt.add((0,K.ZJ)()),We.set(pt,kt)),kt.add(ut)}const Xe=ut=>{if(!Me(this._editor,this._contextKeyService,this._configurationService)||oe.shouldAutoTrigger(this._editor))return;if(!ut){const Kt=this._editor.getPosition();ut=this._editor.getModel().getLineContent(Kt.lineNumber).substr(0,Kt.column-1)}let pt="";(0,T.YK)(ut.charCodeAt(ut.length-1))?(0,T.ZG)(ut.charCodeAt(ut.length-2))&&(pt=ut.substr(ut.length-2)):pt=ut.charAt(ut.length-1);const kt=We.get(pt);if(kt){const Kt=this._completionModel?{items:this._completionModel.adopt(kt),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,noSelect:!1,triggerCharacter:pt},Boolean(this._completionModel),kt,Kt)}};this._triggerCharacterListener.add(this._editor.onDidType(Xe)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>Xe()))}get state(){return this._state}cancel(We=!1){var Xe;this._state!==0&&(this._triggerQuickSuggest.cancel(),(Xe=this._requestToken)===null||Xe===void 0||Xe.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:We}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1,noSelect:!1},!0))}_onCursorChange(We){if(!this._editor.hasModel())return;const Xe=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!We.selection.isEmpty()||We.reason!==0&&We.reason!==3||We.source!=="keyboard"&&We.source!=="deleteLeft"){this.cancel();return}this._state===0&&We.reason===0?(Xe.containsRange(this._currentSelection)||Xe.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&We.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var We;K.tG.isAllOff(this._editor.getOption(81))||this._editor.getOption(108).snippetsPreventQuickSuggestions&&((We=u.SnippetController2.get(this._editor))===null||We===void 0?void 0:We.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!oe.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const Xe=this._editor.getModel(),ut=this._editor.getPosition(),pt=this._editor.getOption(81);if(!K.tG.isAllOff(pt)){if(!K.tG.isAllOn(pt)){Xe.tokenization.tokenizeIfCheap(ut.lineNumber);const kt=Xe.tokenization.getLineTokens(ut.lineNumber),Kt=kt.getStandardTokenType(kt.findTokenIndexAtOffset(Math.max(ut.column-1-1,0)));if(K.tG.valueFor(pt,Kt)!=="on")return}!Ee(this._editor,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(Xe)||this.trigger({auto:!0,shy:!1,noSelect:!1})}},this._editor.getOption(82)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const We=this._editor.getModel(),Xe=this._editor.getPosition(),ut=new oe(We,Xe,this._state===2,!1,!1);this._onNewContext(ut)})}trigger(We,Xe=!1,ut,pt,kt){var Kt;if(!this._editor.hasModel())return;const Gt=this._editor.getModel(),Ei=We.auto,Oi=new oe(Gt,this._editor.getPosition(),Ei,We.shy,We.noSelect);this.cancel(Xe),this._state=Ei?2:1,this._onDidTrigger.fire({auto:Ei,shy:We.shy,position:this._editor.getPosition()}),this._context=Oi;let wi={triggerKind:(Kt=We.triggerKind)!==null&&Kt!==void 0?Kt:0};We.triggerCharacter&&(wi={triggerKind:1,triggerCharacter:We.triggerCharacter}),this._requestToken=new V.A;const Pt=this._editor.getOption(103);let Pi=1;switch(Pt){case"top":Pi=0;break;case"bottom":Pi=2;break}const{itemKind:en,showDeprecated:un}=id._createSuggestFilter(this._editor),hn=new K.A9(Pi,kt?new Set:en,ut,un),Gi=re.K.create(this._editorWorkerService,this._editor),_n=(0,K.kL)(this._languageFeaturesService.completionProvider,Gt,this._editor.getPosition(),hn,wi,this._requestToken.token);Promise.all([_n,Gi]).then(([an,tn])=>ne(this,void 0,void 0,function*(){var En;if((En=this._requestToken)===null||En===void 0||En.dispose(),!this._editor.hasModel())return;let nn=pt==null?void 0:pt.clipboardText;if(!nn&&an.needsClipboard&&(nn=yield this._clipboardService.readText()),this._state===0)return;const yi=this._editor.getModel();let oi=an.items;if(pt){const Vi=(0,K.wg)(Pi);oi=oi.concat(pt.items).sort(Vi)}const Ii=new oe(yi,this._editor.getPosition(),Ei,We.shy,We.noSelect);this._completionModel=new ge._(oi,this._context.column,{leadingLineContent:Ii.leadingLineContent,characterCountDelta:Ii.column-this._context.column},tn,this._editor.getOption(108),this._editor.getOption(103),void 0,nn),this._completionDisposables.add(an.disposable),this._onNewContext(Ii),this._reportDurationsTelemetry(an.durations)})).catch(D.dL)}_reportDurationsTelemetry(We){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(We)}),this._logService.debug("suggest.durations.json",We)})}static _createSuggestFilter(We){const Xe=new Set;We.getOption(103)==="none"&&Xe.add(27);const pt=We.getOption(108);return pt.showMethods||Xe.add(0),pt.showFunctions||Xe.add(1),pt.showConstructors||Xe.add(2),pt.showFields||Xe.add(3),pt.showVariables||Xe.add(4),pt.showClasses||Xe.add(5),pt.showStructs||Xe.add(6),pt.showInterfaces||Xe.add(7),pt.showModules||Xe.add(8),pt.showProperties||Xe.add(9),pt.showEvents||Xe.add(10),pt.showOperators||Xe.add(11),pt.showUnits||Xe.add(12),pt.showValues||Xe.add(13),pt.showConstants||Xe.add(14),pt.showEnums||Xe.add(15),pt.showEnumMembers||Xe.add(16),pt.showKeywords||Xe.add(17),pt.showWords||Xe.add(18),pt.showColors||Xe.add(19),pt.showFiles||Xe.add(20),pt.showReferences||Xe.add(21),pt.showColors||Xe.add(22),pt.showFolders||Xe.add(23),pt.showTypeParameters||Xe.add(24),pt.showSnippets||Xe.add(27),pt.showUsers||Xe.add(25),pt.showIssues||Xe.add(26),{itemKind:Xe,showDeprecated:pt.showDeprecated}}_onNewContext(We){if(!!this._context){if(We.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,T.V8)(We.leadingLineContent)!==(0,T.V8)(this._context.leadingLineContent)){this.cancel();return}if(We.column<this._context.column){We.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0):this.cancel();return}if(!!this._completionModel){if(We.leadingWord.word.length!==0&&We.leadingWord.startColumn>this._context.leadingWord.startColumn){const Xe=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(const pt of this._completionModel.allProvider)Xe.delete(pt);const ut=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0,Xe,{items:ut,clipboardText:this._completionModel.clipboardText});return}if(We.column>this._context.column&&this._completionModel.incomplete.size>0&&We.leadingWord.word.length!==0){const{incomplete:Xe}=this._completionModel,ut=this._completionModel.adopt(Xe);this.trigger({auto:this._state===2,shy:!1,noSelect:!1,triggerKind:2},!0,Xe,{items:ut,clipboardText:this._completionModel.clipboardText})}else{const Xe=this._completionModel.lineContext;let ut=!1;if(this._completionModel.lineContext={leadingLineContent:We.leadingLineContent,characterCountDelta:We.column-this._context.column},this._completionModel.items.length===0){if(oe.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<We.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=Xe,ut=this._completionModel.items.length>0,ut&&We.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,noSelect:this._context.noSelect,isFrozen:ut})}}}}};ye=ee([se(1,G.p),se(2,S.p),se(3,Ce.b),se(4,U.VZ),se(5,b.i6),se(6,he.Ui),se(7,pe.p)],ye);class le{constructor(We,Xe){this._disposables=new P.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(We.onWillType(()=>{if(!this._empty||!We.hasModel())return;const ut=We.getSelections(),pt=ut.length;let kt=!1;for(let Gt=0;Gt<pt;Gt++)if(!ut[Gt].isEmpty()){kt=!0;break}if(!kt)return;this._lastOvertyped=[];const Kt=We.getModel();for(let Gt=0;Gt<pt;Gt++){const Ei=ut[Gt];if(Kt.getValueLengthInRange(Ei)>le._maxSelectionLength)return;this._lastOvertyped[Gt]={value:Kt.getValueInRange(Ei),multiline:Ei.startLineNumber!==Ei.endLineNumber}}this._empty=!1})),this._disposables.add(Xe.onDidCancel(ut=>{!this._empty&&!ut.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(We){if(!this._empty&&We>=0&&We<this._lastOvertyped.length)return this._lastOvertyped[We]}dispose(){this._disposables.dispose()}}le._maxSelectionLength=51200;var ie=i(65321),ve=i(11287),xe=i(43799),Ye=i(59870),at=i(84527),qe=i(90317),Re=i(11468),Je=i(84144),st=function(Wt,We,Xe,ut){var pt=arguments.length,kt=pt<3?We:ut===null?ut=Object.getOwnPropertyDescriptor(We,Xe):ut,Kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(Wt,We,Xe,ut);else for(var Gt=Wt.length-1;Gt>=0;Gt--)(Kt=Wt[Gt])&&(kt=(pt<3?Kt(kt):pt>3?Kt(We,Xe,kt):Kt(We,Xe))||kt);return pt>3&&kt&&Object.defineProperty(We,Xe,kt),kt},et=function(Wt,We){return function(Xe,ut){We(Xe,ut,Wt)}};class we extends Re.Mm{updateLabel(){const We=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!We)return super.updateLabel();this.label&&(this.label.textContent=(0,R.NC)("ddd","{0} ({1})",this._action.label,we.symbolPrintEnter(We)))}static symbolPrintEnter(We){var Xe;return(Xe=We.getLabel())===null||Xe===void 0?void 0:Xe.replace(/\benter\b/gi,"\u23CE")}}let Ne=class{constructor(We,Xe,ut,pt){this._menuService=ut,this._contextKeyService=pt,this._menuDisposables=new P.SL,this.element=ie.R3(We,ie.$(".suggest-status-bar"));const kt=Kt=>Kt instanceof Je.U8?Xe.createInstance(we,Kt,void 0):void 0;this._leftActions=new qe.o(this.element,{actionViewItemProvider:kt}),this._rightActions=new qe.o(this.element,{actionViewItemProvider:kt}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const We=this._menuService.createMenu(K.GI,this._contextKeyService),Xe=()=>{const ut=[],pt=[];for(const[kt,Kt]of We.getActions())kt==="left"?ut.push(...Kt):pt.push(...Kt);this._leftActions.clear(),this._leftActions.push(ut),this._rightActions.clear(),this._rightActions.push(pt)};this._menuDisposables.add(We.onDidChange(()=>Xe())),this._menuDisposables.add(We)}hide(){this._menuDisposables.clear()}};Ne=st([et(1,Q.TG),et(2,Je.co),et(3,b.i6)],Ne);var de=i(71713),Pe=i(26904),He=i(73910),$e=i(88810),me=i(92321),Ie=i(97781),Ge=i(39218);class ft{constructor(){this._onDidWillResize=new $.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new $.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new P.SL,this._size=new ie.Ro(0,0),this._minSize=new ie.Ro(0,0),this._maxSize=new ie.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new Ge.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new Ge.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new Ge.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:Ge.l.North}),this._southSash=new Ge.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:Ge.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let We,Xe=0,ut=0;this._sashListener.add($.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{We===void 0&&(this._onDidWillResize.fire(),We=this._size,Xe=0,ut=0)})),this._sashListener.add($.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{We!==void 0&&(We=void 0,Xe=0,ut=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(pt=>{We&&(ut=pt.currentX-pt.startX,this.layout(We.height+Xe,We.width+ut),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(pt=>{We&&(ut=-(pt.currentX-pt.startX),this.layout(We.height+Xe,We.width+ut),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(pt=>{We&&(Xe=-(pt.currentY-pt.startY),this.layout(We.height+Xe,We.width+ut),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(pt=>{We&&(Xe=pt.currentY-pt.startY,this.layout(We.height+Xe,We.width+ut),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add($.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(pt=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add($.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(pt=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(We,Xe,ut,pt){this._northSash.state=We?3:0,this._eastSash.state=Xe?3:0,this._southSash.state=ut?3:0,this._westSash.state=pt?3:0}layout(We=this.size.height,Xe=this.size.width){const{height:ut,width:pt}=this._minSize,{height:kt,width:Kt}=this._maxSize;We=Math.max(ut,Math.min(kt,We)),Xe=Math.max(pt,Math.min(Kt,Xe));const Gt=new ie.Ro(Xe,We);ie.Ro.equals(Gt,this._size)||(this.domNode.style.height=We+"px",this.domNode.style.width=Xe+"px",this._size=Gt,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(We){this._maxSize=We}get maxSize(){return this._maxSize}set minSize(We){this._minSize=We}get minSize(){return this._minSize}set preferredSize(We){this._preferredSize=We}get preferredSize(){return this._preferredSize}}var ze=i(41416),mt=i(73046),wt=i(59365),Oe=i(8598),lt=function(Wt,We,Xe,ut){var pt=arguments.length,kt=pt<3?We:ut===null?ut=Object.getOwnPropertyDescriptor(We,Xe):ut,Kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(Wt,We,Xe,ut);else for(var Gt=Wt.length-1;Gt>=0;Gt--)(Kt=Wt[Gt])&&(kt=(pt<3?Kt(kt):pt>3?Kt(We,Xe,kt):Kt(We,Xe))||kt);return pt>3&&kt&&Object.defineProperty(We,Xe,kt),kt},Bt=function(Wt,We){return function(Xe,ut){We(Xe,ut,Wt)}};function Zt(Wt){return!!Wt&&Boolean(Wt.completion.documentation||Wt.completion.detail&&Wt.completion.detail!==Wt.completion.label)}let pi=class{constructor(We,Xe){this._editor=We,this._onDidClose=new $.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new $.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new P.SL,this._renderDisposeable=new P.SL,this._borderWidth=1,this._size=new ie.Ro(330,0),this.domNode=ie.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=Xe.createInstance(Oe.$,{editor:We}),this._body=ie.$(".body"),this._scrollbar=new ze.s$(this._body,{alwaysConsumeMouseWheel:!0}),ie.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=ie.R3(this._body,ie.$(".header")),this._close=ie.R3(this._header,ie.$("span"+mt.lA.close.cssSelector)),this._close.title=R.NC("details.close","Close"),this._type=ie.R3(this._header,ie.$("p.type")),this._docs=ie.R3(this._body,ie.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(ut=>{ut.hasChanged(46)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const We=this._editor.getOptions(),Xe=We.get(46),ut=Xe.getMassagedFontFamily(),pt=We.get(109)||Xe.fontSize,kt=We.get(110)||Xe.lineHeight,Kt=Xe.fontWeight,Gt=`${pt}px`,Ei=`${kt}px`;this.domNode.style.fontSize=Gt,this.domNode.style.lineHeight=`${kt/pt}`,this.domNode.style.fontWeight=Kt,this.domNode.style.fontFeatureSettings=Xe.fontFeatureSettings,this._type.style.fontFamily=ut,this._close.style.height=Ei,this._close.style.width=Ei}getLayoutInfo(){const We=this._editor.getOption(110)||this._editor.getOption(46).lineHeight,Xe=this._borderWidth,ut=Xe*2;return{lineHeight:We,borderWidth:Xe,borderHeight:ut,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=R.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(We,Xe){var ut,pt;this._renderDisposeable.clear();let{detail:kt,documentation:Kt}=We.completion;if(Xe){let Gt="";Gt+=`score: ${We.score[0]}
`,Gt+=`prefix: ${(ut=We.word)!==null&&ut!==void 0?ut:"(no prefix)"}
`,Gt+=`word: ${We.completion.filterText?We.completion.filterText+" (filterText)":We.textLabel}
`,Gt+=`distance: ${We.distance} (localityBonus-setting)
`,Gt+=`index: ${We.idx}, based on ${We.completion.sortText&&`sortText: "${We.completion.sortText}"`||"label"}
`,Gt+=`commit_chars: ${(pt=We.completion.commitCharacters)===null||pt===void 0?void 0:pt.join("")}
`,Kt=new wt.W5().appendCodeblock("empty",Gt),kt=`Provider: ${We.provider._debugDisplayName}`}if(!Xe&&!Zt(We)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),kt){const Gt=kt.length>1e5?`${kt.substr(0,1e5)}\u2026`:kt;this._type.textContent=Gt,this._type.title=Gt,ie.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(Gt))}else ie.PO(this._type),this._type.title="",ie.Cp(this._type),this.domNode.classList.add("no-type");if(ie.PO(this._docs),typeof Kt=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=Kt;else if(Kt){this._docs.classList.add("markdown-docs"),ie.PO(this._docs);const Gt=this._markdownRenderer.render(Kt);this._docs.appendChild(Gt.element),this._renderDisposeable.add(Gt),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=Gt=>{Gt.preventDefault(),Gt.stopPropagation()},this._close.onclick=Gt=>{Gt.preventDefault(),Gt.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(We,Xe){const ut=new ie.Ro(We,Xe);ie.Ro.equals(ut,this._size)||(this._size=ut,ie.dp(this.domNode,We,Xe)),this._scrollbar.scanDomNode()}scrollDown(We=8){this._body.scrollTop+=We}scrollUp(We=8){this._body.scrollTop-=We}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(We){this._borderWidth=We}get borderWidth(){return this._borderWidth}};pi=lt([Bt(1,Q.TG)],pi);class Li{constructor(We,Xe){this.widget=We,this._editor=Xe,this._disposables=new P.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new ft,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(We.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let ut,pt,kt=0,Kt=0;this._disposables.add(this._resizable.onDidWillResize(()=>{ut=this._topLeft,pt=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(Gt=>{if(ut&&pt){this.widget.layout(Gt.dimension.width,Gt.dimension.height);let Ei=!1;Gt.west&&(Kt=pt.width-Gt.dimension.width,Ei=!0),Gt.north&&(kt=pt.height-Gt.dimension.height,Ei=!0),Ei&&this._applyTopLeft({top:ut.top+kt,left:ut.left+Kt})}Gt.done&&(ut=void 0,pt=void 0,kt=0,Kt=0,this._userSize=Gt.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var Gt;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(Gt=this._userSize)!==null&&Gt!==void 0?Gt:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(We=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),We&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(We,Xe){var ut;const pt=We.getBoundingClientRect();this._anchorBox=pt,this._preferAlignAtTop=Xe,this._placeAtAnchor(this._anchorBox,(ut=this._userSize)!==null&&ut!==void 0?ut:this.widget.size,Xe)}_placeAtAnchor(We,Xe,ut){var pt;const kt=ie.D6(document.body),Kt=this.widget.getLayoutInfo(),Gt=new ie.Ro(220,2*Kt.lineHeight),Ei=We.top,Oi=function(){const tn=kt.width-(We.left+We.width+Kt.borderWidth+Kt.horizontalPadding),En=-Kt.borderWidth+We.left+We.width,nn=new ie.Ro(tn,kt.height-We.top-Kt.borderHeight-Kt.verticalPadding),yi=nn.with(void 0,We.top+We.height-Kt.borderHeight-Kt.verticalPadding);return{top:Ei,left:En,fit:tn-Xe.width,maxSizeTop:nn,maxSizeBottom:yi,minSize:Gt.with(Math.min(tn,Gt.width))}}(),wi=function(){const tn=We.left-Kt.borderWidth-Kt.horizontalPadding,En=Math.max(Kt.horizontalPadding,We.left-Xe.width-Kt.borderWidth),nn=new ie.Ro(tn,kt.height-We.top-Kt.borderHeight-Kt.verticalPadding),yi=nn.with(void 0,We.top+We.height-Kt.borderHeight-Kt.verticalPadding);return{top:Ei,left:En,fit:tn-Xe.width,maxSizeTop:nn,maxSizeBottom:yi,minSize:Gt.with(Math.min(tn,Gt.width))}}(),Pt=function(){const tn=We.left,En=-Kt.borderWidth+We.top+We.height,nn=new ie.Ro(We.width-Kt.borderHeight,kt.height-We.top-We.height-Kt.verticalPadding);return{top:En,left:tn,fit:nn.height-Xe.height,maxSizeBottom:nn,maxSizeTop:nn,minSize:Gt.with(nn.width)}}(),Pi=[Oi,wi,Pt],en=(pt=Pi.find(tn=>tn.fit>=0))!==null&&pt!==void 0?pt:Pi.sort((tn,En)=>En.fit-tn.fit)[0],un=We.top+We.height-Kt.borderHeight;let hn,Gi=Xe.height;const _n=Math.max(en.maxSizeTop.height,en.maxSizeBottom.height);Gi>_n&&(Gi=_n);let an;ut?Gi<=en.maxSizeTop.height?(hn=!0,an=en.maxSizeTop):(hn=!1,an=en.maxSizeBottom):Gi<=en.maxSizeBottom.height?(hn=!1,an=en.maxSizeBottom):(hn=!0,an=en.maxSizeTop),this._applyTopLeft({left:en.left,top:hn?en.top:un-Gi}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!hn,en===Oi,hn,en!==Oi),this._resizable.minSize=en.minSize,this._resizable.maxSize=an,this._resizable.layout(Gi,Math.min(an.width,Xe.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(We){this._topLeft=We,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var ot=i(11069),Ft=i(75392),Yt=i(70666),_i=i(96887),Ci=i(66663),bi=i(95935),ai=i(68801),Mt;(function(Wt){Wt[Wt.FILE=0]="FILE",Wt[Wt.FOLDER=1]="FOLDER",Wt[Wt.ROOT_FOLDER=2]="ROOT_FOLDER"})(Mt||(Mt={}));const Ut=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function vt(Wt,We,Xe,ut){const pt=ut===Mt.ROOT_FOLDER?["rootfolder-icon"]:ut===Mt.FOLDER?["folder-icon"]:["file-icon"];if(Xe){let kt;if(Xe.scheme===Ci.lg.data)kt=bi.Vb.parseMetaData(Xe).get(bi.Vb.META_DATA_LABEL);else{const Kt=Xe.path.match(Ut);Kt?(kt=nt(Kt[2].toLowerCase()),Kt[1]&&pt.push(`${nt(Kt[1].toLowerCase())}-name-dir-icon`)):kt=nt(Xe.authority.toLowerCase())}if(ut===Mt.FOLDER)pt.push(`${kt}-name-folder-icon`);else{if(kt){if(pt.push(`${kt}-name-file-icon`),pt.push("name-file-icon"),kt.length<=255){const Gt=kt.split(".");for(let Ei=1;Ei<Gt.length;Ei++)pt.push(`${Gt.slice(Ei).join(".")}-ext-file-icon`)}pt.push("ext-file-icon")}const Kt=_t(Wt,We,Xe);Kt&&pt.push(`${nt(Kt)}-lang-file-icon`)}}return pt}function _t(Wt,We,Xe){if(!Xe)return null;let ut=null;if(Xe.scheme===Ci.lg.data){const kt=bi.Vb.parseMetaData(Xe).get(bi.Vb.META_DATA_MIME);kt&&(ut=We.getLanguageIdByMimeType(kt))}else{const pt=Wt.getModel(Xe);pt&&(ut=pt.getLanguageId())}return ut&&ut!==ai.bd?ut:We.guessLanguageIdByFilepathOrFirstLine(Xe)}function nt(Wt){return Wt.replace(/[\11\12\14\15\40]/g,"/")}var be=i(73733),Le=i(72042),Qe=i(59554),je=function(Wt,We,Xe,ut){var pt=arguments.length,kt=pt<3?We:ut===null?ut=Object.getOwnPropertyDescriptor(We,Xe):ut,Kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(Wt,We,Xe,ut);else for(var Gt=Wt.length-1;Gt>=0;Gt--)(Kt=Wt[Gt])&&(kt=(pt<3?Kt(kt):pt>3?Kt(We,Xe,kt):Kt(We,Xe))||kt);return pt>3&&kt&&Object.defineProperty(We,Xe,kt),kt},ht=function(Wt,We){return function(Xe,ut){We(Xe,ut,Wt)}},bt;function Dt(Wt){return`suggest-aria-id:${Wt}`}const Ht=(0,Qe.q5)("suggest-more-info",mt.lA.chevronRight,R.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),ei=new(bt=class La{extract(We,Xe){if(We.textLabel.match(La._regexStrict))return Xe[0]=We.textLabel,!0;if(We.completion.detail&&We.completion.detail.match(La._regexStrict))return Xe[0]=We.completion.detail,!0;if(typeof We.completion.documentation=="string"){const ut=La._regexRelaxed.exec(We.completion.documentation);if(ut&&(ut.index===0||ut.index+ut[0].length===We.completion.documentation.length))return Xe[0]=ut[0],!0}return!1}},bt._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,bt._regexStrict=new RegExp(`^${bt._regexRelaxed.source}$`,"i"),bt);let ui=class{constructor(We,Xe,ut,pt){this._editor=We,this._modelService=Xe,this._languageService=ut,this._themeService=pt,this._onDidToggleDetails=new $.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(We){const Xe=Object.create(null);Xe.disposables=new P.SL,Xe.root=We,Xe.root.classList.add("show-file-icons"),Xe.icon=(0,ie.R3)(We,(0,ie.$)(".icon")),Xe.colorspan=(0,ie.R3)(Xe.icon,(0,ie.$)("span.colorspan"));const ut=(0,ie.R3)(We,(0,ie.$)(".contents")),pt=(0,ie.R3)(ut,(0,ie.$)(".main"));Xe.iconContainer=(0,ie.R3)(pt,(0,ie.$)(".icon-label.codicon")),Xe.left=(0,ie.R3)(pt,(0,ie.$)("span.left")),Xe.right=(0,ie.R3)(pt,(0,ie.$)("span.right")),Xe.iconLabel=new ot.g(Xe.left,{supportHighlights:!0,supportIcons:!0}),Xe.disposables.add(Xe.iconLabel),Xe.parametersLabel=(0,ie.R3)(Xe.left,(0,ie.$)("span.signature-label")),Xe.qualifierLabel=(0,ie.R3)(Xe.left,(0,ie.$)("span.qualifier-label")),Xe.detailsLabel=(0,ie.R3)(Xe.right,(0,ie.$)("span.details-label")),Xe.readMore=(0,ie.R3)(Xe.right,(0,ie.$)("span.readMore"+Ie.kS.asCSSSelector(Ht))),Xe.readMore.title=R.NC("readMore","Read More");const kt=()=>{const Kt=this._editor.getOptions(),Gt=Kt.get(46),Ei=Gt.getMassagedFontFamily(),Oi=Gt.fontFeatureSettings,wi=Kt.get(109)||Gt.fontSize,Pt=Kt.get(110)||Gt.lineHeight,Pi=Gt.fontWeight,en=Gt.letterSpacing,un=`${wi}px`,hn=`${Pt}px`,Gi=`${en}px`;Xe.root.style.fontSize=un,Xe.root.style.fontWeight=Pi,Xe.root.style.letterSpacing=Gi,pt.style.fontFamily=Ei,pt.style.fontFeatureSettings=Oi,pt.style.lineHeight=hn,Xe.icon.style.height=hn,Xe.icon.style.width=hn,Xe.readMore.style.height=hn,Xe.readMore.style.width=hn};return kt(),Xe.disposables.add(this._editor.onDidChangeConfiguration(Kt=>{(Kt.hasChanged(46)||Kt.hasChanged(109)||Kt.hasChanged(110))&&kt()})),Xe}renderElement(We,Xe,ut){const{completion:pt}=We;ut.root.id=Dt(Xe),ut.colorspan.style.backgroundColor="";const kt={labelEscapeNewLines:!0,matches:(0,Ft.mB)(We.score)},Kt=[];if(pt.kind===19&&ei.extract(We,Kt))ut.icon.className="icon customcolor",ut.iconContainer.className="icon hide",ut.colorspan.style.backgroundColor=Kt[0];else if(pt.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){ut.icon.className="icon hide",ut.iconContainer.className="icon hide";const Gt=vt(this._modelService,this._languageService,Yt.o.from({scheme:"fake",path:We.textLabel}),Mt.FILE),Ei=vt(this._modelService,this._languageService,Yt.o.from({scheme:"fake",path:pt.detail}),Mt.FILE);kt.extraClasses=Gt.length>Ei.length?Gt:Ei}else pt.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(ut.icon.className="icon hide",ut.iconContainer.className="icon hide",kt.extraClasses=[vt(this._modelService,this._languageService,Yt.o.from({scheme:"fake",path:We.textLabel}),Mt.FOLDER),vt(this._modelService,this._languageService,Yt.o.from({scheme:"fake",path:pt.detail}),Mt.FOLDER)].flat()):(ut.icon.className="icon hide",ut.iconContainer.className="",ut.iconContainer.classList.add("suggest-icon",...mt.dT.asClassNameArray(_i.gX.toIcon(pt.kind))));pt.tags&&pt.tags.indexOf(1)>=0&&(kt.extraClasses=(kt.extraClasses||[]).concat(["deprecated"]),kt.matches=[]),ut.iconLabel.setLabel(We.textLabel,void 0,kt),typeof pt.label=="string"?(ut.parametersLabel.textContent="",ut.detailsLabel.textContent=xi(pt.detail||""),ut.root.classList.add("string-label")):(ut.parametersLabel.textContent=xi(pt.label.detail||""),ut.detailsLabel.textContent=xi(pt.label.description||""),ut.root.classList.remove("string-label")),this._editor.getOption(108).showInlineDetails?(0,ie.$Z)(ut.detailsLabel):(0,ie.Cp)(ut.detailsLabel),Zt(We)?(ut.right.classList.add("can-expand-details"),(0,ie.$Z)(ut.readMore),ut.readMore.onmousedown=Gt=>{Gt.stopPropagation(),Gt.preventDefault()},ut.readMore.onclick=Gt=>{Gt.stopPropagation(),Gt.preventDefault(),this._onDidToggleDetails.fire()}):(ut.right.classList.remove("can-expand-details"),(0,ie.Cp)(ut.readMore),ut.readMore.onmousedown=null,ut.readMore.onclick=null)}disposeTemplate(We){We.disposables.dispose()}};ui=je([ht(1,be.q),ht(2,Le.O),ht(3,Ie.XE)],ui);function xi(Wt){return Wt.replace(/\r\n|\r|\n/g,"")}var Si=function(Wt,We,Xe,ut){var pt=arguments.length,kt=pt<3?We:ut===null?ut=Object.getOwnPropertyDescriptor(We,Xe):ut,Kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(Wt,We,Xe,ut);else for(var Gt=Wt.length-1;Gt>=0;Gt--)(Kt=Wt[Gt])&&(kt=(pt<3?Kt(kt):pt>3?Kt(We,Xe,kt):Kt(We,Xe))||kt);return pt>3&&kt&&Object.defineProperty(We,Xe,kt),kt},mi=function(Wt,We){return function(Xe,ut){We(Xe,ut,Wt)}},mn=function(Wt,We,Xe,ut){function pt(kt){return kt instanceof Xe?kt:new Xe(function(Kt){Kt(kt)})}return new(Xe||(Xe=Promise))(function(kt,Kt){function Gt(wi){try{Oi(ut.next(wi))}catch(Pt){Kt(Pt)}}function Ei(wi){try{Oi(ut.throw(wi))}catch(Pt){Kt(Pt)}}function Oi(wi){wi.done?kt(wi.value):pt(wi.value).then(Gt,Ei)}Oi((ut=ut.apply(Wt,We||[])).next())})};const Mi=(0,He.P6G)("editorSuggestWidget.background",{dark:He.D0T,light:He.D0T,hcDark:He.D0T,hcLight:He.D0T},R.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),fn=(0,He.P6G)("editorSuggestWidget.border",{dark:He.D1_,light:He.D1_,hcDark:He.D1_,hcLight:He.D1_},R.NC("editorSuggestWidgetBorder","Border color of the suggest widget.")),Fi=(0,He.P6G)("editorSuggestWidget.foreground",{dark:He.NOs,light:He.NOs,hcDark:He.NOs,hcLight:He.NOs},R.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),Ni=(0,He.P6G)("editorSuggestWidget.selectedForeground",{dark:He.NPS,light:He.NPS,hcDark:He.NPS,hcLight:He.NPS},R.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),Dn=(0,He.P6G)("editorSuggestWidget.selectedIconForeground",{dark:He.cbQ,light:He.cbQ,hcDark:He.cbQ,hcLight:He.cbQ},R.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),Tn=(0,He.P6G)("editorSuggestWidget.selectedBackground",{dark:He.Vqd,light:He.Vqd,hcDark:He.Vqd,hcLight:He.Vqd},R.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),$i=(0,He.P6G)("editorSuggestWidget.highlightForeground",{dark:He.Gwp,light:He.Gwp,hcDark:He.Gwp,hcLight:He.Gwp},R.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),pn=(0,He.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:He.PX0,light:He.PX0,hcDark:He.PX0,hcLight:He.PX0},R.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),Sn=(0,He.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,He.ZnX)(Fi,.5),light:(0,He.ZnX)(Fi,.5),hcDark:(0,He.ZnX)(Fi,.5),hcLight:(0,He.ZnX)(Fi,.5)},R.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class wn{constructor(We,Xe){this._service=We,this._key=`suggestWidget.size/${Xe.getEditorType()}/${Xe instanceof at.H}`}restore(){var We;const Xe=(We=this._service.get(this._key,0))!==null&&We!==void 0?We:"";try{const ut=JSON.parse(Xe);if(ie.Ro.is(ut))return ie.Ro.lift(ut)}catch{}}store(We){this._service.store(this._key,JSON.stringify(We),0,1)}reset(){this._service.remove(this._key,0)}}let li=class jl{constructor(We,Xe,ut,pt,kt){this.editor=We,this._storageService=Xe,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new O._F,this._disposables=new P.SL,this._onDidSelect=new $.Q5,this._onDidFocus=new $.Q5,this._onDidHide=new $.Q5,this._onDidShow=new $.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new $.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new ft,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Ke(this,We),this._persistedSize=new wn(Xe,We);class Kt{constructor(en,un,hn=!1,Gi=!1){this.persistedSize=en,this.currentSize=un,this.persistHeight=hn,this.persistWidth=Gi}}let Gt;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),Gt=new Kt(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(Pi=>{var en,un,hn,Gi;if(this._resize(Pi.dimension.width,Pi.dimension.height),Gt&&(Gt.persistHeight=Gt.persistHeight||!!Pi.north||!!Pi.south,Gt.persistWidth=Gt.persistWidth||!!Pi.east||!!Pi.west),!!Pi.done){if(Gt){const{itemHeight:_n,defaultSize:an}=this.getLayoutInfo(),tn=Math.round(_n/2);let{width:En,height:nn}=this.element.size;(!Gt.persistHeight||Math.abs(Gt.currentSize.height-nn)<=tn)&&(nn=(un=(en=Gt.persistedSize)===null||en===void 0?void 0:en.height)!==null&&un!==void 0?un:an.height),(!Gt.persistWidth||Math.abs(Gt.currentSize.width-En)<=tn)&&(En=(Gi=(hn=Gt.persistedSize)===null||hn===void 0?void 0:hn.width)!==null&&Gi!==void 0?Gi:an.width),this._persistedSize.store(new ie.Ro(En,nn))}this._contentWidget.unlockPreference(),Gt=void 0}})),this._messageElement=ie.R3(this.element.domNode,ie.$(".message")),this._listElement=ie.R3(this.element.domNode,ie.$(".tree"));const Ei=kt.createInstance(pi,this.editor);Ei.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Li(Ei,this.editor);const Oi=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(108).showIcons);Oi();const wi=kt.createInstance(ui,this.editor);this._disposables.add(wi),this._disposables.add(wi.onDidToggleDetails(()=>this.toggleDetails())),this._list=new xe.aV("SuggestWidget",this._listElement,{getHeight:Pi=>this.getLayoutInfo().itemHeight,getTemplateId:Pi=>"suggestion"},[wi],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>R.NC("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:Pi=>{let en=Pi.textLabel;if(typeof Pi.completion.label!="string"){const{detail:_n,description:an}=Pi.completion.label;_n&&an?en=R.NC("label.full","{0}{1}, {2}",en,_n,an):_n?en=R.NC("label.detail","{0}{1}",en,_n):an&&(en=R.NC("label.desc","{0}, {1}",en,an))}if(!Pi.isResolved||!this._isDetailsVisible())return en;const{documentation:un,detail:hn}=Pi.completion,Gi=T.WU("{0}{1}",hn||"",un?typeof un=="string"?un:un.value:"");return R.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",en,Gi)}}}),this._status=kt.createInstance(Ne,this.element.domNode);const Pt=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(108).showStatusBar);Pt(),this._disposables.add((0,$e.Jl)(this._list,pt,{listInactiveFocusBackground:Tn,listInactiveFocusOutline:He.xL1})),this._disposables.add(pt.onDidColorThemeChange(Pi=>this._onThemeChange(Pi))),this._onThemeChange(pt.getColorTheme()),this._disposables.add(this._list.onMouseDown(Pi=>this._onListMouseDownOrTap(Pi))),this._disposables.add(this._list.onTap(Pi=>this._onListMouseDownOrTap(Pi))),this._disposables.add(this._list.onDidChangeSelection(Pi=>this._onListSelection(Pi))),this._disposables.add(this._list.onDidChangeFocus(Pi=>this._onListFocus(Pi))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(Pi=>{Pi.hasChanged(108)&&(Pt(),Oi())})),this._ctxSuggestWidgetVisible=K._y.Visible.bindTo(ut),this._ctxSuggestWidgetDetailsVisible=K._y.DetailsVisible.bindTo(ut),this._ctxSuggestWidgetMultipleSuggestions=K._y.MultipleSuggestions.bindTo(ut),this._ctxSuggestWidgetHasFocusedSuggestion=K._y.HasFocusedSuggestion.bindTo(ut),this._disposables.add(ie.mu(this._details.widget.domNode,"keydown",Pi=>{this._onDetailsKeydown.fire(Pi)})),this._disposables.add(this.editor.onMouseDown(Pi=>this._onEditorMouseDown(Pi)))}dispose(){var We;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(We=this._loadingTimeout)===null||We===void 0||We.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(We){this._details.widget.domNode.contains(We.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(We.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(We){typeof We.element>"u"||typeof We.index>"u"||(We.browserEvent.preventDefault(),We.browserEvent.stopPropagation(),this._select(We.element,We.index))}_onListSelection(We){We.elements.length&&this._select(We.elements[0],We.indexes[0])}_select(We,Xe){const ut=this._completionModel;ut&&(this._onDidSelect.fire({item:We,index:Xe,model:ut}),this.editor.focus())}_onThemeChange(We){this._details.widget.borderWidth=(0,me.c3)(We.type)?2:1}_onListFocus(We){var Xe;if(this._ignoreFocusEvents)return;if(!We.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const ut=We.elements[0],pt=We.indexes[0];ut!==this._focusedItem&&((Xe=this._currentSuggestionDetails)===null||Xe===void 0||Xe.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=ut,this._list.reveal(pt),this._currentSuggestionDetails=(0,O.PG)(kt=>mn(this,void 0,void 0,function*(){const Kt=(0,O.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),Gt=kt.onCancellationRequested(()=>Kt.dispose()),Ei=yield ut.resolve(kt);return Kt.dispose(),Gt.dispose(),Ei})),this._currentSuggestionDetails.then(()=>{pt>=this._list.length||ut!==this._list.element(pt)||(this._ignoreFocusEvents=!0,this._list.splice(pt,1,[ut]),this._list.setFocus([pt]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Dt(pt)}))}).catch(D.dL)),this._onDidFocus.fire({item:ut,index:pt,model:this._completionModel})}_setState(We){if(this._state!==We)switch(this._state=We,this.element.domNode.classList.toggle("frozen",We===4),this.element.domNode.classList.remove("message"),We){case 0:ie.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=jl.LOADING_MESSAGE,ie.Cp(this._listElement,this._status.element),ie.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=jl.NO_SUGGESTIONS_MESSAGE,ie.Cp(this._listElement,this._status.element),ie.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:ie.Cp(this._messageElement),ie.$Z(this._listElement,this._status.element),this._show();break;case 4:ie.Cp(this._messageElement),ie.$Z(this._listElement,this._status.element),this._show();break;case 5:ie.Cp(this._messageElement),ie.$Z(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(We,Xe){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!We,this._isAuto||(this._loadingTimeout=(0,O.Vg)(()=>this._setState(1),Xe)))}showSuggestions(We,Xe,ut,pt){var kt,Kt;if(this._contentWidget.setPosition(this.editor.getPosition()),(kt=this._loadingTimeout)===null||kt===void 0||kt.dispose(),(Kt=this._currentSuggestionDetails)===null||Kt===void 0||Kt.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==We&&(this._completionModel=We),ut&&this._state!==2&&this._state!==0){this._setState(4);return}const Gt=this._completionModel.items.length,Ei=Gt===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(Gt>1),Ei){this._setState(pt?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(ut?4:3),Xe>=0&&(this._list.reveal(Xe,0),this._list.setFocus([Xe])),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(Zt(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(We){this._details.show(),We?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var We;(We=this._loadingTimeout)===null||We===void 0||We.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const Xe=this._persistedSize.restore(),ut=Math.ceil(this.getLayoutInfo().itemHeight*4.3);Xe&&Xe.height<ut&&this._persistedSize.store(Xe.with(void 0,ut))}isFrozen(){return this._state===4}_afterRender(We){if(We===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(We){var Xe,ut,pt;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const kt=ie.D6(document.body),Kt=this.getLayoutInfo();We||(We=Kt.defaultSize);let Gt=We.height,Ei=We.width;if(this._status.element.style.lineHeight=`${Kt.itemHeight}px`,this._state===2||this._state===1)Gt=Kt.itemHeight+Kt.borderHeight,Ei=Kt.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new ie.Ro(Ei,Gt),this._contentWidget.setPreference(2);else{const Oi=kt.width-Kt.borderHeight-2*Kt.horizontalPadding;Ei>Oi&&(Ei=Oi);const wi=this._completionModel?this._completionModel.stats.pLabelLen*Kt.typicalHalfwidthCharacterWidth:Ei,Pt=Kt.statusBarHeight+this._list.contentHeight+Kt.borderHeight,Pi=Kt.itemHeight+Kt.statusBarHeight,en=ie.i(this.editor.getDomNode()),un=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),hn=en.top+un.top+un.height,Gi=Math.min(kt.height-hn-Kt.verticalPadding,Pt),_n=en.top+un.top-Kt.verticalPadding,an=Math.min(_n,Pt);let tn=Math.min(Math.max(an,Gi)+Kt.borderHeight,Pt);Gt===((Xe=this._cappedHeight)===null||Xe===void 0?void 0:Xe.capped)&&(Gt=this._cappedHeight.wanted),Gt<Pi&&(Gt=Pi),Gt>tn&&(Gt=tn);const En=150;Gt>Gi||this._forceRenderingAbove&&_n>En?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),tn=an):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),tn=Gi),this.element.preferredSize=new ie.Ro(wi,Kt.defaultSize.height),this.element.maxSize=new ie.Ro(Oi,tn),this.element.minSize=new ie.Ro(220,Pi),this._cappedHeight=Gt===Pt?{wanted:(pt=(ut=this._cappedHeight)===null||ut===void 0?void 0:ut.wanted)!==null&&pt!==void 0?pt:We.height,capped:Gt}:void 0}this._resize(Ei,Gt)}_resize(We,Xe){const{width:ut,height:pt}=this.element.maxSize;We=Math.min(ut,We),Xe=Math.min(pt,Xe);const{statusBarHeight:kt}=this.getLayoutInfo();this._list.layout(Xe-kt,We),this._listElement.style.height=`${Xe-kt}px`,this.element.layout(Xe,We),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var We;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((We=this._contentWidget.getPosition())===null||We===void 0?void 0:We.preference[0])===2)}getLayoutInfo(){const We=this.editor.getOption(46),Xe=(0,Ye.uZ)(this.editor.getOption(110)||We.lineHeight,8,1e3),ut=!this.editor.getOption(108).showStatusBar||this._state===2||this._state===1?0:Xe,pt=this._details.widget.borderWidth,kt=2*pt;return{itemHeight:Xe,statusBarHeight:ut,borderWidth:pt,borderHeight:kt,typicalHalfwidthCharacterWidth:We.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new ie.Ro(430,ut+12*Xe+kt)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(We){this._storageService.store("expandSuggestionDocs",We,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};li.LOADING_MESSAGE=R.NC("suggestWidget.loading","Loading..."),li.NO_SUGGESTIONS_MESSAGE=R.NC("suggestWidget.noSuggestions","No suggestions."),li=Si([mi(1,Pe.Uy),mi(2,b.i6),mi(3,Ie.XE),mi(4,Q.TG)],li);class Ke{constructor(We,Xe){this._widget=We,this._editor=Xe,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:We,width:Xe}=this._widget.element.size,{borderWidth:ut,horizontalPadding:pt}=this._widget.getLayoutInfo();return new ie.Ro(Xe+2*ut+pt,We+2*ut)}afterRender(We){this._widget._afterRender(We)}setPreference(We){this._preferenceLocked||(this._preference=We)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(We){this._position=We}}var Rt=i(89954),At=function(Wt,We,Xe,ut){var pt=arguments.length,kt=pt<3?We:ut===null?ut=Object.getOwnPropertyDescriptor(We,Xe):ut,Kt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")kt=Reflect.decorate(Wt,We,Xe,ut);else for(var Gt=Wt.length-1;Gt>=0;Gt--)(Kt=Wt[Gt])&&(kt=(pt<3?Kt(kt):pt>3?Kt(We,Xe,kt):Kt(We,Xe))||kt);return pt>3&&kt&&Object.defineProperty(We,Xe,kt),kt},ni=function(Wt,We){return function(Xe,ut){We(Xe,ut,Wt)}};const ii=!1;class xt{constructor(We,Xe){if(this._model=We,this._position=Xe,We.getLineMaxColumn(Xe.lineNumber)!==Xe.column){const pt=We.getOffsetAt(Xe),kt=We.getPositionAt(pt+1);this._marker=We.deltaDecorations([],[{range:g.e.fromPositions(Xe,kt),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(We){if(this._model.isDisposed()||this._position.lineNumber!==We.lineNumber)return 0;if(this._marker){const Xe=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(Xe.getStartPosition())-this._model.getOffsetAt(We)}else return this._model.getLineMaxColumn(We.lineNumber)-We.column}}let Ve=class nd{constructor(We,Xe,ut,pt,kt,Kt,Gt){this._memoryService=Xe,this._commandService=ut,this._contextKeyService=pt,this._instantiationService=kt,this._logService=Kt,this._telemetryService=Gt,this._lineSuffix=new P.XK,this._toDispose=new P.SL,this._selectors=new dt(Pt=>Pt.priority),this._telemetryGate=0,this.editor=We,this.model=kt.createInstance(ye,this.editor);const Ei=K._y.InsertMode.bindTo(pt);Ei.set(We.getOption(108).insertMode),this.model.onDidTrigger(()=>Ei.set(We.getOption(108).insertMode)),this.widget=this._toDispose.add(new O.Ue(()=>{const Pt=this._instantiationService.createInstance(li,this.editor);this._toDispose.add(Pt),this._toDispose.add(Pt.onDidSelect(Gi=>this._insertSuggestion(Gi,0),this));const Pi=new Z(this.editor,Pt,Gi=>this._insertSuggestion(Gi,2));this._toDispose.add(Pi),this._toDispose.add(this.model.onDidSuggest(Gi=>{Gi.completionModel.items.length===0&&Pi.reset()}));const en=K._y.MakesTextEdit.bindTo(this._contextKeyService),un=K._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),hn=K._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,P.OF)(()=>{en.reset(),un.reset(),hn.reset()})),this._toDispose.add(Pt.onDidFocus(({item:Gi})=>{const _n=this.editor.getPosition(),an=Gi.editStart.column,tn=_n.column;let En=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!Gi.completion.additionalTextEdits&&!(Gi.completion.insertTextRules&4)&&tn-an===Gi.completion.insertText.length&&(En=this.editor.getModel().getValueInRange({startLineNumber:_n.lineNumber,startColumn:an,endLineNumber:_n.lineNumber,endColumn:tn})!==Gi.completion.insertText),en.set(En),un.set(!a.L.equals(Gi.editInsertEnd,Gi.editReplaceEnd)),hn.set(Boolean(Gi.provider.resolveCompletionItem)||Boolean(Gi.completion.documentation)||Gi.completion.detail!==Gi.completion.label)})),this._toDispose.add(Pt.onDetailsKeyDown(Gi=>{if(Gi.toKeybinding().equals(new M.QC(!0,!1,!1,!1,33))||A.dz&&Gi.toKeybinding().equals(new M.QC(!1,!1,!1,!0,33))){Gi.stopPropagation();return}Gi.toKeybinding().isModifierKey()||this.editor.focus()})),Pt})),this._overtypingCapturer=this._toDispose.add(new O.Ue(()=>this._toDispose.add(new le(this.editor,this.model)))),this._alternatives=this._toDispose.add(new O.Ue(()=>this._toDispose.add(new j(this.editor,this._contextKeyService)))),this._toDispose.add(kt.createInstance(I,We)),this._toDispose.add(this.model.onDidTrigger(Pt=>{this.widget.value.showTriggered(Pt.auto,Pt.shy?250:50),this._lineSuffix.value=new xt(this.editor.getModel(),Pt.position)})),this._toDispose.add(this.model.onDidSuggest(Pt=>{if(Pt.shy)return;let Pi=-1;if(!Pt.noSelect){for(const en of this._selectors.itemsOrderedByPriorityDesc)if(Pi=en.select(this.editor.getModel(),this.editor.getPosition(),Pt.completionModel.items),Pi!==-1)break;Pi===-1&&(Pi=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Pt.completionModel.items))}this.widget.value.showSuggestions(Pt.completionModel,Pi,Pt.isFrozen,Pt.auto)})),this._toDispose.add(this.model.onDidCancel(Pt=>{Pt.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{ii||(this.model.cancel(),this.model.clear())}));const Oi=K._y.AcceptSuggestionsOnEnter.bindTo(pt),wi=()=>{const Pt=this.editor.getOption(1);Oi.set(Pt==="on"||Pt==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>wi())),wi()}static get(We){return We.getContribution(nd.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(We,Xe){if(!We||!We.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const ut=u.SnippetController2.get(this.editor);if(!ut)return;const pt=this.editor.getModel(),kt=pt.getAlternativeVersionId(),{item:Kt}=We,Gt=[],Ei=new V.A;Xe&1||this.editor.pushUndoStop();const Oi=this.getOverwriteInfo(Kt,Boolean(Xe&8));if(this._memoryService.memorize(pt,this.editor.getPosition(),Kt),Array.isArray(Kt.completion.additionalTextEdits)){const Pt=p.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",Kt.completion.additionalTextEdits.map(Pi=>n.h.replaceMove(g.e.lift(Pi.range),Pi.text))),Pt.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!Kt.isResolved){const Pt=new L.G(!0);let Pi;const en=pt.onDidChangeContent(_n=>{if(_n.isFlush){Ei.cancel(),en.dispose();return}for(const an of _n.changes){const tn=g.e.getEndPosition(an.range);(!Pi||a.L.isBefore(tn,Pi))&&(Pi=tn)}}),un=Xe;Xe|=2;let hn=!1;const Gi=this.editor.onWillType(()=>{Gi.dispose(),hn=!0,un&2||this.editor.pushUndoStop()});Gt.push(Kt.resolve(Ei.token).then(()=>{if(!Kt.completion.additionalTextEdits||Ei.token.isCancellationRequested||Pi&&Kt.completion.additionalTextEdits.some(an=>a.L.isBefore(Pi,g.e.getStartPosition(an.range))))return!1;hn&&this.editor.pushUndoStop();const _n=p.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",Kt.completion.additionalTextEdits.map(an=>n.h.replaceMove(g.e.lift(an.range),an.text))),_n.restoreRelativeVerticalPositionOfCursor(this.editor),(hn||!(un&2))&&this.editor.pushUndoStop(),!0}).then(_n=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",Pt.elapsed(),_n),en.dispose(),Gi.dispose()}))}let{insertText:wi}=Kt.completion;Kt.completion.insertTextRules&4||(wi=C.Yj.escape(wi)),ut.insert(wi,{overwriteBefore:Oi.overwriteBefore,overwriteAfter:Oi.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(Kt.completion.insertTextRules&1),clipboardText:We.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),Xe&2||this.editor.pushUndoStop(),Kt.completion.command?Kt.completion.command.id===Tt.id?this.model.trigger({auto:!0,shy:!1,noSelect:!1},!0):(Gt.push(this._commandService.executeCommand(Kt.completion.command.id,...Kt.completion.command.arguments?[...Kt.completion.command.arguments]:[]).catch(D.dL)),this.model.cancel()):this.model.cancel(),Xe&4&&this._alternatives.value.set(We,Pt=>{for(Ei.cancel();pt.canUndo();){kt!==pt.getAlternativeVersionId()&&pt.undo(),this._insertSuggestion(Pt,3|(Xe&8?8:0));break}}),this._alertCompletionItem(Kt),Promise.all(Gt).finally(()=>{this._reportSuggestionAcceptedTelemetry(Kt,pt,We),this.model.clear(),Ei.dispose()})}_reportSuggestionAcceptedTelemetry(We,Xe,ut){var pt;if(this._telemetryGate++%100!==0)return;const kt=We.extensionId?We.extensionId.value:((pt=ut.item.provider._debugDisplayName)!==null&&pt!==void 0?pt:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:kt,kind:We.completion.kind,basenameHash:(0,Rt.vp)((0,bi.EZ)(Xe.uri)).toString(16),languageId:Xe.getLanguageId(),fileExtension:(0,bi.DZ)(Xe.uri)})}getOverwriteInfo(We,Xe){(0,c.p_)(this.editor.hasModel());let ut=this.editor.getOption(108).insertMode==="replace";Xe&&(ut=!ut);const pt=We.position.column-We.editStart.column,kt=(ut?We.editReplaceEnd.column:We.editInsertEnd.column)-We.position.column,Kt=this.editor.getPosition().column-We.position.column,Gt=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:pt+Kt,overwriteAfter:kt+Gt}}_alertCompletionItem(We){if((0,r.Of)(We.completion.additionalTextEdits)){const Xe=R.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",We.textLabel,We.completion.additionalTextEdits.length);(0,w.Z9)(Xe)}}triggerSuggest(We,Xe,ut,pt){this.editor.hasModel()&&(this.model.trigger({auto:Xe??!1,shy:!1,noSelect:pt??!1},!1,We,void 0,ut),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(We){if(!this.editor.hasModel())return;const Xe=this.editor.getPosition(),ut=()=>{Xe.equals(this.editor.getPosition())&&this._commandService.executeCommand(We.fallback)},pt=kt=>{if(kt.completion.insertTextRules&4||kt.completion.additionalTextEdits)return!0;const Kt=this.editor.getPosition(),Gt=kt.editStart.column,Ei=Kt.column;return Ei-Gt!==kt.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:Kt.lineNumber,startColumn:Gt,endLineNumber:Kt.lineNumber,endColumn:Ei})!==kt.completion.insertText};$.ju.once(this.model.onDidTrigger)(kt=>{const Kt=[];$.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,P.B9)(Kt),ut()},void 0,Kt),this.model.onDidSuggest(({completionModel:Gt})=>{if((0,P.B9)(Kt),Gt.items.length===0){ut();return}const Ei=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Gt.items),Oi=Gt.items[Ei];if(!pt(Oi)){ut();return}this.editor.pushUndoStop(),this._insertSuggestion({index:Ei,item:Oi,model:Gt},7)},void 0,Kt)}),this.model.trigger({auto:!1,shy:!0,noSelect:!1}),this.editor.revealPosition(Xe,0),this.editor.focus()}acceptSelectedSuggestion(We,Xe){const ut=this.widget.value.getFocusedItem();let pt=0;We&&(pt|=4),Xe&&(pt|=8),this._insertSuggestion(ut,pt)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(We){return this._selectors.register(We)}};Ve.ID="editor.contrib.suggestController",Ve=At([ni(1,y.Fh),ni(2,J.Hy),ni(3,b.i6),ni(4,Q.TG),ni(5,U.VZ),ni(6,Ce.b)],Ve);class dt{constructor(We){this.prioritySelector=We,this._items=new Array}register(We){if(this._items.indexOf(We)!==-1)throw new Error("Value is already registered");return this._items.push(We),this._items.sort((Xe,ut)=>this.prioritySelector(ut)-this.prioritySelector(Xe)),{dispose:()=>{const Xe=this._items.indexOf(We);Xe>=0&&this._items.splice(Xe,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class Tt extends l.R6{constructor(){super({id:Tt.id,label:R.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:b.Ao.and(f.u.writable,f.u.hasCompletionItemProvider),kbOpts:{kbExpr:f.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(We,Xe,ut){const pt=Ve.get(Xe);if(!pt)return;let kt,Kt;ut&&typeof ut=="object"&&(ut.auto===!0&&(kt=!0),ut.noSelection===!0&&(Kt=!0)),pt.triggerSuggest(void 0,kt,void 0,Kt)}}Tt.id="editor.action.triggerSuggest",(0,l._K)(Ve.ID,Ve),(0,l.Qr)(Tt);const jt=100+90,$t=l._l.bindToContribution(Ve.get);(0,l.fK)(new $t({id:"acceptSelectedSuggestion",precondition:b.Ao.and(K._y.Visible,K._y.HasFocusedSuggestion),handler(Wt){Wt.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:b.Ao.and(K._y.Visible,f.u.textInputFocus),weight:jt},{primary:3,kbExpr:b.Ao.and(K._y.Visible,f.u.textInputFocus,K._y.AcceptSuggestionsOnEnter,K._y.MakesTextEdit),weight:jt}],menuOpts:[{menuId:K.GI,title:R.NC("accept.insert","Insert"),group:"left",order:1,when:K._y.HasInsertAndReplaceRange.toNegated()},{menuId:K.GI,title:R.NC("accept.insert","Insert"),group:"left",order:1,when:b.Ao.and(K._y.HasInsertAndReplaceRange,K._y.InsertMode.isEqualTo("insert"))},{menuId:K.GI,title:R.NC("accept.replace","Replace"),group:"left",order:1,when:b.Ao.and(K._y.HasInsertAndReplaceRange,K._y.InsertMode.isEqualTo("replace"))}]})),(0,l.fK)(new $t({id:"acceptAlternativeSelectedSuggestion",precondition:b.Ao.and(K._y.Visible,f.u.textInputFocus,K._y.HasFocusedSuggestion),kbOpts:{weight:jt,kbExpr:f.u.textInputFocus,primary:1027,secondary:[1026]},handler(Wt){Wt.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:K.GI,group:"left",order:2,when:b.Ao.and(K._y.HasInsertAndReplaceRange,K._y.InsertMode.isEqualTo("insert")),title:R.NC("accept.replace","Replace")},{menuId:K.GI,group:"left",order:2,when:b.Ao.and(K._y.HasInsertAndReplaceRange,K._y.InsertMode.isEqualTo("replace")),title:R.NC("accept.insert","Insert")}]})),J.P0.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,l.fK)(new $t({id:"hideSuggestWidget",precondition:K._y.Visible,handler:Wt=>Wt.cancelSuggestWidget(),kbOpts:{weight:jt,kbExpr:f.u.textInputFocus,primary:9,secondary:[1033]}})),(0,l.fK)(new $t({id:"selectNextSuggestion",precondition:b.Ao.and(K._y.Visible,K._y.MultipleSuggestions),handler:Wt=>Wt.selectNextSuggestion(),kbOpts:{weight:jt,kbExpr:f.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,l.fK)(new $t({id:"selectNextPageSuggestion",precondition:b.Ao.and(K._y.Visible,K._y.MultipleSuggestions),handler:Wt=>Wt.selectNextPageSuggestion(),kbOpts:{weight:jt,kbExpr:f.u.textInputFocus,primary:12,secondary:[2060]}})),(0,l.fK)(new $t({id:"selectLastSuggestion",precondition:b.Ao.and(K._y.Visible,K._y.MultipleSuggestions),handler:Wt=>Wt.selectLastSuggestion()})),(0,l.fK)(new $t({id:"selectPrevSuggestion",precondition:b.Ao.and(K._y.Visible,K._y.MultipleSuggestions),handler:Wt=>Wt.selectPrevSuggestion(),kbOpts:{weight:jt,kbExpr:f.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,l.fK)(new $t({id:"selectPrevPageSuggestion",precondition:b.Ao.and(K._y.Visible,K._y.MultipleSuggestions),handler:Wt=>Wt.selectPrevPageSuggestion(),kbOpts:{weight:jt,kbExpr:f.u.textInputFocus,primary:11,secondary:[2059]}})),(0,l.fK)(new $t({id:"selectFirstSuggestion",precondition:b.Ao.and(K._y.Visible,K._y.MultipleSuggestions),handler:Wt=>Wt.selectFirstSuggestion()})),(0,l.fK)(new $t({id:"toggleSuggestionDetails",precondition:K._y.Visible,handler:Wt=>Wt.toggleSuggestionDetails(),kbOpts:{weight:jt,kbExpr:f.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:K.GI,group:"right",order:1,when:b.Ao.and(K._y.DetailsVisible,K._y.CanResolve),title:R.NC("detail.more","show less")},{menuId:K.GI,group:"right",order:1,when:b.Ao.and(K._y.DetailsVisible.toNegated(),K._y.CanResolve),title:R.NC("detail.less","show more")}]})),(0,l.fK)(new $t({id:"toggleExplainMode",precondition:K._y.Visible,handler:Wt=>Wt.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,l.fK)(new $t({id:"toggleSuggestionFocus",precondition:K._y.Visible,handler:Wt=>Wt.toggleSuggestionFocus(),kbOpts:{weight:jt,kbExpr:f.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,l.fK)(new $t({id:"insertBestCompletion",precondition:b.Ao.and(f.u.textInputFocus,b.Ao.equals("config.editor.tabCompletion","on"),I.AtEnd,K._y.Visible.toNegated(),j.OtherSuggestions.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:(Wt,We)=>{Wt.triggerSuggestAndAcceptBest((0,c.Kn)(We)?Object.assign({fallback:"tab"},We):{fallback:"tab"})},kbOpts:{weight:jt,primary:2}})),(0,l.fK)(new $t({id:"insertNextSuggestion",precondition:b.Ao.and(f.u.textInputFocus,b.Ao.equals("config.editor.tabCompletion","on"),j.OtherSuggestions,K._y.Visible.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:Wt=>Wt.acceptNextSuggestion(),kbOpts:{weight:jt,kbExpr:f.u.textInputFocus,primary:2}})),(0,l.fK)(new $t({id:"insertPrevSuggestion",precondition:b.Ao.and(f.u.textInputFocus,b.Ao.equals("config.editor.tabCompletion","on"),j.OtherSuggestions,K._y.Visible.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:Wt=>Wt.acceptPrevSuggestion(),kbOpts:{weight:jt,kbExpr:f.u.textInputFocus,primary:1026}})),(0,l.Qr)(class extends l.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:R.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(Wt,We){var Xe;(Xe=Ve.get(We))===null||Xe===void 0||Xe.resetWidgetSize()}})},88088:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{SuggestInlineCompletions:function(){return b}});var w=i(71050),r=i(75392),O=i(53725),V=i(9917),D=i(16830),$=i(11640),M=i(24314),P=i(71922),A=i(70902),L=i(74961),c=i(55621),p=i(80378),l=i(24477),n=i(84972),a=i(72065),g=function(E,I,R,J){var Q=arguments.length,U=Q<3?I:J===null?J=Object.getOwnPropertyDescriptor(I,R):J,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(E,I,R,J);else for(var H=E.length-1;H>=0;H--)(K=E[H])&&(U=(Q<3?K(U):Q>3?K(I,R,U):K(I,R))||U);return Q>3&&U&&Object.defineProperty(I,R,U),U},f=function(E,I){return function(R,J){I(R,J,E)}},u=function(E,I,R,J){function Q(U){return U instanceof R?U:new R(function(K){K(U)})}return new(R||(R=Promise))(function(U,K){function H(x){try{j(J.next(x))}catch(Z){K(Z)}}function X(x){try{j(J.throw(x))}catch(Z){K(Z)}}function j(x){x.done?U(x.value):Q(x.value).then(H,X)}j((J=J.apply(E,I||[])).next())})};class C{constructor(I,R,J,Q,U,K){this.range=I,this.insertText=R,this.filterText=J,this.additionalTextEdits=Q,this.command=U,this.completion=K}}let y=class extends V.L6{constructor(I,R,J,Q,U,K){super(U.disposable),this.model=I,this.line=R,this.word=J,this.completionModel=Q,this._suggestMemoryService=K}canBeReused(I,R,J){return this.model===I&&this.line===R&&this.word.word.length>0&&this.word.startColumn===J.startColumn&&this.word.endColumn<J.endColumn&&this.completionModel.incomplete.size===0}get items(){var I;const R=[],{items:J}=this.completionModel,Q=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},J),U=O.$.slice(J,Q),K=O.$.slice(J,0,Q);let H=5;for(const X of O.$.concat(U,K)){if(X.score===r.CL.Default)continue;const j=new M.e(X.editStart.lineNumber,X.editStart.column,X.editInsertEnd.lineNumber,X.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),x=X.completion.insertTextRules&&X.completion.insertTextRules&A.a7.InsertAsSnippet?{snippet:X.completion.insertText}:X.completion.insertText;R.push(new C(j,x,(I=X.filterTextLow)!==null&&I!==void 0?I:X.labelLow,X.completion.additionalTextEdits,X.completion.command,X)),H-->=0&&X.resolve(w.T.None)}return R}};y=g([f(5,p.Fh)],y);let b=class{constructor(I,R,J,Q){this._getEditorOption=I,this._languageFeatureService=R,this._clipboardService=J,this._suggestMemoryService=Q}provideInlineCompletions(I,R,J,Q){var U;return u(this,void 0,void 0,function*(){if(J.selectedSuggestionInfo)return;const K=this._getEditorOption(81,I);if(c.tG.isAllOff(K))return;I.tokenization.tokenizeIfCheap(R.lineNumber);const H=I.tokenization.getLineTokens(R.lineNumber),X=H.getStandardTokenType(H.findTokenIndexAtOffset(Math.max(R.column-1-1,0)));if(c.tG.valueFor(K,X)!=="inline")return;let j=I.getWordAtPosition(R),x;if(j!=null&&j.word||(x=this._getTriggerCharacterInfo(I,R)),!(j!=null&&j.word)&&!x||(j||(j=I.getWordUntilPosition(R)),j.endColumn!==R.column))return;let Z;const T=I.getValueInRange(new M.e(R.lineNumber,1,R.lineNumber,R.column));if(!x&&((U=this._lastResult)===null||U===void 0?void 0:U.canBeReused(I,R.lineNumber,j))){const z=new L.t(T,R.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=z,this._lastResult.acquire(),Z=this._lastResult}else{const z=yield(0,c.kL)(this._languageFeatureService.completionProvider,I,R,new c.A9(void 0,void 0,x==null?void 0:x.providers),x&&{triggerKind:1,triggerCharacter:x.ch},Q);let G;z.needsClipboard&&(G=yield this._clipboardService.readText());const re=new L._(z.items,R.column,new L.t(T,0),l.K.None,this._getEditorOption(108,I),this._getEditorOption(103,I),{boostFullMatch:!1,firstMatchCanBeWeak:!1},G);Z=new y(I,R.lineNumber,j,re,z,this._suggestMemoryService)}return this._lastResult=Z,Z})}handleItemDidShow(I,R){R.completion.resolve(w.T.None)}freeInlineCompletions(I){I.release()}_getTriggerCharacterInfo(I,R){var J;const Q=I.getValueInRange(M.e.fromPositions({lineNumber:R.lineNumber,column:R.column-1},R)),U=new Set;for(const K of this._languageFeatureService.completionProvider.all(I))!((J=K.triggerCharacters)===null||J===void 0)&&J.includes(Q)&&U.add(K);if(U.size!==0)return{providers:U,ch:Q}}};b=g([f(1,P.p),f(2,n.p),f(3,p.Fh)],b);let _=class cr{constructor(I,R,J,Q){if(++cr._counter===1){const U=Q.createInstance(b,(K,H)=>{var X;return((X=J.listCodeEditors().find(x=>x.getModel()===H))!==null&&X!==void 0?X:I).getOption(K)});cr._disposable=R.inlineCompletionsProvider.register("*",U)}}dispose(){var I;--cr._counter===0&&((I=cr._disposable)===null||I===void 0||I.dispose(),cr._disposable=void 0)}};_._counter=0,_=g([f(1,P.p),f(2,$.$),f(3,a.TG)],_),(0,D._K)("suggest.inlineCompletionsProvider",_)},80378:function(Ot,Te,i){"use strict";i.d(Te,{Fh:function(){return g}});var w=i(15393),r=i(9917),O=i(43702),V=i(96887),D=i(33108),$=i(65026),M=i(72065),P=i(26904),A=function(f,u,C,y){var b=arguments.length,_=b<3?u:y===null?y=Object.getOwnPropertyDescriptor(u,C):y,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(f,u,C,y);else for(var I=f.length-1;I>=0;I--)(E=f[I])&&(_=(b<3?E(_):b>3?E(u,C,_):E(u,C))||_);return b>3&&_&&Object.defineProperty(u,C,_),_},L=function(f,u){return function(C,y){u(C,y,f)}};class c{constructor(u){this.name=u}select(u,C,y){if(y.length===0)return 0;const b=y[0].score[0];for(let _=0;_<y.length;_++){const{score:E,completion:I}=y[_];if(E[0]!==b)break;if(I.preselect)return _}return 0}}class p extends c{constructor(){super("first")}memorize(u,C,y){}toJSON(){}fromJSON(){}}class l extends c{constructor(){super("recentlyUsed"),this._cache=new O.z6(300,.66),this._seq=0}memorize(u,C,y){const b=`${u.getLanguageId()}/${y.textLabel}`;this._cache.set(b,{touch:this._seq++,type:y.completion.kind,insertText:y.completion.insertText})}select(u,C,y){if(y.length===0)return 0;const b=u.getLineContent(C.lineNumber).substr(C.column-10,C.column-1);if(/\s$/.test(b))return super.select(u,C,y);const _=y[0].score[0];let E=-1,I=-1,R=-1;for(let J=0;J<y.length&&y[J].score[0]===_;J++){const Q=`${u.getLanguageId()}/${y[J].textLabel}`,U=this._cache.peek(Q);if(U&&U.touch>R&&U.type===y[J].completion.kind&&U.insertText===y[J].completion.insertText&&(R=U.touch,I=J),y[J].completion.preselect&&E===-1)return E=J}return I!==-1?I:E!==-1?E:0}toJSON(){return this._cache.toJSON()}fromJSON(u){this._cache.clear();const C=0;for(const[y,b]of u)b.touch=C,b.type=typeof b.type=="number"?b.type:V.gX.fromString(b.type),this._cache.set(y,b);this._seq=this._cache.size}}class n extends c{constructor(){super("recentlyUsedByPrefix"),this._trie=O.Id.forStrings(),this._seq=0}memorize(u,C,y){const{word:b}=u.getWordUntilPosition(C),_=`${u.getLanguageId()}/${b}`;this._trie.set(_,{type:y.completion.kind,insertText:y.completion.insertText,touch:this._seq++})}select(u,C,y){const{word:b}=u.getWordUntilPosition(C);if(!b)return super.select(u,C,y);const _=`${u.getLanguageId()}/${b}`;let E=this._trie.get(_);if(E||(E=this._trie.findSubstr(_)),E)for(let I=0;I<y.length;I++){const{kind:R,insertText:J}=y[I].completion;if(R===E.type&&J===E.insertText)return I}return super.select(u,C,y)}toJSON(){const u=[];return this._trie.forEach((C,y)=>u.push([y,C])),u.sort((C,y)=>-(C[1].touch-y[1].touch)).forEach((C,y)=>C[1].touch=y),u.slice(0,200)}fromJSON(u){if(this._trie.clear(),u.length>0){this._seq=u[0][1].touch+1;for(const[C,y]of u)y.type=typeof y.type=="number"?y.type:V.gX.fromString(y.type),this._trie.set(C,y)}}}let a=class Da{constructor(u,C){this._storageService=u,this._configService=C,this._disposables=new r.SL,this._persistSoon=new w.pY(()=>this._saveState(),500),this._disposables.add(u.onWillSaveState(y=>{y.reason===P.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(u,C,y){this._withStrategy(u,C).memorize(u,C,y),this._persistSoon.schedule()}select(u,C,y){return this._withStrategy(u,C).select(u,C,y)}_withStrategy(u,C){var y;const b=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:u.getLanguageIdAtPosition(C.lineNumber,C.column),resource:u.uri});if(((y=this._strategy)===null||y===void 0?void 0:y.name)!==b){this._saveState();const _=Da._strategyCtors.get(b)||p;this._strategy=new _;try{const I=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,R=this._storageService.get(`${Da._storagePrefix}/${b}`,I);R&&this._strategy.fromJSON(JSON.parse(R))}catch{}}return this._strategy}_saveState(){if(this._strategy){const C=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,y=JSON.stringify(this._strategy);this._storageService.store(`${Da._storagePrefix}/${this._strategy.name}`,y,C,1)}}};a._strategyCtors=new Map([["recentlyUsedByPrefix",n],["recentlyUsed",l],["first",p]]),a._storagePrefix="suggest/memories",a=A([L(0,P.Uy),L(1,D.Ui)],a);const g=(0,M.yh)("ISuggestMemories");(0,$.z)(g,a,!0)},24477:function(Ot,Te,i){"use strict";i.d(Te,{K:function(){return D}});var w=i(9488),r=i(24314),O=i(79694),V=function($,M,P,A){function L(c){return c instanceof P?c:new P(function(p){p(c)})}return new(P||(P=Promise))(function(c,p){function l(g){try{a(A.next(g))}catch(f){p(f)}}function n(g){try{a(A.throw(g))}catch(f){p(f)}}function a(g){g.done?c(g.value):L(g.value).then(l,n)}a((A=A.apply($,M||[])).next())})};class D{static create(M,P){return V(this,void 0,void 0,function*(){if(!P.getOption(108).localityBonus||!P.hasModel())return D.None;const A=P.getModel(),L=P.getPosition();if(!M.canComputeWordRanges(A.uri))return D.None;const[c]=yield new O.x().provideSelectionRanges(A,[L]);if(c.length===0)return D.None;const p=yield M.computeWordRanges(A.uri,c[0].range);if(!p)return D.None;const l=A.getWordUntilPosition(L);return delete p[l.word],new class extends D{distance(n,a){if(!L.equals(P.getPosition()))return 0;if(a.kind===17)return 2<<20;const g=typeof a.label=="string"?a.label:a.label.label,f=p[g];if((0,w.XY)(f))return 2<<20;const u=(0,w.ry)(f,r.e.fromPositions(n),r.e.compareRangesUsingStarts),C=u>=0?f[u]:f[Math.max(0,~u-1)];let y=c.length;for(const b of c){if(!r.e.containsRange(b.range,C))break;y-=1}return y}}})}}D.None=new class extends D{distance(){return 0}}},71713:function(Ot,Te,i){"use strict";var w=i(73046),r=i(63580),O=i(73910),V=i(97781);const D=(0,O.P6G)("symbolIcon.arrayForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$=(0,O.P6G)("symbolIcon.booleanForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M=(0,O.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,r.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=(0,O.P6G)("symbolIcon.colorForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=(0,O.P6G)("symbolIcon.constantForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=(0,O.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,r.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c=(0,O.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,r.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,O.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,r.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),l=(0,O.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,r.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),n=(0,O.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,r.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a=(0,O.P6G)("symbolIcon.fileForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=(0,O.P6G)("symbolIcon.folderForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),f=(0,O.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,r.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=(0,O.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,r.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=(0,O.P6G)("symbolIcon.keyForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=(0,O.P6G)("symbolIcon.keywordForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=(0,O.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,r.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,O.P6G)("symbolIcon.moduleForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,O.P6G)("symbolIcon.namespaceForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=(0,O.P6G)("symbolIcon.nullForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=(0,O.P6G)("symbolIcon.numberForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),J=(0,O.P6G)("symbolIcon.objectForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Q=(0,O.P6G)("symbolIcon.operatorForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),U=(0,O.P6G)("symbolIcon.packageForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),K=(0,O.P6G)("symbolIcon.propertyForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),H=(0,O.P6G)("symbolIcon.referenceForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),X=(0,O.P6G)("symbolIcon.snippetForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),j=(0,O.P6G)("symbolIcon.stringForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),x=(0,O.P6G)("symbolIcon.structForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Z=(0,O.P6G)("symbolIcon.textForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T=(0,O.P6G)("symbolIcon.typeParameterForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z=(0,O.P6G)("symbolIcon.unitForeground",{dark:O.dRz,light:O.dRz,hcDark:O.dRz,hcLight:O.dRz},(0,r.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),G=(0,O.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,r.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,V.Ic)((re,S)=>{const he=re.getColor(D);he&&S.addRule(`${w.lA.symbolArray.cssSelector} { color: ${he}; }`);const Ce=re.getColor($);Ce&&S.addRule(`${w.lA.symbolBoolean.cssSelector} { color: ${Ce}; }`);const ge=re.getColor(M);ge&&S.addRule(`${w.lA.symbolClass.cssSelector} { color: ${ge}; }`);const pe=re.getColor(b);pe&&S.addRule(`${w.lA.symbolMethod.cssSelector} { color: ${pe}; }`);const ee=re.getColor(P);ee&&S.addRule(`${w.lA.symbolColor.cssSelector} { color: ${ee}; }`);const se=re.getColor(A);se&&S.addRule(`${w.lA.symbolConstant.cssSelector} { color: ${se}; }`);const ne=re.getColor(L);ne&&S.addRule(`${w.lA.symbolConstructor.cssSelector} { color: ${ne}; }`);const oe=re.getColor(c);oe&&S.addRule(`
			${w.lA.symbolValue.cssSelector},${w.lA.symbolEnum.cssSelector} { color: ${oe}; }`);const Se=re.getColor(p);Se&&S.addRule(`${w.lA.symbolEnumMember.cssSelector} { color: ${Se}; }`);const Ee=re.getColor(l);Ee&&S.addRule(`${w.lA.symbolEvent.cssSelector} { color: ${Ee}; }`);const Me=re.getColor(n);Me&&S.addRule(`${w.lA.symbolField.cssSelector} { color: ${Me}; }`);const ye=re.getColor(a);ye&&S.addRule(`${w.lA.symbolFile.cssSelector} { color: ${ye}; }`);const le=re.getColor(g);le&&S.addRule(`${w.lA.symbolFolder.cssSelector} { color: ${le}; }`);const ie=re.getColor(f);ie&&S.addRule(`${w.lA.symbolFunction.cssSelector} { color: ${ie}; }`);const ve=re.getColor(u);ve&&S.addRule(`${w.lA.symbolInterface.cssSelector} { color: ${ve}; }`);const xe=re.getColor(C);xe&&S.addRule(`${w.lA.symbolKey.cssSelector} { color: ${xe}; }`);const Ye=re.getColor(y);Ye&&S.addRule(`${w.lA.symbolKeyword.cssSelector} { color: ${Ye}; }`);const at=re.getColor(_);at&&S.addRule(`${w.lA.symbolModule.cssSelector} { color: ${at}; }`);const qe=re.getColor(E);qe&&S.addRule(`${w.lA.symbolNamespace.cssSelector} { color: ${qe}; }`);const Re=re.getColor(I);Re&&S.addRule(`${w.lA.symbolNull.cssSelector} { color: ${Re}; }`);const Je=re.getColor(R);Je&&S.addRule(`${w.lA.symbolNumber.cssSelector} { color: ${Je}; }`);const st=re.getColor(J);st&&S.addRule(`${w.lA.symbolObject.cssSelector} { color: ${st}; }`);const et=re.getColor(Q);et&&S.addRule(`${w.lA.symbolOperator.cssSelector} { color: ${et}; }`);const we=re.getColor(U);we&&S.addRule(`${w.lA.symbolPackage.cssSelector} { color: ${we}; }`);const Ne=re.getColor(K);Ne&&S.addRule(`${w.lA.symbolProperty.cssSelector} { color: ${Ne}; }`);const de=re.getColor(H);de&&S.addRule(`${w.lA.symbolReference.cssSelector} { color: ${de}; }`);const Pe=re.getColor(X);Pe&&S.addRule(`${w.lA.symbolSnippet.cssSelector} { color: ${Pe}; }`);const He=re.getColor(j);He&&S.addRule(`${w.lA.symbolString.cssSelector} { color: ${He}; }`);const $e=re.getColor(x);$e&&S.addRule(`${w.lA.symbolStruct.cssSelector} { color: ${$e}; }`);const me=re.getColor(Z);me&&S.addRule(`${w.lA.symbolText.cssSelector} { color: ${me}; }`);const Ie=re.getColor(T);Ie&&S.addRule(`${w.lA.symbolTypeParameter.cssSelector} { color: ${Ie}; }`);const Ge=re.getColor(z);Ge&&S.addRule(`${w.lA.symbolUnit.cssSelector} { color: ${Ge}; }`);const ft=re.getColor(G);ft&&S.addRule(`${w.lA.symbolVariable.cssSelector} { color: ${ft}; }`)})},64662:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{ToggleTabFocusModeAction:function(){return D}});var w=i(57924),r=i(37940),O=i(16830),V=i(63580);class D extends O.R6{constructor(){super({id:D.ID,label:V.NC({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(M,P){const L=!r.n.getTabFocusMode();r.n.setTabFocusMode(L),L?(0,w.Z9)(V.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):(0,w.Z9)(V.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}D.ID="editor.action.toggleTabFocusMode",(0,O.Qr)(D)},52614:function(Ot,Te,i){"use strict";i.r(Te);var w=i(84013),r=i(16830),O=i(63580);class V extends r.R6{constructor(){super({id:"editor.action.forceRetokenize",label:O.NC("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run($,M){if(!M.hasModel())return;const P=M.getModel();P.tokenization.resetTokenization();const A=new w.G(!0);P.tokenization.forceTokenization(P.getLineCount()),A.stop(),console.log(`tokenization took ${A.elapsed()}`)}}(0,r.Qr)(V)},59370:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{DisableHighlightingInCommentsAction:function(){return xe},DisableHighlightingInStringsAction:function(){return Ye},DisableHighlightingOfAmbiguousCharactersAction:function(){return at},DisableHighlightingOfInvisibleCharactersAction:function(){return qe},DisableHighlightingOfNonBasicAsciiCharactersAction:function(){return Re},ShowExcludeOptions:function(){return Je},UnicodeHighlighter:function(){return se},UnicodeHighlighterHoverParticipant:function(){return Ee},warningIcon:function(){return ee}});var w=i(15393),r=i(73046),O=i(59365),V=i(9917),D=i(1432),$=i(97295),M=i(16830),P=i(64141),A=i(92035),L=i(31446),c=i(85215),p=i(72042),l=i(30168),n=i(66520),a=i(22374),g=i(65321),f=i(90317),u=i(74741),C=i(8598),y=i(72065),b=i(4850),_=i(59069),E=i(10553),I=i(4669),R=i(50988),J=i(73910),Q=i(97781),U=function(Ne,de,Pe,He){var $e=arguments.length,me=$e<3?de:He===null?He=Object.getOwnPropertyDescriptor(de,Pe):He,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(Ne,de,Pe,He);else for(var Ge=Ne.length-1;Ge>=0;Ge--)(Ie=Ne[Ge])&&(me=($e<3?Ie(me):$e>3?Ie(de,Pe,me):Ie(de,Pe))||me);return $e>3&&me&&Object.defineProperty(de,Pe,me),me},K=function(Ne,de){return function(Pe,He){de(Pe,He,Ne)}};let H=class extends V.JT{constructor(de,Pe,He={},$e){var me;super(),this._link=Pe,this._enabled=!0,this.el=(0,g.R3)(de,(0,g.$)("a.monaco-link",{tabIndex:(me=Pe.tabIndex)!==null&&me!==void 0?me:0,href:Pe.href,title:Pe.title},Pe.label)),this.el.setAttribute("role","button");const Ie=this._register(new b.Y(this.el,"click")),Ge=this._register(new b.Y(this.el,"keypress")),ft=I.ju.chain(Ge.event).map(wt=>new _.y(wt)).filter(wt=>wt.keyCode===3).event,ze=this._register(new b.Y(this.el,E.t.Tap)).event;this._register(E.o.addTarget(this.el));const mt=I.ju.any(Ie.event,ft,ze);this._register(mt(wt=>{!this.enabled||(g.zB.stop(wt,!0),He!=null&&He.opener?He.opener(this._link.href):$e.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(de){de?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=de}};H=U([K(3,R.v4)],H),(0,Q.Ic)((Ne,de)=>{const Pe=Ne.getColor(J.url);Pe&&de.addRule(`.monaco-link { color: ${Pe}; }`);const He=Ne.getColor(J.sgC);He&&de.addRule(`.monaco-link:hover { color: ${He}; }`)});var X=i(59554),j=function(Ne,de,Pe,He){var $e=arguments.length,me=$e<3?de:He===null?He=Object.getOwnPropertyDescriptor(de,Pe):He,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(Ne,de,Pe,He);else for(var Ge=Ne.length-1;Ge>=0;Ge--)(Ie=Ne[Ge])&&(me=($e<3?Ie(me):$e>3?Ie(de,Pe,me):Ie(de,Pe))||me);return $e>3&&me&&Object.defineProperty(de,Pe,me),me},x=function(Ne,de){return function(Pe,He){de(Pe,He,Ne)}};const Z=26;let T=class extends V.JT{constructor(de,Pe){super(),this._editor=de,this.instantiationService=Pe,this.banner=this._register(this.instantiationService.createInstance(z))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(de){this.banner.show(Object.assign(Object.assign({},de),{onClose:()=>{var Pe;this.hide(),(Pe=de.onClose)===null||Pe===void 0||Pe.call(de)}})),this._editor.setBanner(this.banner.element,Z)}};T=j([x(1,y.TG)],T);let z=class extends V.JT{constructor(de){super(),this.instantiationService=de,this.markdownRenderer=this.instantiationService.createInstance(C.$,{}),this.element=(0,g.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(de){if(de.ariaLabel)return de.ariaLabel;if(typeof de.message=="string")return de.message}getBannerMessage(de){if(typeof de=="string"){const Pe=(0,g.$)("span");return Pe.innerText=de,Pe}return this.markdownRenderer.render(de).element}clear(){(0,g.PO)(this.element)}show(de){(0,g.PO)(this.element);const Pe=this.getAriaLabel(de);Pe&&this.element.setAttribute("aria-label",Pe);const He=(0,g.R3)(this.element,(0,g.$)("div.icon-container"));He.setAttribute("aria-hidden","true"),de.icon&&He.appendChild((0,g.$)(`div${Q.kS.asCSSSelector(de.icon)}`));const $e=(0,g.R3)(this.element,(0,g.$)("div.message-container"));if($e.setAttribute("aria-hidden","true"),$e.appendChild(this.getBannerMessage(de.message)),this.messageActionsContainer=(0,g.R3)(this.element,(0,g.$)("div.message-actions-container")),de.actions)for(const Ie of de.actions)this._register(this.instantiationService.createInstance(H,this.messageActionsContainer,Object.assign(Object.assign({},Ie),{tabIndex:-1}),{}));const me=(0,g.R3)(this.element,(0,g.$)("div.action-container"));this.actionBar=this._register(new f.o(me)),this.actionBar.push(this._register(new u.aU("banner.close","Close Banner",Q.kS.asClassName(X.s_),!0,()=>{typeof de.onClose=="function"&&de.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};z=j([x(0,y.TG)],z);var G=i(63580),re=i(33108),S=i(41157),he=i(33425),Ce=function(Ne,de,Pe,He){var $e=arguments.length,me=$e<3?de:He===null?He=Object.getOwnPropertyDescriptor(de,Pe):He,Ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")me=Reflect.decorate(Ne,de,Pe,He);else for(var Ge=Ne.length-1;Ge>=0;Ge--)(Ie=Ne[Ge])&&(me=($e<3?Ie(me):$e>3?Ie(de,Pe,me):Ie(de,Pe))||me);return $e>3&&me&&Object.defineProperty(de,Pe,me),me},ge=function(Ne,de){return function(Pe,He){de(Pe,He,Ne)}},pe=function(Ne,de,Pe,He){function $e(me){return me instanceof Pe?me:new Pe(function(Ie){Ie(me)})}return new(Pe||(Pe=Promise))(function(me,Ie){function Ge(mt){try{ze(He.next(mt))}catch(wt){Ie(wt)}}function ft(mt){try{ze(He.throw(mt))}catch(wt){Ie(wt)}}function ze(mt){mt.done?me(mt.value):$e(mt.value).then(Ge,ft)}ze((He=He.apply(Ne,de||[])).next())})};const ee=(0,X.q5)("extensions-warning-message",r.lA.warning,G.NC("warningIcon","Icon shown with a warning message in the extensions editor."));let se=class extends V.JT{constructor(de,Pe,He,$e){super(),this._editor=de,this._editorWorkerService=Pe,this._workspaceTrustService=He,this._highlighter=null,this._bannerClosed=!1,this._updateState=me=>{if(me&&me.hasMore){if(this._bannerClosed)return;const Ie=Math.max(me.ambiguousCharacterCount,me.nonBasicAsciiCharacterCount,me.invisibleCharacterCount);let Ge;if(me.nonBasicAsciiCharacterCount>=Ie)Ge={message:G.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new Re};else if(me.ambiguousCharacterCount>=Ie)Ge={message:G.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new at};else if(me.invisibleCharacterCount>=Ie)Ge={message:G.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new qe};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:Ge.message,icon:ee,actions:[{label:Ge.command.shortLabel,href:`command:${Ge.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register($e.createInstance(T,de)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=de.getOption(115),this._register(He.onDidChangeTrust(me=>{this._updateHighlighter()})),this._register(de.onDidChangeConfiguration(me=>{me.hasChanged(115)&&(this._options=de.getOption(115),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const de=ne(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([de.nonBasicASCII,de.ambiguousCharacters,de.invisibleCharacters].every(He=>He===!1))return;const Pe={nonBasicASCII:de.nonBasicASCII,ambiguousCharacters:de.ambiguousCharacters,invisibleCharacters:de.invisibleCharacters,includeComments:de.includeComments,includeStrings:de.includeStrings,allowedCodePoints:Object.keys(de.allowedCharacters).map(He=>He.codePointAt(0)),allowedLocales:Object.keys(de.allowedLocales).map(He=>He==="_os"?new Intl.NumberFormat().resolvedOptions().locale:He==="_vscode"?D.dK:He)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new oe(this._editor,Pe,this._updateState,this._editorWorkerService):this._highlighter=new Se(this._editor,Pe,this._updateState)}getDecorationInfo(de){return this._highlighter?this._highlighter.getDecorationInfo(de):null}};se.ID="editor.contrib.unicodeHighlighter",se=Ce([ge(1,c.p),ge(2,he.Y),ge(3,y.TG)],se);function ne(Ne,de){return{nonBasicASCII:de.nonBasicASCII===P.Av?!Ne:de.nonBasicASCII,ambiguousCharacters:de.ambiguousCharacters,invisibleCharacters:de.invisibleCharacters,includeComments:de.includeComments===P.Av?!Ne:de.includeComments,includeStrings:de.includeStrings===P.Av?!Ne:de.includeStrings,allowedCharacters:de.allowedCharacters,allowedLocales:de.allowedLocales}}let oe=class extends V.JT{constructor(de,Pe,He,$e){super(),this._editor=de,this._options=Pe,this._updateState=He,this._editorWorkerService=$e,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new w.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const de=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(Pe=>{if(this._model.isDisposed()||this._model.getVersionId()!==de)return;this._updateState(Pe);const He=[];if(!Pe.hasMore)for(const $e of Pe.ranges)He.push({range:$e,options:ve.instance.getDecorationFromOptions(this._options)});this._decorations.set(He)})}getDecorationInfo(de){if(!this._decorations.has(de))return null;const Pe=this._editor.getModel();if(!(0,l.Fd)(Pe,de))return null;const He=Pe.getValueInRange(de.range);return{reason:ie(He,this._options),inComment:(0,l.$t)(Pe,de),inString:(0,l.zg)(Pe,de)}}};oe=Ce([ge(3,c.p)],oe);class Se extends V.JT{constructor(de,Pe,He){super(),this._editor=de,this._options=Pe,this._updateState=He,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new w.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const de=this._editor.getVisibleRanges(),Pe=[],He={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const $e of de){const me=L.a.computeUnicodeHighlights(this._model,this._options,$e);for(const Ie of me.ranges)He.ranges.push(Ie);He.ambiguousCharacterCount+=He.ambiguousCharacterCount,He.invisibleCharacterCount+=He.invisibleCharacterCount,He.nonBasicAsciiCharacterCount+=He.nonBasicAsciiCharacterCount,He.hasMore=He.hasMore||me.hasMore}if(!He.hasMore)for(const $e of He.ranges)Pe.push({range:$e,options:ve.instance.getDecorationFromOptions(this._options)});this._updateState(He),this._decorations.set(Pe)}getDecorationInfo(de){if(!this._decorations.has(de))return null;const Pe=this._editor.getModel(),He=Pe.getValueInRange(de.range);return(0,l.Fd)(Pe,de)?{reason:ie(He,this._options),inComment:(0,l.$t)(Pe,de),inString:(0,l.zg)(Pe,de)}:null}}let Ee=class{constructor(de,Pe,He){this._editor=de,this._languageService=Pe,this._openerService=He,this.hoverOrdinal=4}computeSync(de,Pe){if(!this._editor.hasModel()||de.type!==1)return[];const He=this._editor.getModel(),$e=this._editor.getContribution(se.ID);if(!$e)return[];const me=[];let Ie=300;for(const Ge of Pe){const ft=$e.getDecorationInfo(Ge);if(!ft)continue;const mt=He.getValueInRange(Ge.range).codePointAt(0),wt=ye(mt);let Oe;switch(ft.reason.kind){case 0:Oe=G.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",wt,ye(ft.reason.confusableWith.codePointAt(0)));break;case 1:Oe=G.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",wt);break;case 2:Oe=G.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",wt);break}const lt={codePoint:mt,reason:ft.reason,inComment:ft.inComment,inString:ft.inString},Bt=G.NC("unicodeHighlight.adjustSettings","Adjust settings"),Zt=`command:${Je.ID}?${encodeURIComponent(JSON.stringify(lt))}`,pi=new O.W5("",!0).appendMarkdown(Oe).appendText(" ").appendLink(Zt,Bt);me.push(new a.hU(this,Ge.range,[pi],Ie++))}return me}renderHoverParts(de,Pe){return(0,a.c)(de,Pe,this._editor,this._languageService,this._openerService)}};Ee=Ce([ge(1,p.O),ge(2,R.v4)],Ee);function Me(Ne){return`U+${Ne.toString(16).padStart(4,"0")}`}function ye(Ne){let de=`\`${Me(Ne)}\``;return $.vU.isInvisibleCharacter(Ne)||(de+=` "${`${le(Ne)}`}"`),de}function le(Ne){return Ne===96?"`` ` ``":"`"+String.fromCodePoint(Ne)+"`"}function ie(Ne,de){return L.a.computeUnicodeHighlightReason(Ne,de)}class ve{constructor(){this.map=new Map}getDecorationFromOptions(de){return this.getDecoration(!de.includeComments,!de.includeStrings)}getDecoration(de,Pe){const He=`${de}${Pe}`;let $e=this.map.get(He);return $e||($e=A.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:de,hideInStringTokens:Pe}),this.map.set(He,$e)),$e}}ve.instance=new ve;class xe extends M.R6{constructor(){super({id:at.ID,label:G.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=G.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(de,Pe,He){return pe(this,void 0,void 0,function*(){const $e=de==null?void 0:de.get(re.Ui);$e&&this.runAction($e)})}runAction(de){return pe(this,void 0,void 0,function*(){yield de.updateValue(P.qt.includeComments,!1,2)})}}class Ye extends M.R6{constructor(){super({id:at.ID,label:G.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=G.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(de,Pe,He){return pe(this,void 0,void 0,function*(){const $e=de==null?void 0:de.get(re.Ui);$e&&this.runAction($e)})}runAction(de){return pe(this,void 0,void 0,function*(){yield de.updateValue(P.qt.includeStrings,!1,2)})}}class at extends M.R6{constructor(){super({id:at.ID,label:G.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=G.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(de,Pe,He){return pe(this,void 0,void 0,function*(){const $e=de==null?void 0:de.get(re.Ui);$e&&this.runAction($e)})}runAction(de){return pe(this,void 0,void 0,function*(){yield de.updateValue(P.qt.ambiguousCharacters,!1,2)})}}at.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class qe extends M.R6{constructor(){super({id:qe.ID,label:G.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=G.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(de,Pe,He){return pe(this,void 0,void 0,function*(){const $e=de==null?void 0:de.get(re.Ui);$e&&this.runAction($e)})}runAction(de){return pe(this,void 0,void 0,function*(){yield de.updateValue(P.qt.invisibleCharacters,!1,2)})}}qe.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class Re extends M.R6{constructor(){super({id:Re.ID,label:G.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=G.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(de,Pe,He){return pe(this,void 0,void 0,function*(){const $e=de==null?void 0:de.get(re.Ui);$e&&this.runAction($e)})}runAction(de){return pe(this,void 0,void 0,function*(){yield de.updateValue(P.qt.nonBasicASCII,!1,2)})}}Re.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class Je extends M.R6{constructor(){super({id:Je.ID,label:G.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(de,Pe,He){return pe(this,void 0,void 0,function*(){const{codePoint:$e,reason:me,inString:Ie,inComment:Ge}=He,ft=String.fromCodePoint($e),ze=de.get(S.eJ),mt=de.get(re.Ui);function wt(Bt){return $.vU.isInvisibleCharacter(Bt)?G.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",Me(Bt)):G.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${Me(Bt)} "${ft}"`)}const Oe=[];if(me.kind===0)for(const Bt of me.notAmbiguousInLocales)Oe.push({label:G.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',Bt),run:()=>pe(this,void 0,void 0,function*(){et(mt,[Bt])})});if(Oe.push({label:wt($e),run:()=>st(mt,[$e])}),Ge){const Bt=new xe;Oe.push({label:Bt.label,run:()=>pe(this,void 0,void 0,function*(){return Bt.runAction(mt)})})}else if(Ie){const Bt=new Ye;Oe.push({label:Bt.label,run:()=>pe(this,void 0,void 0,function*(){return Bt.runAction(mt)})})}if(me.kind===0){const Bt=new at;Oe.push({label:Bt.label,run:()=>pe(this,void 0,void 0,function*(){return Bt.runAction(mt)})})}else if(me.kind===1){const Bt=new qe;Oe.push({label:Bt.label,run:()=>pe(this,void 0,void 0,function*(){return Bt.runAction(mt)})})}else if(me.kind===2){const Bt=new Re;Oe.push({label:Bt.label,run:()=>pe(this,void 0,void 0,function*(){return Bt.runAction(mt)})})}else we(me);const lt=yield ze.pick(Oe,{title:G.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});lt&&(yield lt.run())})}}Je.ID="editor.action.unicodeHighlight.showExcludeOptions";function st(Ne,de){return pe(this,void 0,void 0,function*(){const Pe=Ne.getValue(P.qt.allowedCharacters);let He;typeof Pe=="object"&&Pe?He=Pe:He={};for(const $e of de)He[String.fromCodePoint($e)]=!0;yield Ne.updateValue(P.qt.allowedCharacters,He,2)})}function et(Ne,de){var Pe;return pe(this,void 0,void 0,function*(){const He=(Pe=Ne.inspect(P.qt.allowedLocales).user)===null||Pe===void 0?void 0:Pe.value;let $e;typeof He=="object"&&He?$e=Object.assign({},He):$e={};for(const me of de)$e[me]=!0;yield Ne.updateValue(P.qt.allowedLocales,$e,2)})}function we(Ne){throw new Error(`Unexpected value: ${Ne}`)}(0,M.Qr)(at),(0,M.Qr)(qe),(0,M.Qr)(Re),(0,M.Qr)(Je),(0,M._K)(se.ID,se),n.Ae.register(Ee)},79607:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{UnusualLineTerminatorsDetector:function(){return l}});var w=i(9917),r=i(95935),O=i(16830),V=i(11640),D=i(63580),$=i(28820),M=function(n,a,g,f){var u=arguments.length,C=u<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,g):f,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(n,a,g,f);else for(var b=n.length-1;b>=0;b--)(y=n[b])&&(C=(u<3?y(C):u>3?y(a,g,C):y(a,g))||C);return u>3&&C&&Object.defineProperty(a,g,C),C},P=function(n,a){return function(g,f){a(g,f,n)}},A=function(n,a,g,f){function u(C){return C instanceof g?C:new g(function(y){y(C)})}return new(g||(g=Promise))(function(C,y){function b(I){try{E(f.next(I))}catch(R){y(R)}}function _(I){try{E(f.throw(I))}catch(R){y(R)}}function E(I){I.done?C(I.value):u(I.value).then(b,_)}E((f=f.apply(n,a||[])).next())})};const L="ignoreUnusualLineTerminators";function c(n,a,g){n.setModelProperty(a.uri,L,g)}function p(n,a){return n.getModelProperty(a.uri,L)}let l=class extends w.JT{constructor(a,g,f){super(),this._editor=a,this._dialogService=g,this._codeEditorService=f,this._config=this._editor.getOption(116),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(116)&&(this._config=this._editor.getOption(116),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(u=>{u.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return A(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const a=this._editor.getModel();if(!a.mightContainUnusualLineTerminators()||p(this._codeEditorService,a)===!0||this._editor.getOption(83))return;if(this._config==="auto"){a.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:D.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:D.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:D.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,r.EZ)(a.uri)),primaryButton:D.NC("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:D.NC("unusualLineTerminators.ignore","Ignore")})).confirmed){c(this._codeEditorService,a,!0);return}a.removeUnusualLineTerminators(this._editor.getSelections())})}};l.ID="editor.contrib.unusualLineTerminatorsDetector",l=M([P(1,$.S),P(2,V.$)],l),(0,O._K)(l.ID,l)},61271:function(Ot,Te,i){"use strict";i.r(Te);var w=i(15393),r=i(9917),O=i(16830),V=i(89510),D=i(73733),$=i(51200),M=i(88802),P=i(33108),A=i(97781),L=i(88191),c=i(84013),p=i(71922),l=function(g,f,u,C){var y=arguments.length,b=y<3?f:C===null?C=Object.getOwnPropertyDescriptor(f,u):C,_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(g,f,u,C);else for(var E=g.length-1;E>=0;E--)(_=g[E])&&(b=(y<3?_(b):y>3?_(f,u,b):_(f,u))||b);return y>3&&b&&Object.defineProperty(f,u,b),b},n=function(g,f){return function(u,C){f(u,C,g)}};let a=class extends r.JT{constructor(f,u,C,y,b,_){super(),this._modelService=u,this._themeService=C,this._configurationService=y,this._editor=f,this._provider=_.documentRangeSemanticTokensProvider,this._debounceInformation=b.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new w.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const E=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{E()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),E()})),this._register(this._editor.onDidChangeModelContent(I=>{this._cancelAll(),E()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),E()})),this._register(this._configurationService.onDidChangeConfiguration(I=>{I.affectsConfiguration($.e3)&&(this._cancelAll(),E())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),E()}))}_cancelAll(){for(const f of this._outstandingRequests)f.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(f){for(let u=0,C=this._outstandingRequests.length;u<C;u++)if(this._outstandingRequests[u]===f){this._outstandingRequests.splice(u,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const f=this._editor.getModel();if(f.tokenization.hasCompleteSemanticTokens())return;if(!(0,$.tw)(f,this._themeService,this._configurationService)){f.tokenization.hasSomeSemanticTokens()&&f.tokenization.setSemanticTokens(null,!1);return}if(!(0,V.KO)(this._provider,f)){f.tokenization.hasSomeSemanticTokens()&&f.tokenization.setSemanticTokens(null,!1);return}const u=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(u.map(C=>this._requestRange(f,C)))}_requestRange(f,u){const C=f.getVersionId(),y=(0,w.PG)(_=>Promise.resolve((0,V.OG)(this._provider,f,u,_))),b=new c.G(!1);return y.then(_=>{if(this._debounceInformation.update(f,b.elapsed()),!_||!_.tokens||f.isDisposed()||f.getVersionId()!==C)return;const{provider:E,tokens:I}=_,R=this._modelService.getSemanticTokensProviderStyling(E);f.tokenization.setPartialSemanticTokens(u,(0,M.h)(I,R,f.getLanguageId()))}).then(()=>this._removeOutstandingRequest(y),()=>this._removeOutstandingRequest(y)),y}};a.ID="editor.contrib.viewportSemanticTokens",a=l([n(1,D.q),n(2,A.XE),n(3,P.Ui),n(4,L.A),n(5,p.p)],a),(0,O._K)(a.ID,a)},70943:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{getOccurrencesAtPosition:function(){return U}});var w=i(57924),r=i(9488),O=i(15393),V=i(71050),D=i(17301),$=i(9917),M=i(16830),P=i(24314),A=i(29102),L=i(84973),c=i(92035),p=i(96887),l=i(63580),n=i(16141),a=i(73910),g=i(97781),f=i(71922),u=i(92321),C=function(S,he,Ce,ge){var pe=arguments.length,ee=pe<3?he:ge===null?ge=Object.getOwnPropertyDescriptor(he,Ce):ge,se;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(S,he,Ce,ge);else for(var ne=S.length-1;ne>=0;ne--)(se=S[ne])&&(ee=(pe<3?se(ee):pe>3?se(he,Ce,ee):se(he,Ce))||ee);return pe>3&&ee&&Object.defineProperty(he,Ce,ee),ee},y=function(S,he){return function(Ce,ge){he(Ce,ge,S)}};const b=(0,a.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},l.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),_=(0,a.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},l.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),E=(0,a.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:a.xL1,hcLight:a.xL1},l.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),I=(0,a.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:a.xL1,hcLight:a.xL1},l.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),R=(0,a.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},l.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),J=(0,a.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},l.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Q=new n.uy("hasWordHighlights",!1);function U(S,he,Ce,ge){const pe=S.ordered(he);return(0,O.Ps)(pe.map(ee=>()=>Promise.resolve(ee.provideDocumentHighlights(he,Ce,ge)).then(void 0,D.Cp)),r.Of)}class K{constructor(he,Ce,ge){this._model=he,this._selection=Ce,this._wordSeparators=ge,this._wordRange=this._getCurrentWordRange(he,Ce),this._result=null}get result(){return this._result||(this._result=(0,O.PG)(he=>this._compute(this._model,this._selection,this._wordSeparators,he))),this._result}_getCurrentWordRange(he,Ce){const ge=he.getWordAtPosition(Ce.getPosition());return ge?new P.e(Ce.startLineNumber,ge.startColumn,Ce.startLineNumber,ge.endColumn):null}isValid(he,Ce,ge){const pe=Ce.startLineNumber,ee=Ce.startColumn,se=Ce.endColumn,ne=this._getCurrentWordRange(he,Ce);let oe=Boolean(this._wordRange&&this._wordRange.equalsRange(ne));for(let Se=0,Ee=ge.length;!oe&&Se<Ee;Se++){const Me=ge.getRange(Se);Me&&Me.startLineNumber===pe&&Me.startColumn<=ee&&Me.endColumn>=se&&(oe=!0)}return oe}cancel(){this.result.cancel()}}class H extends K{constructor(he,Ce,ge,pe){super(he,Ce,ge),this._providers=pe}_compute(he,Ce,ge,pe){return U(this._providers,he,Ce.getPosition(),pe).then(ee=>ee||[])}}class X extends K{constructor(he,Ce,ge){super(he,Ce,ge),this._selectionIsEmpty=Ce.isEmpty()}_compute(he,Ce,ge,pe){return(0,O.Vs)(250,pe).then(()=>{if(!Ce.isEmpty())return[];const ee=he.getWordAtPosition(Ce.getPosition());return!ee||ee.word.length>1e3?[]:he.findMatches(ee.word,!0,!1,!0,ge,!1).map(ne=>({range:ne.range,kind:p.MY.Text}))})}isValid(he,Ce,ge){const pe=Ce.isEmpty();return this._selectionIsEmpty!==pe?!1:super.isValid(he,Ce,ge)}}function j(S,he,Ce,ge){return S.has(he)?new H(he,Ce,ge,S):new X(he,Ce,ge)}(0,M.sb)("_executeDocumentHighlights",(S,he,Ce)=>{const ge=S.get(f.p);return U(ge.documentHighlightProvider,he,Ce,V.T.None)});class x{constructor(he,Ce,ge){this.toUnhook=new $.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=he,this.providers=Ce,this._hasWordHighlights=Q.bindTo(ge),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(74),this.model=this.editor.getModel(),this.toUnhook.add(he.onDidChangeCursorPosition(pe=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(pe)})),this.toUnhook.add(he.onDidChangeModelContent(pe=>{this._stopAll()})),this.toUnhook.add(he.onDidChangeConfiguration(pe=>{const ee=this.editor.getOption(74);this.occurrencesHighlight!==ee&&(this.occurrencesHighlight=ee,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(P.e.compareRangesUsingStarts)}moveNext(){const he=this._getSortedHighlights(),ge=(he.findIndex(ee=>ee.containsPosition(this.editor.getPosition()))+1)%he.length,pe=he[ge];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(pe.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(pe);const ee=this._getWord();if(ee){const se=this.editor.getModel().getLineContent(pe.startLineNumber);(0,w.Z9)(`${se}, ${ge+1} of ${he.length} for '${ee.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const he=this._getSortedHighlights(),ge=(he.findIndex(ee=>ee.containsPosition(this.editor.getPosition()))-1+he.length)%he.length,pe=he[ge];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(pe.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(pe);const ee=this._getWord();if(ee){const se=this.editor.getModel().getLineContent(pe.startLineNumber);(0,w.Z9)(`${se}, ${ge+1} of ${he.length} for '${ee.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(he){if(!this.occurrencesHighlight){this._stopAll();return}if(he.reason!==3){this._stopAll();return}this._run()}_getWord(){const he=this.editor.getSelection(),Ce=he.startLineNumber,ge=he.startColumn;return this.model.getWordAtPosition({lineNumber:Ce,column:ge})}_run(){const he=this.editor.getSelection();if(he.startLineNumber!==he.endLineNumber){this._stopAll();return}const Ce=he.startColumn,ge=he.endColumn,pe=this._getWord();if(!pe||pe.startColumn>Ce||pe.endColumn<ge){this._stopAll();return}const ee=this.workerRequest&&this.workerRequest.isValid(this.model,he,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),ee)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const se=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=j(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(119)),this.workerRequest.result.then(ne=>{se===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=ne||[],this._beginRenderDecorations())},D.dL)}}_beginRenderDecorations(){const he=new Date().getTime(),Ce=this.lastCursorPositionChangeTime+250;he>=Ce?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},Ce-he)}renderDecorations(){this.renderDecorationsTimer=-1;const he=[];for(const Ce of this.workerRequestValue)Ce.range&&he.push({range:Ce.range,options:x._getDecorationOptions(Ce.kind)});this.decorations.set(he),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(he){return he===p.MY.Write?this._WRITE_OPTIONS:he===p.MY.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}x._WRITE_OPTIONS=c.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,g.EN)(J),position:L.sh.Center},minimap:{color:(0,g.EN)(a.IYc),position:L.F5.Inline}}),x._TEXT_OPTIONS=c.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,g.EN)(a.SPM),position:L.sh.Center},minimap:{color:(0,g.EN)(a.IYc),position:L.F5.Inline}}),x._REGULAR_OPTIONS=c.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,g.EN)(R),position:L.sh.Center},minimap:{color:(0,g.EN)(a.IYc),position:L.F5.Inline}});let Z=class sd extends $.JT{constructor(he,Ce,ge){super(),this.wordHighlighter=null;const pe=()=>{he.hasModel()&&(this.wordHighlighter=new x(he,ge.documentHighlightProvider,Ce))};this._register(he.onDidChangeModel(ee=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),pe()})),pe()}static get(he){return he.getContribution(sd.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(he){this.wordHighlighter&&he&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};Z.ID="editor.contrib.wordHighlighter",Z=C([y(1,n.i6),y(2,f.p)],Z);class T extends M.R6{constructor(he,Ce){super(Ce),this._isNext=he}run(he,Ce){const ge=Z.get(Ce);!ge||(this._isNext?ge.moveNext():ge.moveBack())}}class z extends T{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:l.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:Q,kbOpts:{kbExpr:A.u.editorTextFocus,primary:65,weight:100}})}}class G extends T{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:l.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:Q,kbOpts:{kbExpr:A.u.editorTextFocus,primary:1089,weight:100}})}}class re extends M.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:l.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:Q.toNegated(),kbOpts:{kbExpr:A.u.editorTextFocus,primary:0,weight:100}})}run(he,Ce,ge){const pe=Z.get(Ce);!pe||pe.restoreViewState(!0)}}(0,M._K)(Z.ID,Z),(0,M.Qr)(z),(0,M.Qr)(G),(0,M.Qr)(re),(0,g.Ic)((S,he)=>{const Ce=S.getColor(a.Rzx);Ce&&(he.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${Ce}; }`),he.addRule(`.monaco-editor .selectionHighlight { background-color: ${Ce.transparent(.5)}; }`));const ge=S.getColor(b);ge&&he.addRule(`.monaco-editor .wordHighlight { background-color: ${ge}; }`);const pe=S.getColor(_);pe&&he.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${pe}; }`);const ee=S.getColor(a.g_n);ee&&he.addRule(`.monaco-editor .selectionHighlight { border: 1px ${(0,u.c3)(S.type)?"dotted":"solid"} ${ee}; box-sizing: border-box; }`);const se=S.getColor(E);se&&he.addRule(`.monaco-editor .wordHighlight { border: 1px ${(0,u.c3)(S.type)?"dashed":"solid"} ${se}; box-sizing: border-box; }`);const ne=S.getColor(I);ne&&he.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${(0,u.c3)(S.type)?"dashed":"solid"} ${ne}; box-sizing: border-box; }`)})},37181:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{CursorWordAccessibilityLeft:function(){return R},CursorWordAccessibilityLeftSelect:function(){return J},CursorWordAccessibilityRight:function(){return x},CursorWordAccessibilityRightSelect:function(){return Z},CursorWordEndLeft:function(){return y},CursorWordEndLeftSelect:function(){return E},CursorWordEndRight:function(){return U},CursorWordEndRightSelect:function(){return X},CursorWordLeft:function(){return b},CursorWordLeftSelect:function(){return I},CursorWordRight:function(){return K},CursorWordRightSelect:function(){return j},CursorWordStartLeft:function(){return C},CursorWordStartLeftSelect:function(){return _},CursorWordStartRight:function(){return Q},CursorWordStartRightSelect:function(){return H},DeleteInsideWord:function(){return ee},DeleteWordCommand:function(){return T},DeleteWordEndLeft:function(){return S},DeleteWordEndRight:function(){return ge},DeleteWordLeft:function(){return he},DeleteWordLeftCommand:function(){return z},DeleteWordRight:function(){return pe},DeleteWordRightCommand:function(){return G},DeleteWordStartLeft:function(){return re},DeleteWordStartRight:function(){return Ce},MoveWordCommand:function(){return g},WordLeftCommand:function(){return f},WordRightCommand:function(){return u}});var w=i(16830),r=i(61329),O=i(64141),V=i(55343),D=i(92896),$=i(24929),M=i(50187),P=i(24314),A=i(3860),L=i(29102),c=i(51381),p=i(63580),l=i(31106),n=i(16141),a=i(39282);class g extends w._l{constructor(ne){super(ne),this._inSelectionMode=ne.inSelectionMode,this._wordNavigationType=ne.wordNavigationType}runEditorCommand(ne,oe,Se){if(!oe.hasModel())return;const Ee=(0,$.u)(oe.getOption(119)),Me=oe.getModel(),le=oe.getSelections().map(ie=>{const ve=new M.L(ie.positionLineNumber,ie.positionColumn),xe=this._move(Ee,Me,ve,this._wordNavigationType);return this._moveTo(ie,xe,this._inSelectionMode)});if(Me.pushStackElement(),oe._getViewModel().setCursorStates("moveWordCommand",3,le.map(ie=>V.Vi.fromModelSelection(ie))),le.length===1){const ie=new M.L(le[0].positionLineNumber,le[0].positionColumn);oe.revealPosition(ie,0)}}_moveTo(ne,oe,Se){return Se?new A.Y(ne.selectionStartLineNumber,ne.selectionStartColumn,oe.lineNumber,oe.column):new A.Y(oe.lineNumber,oe.column,oe.lineNumber,oe.column)}}class f extends g{_move(ne,oe,Se,Ee){return D.w.moveWordLeft(ne,oe,Se,Ee)}}class u extends g{_move(ne,oe,Se,Ee){return D.w.moveWordRight(ne,oe,Se,Ee)}}class C extends f{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class y extends f{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class b extends f{constructor(){var ne;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(L.u.textInputFocus,(ne=n.Ao.and(l.U,a.cv))===null||ne===void 0?void 0:ne.negate()),primary:2063,mac:{primary:527},weight:100}})}}class _ extends f{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class E extends f{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class I extends f{constructor(){var ne;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(L.u.textInputFocus,(ne=n.Ao.and(l.U,a.cv))===null||ne===void 0?void 0:ne.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class R extends f{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(ne,oe,Se,Ee){return super._move((0,$.u)(O.BH.wordSeparators.defaultValue),oe,Se,Ee)}}class J extends f{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(ne,oe,Se,Ee){return super._move((0,$.u)(O.BH.wordSeparators.defaultValue),oe,Se,Ee)}}class Q extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class U extends u{constructor(){var ne;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(L.u.textInputFocus,(ne=n.Ao.and(l.U,a.cv))===null||ne===void 0?void 0:ne.negate()),primary:2065,mac:{primary:529},weight:100}})}}class K extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class H extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class X extends u{constructor(){var ne;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:n.Ao.and(L.u.textInputFocus,(ne=n.Ao.and(l.U,a.cv))===null||ne===void 0?void 0:ne.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class j extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class x extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(ne,oe,Se,Ee){return super._move((0,$.u)(O.BH.wordSeparators.defaultValue),oe,Se,Ee)}}class Z extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(ne,oe,Se,Ee){return super._move((0,$.u)(O.BH.wordSeparators.defaultValue),oe,Se,Ee)}}class T extends w._l{constructor(ne){super(ne),this._whitespaceHeuristics=ne.whitespaceHeuristics,this._wordNavigationType=ne.wordNavigationType}runEditorCommand(ne,oe,Se){const Ee=ne.get(c.c_);if(!oe.hasModel())return;const Me=(0,$.u)(oe.getOption(119)),ye=oe.getModel(),le=oe.getSelections(),ie=oe.getOption(5),ve=oe.getOption(8),xe=Ee.getLanguageConfiguration(ye.getLanguageId()).getAutoClosingPairs(),Ye=oe._getViewModel(),at=le.map(qe=>{const Re=this._delete({wordSeparators:Me,model:ye,selection:qe,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:oe.getOption(6),autoClosingBrackets:ie,autoClosingQuotes:ve,autoClosingPairs:xe,autoClosedCharacters:Ye.getCursorAutoClosedCharacters()},this._wordNavigationType);return new r.T4(Re,"")});oe.pushUndoStop(),oe.executeCommands(this.id,at),oe.pushUndoStop()}}class z extends T{_delete(ne,oe){const Se=D.w.deleteWordLeft(ne,oe);return Se||new P.e(1,1,1,1)}}class G extends T{_delete(ne,oe){const Se=D.w.deleteWordRight(ne,oe);if(Se)return Se;const Ee=ne.model.getLineCount(),Me=ne.model.getLineMaxColumn(Ee);return new P.e(Ee,Me,Ee,Me)}}class re extends z{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:L.u.writable})}}class S extends z{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:L.u.writable})}}class he extends z{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:L.u.writable,kbOpts:{kbExpr:L.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class Ce extends G{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:L.u.writable})}}class ge extends G{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:L.u.writable})}}class pe extends G{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:L.u.writable,kbOpts:{kbExpr:L.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class ee extends w.R6{constructor(){super({id:"deleteInsideWord",precondition:L.u.writable,label:p.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(ne,oe,Se){if(!oe.hasModel())return;const Ee=(0,$.u)(oe.getOption(119)),Me=oe.getModel(),le=oe.getSelections().map(ie=>{const ve=D.w.deleteInsideWord(Ee,Me,ie);return new r.T4(ve,"")});oe.pushUndoStop(),oe.executeCommands(this.id,le),oe.pushUndoStop()}}(0,w.fK)(new C),(0,w.fK)(new y),(0,w.fK)(new b),(0,w.fK)(new _),(0,w.fK)(new E),(0,w.fK)(new I),(0,w.fK)(new Q),(0,w.fK)(new U),(0,w.fK)(new K),(0,w.fK)(new H),(0,w.fK)(new X),(0,w.fK)(new j),(0,w.fK)(new R),(0,w.fK)(new J),(0,w.fK)(new x),(0,w.fK)(new Z),(0,w.fK)(new re),(0,w.fK)(new S),(0,w.fK)(new he),(0,w.fK)(new Ce),(0,w.fK)(new ge),(0,w.fK)(new pe),(0,w.Qr)(ee)},86709:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{CursorWordPartLeft:function(){return L},CursorWordPartLeftSelect:function(){return c},CursorWordPartRight:function(){return l},CursorWordPartRightSelect:function(){return n},DeleteWordPartLeft:function(){return M},DeleteWordPartRight:function(){return P},WordPartLeftCommand:function(){return A},WordPartRightCommand:function(){return p}});var w=i(16830),r=i(92896),O=i(24314),V=i(29102),D=i(37181),$=i(94565);class M extends D.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:V.u.writable,kbOpts:{kbExpr:V.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(g,f){const u=r.L.deleteWordPartLeft(g);return u||new O.e(1,1,1,1)}}class P extends D.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:V.u.writable,kbOpts:{kbExpr:V.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(g,f){const u=r.L.deleteWordPartRight(g);if(u)return u;const C=g.model.getLineCount(),y=g.model.getLineMaxColumn(C);return new O.e(C,y,C,y)}}class A extends D.MoveWordCommand{_move(g,f,u,C){return r.L.moveWordPartLeft(g,f,u)}}class L extends A{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:V.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}$.P0.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class c extends A{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:V.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}$.P0.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class p extends D.MoveWordCommand{_move(g,f,u,C){return r.L.moveWordPartRight(g,f,u)}}class l extends p{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:V.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class n extends p{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:V.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,w.fK)(new M),(0,w.fK)(new P),(0,w.fK)(new L),(0,w.fK)(new c),(0,w.fK)(new l),(0,w.fK)(new n)},84938:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{CancellationTokenSource:function(){return Eh},Emitter:function(){return Ih},KeyCode:function(){return Nh},KeyMod:function(){return xh},MarkerSeverity:function(){return Ph},MarkerTag:function(){return Oh},Position:function(){return Mh},Range:function(){return Th},Selection:function(){return Ah},SelectionDirection:function(){return Rh},Token:function(){return Fh},Uri:function(){return kh},editor:function(){return Bh},languages:function(){return Wh}});var w=i(64141),r=i(71050),O=i(4669),V=i(22258),D=i(70666),$=i(50187),M=i(24314),P=i(3860),A=i(96887),L=i(70902);class c{static chord(t,s){return(0,V.gx)(t,s)}}c.CtrlCmd=2048,c.Shift=1024,c.Alt=512,c.WinCtrl=256;function p(){return{editor:void 0,languages:void 0,CancellationTokenSource:r.A,Emitter:O.Q5,KeyCode:L.VD,KeyMod:c,Position:$.L,Range:M.e,Selection:P.Y,SelectionDirection:L.a$,MarkerSeverity:L.ZL,MarkerTag:L.eB,Uri:D.o,Token:A.WU}}var l=i(97295),n=i(27231),a=i(11640),g=i(35146),f=i(9917),u=i(36248);const C={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class y extends f.JT{constructor(t,s={}){super(),this._onDidUpdate=this._register(new O.Q5),this._editor=t,this._options=u.jB(s,C,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(m=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(m=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(t){this.ranges=[],t&&t.forEach(s=>{!this._options.ignoreCharChanges&&s.charChanges?s.charChanges.forEach(m=>{this.ranges.push({rhs:!0,range:new M.e(m.modifiedStartLineNumber,m.modifiedStartColumn,m.modifiedEndLineNumber,m.modifiedEndColumn)})}):s.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new M.e(s.modifiedStartLineNumber,1,s.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new M.e(s.modifiedStartLineNumber,1,s.modifiedEndLineNumber+1,1)})}),this.ranges.sort((s,m)=>M.e.compareRangesUsingStarts(s.range,m.range)),this._onDidUpdate.fire(this)}_initIdx(t){let s=!1;const m=this._editor.getPosition();if(!m){this.nextIdx=0;return}for(let W=0,q=this.ranges.length;W<q&&!s;W++){const ae=this.ranges[W].range;m.isBeforeOrEqual(ae.getStartPosition())&&(this.nextIdx=W+(t?0:-1),s=!0)}s||(this.nextIdx=t?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(t,s){if(g.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(t):t?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const m=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const W=m.range.getStartPosition();this._editor.setPosition(W),this._editor.revealRangeInCenter(m.range,s)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(t=0){this._move(!0,t)}previous(t=0){this._move(!1,t)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}var b=i(27374),_=i(96518),E=i(84973),I=i(51381),R=i(276),J=i(72042),Q=i(73733),U=i(15393),K=i(17301),H=i(1432),X=i(98401);const j="$initialize";let x=!1;function Z(ue){!H.$L||(x||(x=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(ue.message))}class T{constructor(t,s,m,W){this.vsWorker=t,this.req=s,this.method=m,this.args=W,this.type=0}}class z{constructor(t,s,m,W){this.vsWorker=t,this.seq=s,this.res=m,this.err=W,this.type=1}}class G{constructor(t,s,m,W){this.vsWorker=t,this.req=s,this.eventName=m,this.arg=W,this.type=2}}class re{constructor(t,s,m){this.vsWorker=t,this.req=s,this.event=m,this.type=3}}class S{constructor(t,s){this.vsWorker=t,this.req=s,this.type=4}}class he{constructor(t){this._workerId=-1,this._handler=t,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(t){this._workerId=t}sendMessage(t,s){const m=String(++this._lastSentReq);return new Promise((W,q)=>{this._pendingReplies[m]={resolve:W,reject:q},this._send(new T(this._workerId,m,t,s))})}listen(t,s){let m=null;const W=new O.Q5({onFirstListenerAdd:()=>{m=String(++this._lastSentReq),this._pendingEmitters.set(m,W),this._send(new G(this._workerId,m,t,s))},onLastListenerRemove:()=>{this._pendingEmitters.delete(m),this._send(new S(this._workerId,m)),m=null}});return W.event}handleMessage(t){!t||!t.vsWorker||this._workerId!==-1&&t.vsWorker!==this._workerId||this._handleMessage(t)}_handleMessage(t){switch(t.type){case 1:return this._handleReplyMessage(t);case 0:return this._handleRequestMessage(t);case 2:return this._handleSubscribeEventMessage(t);case 3:return this._handleEventMessage(t);case 4:return this._handleUnsubscribeEventMessage(t)}}_handleReplyMessage(t){if(!this._pendingReplies[t.seq]){console.warn("Got reply to unknown seq");return}const s=this._pendingReplies[t.seq];if(delete this._pendingReplies[t.seq],t.err){let m=t.err;t.err.$isError&&(m=new Error,m.name=t.err.name,m.message=t.err.message,m.stack=t.err.stack),s.reject(m);return}s.resolve(t.res)}_handleRequestMessage(t){const s=t.req;this._handler.handleMessage(t.method,t.args).then(W=>{this._send(new z(this._workerId,s,W,void 0))},W=>{W.detail instanceof Error&&(W.detail=(0,K.ri)(W.detail)),this._send(new z(this._workerId,s,void 0,(0,K.ri)(W)))})}_handleSubscribeEventMessage(t){const s=t.req,m=this._handler.handleEvent(t.eventName,t.arg)(W=>{this._send(new re(this._workerId,s,W))});this._pendingEvents.set(s,m)}_handleEventMessage(t){if(!this._pendingEmitters.has(t.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(t.req).fire(t.event)}_handleUnsubscribeEventMessage(t){if(!this._pendingEvents.has(t.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(t.req).dispose(),this._pendingEvents.delete(t.req)}_send(t){const s=[];if(t.type===0)for(let m=0;m<t.args.length;m++)t.args[m]instanceof ArrayBuffer&&s.push(t.args[m]);else t.type===1&&t.res instanceof ArrayBuffer&&s.push(t.res);this._handler.sendMessage(t,s)}}class Ce extends f.JT{constructor(t,s,m){super();let W=null;this._worker=this._register(t.create("vs/base/common/worker/simpleWorker",Ze=>{this._protocol.handleMessage(Ze)},Ze=>{W==null||W(Ze)})),this._protocol=new he({sendMessage:(Ze,it)=>{this._worker.postMessage(Ze,it)},handleMessage:(Ze,it)=>{if(typeof m[Ze]!="function")return Promise.reject(new Error("Missing method "+Ze+" on main thread host."));try{return Promise.resolve(m[Ze].apply(m,it))}catch(Ct){return Promise.reject(Ct)}},handleEvent:(Ze,it)=>{if(pe(Ze)){const Ct=m[Ze].call(m,it);if(typeof Ct!="function")throw new Error(`Missing dynamic event ${Ze} on main thread host.`);return Ct}if(ge(Ze)){const Ct=m[Ze];if(typeof Ct!="function")throw new Error(`Missing event ${Ze} on main thread host.`);return Ct}throw new Error(`Malformed event name ${Ze}`)}}),this._protocol.setWorkerId(this._worker.getId());let q=null;typeof H.li.require<"u"&&typeof H.li.require.getConfig=="function"?q=H.li.require.getConfig():typeof H.li.requirejs<"u"&&(q=H.li.requirejs.s.contexts._.config);const ae=X.$E(m);this._onModuleLoaded=this._protocol.sendMessage(j,[this._worker.getId(),JSON.parse(JSON.stringify(q)),s,ae]);const fe=(Ze,it)=>this._request(Ze,it),ke=(Ze,it)=>this._protocol.listen(Ze,it);this._lazyProxy=new Promise((Ze,it)=>{W=it,this._onModuleLoaded.then(Ct=>{Ze(ee(Ct,fe,ke))},Ct=>{it(Ct),this._onError("Worker failed to load "+s,Ct)})})}getProxyObject(){return this._lazyProxy}_request(t,s){return new Promise((m,W)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(t,s).then(m,W)},W)})}_onError(t,s){console.error(t),console.info(s)}}function ge(ue){return ue[0]==="o"&&ue[1]==="n"&&l.df(ue.charCodeAt(2))}function pe(ue){return/^onDynamic/.test(ue)&&l.df(ue.charCodeAt(9))}function ee(ue,t,s){const m=ae=>function(){const fe=Array.prototype.slice.call(arguments,0);return t(ae,fe)},W=ae=>function(fe){return s(ae,fe)},q={};for(const ae of ue){if(pe(ae)){q[ae]=W(ae);continue}if(ge(ae)){q[ae]=s(ae,void 0);continue}q[ae]=m(ae)}return q}class se{constructor(t,s){this._requestHandlerFactory=s,this._requestHandler=null,this._protocol=new he({sendMessage:(m,W)=>{t(m,W)},handleMessage:(m,W)=>this._handleMessage(m,W),handleEvent:(m,W)=>this._handleEvent(m,W)})}onmessage(t){this._protocol.handleMessage(t)}_handleMessage(t,s){if(t===j)return this.initialize(s[0],s[1],s[2],s[3]);if(!this._requestHandler||typeof this._requestHandler[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._requestHandler[t].apply(this._requestHandler,s))}catch(m){return Promise.reject(m)}}_handleEvent(t,s){if(!this._requestHandler)throw new Error("Missing requestHandler");if(pe(t)){const m=this._requestHandler[t].call(this._requestHandler,s);if(typeof m!="function")throw new Error(`Missing dynamic event ${t} on request handler.`);return m}if(ge(t)){const m=this._requestHandler[t];if(typeof m!="function")throw new Error(`Missing event ${t} on request handler.`);return m}throw new Error(`Malformed event name ${t}`)}initialize(t,s,m,W){this._protocol.setWorkerId(t);const fe=ee(W,(ke,Ze)=>this._protocol.sendMessage(ke,Ze),(ke,Ze)=>this._protocol.listen(ke,Ze));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(fe),Promise.resolve(types.getAllMethodNames(this._requestHandler))):(s&&(typeof s.baseUrl<"u"&&delete s.baseUrl,typeof s.paths<"u"&&typeof s.paths.vs<"u"&&delete s.paths.vs,typeof s.trustedTypesPolicy!==void 0&&delete s.trustedTypesPolicy,s.catchError=!0,globals.require.config(s)),new Promise((ke,Ze)=>{const it=globals.require;it([m],Ct=>{if(this._requestHandler=Ct.create(fe),!this._requestHandler){Ze(new Error("No RequestHandler!"));return}ke(types.getAllMethodNames(this._requestHandler))},Ze)}))}}function ne(ue){return new se(ue,null)}var oe;const Se=(oe=window.trustedTypes)===null||oe===void 0?void 0:oe.createPolicy("defaultWorkerFactory",{createScriptURL:ue=>ue});function Ee(ue){if(H.li.MonacoEnvironment){if(typeof H.li.MonacoEnvironment.getWorker=="function")return H.li.MonacoEnvironment.getWorker("workerMain.js",ue);if(typeof H.li.MonacoEnvironment.getWorkerUrl=="function"){const t=H.li.MonacoEnvironment.getWorkerUrl("workerMain.js",ue);return new Worker(Se?Se.createScriptURL(t):t,{name:ue})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function Me(ue){return typeof ue.then=="function"}class ye{constructor(t,s,m,W,q){this.id=s;const ae=Ee(m);Me(ae)?this.worker=ae:this.worker=Promise.resolve(ae),this.postMessage(t,[]),this.worker.then(fe=>{fe.onmessage=function(ke){W(ke.data)},fe.onmessageerror=q,typeof fe.addEventListener=="function"&&fe.addEventListener("error",q)})}getId(){return this.id}postMessage(t,s){var m;(m=this.worker)===null||m===void 0||m.then(W=>W.postMessage(t,s))}dispose(){var t;(t=this.worker)===null||t===void 0||t.then(s=>s.terminate()),this.worker=null}}class le{constructor(t){this._label=t,this._webWorkerFailedBeforeError=!1}create(t,s,m){const W=++le.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new ye(t,W,this._label||"anonymous"+W,s,q=>{Z(q),this._webWorkerFailedBeforeError=q,m(q)})}}le.LAST_WORKER_ID=0;var ie=i(2484);const ve=3;function xe(ue,t,s,m){return new ie.Hs(ue,t,s).ComputeDiff(m)}class Ye{constructor(t){const s=[],m=[];for(let W=0,q=t.length;W<q;W++)s[W]=et(t[W],1),m[W]=we(t[W],1);this.lines=t,this._startColumns=s,this._endColumns=m}getElements(){const t=[];for(let s=0,m=this.lines.length;s<m;s++)t[s]=this.lines[s].substring(this._startColumns[s]-1,this._endColumns[s]-1);return t}getStrictElement(t){return this.lines[t]}getStartLineNumber(t){return t+1}getEndLineNumber(t){return t+1}createCharSequence(t,s,m){const W=[],q=[],ae=[];let fe=0;for(let ke=s;ke<=m;ke++){const Ze=this.lines[ke],it=t?this._startColumns[ke]:1,Ct=t?this._endColumns[ke]:Ze.length+1;for(let ti=it;ti<Ct;ti++)W[fe]=Ze.charCodeAt(ti-1),q[fe]=ke+1,ae[fe]=ti,fe++;!t&&ke<m&&(W[fe]=10,q[fe]=ke+1,ae[fe]=Ze.length+1,fe++)}return new at(W,q,ae)}}class at{constructor(t,s,m){this._charCodes=t,this._lineNumbers=s,this._columns=m}toString(){return"["+this._charCodes.map((t,s)=>(t===10?"\\n":String.fromCharCode(t))+`-(${this._lineNumbers[s]},${this._columns[s]})`).join(", ")+"]"}_assertIndex(t,s){if(t<0||t>=s.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(t){return t>0&&t===this._lineNumbers.length?this.getEndLineNumber(t-1):(this._assertIndex(t,this._lineNumbers),this._lineNumbers[t])}getEndLineNumber(t){return t===-1?this.getStartLineNumber(t+1):(this._assertIndex(t,this._lineNumbers),this._charCodes[t]===10?this._lineNumbers[t]+1:this._lineNumbers[t])}getStartColumn(t){return t>0&&t===this._columns.length?this.getEndColumn(t-1):(this._assertIndex(t,this._columns),this._columns[t])}getEndColumn(t){return t===-1?this.getStartColumn(t+1):(this._assertIndex(t,this._columns),this._charCodes[t]===10?1:this._columns[t]+1)}}class qe{constructor(t,s,m,W,q,ae,fe,ke){this.originalStartLineNumber=t,this.originalStartColumn=s,this.originalEndLineNumber=m,this.originalEndColumn=W,this.modifiedStartLineNumber=q,this.modifiedStartColumn=ae,this.modifiedEndLineNumber=fe,this.modifiedEndColumn=ke}static createFromDiffChange(t,s,m){const W=s.getStartLineNumber(t.originalStart),q=s.getStartColumn(t.originalStart),ae=s.getEndLineNumber(t.originalStart+t.originalLength-1),fe=s.getEndColumn(t.originalStart+t.originalLength-1),ke=m.getStartLineNumber(t.modifiedStart),Ze=m.getStartColumn(t.modifiedStart),it=m.getEndLineNumber(t.modifiedStart+t.modifiedLength-1),Ct=m.getEndColumn(t.modifiedStart+t.modifiedLength-1);return new qe(W,q,ae,fe,ke,Ze,it,Ct)}}function Re(ue){if(ue.length<=1)return ue;const t=[ue[0]];let s=t[0];for(let m=1,W=ue.length;m<W;m++){const q=ue[m],ae=q.originalStart-(s.originalStart+s.originalLength),fe=q.modifiedStart-(s.modifiedStart+s.modifiedLength);Math.min(ae,fe)<ve?(s.originalLength=q.originalStart+q.originalLength-s.originalStart,s.modifiedLength=q.modifiedStart+q.modifiedLength-s.modifiedStart):(t.push(q),s=q)}return t}class Je{constructor(t,s,m,W,q){this.originalStartLineNumber=t,this.originalEndLineNumber=s,this.modifiedStartLineNumber=m,this.modifiedEndLineNumber=W,this.charChanges=q}static createFromDiffResult(t,s,m,W,q,ae,fe){let ke,Ze,it,Ct,ti;if(s.originalLength===0?(ke=m.getStartLineNumber(s.originalStart)-1,Ze=0):(ke=m.getStartLineNumber(s.originalStart),Ze=m.getEndLineNumber(s.originalStart+s.originalLength-1)),s.modifiedLength===0?(it=W.getStartLineNumber(s.modifiedStart)-1,Ct=0):(it=W.getStartLineNumber(s.modifiedStart),Ct=W.getEndLineNumber(s.modifiedStart+s.modifiedLength-1)),ae&&s.originalLength>0&&s.originalLength<20&&s.modifiedLength>0&&s.modifiedLength<20&&q()){const ri=m.createCharSequence(t,s.originalStart,s.originalStart+s.originalLength-1),hi=W.createCharSequence(t,s.modifiedStart,s.modifiedStart+s.modifiedLength-1);if(ri.getElements().length>0&&hi.getElements().length>0){let Di=xe(ri,hi,q,!0).changes;fe&&(Di=Re(Di)),ti=[];for(let ki=0,Qi=Di.length;ki<Qi;ki++)ti.push(qe.createFromDiffChange(Di[ki],ri,hi))}}return new Je(ke,Ze,it,Ct,ti)}}class st{constructor(t,s,m){this.shouldComputeCharChanges=m.shouldComputeCharChanges,this.shouldPostProcessCharChanges=m.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=m.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=m.shouldMakePrettyDiff,this.originalLines=t,this.modifiedLines=s,this.original=new Ye(t),this.modified=new Ye(s),this.continueLineDiff=Ne(m.maxComputationTime),this.continueCharDiff=Ne(m.maxComputationTime===0?0:Math.min(m.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const t=xe(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),s=t.changes,m=t.quitEarly;if(this.shouldIgnoreTrimWhitespace){const fe=[];for(let ke=0,Ze=s.length;ke<Ze;ke++)fe.push(Je.createFromDiffResult(this.shouldIgnoreTrimWhitespace,s[ke],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:m,changes:fe}}const W=[];let q=0,ae=0;for(let fe=-1,ke=s.length;fe<ke;fe++){const Ze=fe+1<ke?s[fe+1]:null,it=Ze?Ze.originalStart:this.originalLines.length,Ct=Ze?Ze.modifiedStart:this.modifiedLines.length;for(;q<it&&ae<Ct;){const ti=this.originalLines[q],ri=this.modifiedLines[ae];if(ti!==ri){{let hi=et(ti,1),Di=et(ri,1);for(;hi>1&&Di>1;){const ki=ti.charCodeAt(hi-2),Qi=ri.charCodeAt(Di-2);if(ki!==Qi)break;hi--,Di--}(hi>1||Di>1)&&this._pushTrimWhitespaceCharChange(W,q+1,1,hi,ae+1,1,Di)}{let hi=we(ti,1),Di=we(ri,1);const ki=ti.length+1,Qi=ri.length+1;for(;hi<ki&&Di<Qi;){const rn=ti.charCodeAt(hi-1),Ki=ti.charCodeAt(Di-1);if(rn!==Ki)break;hi++,Di++}(hi<ki||Di<Qi)&&this._pushTrimWhitespaceCharChange(W,q+1,hi,ki,ae+1,Di,Qi)}}q++,ae++}Ze&&(W.push(Je.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Ze,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),q+=Ze.originalLength,ae+=Ze.modifiedLength)}return{quitEarly:m,changes:W}}_pushTrimWhitespaceCharChange(t,s,m,W,q,ae,fe){if(this._mergeTrimWhitespaceCharChange(t,s,m,W,q,ae,fe))return;let ke;this.shouldComputeCharChanges&&(ke=[new qe(s,m,s,W,q,ae,q,fe)]),t.push(new Je(s,s,q,q,ke))}_mergeTrimWhitespaceCharChange(t,s,m,W,q,ae,fe){const ke=t.length;if(ke===0)return!1;const Ze=t[ke-1];return Ze.originalEndLineNumber===0||Ze.modifiedEndLineNumber===0?!1:Ze.originalEndLineNumber+1===s&&Ze.modifiedEndLineNumber+1===q?(Ze.originalEndLineNumber=s,Ze.modifiedEndLineNumber=q,this.shouldComputeCharChanges&&Ze.charChanges&&Ze.charChanges.push(new qe(s,m,s,W,q,ae,q,fe)),!0):!1}}function et(ue,t){const s=l.LC(ue);return s===-1?t:s+1}function we(ue,t){const s=l.ow(ue);return s===-1?t:s+2}function Ne(ue){if(ue===0)return()=>!0;const t=Date.now();return()=>Date.now()-t<ue}var de=i(90310);class Pe{constructor(t,s,m,W){this._uri=t,this._lines=s,this._eol=m,this._versionId=W,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(t){t.eol&&t.eol!==this._eol&&(this._eol=t.eol,this._lineStarts=null);const s=t.changes;for(const m of s)this._acceptDeleteRange(m.range),this._acceptInsertText(new $.L(m.range.startLineNumber,m.range.startColumn),m.text);this._versionId=t.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const t=this._eol.length,s=this._lines.length,m=new Uint32Array(s);for(let W=0;W<s;W++)m[W]=this._lines[W].length+t;this._lineStarts=new de.oQ(m)}}_setLineText(t,s){this._lines[t]=s,this._lineStarts&&this._lineStarts.setValue(t,this._lines[t].length+this._eol.length)}_acceptDeleteRange(t){if(t.startLineNumber===t.endLineNumber){if(t.startColumn===t.endColumn)return;this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.startLineNumber-1].substring(t.endColumn-1));return}this._setLineText(t.startLineNumber-1,this._lines[t.startLineNumber-1].substring(0,t.startColumn-1)+this._lines[t.endLineNumber-1].substring(t.endColumn-1)),this._lines.splice(t.startLineNumber,t.endLineNumber-t.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(t.startLineNumber,t.endLineNumber-t.startLineNumber)}_acceptInsertText(t,s){if(s.length===0)return;const m=(0,l.uq)(s);if(m.length===1){this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+m[0]+this._lines[t.lineNumber-1].substring(t.column-1));return}m[m.length-1]+=this._lines[t.lineNumber-1].substring(t.column-1),this._setLineText(t.lineNumber-1,this._lines[t.lineNumber-1].substring(0,t.column-1)+m[0]);const W=new Uint32Array(m.length-1);for(let q=1;q<m.length;q++)this._lines.splice(t.lineNumber+q-1,0,m[q]),W[q-1]=m[q].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(t.lineNumber,W)}}var He=i(270),$e=i(44906);class me{constructor(t,s,m){const W=new Uint8Array(t*s);for(let q=0,ae=t*s;q<ae;q++)W[q]=m;this._data=W,this.rows=t,this.cols=s}get(t,s){return this._data[t*this.cols+s]}set(t,s,m){this._data[t*this.cols+s]=m}}class Ie{constructor(t){let s=0,m=0;for(let q=0,ae=t.length;q<ae;q++){const[fe,ke,Ze]=t[q];ke>s&&(s=ke),fe>m&&(m=fe),Ze>m&&(m=Ze)}s++,m++;const W=new me(m,s,0);for(let q=0,ae=t.length;q<ae;q++){const[fe,ke,Ze]=t[q];W.set(fe,ke,Ze)}this._states=W,this._maxCharCode=s}nextState(t,s){return s<0||s>=this._maxCharCode?0:this._states.get(t,s)}}let Ge=null;function ft(){return Ge===null&&(Ge=new Ie([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Ge}let ze=null;function mt(){if(ze===null){ze=new $e.N(0);const ue=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let s=0;s<ue.length;s++)ze.set(ue.charCodeAt(s),1);const t=".,;:";for(let s=0;s<t.length;s++)ze.set(t.charCodeAt(s),2)}return ze}class wt{static _createLink(t,s,m,W,q){let ae=q-1;do{const fe=s.charCodeAt(ae);if(t.get(fe)!==2)break;ae--}while(ae>W);if(W>0){const fe=s.charCodeAt(W-1),ke=s.charCodeAt(ae);(fe===40&&ke===41||fe===91&&ke===93||fe===123&&ke===125)&&ae--}return{range:{startLineNumber:m,startColumn:W+1,endLineNumber:m,endColumn:ae+2},url:s.substring(W,ae+1)}}static computeLinks(t,s=ft()){const m=mt(),W=[];for(let q=1,ae=t.getLineCount();q<=ae;q++){const fe=t.getLineContent(q),ke=fe.length;let Ze=0,it=0,Ct=0,ti=1,ri=!1,hi=!1,Di=!1,ki=!1;for(;Ze<ke;){let Qi=!1;const rn=fe.charCodeAt(Ze);if(ti===13){let Ki;switch(rn){case 40:ri=!0,Ki=0;break;case 41:Ki=ri?0:1;break;case 91:Di=!0,hi=!0,Ki=0;break;case 93:Di=!1,Ki=hi?0:1;break;case 123:ki=!0,Ki=0;break;case 125:Ki=ki?0:1;break;case 39:Ki=Ct===39?1:0;break;case 34:Ki=Ct===34?1:0;break;case 96:Ki=Ct===96?1:0;break;case 42:Ki=Ct===42?1:0;break;case 124:Ki=Ct===124?1:0;break;case 32:Ki=Di?0:1;break;default:Ki=m.get(rn)}Ki===1&&(W.push(wt._createLink(m,fe,q,it,Ze)),Qi=!0)}else if(ti===12){let Ki;rn===91?(hi=!0,Ki=0):Ki=m.get(rn),Ki===1?Qi=!0:ti=13}else ti=s.nextState(ti,rn),ti===0&&(Qi=!0);Qi&&(ti=1,ri=!1,hi=!1,ki=!1,it=Ze+1,Ct=rn),Ze++}ti===13&&W.push(wt._createLink(m,fe,q,it,ke))}return W}}function Oe(ue){return!ue||typeof ue.getLineCount!="function"||typeof ue.getLineContent!="function"?[]:wt.computeLinks(ue)}class lt{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(t,s,m,W,q){if(t&&s){const ae=this.doNavigateValueSet(s,q);if(ae)return{range:t,value:ae}}if(m&&W){const ae=this.doNavigateValueSet(W,q);if(ae)return{range:m,value:ae}}return null}doNavigateValueSet(t,s){const m=this.numberReplace(t,s);return m!==null?m:this.textReplace(t,s)}numberReplace(t,s){const m=Math.pow(10,t.length-(t.lastIndexOf(".")+1));let W=Number(t);const q=parseFloat(t);return!isNaN(W)&&!isNaN(q)&&W===q?W===0&&!s?null:(W=Math.floor(W*m),W+=s?m:-m,String(W/m)):null}textReplace(t,s){return this.valueSetsReplace(this._defaultValueSet,t,s)}valueSetsReplace(t,s,m){let W=null;for(let q=0,ae=t.length;W===null&&q<ae;q++)W=this.valueSetReplace(t[q],s,m);return W}valueSetReplace(t,s,m){let W=t.indexOf(s);return W>=0?(W+=m?1:-1,W<0?W=t.length-1:W%=t.length,t[W]):null}}lt.INSTANCE=new lt;var Bt=i(84013),Zt=i(31446),pi=function(ue,t,s,m){function W(q){return q instanceof s?q:new s(function(ae){ae(q)})}return new(s||(s=Promise))(function(q,ae){function fe(it){try{Ze(m.next(it))}catch(Ct){ae(Ct)}}function ke(it){try{Ze(m.throw(it))}catch(Ct){ae(Ct)}}function Ze(it){it.done?q(it.value):W(it.value).then(fe,ke)}Ze((m=m.apply(ue,t||[])).next())})};class Li extends Pe{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(t){return this._lines[t-1]}getWordAtPosition(t,s){const m=(0,He.t2)(t.column,(0,He.eq)(s),this._lines[t.lineNumber-1],0);return m?new M.e(t.lineNumber,m.startColumn,t.lineNumber,m.endColumn):null}words(t){const s=this._lines,m=this._wordenize.bind(this);let W=0,q="",ae=0,fe=[];return{*[Symbol.iterator](){for(;;)if(ae<fe.length){const ke=q.substring(fe[ae].start,fe[ae].end);ae+=1,yield ke}else if(W<s.length)q=s[W],fe=m(q,t),ae=0,W+=1;else break}}}getLineWords(t,s){const m=this._lines[t-1],W=this._wordenize(m,s),q=[];for(const ae of W)q.push({word:m.substring(ae.start,ae.end),startColumn:ae.start+1,endColumn:ae.end+1});return q}_wordenize(t,s){const m=[];let W;for(s.lastIndex=0;(W=s.exec(t))&&W[0].length!==0;)m.push({start:W.index,end:W.index+W[0].length});return m}getValueInRange(t){if(t=this._validateRange(t),t.startLineNumber===t.endLineNumber)return this._lines[t.startLineNumber-1].substring(t.startColumn-1,t.endColumn-1);const s=this._eol,m=t.startLineNumber-1,W=t.endLineNumber-1,q=[];q.push(this._lines[m].substring(t.startColumn-1));for(let ae=m+1;ae<W;ae++)q.push(this._lines[ae]);return q.push(this._lines[W].substring(0,t.endColumn-1)),q.join(s)}offsetAt(t){return t=this._validatePosition(t),this._ensureLineStarts(),this._lineStarts.getPrefixSum(t.lineNumber-2)+(t.column-1)}positionAt(t){t=Math.floor(t),t=Math.max(0,t),this._ensureLineStarts();const s=this._lineStarts.getIndexOf(t),m=this._lines[s.index].length;return{lineNumber:1+s.index,column:1+Math.min(s.remainder,m)}}_validateRange(t){const s=this._validatePosition({lineNumber:t.startLineNumber,column:t.startColumn}),m=this._validatePosition({lineNumber:t.endLineNumber,column:t.endColumn});return s.lineNumber!==t.startLineNumber||s.column!==t.startColumn||m.lineNumber!==t.endLineNumber||m.column!==t.endColumn?{startLineNumber:s.lineNumber,startColumn:s.column,endLineNumber:m.lineNumber,endColumn:m.column}:t}_validatePosition(t){if(!$.L.isIPosition(t))throw new Error("bad position");let{lineNumber:s,column:m}=t,W=!1;if(s<1)s=1,m=1,W=!0;else if(s>this._lines.length)s=this._lines.length,m=this._lines[s-1].length+1,W=!0;else{const q=this._lines[s-1].length+1;m<1?(m=1,W=!0):m>q&&(m=q,W=!0)}return W?{lineNumber:s,column:m}:t}}class ot{constructor(t,s){this._host=t,this._models=Object.create(null),this._foreignModuleFactory=s,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(t){return this._models[t]}_getModels(){const t=[];return Object.keys(this._models).forEach(s=>t.push(this._models[s])),t}acceptNewModel(t){this._models[t.url]=new Li(D.o.parse(t.url),t.lines,t.EOL,t.versionId)}acceptModelChanged(t,s){if(!this._models[t])return;this._models[t].onEvents(s)}acceptRemovedModel(t){!this._models[t]||delete this._models[t]}computeUnicodeHighlights(t,s,m){return pi(this,void 0,void 0,function*(){const W=this._getModel(t);return W?Zt.a.computeUnicodeHighlights(W,s,m):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(t,s,m,W){return pi(this,void 0,void 0,function*(){const q=this._getModel(t),ae=this._getModel(s);return!q||!ae?null:ot.computeDiff(q,ae,m,W)})}static computeDiff(t,s,m,W){const q=t.getLinesContent(),ae=s.getLinesContent(),ke=new st(q,ae,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:m,shouldMakePrettyDiff:!0,maxComputationTime:W}).computeDiff(),Ze=ke.changes.length>0?!1:this._modelsAreIdentical(t,s);return{quitEarly:ke.quitEarly,identical:Ze,changes:ke.changes}}static _modelsAreIdentical(t,s){const m=t.getLineCount(),W=s.getLineCount();if(m!==W)return!1;for(let q=1;q<=m;q++){const ae=t.getLineContent(q),fe=s.getLineContent(q);if(ae!==fe)return!1}return!0}computeMoreMinimalEdits(t,s){return pi(this,void 0,void 0,function*(){const m=this._getModel(t);if(!m)return s;const W=[];let q;s=s.slice(0).sort((ae,fe)=>{if(ae.range&&fe.range)return M.e.compareRangesUsingStarts(ae.range,fe.range);const ke=ae.range?0:1,Ze=fe.range?0:1;return ke-Ze});for(let{range:ae,text:fe,eol:ke}of s){if(typeof ke=="number"&&(q=ke),M.e.isEmpty(ae)&&!fe)continue;const Ze=m.getValueInRange(ae);if(fe=fe.replace(/\r\n|\n|\r/g,m.eol),Ze===fe)continue;if(Math.max(fe.length,Ze.length)>ot._diffLimit){W.push({range:ae,text:fe});continue}const it=(0,ie.a$)(Ze,fe,!1),Ct=m.offsetAt(M.e.lift(ae).getStartPosition());for(const ti of it){const ri=m.positionAt(Ct+ti.originalStart),hi=m.positionAt(Ct+ti.originalStart+ti.originalLength),Di={text:fe.substr(ti.modifiedStart,ti.modifiedLength),range:{startLineNumber:ri.lineNumber,startColumn:ri.column,endLineNumber:hi.lineNumber,endColumn:hi.column}};m.getValueInRange(Di.range)!==Di.text&&W.push(Di)}}return typeof q=="number"&&W.push({eol:q,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),W})}computeLinks(t){return pi(this,void 0,void 0,function*(){const s=this._getModel(t);return s?Oe(s):null})}textualSuggest(t,s,m,W){return pi(this,void 0,void 0,function*(){const q=new Bt.G(!0),ae=new RegExp(m,W),fe=new Set;e:for(const ke of t){const Ze=this._getModel(ke);if(!!Ze){for(const it of Ze.words(ae))if(!(it===s||!isNaN(Number(it)))&&(fe.add(it),fe.size>ot._suggestionsLimit))break e}}return{words:Array.from(fe),duration:q.elapsed()}})}computeWordRanges(t,s,m,W){return pi(this,void 0,void 0,function*(){const q=this._getModel(t);if(!q)return Object.create(null);const ae=new RegExp(m,W),fe=Object.create(null);for(let ke=s.startLineNumber;ke<s.endLineNumber;ke++){const Ze=q.getLineWords(ke,ae);for(const it of Ze){if(!isNaN(Number(it.word)))continue;let Ct=fe[it.word];Ct||(Ct=[],fe[it.word]=Ct),Ct.push({startLineNumber:ke,startColumn:it.startColumn,endLineNumber:ke,endColumn:it.endColumn})}}return fe})}navigateValueSet(t,s,m,W,q){return pi(this,void 0,void 0,function*(){const ae=this._getModel(t);if(!ae)return null;const fe=new RegExp(W,q);s.startColumn===s.endColumn&&(s={startLineNumber:s.startLineNumber,startColumn:s.startColumn,endLineNumber:s.endLineNumber,endColumn:s.endColumn+1});const ke=ae.getValueInRange(s),Ze=ae.getWordAtPosition({lineNumber:s.startLineNumber,column:s.startColumn},fe);if(!Ze)return null;const it=ae.getValueInRange(Ze);return lt.INSTANCE.navigateValueSet(s,ke,Ze,it,m)})}loadForeignModule(t,s,m){const W=(fe,ke)=>this._host.fhr(fe,ke),ae={host:X.IU(m,W),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(ae,s),Promise.resolve(X.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(t,s){if(!this._foreignModule||typeof this._foreignModule[t]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+t));try{return Promise.resolve(this._foreignModule[t].apply(this._foreignModule,s))}catch(m){return Promise.reject(m)}}}ot._diffLimit=1e5,ot._suggestionsLimit=1e4;function Ft(ue){return new ot(ue,null)}typeof importScripts=="function"&&(H.li.monaco=p());var Yt=i(71765),_i=i(9488),Ci=i(43557),bi=i(71922),ai=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},Mt=function(ue,t){return function(s,m){t(s,m,ue)}},Ut=function(ue,t,s,m){function W(q){return q instanceof s?q:new s(function(ae){ae(q)})}return new(s||(s=Promise))(function(q,ae){function fe(it){try{Ze(m.next(it))}catch(Ct){ae(Ct)}}function ke(it){try{Ze(m.throw(it))}catch(Ct){ae(Ct)}}function Ze(it){it.done?q(it.value):W(it.value).then(fe,ke)}Ze((m=m.apply(ue,t||[])).next())})};const vt=60*1e3,_t=5*60*1e3;function nt(ue,t){const s=ue.getModel(t);return!(!s||s.isTooLargeForSyncing())}let be=class extends f.JT{constructor(t,s,m,W,q){super(),this._modelService=t,this._workerManager=this._register(new Qe(this._modelService,W)),this._logService=m,this._register(q.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(ae,fe)=>nt(this._modelService,ae.uri)?this._workerManager.withWorker().then(ke=>ke.computeLinks(ae.uri)).then(ke=>ke&&{links:ke}):Promise.resolve({links:[]})})),this._register(q.completionProvider.register("*",new Le(this._workerManager,s,this._modelService,W)))}dispose(){super.dispose()}canComputeUnicodeHighlights(t){return nt(this._modelService,t)}computedUnicodeHighlights(t,s,m){return this._workerManager.withWorker().then(W=>W.computedUnicodeHighlights(t,s,m))}computeDiff(t,s,m,W){return this._workerManager.withWorker().then(q=>q.computeDiff(t,s,m,W))}computeMoreMinimalEdits(t,s){if((0,_i.Of)(s)){if(!nt(this._modelService,t))return Promise.resolve(s);const m=Bt.G.create(!0),W=this._workerManager.withWorker().then(q=>q.computeMoreMinimalEdits(t,s));return W.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",t.toString(!0),m.elapsed())),Promise.race([W,(0,U.Vs)(1e3).then(()=>s)])}else return Promise.resolve(void 0)}canNavigateValueSet(t){return nt(this._modelService,t)}navigateValueSet(t,s,m){return this._workerManager.withWorker().then(W=>W.navigateValueSet(t,s,m))}canComputeWordRanges(t){return nt(this._modelService,t)}computeWordRanges(t,s){return this._workerManager.withWorker().then(m=>m.computeWordRanges(t,s))}};be=ai([Mt(0,Q.q),Mt(1,Yt.V),Mt(2,Ci.VZ),Mt(3,I.c_),Mt(4,bi.p)],be);class Le{constructor(t,s,m,W){this.languageConfigurationService=W,this._debugDisplayName="wordbasedCompletions",this._workerManager=t,this._configurationService=s,this._modelService=m}provideCompletionItems(t,s){return Ut(this,void 0,void 0,function*(){const m=this._configurationService.getValue(t.uri,s,"editor");if(!m.wordBasedSuggestions)return;const W=[];if(m.wordBasedSuggestionsMode==="currentDocument")nt(this._modelService,t.uri)&&W.push(t.uri);else for(const Ct of this._modelService.getModels())!nt(this._modelService,Ct.uri)||(Ct===t?W.unshift(Ct.uri):(m.wordBasedSuggestionsMode==="allDocuments"||Ct.getLanguageId()===t.getLanguageId())&&W.push(Ct.uri));if(W.length===0)return;const q=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition(),ae=t.getWordAtPosition(s),fe=ae?new M.e(s.lineNumber,ae.startColumn,s.lineNumber,ae.endColumn):M.e.fromPositions(s),ke=fe.setEndPosition(s.lineNumber,s.column),it=yield(yield this._workerManager.withWorker()).textualSuggest(W,ae==null?void 0:ae.word,q);if(!!it)return{duration:it.duration,suggestions:it.words.map(Ct=>({kind:18,label:Ct,insertText:Ct,range:{insert:ke,replace:fe}}))}})}}class Qe extends f.JT{constructor(t,s){super(),this.languageConfigurationService=s,this._modelService=t,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new U.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(_t/2)),this._register(this._modelService.onModelRemoved(W=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>_t&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Dt(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class je extends f.JT{constructor(t,s,m){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=t,this._modelService=s,!m){const W=new U.zh;W.cancelAndSet(()=>this._checkStopModelSync(),Math.round(vt/2)),this._register(W)}}dispose(){for(const t in this._syncedModels)(0,f.B9)(this._syncedModels[t]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(t,s){for(const m of t){const W=m.toString();this._syncedModels[W]||this._beginModelSync(m,s),this._syncedModels[W]&&(this._syncedModelsLastUsedTime[W]=new Date().getTime())}}_checkStopModelSync(){const t=new Date().getTime(),s=[];for(const m in this._syncedModelsLastUsedTime)t-this._syncedModelsLastUsedTime[m]>vt&&s.push(m);for(const m of s)this._stopModelSync(m)}_beginModelSync(t,s){const m=this._modelService.getModel(t);if(!m||!s&&m.isTooLargeForSyncing())return;const W=t.toString();this._proxy.acceptNewModel({url:m.uri.toString(),lines:m.getLinesContent(),EOL:m.getEOL(),versionId:m.getVersionId()});const q=new f.SL;q.add(m.onDidChangeContent(ae=>{this._proxy.acceptModelChanged(W.toString(),ae)})),q.add(m.onWillDispose(()=>{this._stopModelSync(W)})),q.add((0,f.OF)(()=>{this._proxy.acceptRemovedModel(W)})),this._syncedModels[W]=q}_stopModelSync(t){const s=this._syncedModels[t];delete this._syncedModels[t],delete this._syncedModelsLastUsedTime[t],(0,f.B9)(s)}}class ht{constructor(t){this._instance=t,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class bt{constructor(t){this._workerClient=t}fhr(t,s){return this._workerClient.fhr(t,s)}}class Dt extends f.JT{constructor(t,s,m,W){super(),this.languageConfigurationService=W,this._disposed=!1,this._modelService=t,this._keepIdleModels=s,this._workerFactory=new le(m),this._worker=null,this._modelManager=null}fhr(t,s){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new Ce(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new bt(this)))}catch(t){Z(t),this._worker=new ht(new ot(new bt(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,t=>(Z(t),this._worker=new ht(new ot(new bt(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(t){return this._modelManager||(this._modelManager=this._register(new je(t,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(t,s=!1){return Ut(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,K.F0)()):this._getProxy().then(m=>(this._getOrCreateModelManager(m).ensureSyncedResources(t,s),m))})}computedUnicodeHighlights(t,s,m){return this._withSyncedResources([t]).then(W=>W.computeUnicodeHighlights(t.toString(),s,m))}computeDiff(t,s,m,W){return this._withSyncedResources([t,s],!0).then(q=>q.computeDiff(t.toString(),s.toString(),m,W))}computeMoreMinimalEdits(t,s){return this._withSyncedResources([t]).then(m=>m.computeMoreMinimalEdits(t.toString(),s))}computeLinks(t){return this._withSyncedResources([t]).then(s=>s.computeLinks(t.toString()))}textualSuggest(t,s,m){return Ut(this,void 0,void 0,function*(){const W=yield this._withSyncedResources(t),q=m.source,ae=(0,l.mr)(m);return W.textualSuggest(t.map(fe=>fe.toString()),s,q,ae)})}computeWordRanges(t,s){return this._withSyncedResources([t]).then(m=>{const W=this._modelService.getModel(t);if(!W)return Promise.resolve(null);const q=this.languageConfigurationService.getLanguageConfiguration(W.getLanguageId()).getWordDefinition(),ae=q.source,fe=(0,l.mr)(q);return m.computeWordRanges(t.toString(),s,ae,fe)})}navigateValueSet(t,s,m){return this._withSyncedResources([t]).then(W=>{const q=this._modelService.getModel(t);if(!q)return null;const ae=this.languageConfigurationService.getLanguageConfiguration(q.getLanguageId()).getWordDefinition(),fe=ae.source,ke=(0,l.mr)(ae);return W.navigateValueSet(t.toString(),s,m,fe,ke)})}dispose(){super.dispose(),this._disposed=!0}}function Ht(ue,t,s){return new ei(ue,t,s)}class ei extends Dt{constructor(t,s,m){super(t,m.keepIdleModels||!1,m.label,s),this._foreignModuleId=m.moduleId,this._foreignModuleCreateData=m.createData||null,this._foreignModuleHost=m.host||null,this._foreignProxy=null}fhr(t,s){if(!this._foreignModuleHost||typeof this._foreignModuleHost[t]!="function")return Promise.reject(new Error("Missing method "+t+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[t].apply(this._foreignModuleHost,s))}catch(m){return Promise.reject(m)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(t=>{const s=this._foreignModuleHost?X.$E(this._foreignModuleHost):[];return t.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,s).then(m=>{this._foreignModuleCreateData=null;const W=(fe,ke)=>t.fmr(fe,ke),q=(fe,ke)=>function(){const Ze=Array.prototype.slice.call(arguments,0);return ke(fe,Ze)},ae={};for(const fe of m)ae[fe]=q(fe,W);return ae})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(t){return this._withSyncedResources(t).then(s=>this.getProxy())}}var ui=i(77378),xi=i(91557),Si=i(73621);function mi(ue){return Array.isArray(ue)}function mn(ue){return!mi(ue)}function Mi(ue){return typeof ue=="string"}function fn(ue){return!Mi(ue)}function Fi(ue){return!ue}function Ni(ue,t){return ue.ignoreCase&&t?t.toLowerCase():t}function Dn(ue){return ue.replace(/[&<>'"_]/g,"-")}function Tn(ue,t){console.log(`${ue.languageId}: ${t}`)}function $i(ue,t){return new Error(`${ue.languageId}: ${t}`)}function pn(ue,t,s,m,W){const q=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let ae=null;return t.replace(q,function(fe,ke,Ze,it,Ct,ti,ri,hi,Di){return Fi(Ze)?Fi(it)?!Fi(Ct)&&Ct<m.length?Ni(ue,m[Ct]):!Fi(ri)&&ue&&typeof ue[ri]=="string"?ue[ri]:(ae===null&&(ae=W.split("."),ae.unshift(W)),!Fi(ti)&&ti<ae.length?Ni(ue,ae[ti]):""):Ni(ue,s):"$"})}function Sn(ue,t){let s=t;for(;s&&s.length>0;){const m=ue.tokenizer[s];if(m)return m;const W=s.lastIndexOf(".");W<0?s=null:s=s.substr(0,W)}return null}function wn(ue,t){let s=t;for(;s&&s.length>0;){if(ue.stateNames[s])return!0;const W=s.lastIndexOf(".");W<0?s=null:s=s.substr(0,W)}return!1}var li=i(33108),Ke=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},Rt=function(ue,t){return function(s,m){t(s,m,ue)}};const At=5;class ni{constructor(t){this._maxCacheDepth=t,this._entries=Object.create(null)}static create(t,s){return this._INSTANCE.create(t,s)}create(t,s){if(t!==null&&t.depth>=this._maxCacheDepth)return new ii(t,s);let m=ii.getStackElementId(t);m.length>0&&(m+="|"),m+=s;let W=this._entries[m];return W||(W=new ii(t,s),this._entries[m]=W,W)}}ni._INSTANCE=new ni(At);class ii{constructor(t,s){this.parent=t,this.state=s,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(t){let s="";for(;t!==null;)s.length>0&&(s+="|"),s+=t.state,t=t.parent;return s}static _equals(t,s){for(;t!==null&&s!==null;){if(t===s)return!0;if(t.state!==s.state)return!1;t=t.parent,s=s.parent}return t===null&&s===null}equals(t){return ii._equals(this,t)}push(t){return ni.create(this,t)}pop(){return this.parent}popall(){let t=this;for(;t.parent;)t=t.parent;return t}switchTo(t){return ni.create(this.parent,t)}}class xt{constructor(t,s){this.languageId=t,this.state=s}equals(t){return this.languageId===t.languageId&&this.state.equals(t.state)}clone(){return this.state.clone()===this.state?this:new xt(this.languageId,this.state)}}class Ve{constructor(t){this._maxCacheDepth=t,this._entries=Object.create(null)}static create(t,s){return this._INSTANCE.create(t,s)}create(t,s){if(s!==null)return new dt(t,s);if(t!==null&&t.depth>=this._maxCacheDepth)return new dt(t,s);const m=ii.getStackElementId(t);let W=this._entries[m];return W||(W=new dt(t,null),this._entries[m]=W,W)}}Ve._INSTANCE=new Ve(At);class dt{constructor(t,s){this.stack=t,this.embeddedLanguageData=s}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:Ve.create(this.stack,this.embeddedLanguageData)}equals(t){return!(t instanceof dt)||!this.stack.equals(t.stack)?!1:this.embeddedLanguageData===null&&t.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||t.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(t.embeddedLanguageData)}}class Tt{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(t){this._languageId=t}emit(t,s){this._lastTokenType===s&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=s,this._lastTokenLanguage=this._languageId,this._tokens.push(new A.WU(t,s,this._languageId)))}nestedLanguageTokenize(t,s,m,W){const q=m.languageId,ae=m.state,fe=A.RW.get(q);if(!fe)return this.enterLanguage(q),this.emit(W,""),ae;const ke=fe.tokenize(t,s,ae);if(W!==0)for(const Ze of ke.tokens)this._tokens.push(new A.WU(Ze.offset+W,Ze.type,Ze.language));else this._tokens=this._tokens.concat(ke.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,ke.endState}finalize(t){return new A.hG(this._tokens,t)}}class jt{constructor(t,s){this._languageService=t,this._theme=s,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(t){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(t)}emit(t,s){const m=this._theme.match(this._currentLanguageId,s);this._lastTokenMetadata!==m&&(this._lastTokenMetadata=m,this._tokens.push(t),this._tokens.push(m))}static _merge(t,s,m){const W=t!==null?t.length:0,q=s.length,ae=m!==null?m.length:0;if(W===0&&q===0&&ae===0)return new Uint32Array(0);if(W===0&&q===0)return m;if(q===0&&ae===0)return t;const fe=new Uint32Array(W+q+ae);t!==null&&fe.set(t);for(let ke=0;ke<q;ke++)fe[W+ke]=s[ke];return m!==null&&fe.set(m,W+q),fe}nestedLanguageTokenize(t,s,m,W){const q=m.languageId,ae=m.state,fe=A.RW.get(q);if(!fe)return this.enterLanguage(q),this.emit(W,""),ae;const ke=fe.tokenizeEncoded(t,s,ae);if(W!==0)for(let Ze=0,it=ke.tokens.length;Ze<it;Ze+=2)ke.tokens[Ze]+=W;return this._prependTokens=jt._merge(this._prependTokens,this._tokens,ke.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,ke.endState}finalize(t){return new A.DI(jt._merge(this._prependTokens,this._tokens,null),t)}}let $t=class od{constructor(t,s,m,W,q){this._configurationService=q,this._languageService=t,this._standaloneThemeService=s,this._languageId=m,this._lexer=W,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let ae=!1;this._tokenizationRegistryListener=A.RW.onDidChange(fe=>{if(ae)return;let ke=!1;for(let Ze=0,it=fe.changedLanguages.length;Ze<it;Ze++){const Ct=fe.changedLanguages[Ze];if(this._embeddedLanguages[Ct]){ke=!0;break}}ke&&(ae=!0,A.RW.fire([this._languageId]),ae=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(fe=>{fe.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const t=[];for(const s in this._embeddedLanguages){const m=A.RW.get(s);if(m){if(m instanceof od){const W=m.getLoadStatus();W.loaded===!1&&t.push(W.promise)}continue}A.RW.isResolved(s)||t.push(A.RW.getOrCreate(s))}return t.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(t).then(s=>{})}}getInitialState(){const t=ni.create(null,this._lexer.start);return Ve.create(t,null)}tokenize(t,s,m){if(t.length>=this._maxTokenizationLineLength)return(0,R.Ri)(this._languageId,m);const W=new Tt,q=this._tokenize(t,s,m,W);return W.finalize(q)}tokenizeEncoded(t,s,m){if(t.length>=this._maxTokenizationLineLength)return(0,R.Dy)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),m);const W=new jt(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),q=this._tokenize(t,s,m,W);return W.finalize(q)}_tokenize(t,s,m,W){return m.embeddedLanguageData?this._nestedTokenize(t,s,m,0,W):this._myTokenize(t,s,m,0,W)}_findLeavingNestedLanguageOffset(t,s){let m=this._lexer.tokenizer[s.stack.state];if(!m&&(m=Sn(this._lexer,s.stack.state),!m))throw $i(this._lexer,"tokenizer state is not defined: "+s.stack.state);let W=-1,q=!1;for(const ae of m){if(!fn(ae.action)||ae.action.nextEmbedded!=="@pop")continue;q=!0;let fe=ae.regex;const ke=ae.regex.source;if(ke.substr(0,4)==="^(?:"&&ke.substr(ke.length-1,1)===")"){const it=(fe.ignoreCase?"i":"")+(fe.unicode?"u":"");fe=new RegExp(ke.substr(4,ke.length-5),it)}const Ze=t.search(fe);Ze===-1||Ze!==0&&ae.matchOnlyAtLineStart||(W===-1||Ze<W)&&(W=Ze)}if(!q)throw $i(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+s.stack.state);return W}_nestedTokenize(t,s,m,W,q){const ae=this._findLeavingNestedLanguageOffset(t,m);if(ae===-1){const Ze=q.nestedLanguageTokenize(t,s,m.embeddedLanguageData,W);return Ve.create(m.stack,new xt(m.embeddedLanguageData.languageId,Ze))}const fe=t.substring(0,ae);fe.length>0&&q.nestedLanguageTokenize(fe,!1,m.embeddedLanguageData,W);const ke=t.substring(ae);return this._myTokenize(ke,s,m,W+ae,q)}_safeRuleName(t){return t?t.name:"(unknown)"}_myTokenize(t,s,m,W,q){q.enterLanguage(this._languageId);const ae=t.length,fe=s&&this._lexer.includeLF?t+`
`:t,ke=fe.length;let Ze=m.embeddedLanguageData,it=m.stack,Ct=0,ti=null,ri=!0;for(;ri||Ct<ke;){const hi=Ct,Di=it.depth,ki=ti?ti.groups.length:0,Qi=it.state;let rn=null,Ki=null,ji=null,In=null,Cn=null;if(ti){rn=ti.matches;const cn=ti.groups.shift();Ki=cn.matched,ji=cn.action,In=ti.rule,ti.groups.length===0&&(ti=null)}else{if(!ri&&Ct>=ke)break;ri=!1;let cn=this._lexer.tokenizer[Qi];if(!cn&&(cn=Sn(this._lexer,Qi),!cn))throw $i(this._lexer,"tokenizer state is not defined: "+Qi);const qi=fe.substr(Ct);for(const bn of cn)if((Ct===0||!bn.matchOnlyAtLineStart)&&(rn=qi.match(bn.regex),rn)){Ki=rn[0],ji=bn.action;break}}if(rn||(rn=[""],Ki=""),ji||(Ct<ke&&(rn=[fe.charAt(Ct)],Ki=rn[0]),ji=this._lexer.defaultToken),Ki===null)break;for(Ct+=Ki.length;mn(ji)&&fn(ji)&&ji.test;)ji=ji.test(Ki,rn,Qi,Ct===ke);let Ji=null;if(typeof ji=="string"||Array.isArray(ji))Ji=ji;else if(ji.group)Ji=ji.group;else if(ji.token!==null&&ji.token!==void 0){if(ji.tokenSubst?Ji=pn(this._lexer,ji.token,Ki,rn,Qi):Ji=ji.token,ji.nextEmbedded)if(ji.nextEmbedded==="@pop"){if(!Ze)throw $i(this._lexer,"cannot pop embedded language if not inside one");Ze=null}else{if(Ze)throw $i(this._lexer,"cannot enter embedded language from within an embedded language");Cn=pn(this._lexer,ji.nextEmbedded,Ki,rn,Qi)}if(ji.goBack&&(Ct=Math.max(0,Ct-ji.goBack)),ji.switchTo&&typeof ji.switchTo=="string"){let cn=pn(this._lexer,ji.switchTo,Ki,rn,Qi);if(cn[0]==="@"&&(cn=cn.substr(1)),Sn(this._lexer,cn))it=it.switchTo(cn);else throw $i(this._lexer,"trying to switch to a state '"+cn+"' that is undefined in rule: "+this._safeRuleName(In))}else{if(ji.transform&&typeof ji.transform=="function")throw $i(this._lexer,"action.transform not supported");if(ji.next)if(ji.next==="@push"){if(it.depth>=this._lexer.maxStack)throw $i(this._lexer,"maximum tokenizer stack size reached: ["+it.state+","+it.parent.state+",...]");it=it.push(Qi)}else if(ji.next==="@pop"){if(it.depth<=1)throw $i(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(In));it=it.pop()}else if(ji.next==="@popall")it=it.popall();else{let cn=pn(this._lexer,ji.next,Ki,rn,Qi);if(cn[0]==="@"&&(cn=cn.substr(1)),Sn(this._lexer,cn))it=it.push(cn);else throw $i(this._lexer,"trying to set a next state '"+cn+"' that is undefined in rule: "+this._safeRuleName(In))}}ji.log&&typeof ji.log=="string"&&Tn(this._lexer,this._lexer.languageId+": "+pn(this._lexer,ji.log,Ki,rn,Qi))}if(Ji===null)throw $i(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(In));const Hi=cn=>{const qi=this._languageService.getLanguageIdByLanguageName(cn)||this._languageService.getLanguageIdByMimeType(cn)||cn,bn=this._getNestedEmbeddedLanguageData(qi);if(Ct<ke){const Fn=t.substr(Ct);return this._nestedTokenize(Fn,s,Ve.create(it,bn),W+Ct,q)}else return Ve.create(it,bn)};if(Array.isArray(Ji)){if(ti&&ti.groups.length>0)throw $i(this._lexer,"groups cannot be nested: "+this._safeRuleName(In));if(rn.length!==Ji.length+1)throw $i(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(In));let cn=0;for(let qi=1;qi<rn.length;qi++)cn+=rn[qi].length;if(cn!==Ki.length)throw $i(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(In));ti={rule:In,matches:rn,groups:[]};for(let qi=0;qi<Ji.length;qi++)ti.groups[qi]={action:Ji[qi],matched:rn[qi+1]};Ct-=Ki.length;continue}else{if(Ji==="@rematch"&&(Ct-=Ki.length,Ki="",rn=null,Ji="",Cn!==null))return Hi(Cn);if(Ki.length===0){if(ke===0||Di!==it.depth||Qi!==it.state||(ti?ti.groups.length:0)!==ki)continue;throw $i(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(In))}let cn=null;if(Mi(Ji)&&Ji.indexOf("@brackets")===0){const qi=Ji.substr(9),bn=Wt(this._lexer,Ki);if(!bn)throw $i(this._lexer,"@brackets token returned but no bracket defined as: "+Ki);cn=Dn(bn.token+qi)}else{const qi=Ji===""?"":Ji+this._lexer.tokenPostfix;cn=Dn(qi)}hi<ae&&q.emit(hi+W,cn)}if(Cn!==null)return Hi(Cn)}return Ve.create(it,Ze)}_getNestedEmbeddedLanguageData(t){if(!this._languageService.isRegisteredLanguageId(t))return new xt(t,R.TJ);t!==this._languageId&&(A.RW.getOrCreate(t),this._embeddedLanguages[t]=!0);const s=A.RW.get(t);return s?new xt(t,s.getInitialState()):new xt(t,R.TJ)}};$t=Ke([Rt(4,li.Ui)],$t);function Wt(ue,t){if(!t)return null;t=Ni(ue,t);const s=ue.brackets;for(const m of s){if(m.open===t)return{token:m.token,bracketType:1};if(m.close===t)return{token:m.token,bracketType:-1}}return null}var We=function(ue,t,s,m){function W(q){return q instanceof s?q:new s(function(ae){ae(q)})}return new(s||(s=Promise))(function(q,ae){function fe(it){try{Ze(m.next(it))}catch(Ct){ae(Ct)}}function ke(it){try{Ze(m.throw(it))}catch(Ct){ae(Ct)}}function Ze(it){it.done?q(it.value):W(it.value).then(fe,ke)}Ze((m=m.apply(ue,t||[])).next())})},Xe;const ut=(Xe=window.trustedTypes)===null||Xe===void 0?void 0:Xe.createPolicy("standaloneColorizer",{createHTML:ue=>ue});class pt{static colorizeElement(t,s,m,W){W=W||{};const q=W.theme||"vs",ae=W.mimeType||m.getAttribute("lang")||m.getAttribute("data-lang");if(!ae)return console.error("Mode not detected"),Promise.resolve();const fe=s.getLanguageIdByMimeType(ae)||ae;t.setTheme(q);const ke=m.firstChild?m.firstChild.nodeValue:"";m.className+=" "+q;const Ze=it=>{var Ct;const ti=(Ct=ut==null?void 0:ut.createHTML(it))!==null&&Ct!==void 0?Ct:it;m.innerHTML=ti};return this.colorize(s,ke||"",fe,W).then(Ze,it=>console.error(it))}static colorize(t,s,m,W){return We(this,void 0,void 0,function*(){const q=t.languageIdCodec;let ae=4;W&&typeof W.tabSize=="number"&&(ae=W.tabSize),l.uS(s)&&(s=s.substr(1));const fe=l.uq(s);if(!t.isRegisteredLanguageId(m))return Kt(fe,ae,q);const ke=yield A.RW.getOrCreate(m);return ke?kt(fe,ae,ke,q):Kt(fe,ae,q)})}static colorizeLine(t,s,m,W,q=4){const ae=Si.wA.isBasicASCII(t,s),fe=Si.wA.containsRTL(t,ae,m);return(0,xi.tF)(new xi.IJ(!1,!0,t,!1,ae,fe,0,W,[],q,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(t,s,m=4){const W=t.getLineContent(s);t.tokenization.forceTokenization(s);const ae=t.tokenization.getLineTokens(s).inflate();return this.colorizeLine(W,t.mightContainNonBasicASCII(),t.mightContainRTL(),ae,m)}}function kt(ue,t,s,m){return new Promise((W,q)=>{const ae=()=>{const fe=Gt(ue,t,s,m);if(s instanceof $t){const ke=s.getLoadStatus();if(ke.loaded===!1){ke.promise.then(ae,q);return}}W(fe)};ae()})}function Kt(ue,t,s){let m=[];const q=new Uint32Array(2);q[0]=0,q[1]=33587200;for(let ae=0,fe=ue.length;ae<fe;ae++){const ke=ue[ae];q[0]=ke.length;const Ze=new ui.A(q,ke,s),it=Si.wA.isBasicASCII(ke,!0),Ct=Si.wA.containsRTL(ke,it,!0),ti=(0,xi.tF)(new xi.IJ(!1,!0,ke,!1,it,Ct,0,Ze,[],t,0,0,0,0,-1,"none",!1,!1,null));m=m.concat(ti.html),m.push("<br/>")}return m.join("")}function Gt(ue,t,s,m){let W=[],q=s.getInitialState();for(let ae=0,fe=ue.length;ae<fe;ae++){const ke=ue[ae],Ze=s.tokenizeEncoded(ke,!0,q);ui.A.convertToEndOffset(Ze.tokens,ke.length);const it=new ui.A(Ze.tokens,ke,m),Ct=Si.wA.isBasicASCII(ke,!0),ti=Si.wA.containsRTL(ke,Ct,!0),ri=(0,xi.tF)(new xi.IJ(!1,!0,ke,!1,Ct,ti,0,it.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));W=W.concat(ri.html),W.push("<br/>"),q=Ze.endState}return W.join("")}var Ei=i(57924),Oi=i(87493),wi=i(63580),Pt=i(65321),Pi=i(38626),en=i(39218),un=i(52136),hn=i(43407),Gi=i(90317),_n=i(41416),an=i(74741),tn=i(16830),En=i(8625),nn=i(16141),yi=i(73910),oi=i(97781),Ii=i(73046),Vi=i(59554),yn=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},zn=function(ue,t){return function(s,m){t(s,m,ue)}},Bn=function(ue,t,s,m){function W(q){return q instanceof s?q:new s(function(ae){ae(q)})}return new(s||(s=Promise))(function(q,ae){function fe(it){try{Ze(m.next(it))}catch(Ct){ae(Ct)}}function ke(it){try{Ze(m.throw(it))}catch(Ct){ae(Ct)}}function Ze(it){it.done?q(it.value):W(it.value).then(fe,ke)}Ze((m=m.apply(ue,t||[])).next())})},St;const N=3;class F{constructor(t,s,m,W){this.originalLineStart=t,this.originalLineEnd=s,this.modifiedLineStart=m,this.modifiedLineEnd=W}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class d{constructor(t){this.entries=t}}const k=(0,Vi.q5)("diff-review-insert",Ii.lA.add,wi.NC("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),te=(0,Vi.q5)("diff-review-remove",Ii.lA.remove,wi.NC("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),_e=(0,Vi.q5)("diff-review-close",Ii.lA.close,wi.NC("diffReviewCloseIcon","Icon for 'Close' in diff review."));let Ae=class Wo extends f.JT{constructor(t,s){super(),this._languageService=s,this._width=0,this._diffEditor=t,this._isVisible=!1,this.shadow=(0,Pi.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,Pi.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new Gi.o(this.actionBarContainer.domNode)),this._actionBar.push(new an.aU("diffreview.close",wi.NC("label.close","Close"),"close-diff-review "+oi.kS.asClassName(_e),!0,()=>Bn(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,Pi.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,Pi.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new _n.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(t.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(t.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(Pt.mu(this.domNode.domNode,"click",m=>{m.preventDefault();const W=Pt.Fx(m.target,"diff-review-row");W&&this._goToRow(W)})),this._register(Pt.mu(this.domNode.domNode,"keydown",m=>{(m.equals(18)||m.equals(2066)||m.equals(530))&&(m.preventDefault(),this._goToRow(this._getNextRow())),(m.equals(16)||m.equals(2064)||m.equals(528))&&(m.preventDefault(),this._goToRow(this._getPrevRow())),(m.equals(9)||m.equals(2057)||m.equals(521)||m.equals(1033))&&(m.preventDefault(),this.hide()),(m.equals(10)||m.equals(3))&&(m.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let m=-1;for(let W=0,q=this._diffs.length;W<q;W++)if(this._diffs[W]===this._currentDiff){m=W;break}t=this._diffs.length+m-1}else t=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;t=t%this._diffs.length;const s=this._diffs[t].entries;this._diffEditor.setPosition(new $.L(s[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:s[0].modifiedLineStart,endColumn:1073741824,endLineNumber:s[s.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let t=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let m=-1;for(let W=0,q=this._diffs.length;W<q;W++)if(this._diffs[W]===this._currentDiff){m=W;break}t=m+1}else t=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;t=t%this._diffs.length;const s=this._diffs[t].entries;this._diffEditor.setPosition(new $.L(s[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:s[0].modifiedLineStart,endColumn:1073741824,endLineNumber:s[s.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let t=-1;const s=this._getCurrentFocusedRow();if(s){const m=parseInt(s.getAttribute("data-line"),10);isNaN(m)||(t=m)}this.hide(),t!==-1&&(this._diffEditor.setPosition(new $.L(t,1)),this._diffEditor.revealPosition(new $.L(t,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const t=this._getCurrentFocusedRow();return t?t.previousElementSibling?t.previousElementSibling:t:this._getFirstRow()}_getNextRow(){const t=this._getCurrentFocusedRow();return t?t.nextElementSibling?t.nextElementSibling:t:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const t=document.activeElement;return t&&/diff-review-row/.test(t.className)?t:null}_goToRow(t){const s=this._getCurrentFocusedRow();t.tabIndex=0,t.focus(),s&&s!==t&&(s.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(t,s,m){this._width=s,this.shadow.setTop(t-6),this.shadow.setWidth(s),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(t),this.domNode.setWidth(s),this.domNode.setHeight(m),this._content.setHeight(m),this._content.setWidth(s),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const t=this._diffEditor.getLineChanges();if(!t||t.length===0)return[];const s=this._diffEditor.getOriginalEditor().getModel(),m=this._diffEditor.getModifiedEditor().getModel();return!s||!m?[]:Wo._mergeAdjacent(t,s.getLineCount(),m.getLineCount())}static _mergeAdjacent(t,s,m){if(!t||t.length===0)return[];const W=[];let q=0;for(let Ze=0,it=t.length;Ze<it;Ze++){const Ct=t[Ze],ti=Ct.originalStartLineNumber,ri=Ct.originalEndLineNumber,hi=Ct.modifiedStartLineNumber,Di=Ct.modifiedEndLineNumber,ki=[];let Qi=0;{const rn=ri===0?ti:ti-1,Ki=Di===0?hi:hi-1;let ji=1,In=1;if(Ze>0){const Hi=t[Ze-1];Hi.originalEndLineNumber===0?ji=Hi.originalStartLineNumber+1:ji=Hi.originalEndLineNumber+1,Hi.modifiedEndLineNumber===0?In=Hi.modifiedStartLineNumber+1:In=Hi.modifiedEndLineNumber+1}let Cn=rn-N+1,Ji=Ki-N+1;if(Cn<ji){const Hi=ji-Cn;Cn=Cn+Hi,Ji=Ji+Hi}if(Ji<In){const Hi=In-Ji;Cn=Cn+Hi,Ji=Ji+Hi}ki[Qi++]=new F(Cn,rn,Ji,Ki)}ri!==0&&(ki[Qi++]=new F(ti,ri,0,0)),Di!==0&&(ki[Qi++]=new F(0,0,hi,Di));{const rn=ri===0?ti+1:ri+1,Ki=Di===0?hi+1:Di+1;let ji=s,In=m;if(Ze+1<it){const Hi=t[Ze+1];Hi.originalEndLineNumber===0?ji=Hi.originalStartLineNumber:ji=Hi.originalStartLineNumber-1,Hi.modifiedEndLineNumber===0?In=Hi.modifiedStartLineNumber:In=Hi.modifiedStartLineNumber-1}let Cn=rn+N-1,Ji=Ki+N-1;if(Cn>ji){const Hi=ji-Cn;Cn=Cn+Hi,Ji=Ji+Hi}if(Ji>In){const Hi=In-Ji;Cn=Cn+Hi,Ji=Ji+Hi}ki[Qi++]=new F(rn,Cn,Ki,Ji)}W[q++]=new d(ki)}let ae=W[0].entries;const fe=[];let ke=0;for(let Ze=1,it=W.length;Ze<it;Ze++){const Ct=W[Ze].entries,ti=ae[ae.length-1],ri=Ct[0];if(ti.getType()===0&&ri.getType()===0&&ri.originalLineStart<=ti.originalLineEnd){ae[ae.length-1]=new F(ti.originalLineStart,ri.originalLineEnd,ti.modifiedLineStart,ri.modifiedLineEnd),ae=ae.concat(Ct.slice(1));continue}fe[ke++]=new d(ae),ae=Ct}return fe[ke++]=new d(ae),fe}_findDiffIndex(t){const s=t.lineNumber;for(let m=0,W=this._diffs.length;m<W;m++){const q=this._diffs[m].entries,ae=q[q.length-1].modifiedLineEnd;if(s<=ae)return m}return 0}_render(){const t=this._diffEditor.getOriginalEditor().getOptions(),s=this._diffEditor.getModifiedEditor().getOptions(),m=this._diffEditor.getOriginalEditor().getModel(),W=this._diffEditor.getModifiedEditor().getModel(),q=m.getOptions(),ae=W.getOptions();if(!this._isVisible||!m||!W){Pt.PO(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const fe=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[fe]===this._currentDiff)return;this._currentDiff=this._diffs[fe];const ke=this._diffs[fe].entries,Ze=document.createElement("div");Ze.className="diff-review-table",Ze.setAttribute("role","list"),Ze.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,un.N)(Ze,s.get(46));let it=0,Ct=0,ti=0,ri=0;for(let Ji=0,Hi=ke.length;Ji<Hi;Ji++){const cn=ke[Ji],qi=cn.originalLineStart,bn=cn.originalLineEnd,Fn=cn.modifiedLineStart,dn=cn.modifiedLineEnd;qi!==0&&(it===0||qi<it)&&(it=qi),bn!==0&&(Ct===0||bn>Ct)&&(Ct=bn),Fn!==0&&(ti===0||Fn<ti)&&(ti=Fn),dn!==0&&(ri===0||dn>ri)&&(ri=dn)}const hi=document.createElement("div");hi.className="diff-review-row";const Di=document.createElement("div");Di.className="diff-review-cell diff-review-summary";const ki=Ct-it+1,Qi=ri-ti+1;Di.appendChild(document.createTextNode(`${fe+1}/${this._diffs.length}: @@ -${it},${ki} +${ti},${Qi} @@`)),hi.setAttribute("data-line",String(ti));const rn=Ji=>Ji===0?wi.NC("no_lines_changed","no lines changed"):Ji===1?wi.NC("one_line_changed","1 line changed"):wi.NC("more_lines_changed","{0} lines changed",Ji),Ki=rn(ki),ji=rn(Qi);hi.setAttribute("aria-label",wi.NC({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",fe+1,this._diffs.length,it,Ki,ti,ji)),hi.appendChild(Di),hi.setAttribute("role","listitem"),Ze.appendChild(hi);const In=s.get(61);let Cn=ti;for(let Ji=0,Hi=ke.length;Ji<Hi;Ji++){const cn=ke[Ji];Wo._renderSection(Ze,cn,Cn,In,this._width,t,m,q,s,W,ae,this._languageService.languageIdCodec),cn.modifiedLineStart!==0&&(Cn=cn.modifiedLineEnd)}Pt.PO(this._content.domNode),this._content.domNode.appendChild(Ze),this.scrollbar.scanDomNode()}static _renderSection(t,s,m,W,q,ae,fe,ke,Ze,it,Ct,ti){const ri=s.getType();let hi="diff-review-row",Di="";const ki="diff-review-spacer";let Qi=null;switch(ri){case 1:hi="diff-review-row line-insert",Di=" char-insert",Qi=k;break;case 2:hi="diff-review-row line-delete",Di=" char-delete",Qi=te;break}const rn=s.originalLineStart,Ki=s.originalLineEnd,ji=s.modifiedLineStart,In=s.modifiedLineEnd,Cn=Math.max(In-ji,Ki-rn),Ji=ae.get(133),Hi=Ji.glyphMarginWidth+Ji.lineNumbersWidth,cn=Ze.get(133),qi=10+cn.glyphMarginWidth+cn.lineNumbersWidth;for(let bn=0;bn<=Cn;bn++){const Fn=rn===0?0:rn+bn,dn=ji===0?0:ji+bn,Gn=document.createElement("div");Gn.style.minWidth=q+"px",Gn.className=hi,Gn.setAttribute("role","listitem"),dn!==0&&(m=dn),Gn.setAttribute("data-line",String(m));const vs=document.createElement("div");vs.className="diff-review-cell",vs.style.height=`${W}px`,Gn.appendChild(vs);const jn=document.createElement("span");jn.style.width=Hi+"px",jn.style.minWidth=Hi+"px",jn.className="diff-review-line-number"+Di,Fn!==0?jn.appendChild(document.createTextNode(String(Fn))):jn.innerText="\xA0",vs.appendChild(jn);const ys=document.createElement("span");ys.style.width=qi+"px",ys.style.minWidth=qi+"px",ys.style.paddingRight="10px",ys.className="diff-review-line-number"+Di,dn!==0?ys.appendChild(document.createTextNode(String(dn))):ys.innerText="\xA0",vs.appendChild(ys);const Ps=document.createElement("span");if(Ps.className=ki,Qi){const Es=document.createElement("span");Es.className=oi.kS.asClassName(Qi),Es.innerText="\xA0\xA0",Ps.appendChild(Es)}else Ps.innerText="\xA0\xA0";vs.appendChild(Ps);let Us;if(dn!==0){let Es=this._renderLine(it,Ze,Ct.tabSize,dn,ti);Wo._ttPolicy&&(Es=Wo._ttPolicy.createHTML(Es)),vs.insertAdjacentHTML("beforeend",Es),Us=it.getLineContent(dn)}else{let Es=this._renderLine(fe,ae,ke.tabSize,Fn,ti);Wo._ttPolicy&&(Es=Wo._ttPolicy.createHTML(Es)),vs.insertAdjacentHTML("beforeend",Es),Us=fe.getLineContent(Fn)}Us.length===0&&(Us=wi.NC("blankLine","blank"));let Gs="";switch(ri){case 0:Fn===dn?Gs=wi.NC({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",Us,Fn):Gs=wi.NC("equalLine","{0} original line {1} modified line {2}",Us,Fn,dn);break;case 1:Gs=wi.NC("insertLine","+ {0} modified line {1}",Us,dn);break;case 2:Gs=wi.NC("deleteLine","- {0} original line {1}",Us,Fn);break}Gn.setAttribute("aria-label",Gs),t.appendChild(Gn)}}static _renderLine(t,s,m,W,q){const ae=t.getLineContent(W),fe=s.get(46),ke=ui.A.createEmpty(ae,q),Ze=Si.wA.isBasicASCII(ae,t.mightContainNonBasicASCII()),it=Si.wA.containsRTL(ae,Ze,t.mightContainRTL());return(0,xi.tF)(new xi.IJ(fe.isMonospace&&!s.get(29),fe.canUseHalfwidthRightwardsArrow,ae,!1,Ze,it,0,ke,[],m,0,fe.spaceWidth,fe.middotWidth,fe.wsmiddotWidth,s.get(107),s.get(90),s.get(85),s.get(47)!==w.n0.OFF,null)).html}};Ae._ttPolicy=(St=window.trustedTypes)===null||St===void 0?void 0:St.createPolicy("diffReview",{createHTML:ue=>ue}),Ae=yn([zn(1,J.O)],Ae),(0,oi.Ic)((ue,t)=>{const s=ue.getColor(En.hw);s&&t.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${s}; }`);const m=ue.getColor(yi._wn);m&&t.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${m} 0 -6px 6px -6px inset; }`)});class Be extends tn.R6{constructor(){super({id:"editor.action.diffReview.next",label:wi.NC("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:nn.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(t,s){const m=ct(t);m&&m.diffReviewNext()}}class rt extends tn.R6{constructor(){super({id:"editor.action.diffReview.prev",label:wi.NC("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:nn.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(t,s){const m=ct(t);m&&m.diffReviewPrev()}}function ct(ue){const t=ue.get(a.$),s=t.listDiffEditors(),m=t.getActiveCodeEditor();if(!m)return null;for(let W=0,q=s.length;W<q;W++){const ae=s[W];if(ae.getModifiedEditor().getId()===m.getId()||ae.getOriginalEditor().getId()===m.getId())return ae}return null}(0,tn.Qr)(Be),(0,tn.Qr)(rt);var Lt=i(50072),Et=i(92035),Vt=i(85215),Xt=i(30665),Jt=i(92550),Qt=i(72065),di=i(60972),fi=i(59422),Ti=i(5606),ln=function(ue,t,s,m){function W(q){return q instanceof s?q:new s(function(ae){ae(q)})}return new(s||(s=Promise))(function(q,ae){function fe(it){try{Ze(m.next(it))}catch(Ct){ae(Ct)}}function ke(it){try{Ze(m.throw(it))}catch(Ct){ae(Ct)}}function Ze(it){it.done?q(it.value):W(it.value).then(fe,ke)}Ze((m=m.apply(ue,t||[])).next())})};class An extends f.JT{constructor(t,s,m,W,q,ae){super(),this._viewZoneId=t,this._marginDomNode=s,this.editor=m,this.diff=W,this._contextMenuService=q,this._clipboardService=ae,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=Ii.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const fe=m.getOption(61),ke=m.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${fe}px`,this._diffActions.style.lineHeight=`${fe}px`,this._marginDomNode.appendChild(this._diffActions);const Ze=[],it=W.modifiedEndLineNumber===0;Ze.push(new an.aU("diff.clipboard.copyDeletedContent",it?W.originalEndLineNumber>W.modifiedStartLineNumber?wi.NC("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):wi.NC("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):W.originalEndLineNumber>W.modifiedStartLineNumber?wi.NC("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):wi.NC("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>ln(this,void 0,void 0,function*(){const Di=new M.e(W.originalStartLineNumber,1,W.originalEndLineNumber+1,1),ki=W.originalModel.getValueInRange(Di);yield this._clipboardService.writeText(ki)})));let Ct=0,ti;W.originalEndLineNumber>W.modifiedStartLineNumber&&(ti=new an.aU("diff.clipboard.copyDeletedLineContent",it?wi.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",W.originalStartLineNumber):wi.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",W.originalStartLineNumber),void 0,!0,()=>ln(this,void 0,void 0,function*(){const Di=W.originalModel.getLineContent(W.originalStartLineNumber+Ct);if(Di===""){const ki=W.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(ki===0?`
`:`\r
`)}else yield this._clipboardService.writeText(Di)})),Ze.push(ti)),m.getOption(83)||Ze.push(new an.aU("diff.inline.revertChange",wi.NC("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>ln(this,void 0,void 0,function*(){const Di=new M.e(W.originalStartLineNumber,1,W.originalEndLineNumber,W.originalModel.getLineMaxColumn(W.originalEndLineNumber)),ki=W.originalModel.getValueInRange(Di);if(W.modifiedEndLineNumber===0){const Qi=m.getModel().getLineMaxColumn(W.modifiedStartLineNumber);m.executeEdits("diffEditor",[{range:new M.e(W.modifiedStartLineNumber,Qi,W.modifiedStartLineNumber,Qi),text:ke+ki}])}else{const Qi=m.getModel().getLineMaxColumn(W.modifiedEndLineNumber);m.executeEdits("diffEditor",[{range:new M.e(W.modifiedStartLineNumber,1,W.modifiedEndLineNumber,Qi),text:ki}])}})));const hi=(Di,ki)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:Di,y:ki}),getActions:()=>(ti&&(ti.label=it?wi.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",W.originalStartLineNumber+Ct):wi.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",W.originalStartLineNumber+Ct)),Ze),autoSelectFirstItem:!0})};this._register(Pt.mu(this._diffActions,"mousedown",Di=>{const{top:ki,height:Qi}=Pt.i(this._diffActions),rn=Math.floor(fe/3);Di.preventDefault(),hi(Di.posx,ki+Qi+rn)})),this._register(m.onMouseMove(Di=>{Di.target.type===8||Di.target.type===5?Di.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,Ct=this._updateLightBulbPosition(this._marginDomNode,Di.event.browserEvent.y,fe)):this.visibility=!1:this.visibility=!1})),this._register(m.onMouseDown(Di=>{!Di.event.rightButton||(Di.target.type===8||Di.target.type===5)&&Di.target.detail.viewZoneId===this._viewZoneId&&(Di.event.preventDefault(),Ct=this._updateLightBulbPosition(this._marginDomNode,Di.event.browserEvent.y,fe),hi(Di.event.posx,Di.event.posy+fe))}))}get visibility(){return this._visibility}set visibility(t){this._visibility!==t&&(this._visibility=t,t?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(t,s,m){const{top:W}=Pt.i(t),q=s-W,ae=Math.floor(q/m),fe=ae*m;if(this._diffActions.style.top=`${fe}px`,this.diff.viewLineCounts){let ke=0;for(let Ze=0;Ze<this.diff.viewLineCounts.length;Ze++)if(ke+=this.diff.viewLineCounts[Ze],ae<ke)return Ze}return ae}}var Rn=i(84972),Un=i(90535),Cs=i(45476),Yi=i(58020),Qn=i(92321),bs=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},cs=function(ue,t){return function(s,m){t(s,m,ue)}},ds;class Zs{constructor(t,s){this._contextMenuService=t,this._clipboardService=s,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(t){return t.filter(s=>!this._zonesMap[String(s.id)])}clean(t){this._zones.length>0&&t.changeViewZones(s=>{for(const m of this._zones)s.removeZone(m)}),this._zones=[],this._zonesMap={},t.changeDecorations(s=>{this._decorations=s.deltaDecorations(this._decorations,[])})}apply(t,s,m,W){const q=W?hn.Z.capture(t):null;t.changeViewZones(ae=>{var fe;for(const ke of this._zones)ae.removeZone(ke);for(const ke of this._inlineDiffMargins)ke.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let ke=0,Ze=m.zones.length;ke<Ze;ke++){const it=m.zones[ke];it.suppressMouseDown=!0;const Ct=ae.addZone(it);this._zones.push(Ct),this._zonesMap[String(Ct)]=!0,m.zones[ke].diff&&it.marginDomNode&&(it.suppressMouseDown=!1,((fe=m.zones[ke].diff)===null||fe===void 0?void 0:fe.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new An(Ct,it.marginDomNode,t,m.zones[ke].diff,this._contextMenuService,this._clipboardService)))}}),q==null||q.restore(t),t.changeDecorations(ae=>{this._decorations=ae.deltaDecorations(this._decorations,m.decorations)}),s==null||s.setZones(m.overviewZones)}}let Qs=0;const ao=(0,Vi.q5)("diff-insert",Ii.lA.add,wi.NC("diffInsertIcon","Line decoration for inserts in the diff editor.")),to=(0,Vi.q5)("diff-remove",Ii.lA.remove,wi.NC("diffRemoveIcon","Line decoration for removals in the diff editor.")),Do=(ds=window.trustedTypes)===null||ds===void 0?void 0:ds.createPolicy("diffEditorWidget",{createHTML:ue=>ue});let Is=class os extends f.JT{constructor(t,s,m,W,q,ae,fe,ke,Ze,it,Ct,ti){super(),this._editorProgressService=ti,this._onDidDispose=this._register(new O.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new O.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new O.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=q,this._codeEditorService=ke,this._contextKeyService=this._register(ae.createScoped(t)),this._instantiationService=fe.createChild(new di.y([nn.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Ze,this._notificationService=it,this._id=++Qs,this._state=0,this._updatingDiffProgress=null,this._domElement=t,s=s||{},this._options=Vo(s,{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof s.isInEmbeddedEditor<"u"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",s.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new U.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=os._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,Pi.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(Pt.mu(this._overviewDomElement,Pt.tw.POINTER_DOWN,hi=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(hi)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new Zs(Ct,W),this._modifiedEditorState=new Zs(Ct,W),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Cs.I(this._containerDomElement,s.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),s.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(s,m.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(s,m.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=fe.createInstance(Ae,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new Ns(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new ur(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Ze.onDidColorThemeChange(hi=>{this._strategy&&this._strategy.applyColors(hi)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=os._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const ri=tn.Uc.getDiffEditorContributions();for(const hi of ri)try{this._register(fe.createInstance(hi.ctor,this))}catch(Di){(0,K.dL)(Di)}this._codeEditorService.addDiffEditor(this)}_setState(t){this._state!==t&&(this._state=t,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(t,s){let m="monaco-diff-editor monaco-editor-background ";return s&&(m+="side-by-side "),m+=(0,oi.m6)(t.type),m}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){!this._options.renderOverviewRuler||(g.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(t,s){const m=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(t),s);this._register(m.onDidScrollChange(q=>{this._isHandlingScrollEvent||!q.scrollTopChanged&&!q.scrollLeftChanged&&!q.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:q.scrollLeft,scrollTop:q.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(m.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(m.onDidChangeConfiguration(q=>{!m.getModel()||(q.hasChanged(46)&&this._updateDecorationsRunner.schedule(),q.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(m.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(m.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const W=this._contextKeyService.createKey("isInDiffLeftEditor",m.hasWidgetFocus());return this._register(m.onDidFocusEditorWidget(()=>W.set(!0))),this._register(m.onDidBlurEditorWidget(()=>W.set(!1))),this._register(m.onDidContentSizeChange(q=>{const ae=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+os.ONE_OVERVIEW_WIDTH,fe=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:fe,contentWidth:ae,contentHeightChanged:q.contentHeightChanged,contentWidthChanged:q.contentWidthChanged})})),m}_createRightHandSideEditor(t,s){const m=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t),s);this._register(m.onDidScrollChange(q=>{this._isHandlingScrollEvent||!q.scrollTopChanged&&!q.scrollLeftChanged&&!q.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:q.scrollLeft,scrollTop:q.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(m.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(m.onDidChangeConfiguration(q=>{!m.getModel()||(q.hasChanged(46)&&this._updateDecorationsRunner.schedule(),q.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(m.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(m.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(m.onDidChangeModelOptions(q=>{q.tabSize&&this._updateDecorationsRunner.schedule()}));const W=this._contextKeyService.createKey("isInDiffRightEditor",m.hasWidgetFocus());return this._register(m.onDidFocusEditorWidget(()=>W.set(!0))),this._register(m.onDidBlurEditorWidget(()=>W.set(!1))),this._register(m.onDidContentSizeChange(q=>{const ae=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+os.ONE_OVERVIEW_WIDTH,fe=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:fe,contentWidth:ae,contentHeightChanged:q.contentHeightChanged,contentWidthChanged:q.contentWidthChanged})})),this._register(m.onMouseDown(q=>{var ae,fe;if(!q.event.rightButton&&q.target.position&&((ae=q.target.element)===null||ae===void 0?void 0:ae.className.includes("arrow-revert-change"))){const ke=q.target.position.lineNumber,Ze=(fe=this._diffComputationResult)===null||fe===void 0?void 0:fe.changes.find(it=>it.modifiedStartLineNumber===ke-1||it.modifiedStartLineNumber===ke);Ze&&this.revertChange(Ze),q.event.stopPropagation(),this._updateDecorations();return}})),m}revertChange(t){const s=this._modifiedEditor,m=this._originalEditor.getModel(),W=this._modifiedEditor.getModel();if(!m||!W||!s)return;const q=t.originalEndLineNumber>0?new M.e(t.originalStartLineNumber,1,t.originalEndLineNumber,m.getLineMaxColumn(t.originalEndLineNumber)):null,ae=q?m.getValueInRange(q):null,fe=t.modifiedEndLineNumber>0?new M.e(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber,W.getLineMaxColumn(t.modifiedEndLineNumber)):null,ke=W.getEOL();if(t.originalEndLineNumber===0&&fe){let Ze=fe;t.modifiedStartLineNumber>1?Ze=fe.setStartPosition(t.modifiedStartLineNumber-1,W.getLineMaxColumn(t.modifiedStartLineNumber-1)):t.modifiedEndLineNumber<W.getLineCount()&&(Ze=fe.setEndPosition(t.modifiedEndLineNumber+1,1)),s.executeEdits("diffEditor",[{range:Ze,text:""}])}else if(t.modifiedEndLineNumber===0&&ae!==null){const Ze=t.modifiedStartLineNumber<W.getLineCount()?new $.L(t.modifiedStartLineNumber+1,1):new $.L(t.modifiedStartLineNumber,W.getLineMaxColumn(t.modifiedStartLineNumber));s.executeEdits("diffEditor",[{range:M.e.fromPositions(Ze,Ze),text:t.modifiedStartLineNumber<W.getLineCount()?ae+ke:ke+ae}])}else fe&&ae!==null&&s.executeEdits("diffEditor",[{range:fe,text:ae}])}_createInnerEditor(t,s,m,W){return t.createInstance(Oi.Gm,s,m,W)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return _.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(t){const s=Vo(t,this._options),m=co(this._options,s);this._options=s;const W=m.ignoreTrimWhitespace||m.renderIndicators||m.renderMarginRevertIcon,q=this._isVisible&&(m.maxComputationTime||m.maxFileSize);W?this._beginUpdateDecorations():q&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),m.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new Ns(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new ur(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=os._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),m.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(t){if(t&&(!t.original||!t.modified))throw new Error(t.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(t?t.original:null),this._modifiedEditor.setModel(t?t.modified:null),this._updateDecorationsRunner.cancel(),t&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),t&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(t){return this._modifiedEditor.getVisibleColumnFromPosition(t)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(t,s="api"){this._modifiedEditor.setPosition(t,s)}revealLine(t,s=0){this._modifiedEditor.revealLine(t,s)}revealLineInCenter(t,s=0){this._modifiedEditor.revealLineInCenter(t,s)}revealLineInCenterIfOutsideViewport(t,s=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(t,s)}revealLineNearTop(t,s=0){this._modifiedEditor.revealLineNearTop(t,s)}revealPosition(t,s=0){this._modifiedEditor.revealPosition(t,s)}revealPositionInCenter(t,s=0){this._modifiedEditor.revealPositionInCenter(t,s)}revealPositionInCenterIfOutsideViewport(t,s=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(t,s)}revealPositionNearTop(t,s=0){this._modifiedEditor.revealPositionNearTop(t,s)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(t,s="api"){this._modifiedEditor.setSelection(t,s)}setSelections(t,s="api"){this._modifiedEditor.setSelections(t,s)}revealLines(t,s,m=0){this._modifiedEditor.revealLines(t,s,m)}revealLinesInCenter(t,s,m=0){this._modifiedEditor.revealLinesInCenter(t,s,m)}revealLinesInCenterIfOutsideViewport(t,s,m=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(t,s,m)}revealLinesNearTop(t,s,m=0){this._modifiedEditor.revealLinesNearTop(t,s,m)}revealRange(t,s=0,m=!1,W=!0){this._modifiedEditor.revealRange(t,s,m,W)}revealRangeInCenter(t,s=0){this._modifiedEditor.revealRangeInCenter(t,s)}revealRangeInCenterIfOutsideViewport(t,s=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(t,s)}revealRangeNearTop(t,s=0){this._modifiedEditor.revealRangeNearTop(t,s)}revealRangeNearTopIfOutsideViewport(t,s=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(t,s)}revealRangeAtTop(t,s=0){this._modifiedEditor.revealRangeAtTop(t,s)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const t=this._originalEditor.saveViewState(),s=this._modifiedEditor.saveViewState();return{original:t,modified:s}}restoreViewState(t){if(t&&t.original&&t.modified){const s=t;this._originalEditor.restoreViewState(s.original),this._modifiedEditor.restoreViewState(s.modified)}}layout(t){this._elementSizeObserver.observe(t)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(t,s,m){this._modifiedEditor.trigger(t,s,m)}createDecorationsCollection(t){return this._modifiedEditor.createDecorationsCollection(t)}changeDecorations(t){return this._modifiedEditor.changeDecorations(t)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const t=this._elementSizeObserver.getHeight(),s=this._getReviewHeight(),m=os.ENTIRE_DIFF_OVERVIEW_WIDTH-2*os.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:os.ONE_OVERVIEW_WIDTH,right:m+os.ONE_OVERVIEW_WIDTH,height:t-s}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:os.ONE_OVERVIEW_WIDTH,height:t-s}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),os.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(t,s){return!t&&!s?!0:!t||!s?!1:t.toString()===s.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const t=this._originalEditor.getModel(),s=this._modifiedEditor.getModel();if(!t||!s)return;this._diffComputationToken++;const m=this._diffComputationToken,W=this._options.maxFileSize*1024*1024,q=ae=>{const fe=ae.getValueLength();return W===0||fe<=W};if(!q(t)||!q(s)){(!os._equals(t.uri,this._lastOriginalWarning)||!os._equals(s.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=s.uri,this._notificationService.warn(wi.NC("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._editorWorkerService.computeDiff(t.uri,s.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(ae=>{m===this._diffComputationToken&&t===this._originalEditor.getModel()&&s===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=ae,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},ae=>{m===this._diffComputationToken&&t===this._originalEditor.getModel()&&s===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const t=this._diffComputationResult?this._diffComputationResult.changes:[],s=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),m=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),W=this._strategy.getEditorsDiffDecorations(t,this._options.ignoreTrimWhitespace,this._options.renderIndicators,this._options.renderMarginRevertIcon,s,m);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,W.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,W.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(t){const s=Object.assign({},t);return s.inDiffEditor=!0,s.automaticLayout=!1,s.scrollbar=Object.assign({},s.scrollbar||{}),s.scrollbar.vertical="visible",s.folding=!1,s.codeLens=this._options.diffCodeLens,s.fixedOverflowWidgets=!0,s.minimap=Object.assign({},s.minimap||{}),s.minimap.enabled=!1,s}_adjustOptionsForLeftHandSide(t){const s=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide?s.wordWrapOverride1=this._options.diffWordWrap:(s.wordWrapOverride1="off",s.wordWrapOverride2="off"),t.originalAriaLabel&&(s.ariaLabel=t.originalAriaLabel),s.readOnly=!this._options.originalEditable,s.dropIntoEditor={enabled:!s.readOnly},s.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},s),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(t){const s=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(s.ariaLabel=t.modifiedAriaLabel),s.wordWrapOverride1=this._options.diffWordWrap,s.revealHorizontalRightPadding=w.BH.revealHorizontalRightPadding.defaultValue+os.ENTIRE_DIFF_OVERVIEW_WIDTH,s.scrollbar.verticalHasArrows=!1,s.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},s),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const t=this._elementSizeObserver.getWidth(),s=this._elementSizeObserver.getHeight(),m=this._getReviewHeight(),W=this._strategy.layout();this._originalDomNode.style.width=W+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=t-W+"px",this._modifiedDomNode.style.left=W+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=s-m+"px",this._overviewDomElement.style.width=os.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=t-os.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(os.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:W,height:s-m}),this._modifiedEditor.layout({width:t-W-(this._options.renderOverviewRuler?os.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:s-m}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(s-m,t,m),this._layoutOverviewViewport()}_layoutOverviewViewport(){const t=this._computeOverviewViewport();t?(this._overviewViewportDomElement.setTop(t.top),this._overviewViewportDomElement.setHeight(t.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const t=this._modifiedEditor.getLayoutInfo();if(!t)return null;const s=this._modifiedEditor.getScrollTop(),m=this._modifiedEditor.getScrollHeight(),W=Math.max(0,t.height),q=Math.max(0,W-2*0),ae=m>0?q/m:0,fe=Math.max(0,Math.floor(t.height*ae)),ke=Math.floor(s*ae);return{height:fe,top:ke}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(t){this._strategy&&this._strategy.dispose(),this._strategy=t,t.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(t,s){const m=this._diffComputationResult?this._diffComputationResult.changes:[];if(m.length===0||t<s(m[0]))return null;let W=0,q=m.length-1;for(;W<q;){const ae=Math.floor((W+q)/2),fe=s(m[ae]),ke=ae+1<=q?s(m[ae+1]):1073741824;t<fe?q=ae-1:t>=ke?W=ae+1:(W=ae,q=ae)}return m[W]}_getEquivalentLineForOriginalLineNumber(t){const s=this._getLineChangeAtOrBeforeLineNumber(t,ke=>ke.originalStartLineNumber);if(!s)return t;const m=s.originalStartLineNumber+(s.originalEndLineNumber>0?-1:0),W=s.modifiedStartLineNumber+(s.modifiedEndLineNumber>0?-1:0),q=s.originalEndLineNumber>0?s.originalEndLineNumber-s.originalStartLineNumber+1:0,ae=s.modifiedEndLineNumber>0?s.modifiedEndLineNumber-s.modifiedStartLineNumber+1:0,fe=t-m;return fe<=q?W+Math.min(fe,ae):W+ae-q+fe}_getEquivalentLineForModifiedLineNumber(t){const s=this._getLineChangeAtOrBeforeLineNumber(t,ke=>ke.modifiedStartLineNumber);if(!s)return t;const m=s.originalStartLineNumber+(s.originalEndLineNumber>0?-1:0),W=s.modifiedStartLineNumber+(s.modifiedEndLineNumber>0?-1:0),q=s.originalEndLineNumber>0?s.originalEndLineNumber-s.originalStartLineNumber+1:0,ae=s.modifiedEndLineNumber>0?s.modifiedEndLineNumber-s.modifiedStartLineNumber+1:0,fe=t-W;return fe<=ae?m+Math.min(fe,q):m+q-ae+fe}getDiffLineInformationForOriginal(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(t)}:null}getDiffLineInformationForModified(t){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(t)}:null}};Is.ONE_OVERVIEW_WIDTH=15,Is.ENTIRE_DIFF_OVERVIEW_WIDTH=30,Is.UPDATE_DIFF_DECORATIONS_DELAY=200,Is=bs([cs(3,Rn.p),cs(4,Vt.p),cs(5,nn.i6),cs(6,Qt.TG),cs(7,a.$),cs(8,oi.XE),cs(9,fi.lT),cs(10,Ti.i),cs(11,Un.ek)],Is);class Eo extends f.JT{constructor(t){super(),this._dataSource=t,this._insertColor=null,this._removeColor=null}applyColors(t){const s=t.getColor(yi.P6Y)||(t.getColor(yi.ypS)||yi.CzK).transparent(2),m=t.getColor(yi.F9q)||(t.getColor(yi.P4M)||yi.keg).transparent(2),W=!s.equals(this._insertColor)||!m.equals(this._removeColor);return this._insertColor=s,this._removeColor=m,W}getEditorsDiffDecorations(t,s,m,W,q,ae){ae=ae.sort((it,Ct)=>it.afterLineNumber-Ct.afterLineNumber),q=q.sort((it,Ct)=>it.afterLineNumber-Ct.afterLineNumber);const fe=this._getViewZones(t,q,ae,m),ke=this._getOriginalEditorDecorations(fe,t,s,m),Ze=this._getModifiedEditorDecorations(fe,t,s,m,W);return{original:{decorations:ke.decorations,overviewZones:ke.overviewZones,zones:fe.original},modified:{decorations:Ze.decorations,overviewZones:Ze.overviewZones,zones:fe.modified}}}}class Io{constructor(t){this._source=t,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class es{constructor(t,s,m,W,q){this._lineChanges=t,this._originalForeignVZ=s,this._modifiedForeignVZ=m,this._originalEditor=W,this._modifiedEditor=q}static _getViewLineCount(t,s,m){const W=t.getModel(),q=t._getViewModel();if(W&&q){const ae=Ts(W,q,s,m);return ae.endLineNumber-ae.startLineNumber+1}return m-s+1}getViewZones(){const t=this._originalEditor.getOption(61),s=this._modifiedEditor.getOption(61),m=this._originalEditor.getOption(134).wrappingColumn!==-1,W=this._modifiedEditor.getOption(134).wrappingColumn!==-1,q=m||W,ae=this._originalEditor.getModel(),fe=this._originalEditor._getViewModel().coordinatesConverter,ke=this._modifiedEditor._getViewModel().coordinatesConverter,Ze={original:[],modified:[]};let it=0,Ct=0,ti=0,ri=0,hi=0,Di=0;const ki=(Cn,Ji)=>Cn.afterLineNumber-Ji.afterLineNumber,Qi=(Cn,Ji)=>{if(Ji.domNode===null&&Cn.length>0){const Hi=Cn[Cn.length-1];if(Hi.afterLineNumber===Ji.afterLineNumber&&Hi.domNode===null){Hi.heightInLines+=Ji.heightInLines;return}}Cn.push(Ji)},rn=new Io(this._modifiedForeignVZ),Ki=new Io(this._originalForeignVZ);let ji=1,In=1;for(let Cn=0,Ji=this._lineChanges.length;Cn<=Ji;Cn++){const Hi=Cn<Ji?this._lineChanges[Cn]:null;Hi!==null?(ti=Hi.originalStartLineNumber+(Hi.originalEndLineNumber>0?-1:0),ri=Hi.modifiedStartLineNumber+(Hi.modifiedEndLineNumber>0?-1:0),Ct=Hi.originalEndLineNumber>0?es._getViewLineCount(this._originalEditor,Hi.originalStartLineNumber,Hi.originalEndLineNumber):0,it=Hi.modifiedEndLineNumber>0?es._getViewLineCount(this._modifiedEditor,Hi.modifiedStartLineNumber,Hi.modifiedEndLineNumber):0,hi=Math.max(Hi.originalStartLineNumber,Hi.originalEndLineNumber),Di=Math.max(Hi.modifiedStartLineNumber,Hi.modifiedEndLineNumber)):(ti+=1e7+Ct,ri+=1e7+it,hi=ti,Di=ri);let cn=[],qi=[];if(q){let dn;Hi?Hi.originalEndLineNumber>0?dn=Hi.originalStartLineNumber-ji:dn=Hi.modifiedStartLineNumber-In:dn=ae.getLineCount()-ji+1;for(let Gn=0;Gn<dn;Gn++){const vs=ji+Gn,jn=In+Gn,ys=fe.getModelLineViewLineCount(vs),Ps=ke.getModelLineViewLineCount(jn);ys<Ps?cn.push({afterLineNumber:vs,heightInLines:Ps-ys,domNode:null,marginDomNode:null}):ys>Ps&&qi.push({afterLineNumber:jn,heightInLines:ys-Ps,domNode:null,marginDomNode:null})}Hi&&(ji=(Hi.originalEndLineNumber>0?Hi.originalEndLineNumber:Hi.originalStartLineNumber)+1,In=(Hi.modifiedEndLineNumber>0?Hi.modifiedEndLineNumber:Hi.modifiedStartLineNumber)+1)}for(;rn.current&&rn.current.afterLineNumber<=Di;){let dn;rn.current.afterLineNumber<=ri?dn=ti-ri+rn.current.afterLineNumber:dn=hi;let Gn=null;Hi&&Hi.modifiedStartLineNumber<=rn.current.afterLineNumber&&rn.current.afterLineNumber<=Hi.modifiedEndLineNumber&&(Gn=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),cn.push({afterLineNumber:dn,heightInLines:rn.current.height/s,domNode:null,marginDomNode:Gn}),rn.advance()}for(;Ki.current&&Ki.current.afterLineNumber<=hi;){let dn;Ki.current.afterLineNumber<=ti?dn=ri-ti+Ki.current.afterLineNumber:dn=Di,qi.push({afterLineNumber:dn,heightInLines:Ki.current.height/t,domNode:null}),Ki.advance()}if(Hi!==null&&Ms(Hi)){const dn=this._produceOriginalFromDiff(Hi,Ct,it);dn&&cn.push(dn)}if(Hi!==null&&No(Hi)){const dn=this._produceModifiedFromDiff(Hi,Ct,it);dn&&qi.push(dn)}let bn=0,Fn=0;for(cn=cn.sort(ki),qi=qi.sort(ki);bn<cn.length&&Fn<qi.length;){const dn=cn[bn],Gn=qi[Fn],vs=dn.afterLineNumber-ti,jn=Gn.afterLineNumber-ri;vs<jn?(Qi(Ze.original,dn),bn++):jn<vs?(Qi(Ze.modified,Gn),Fn++):dn.shouldNotShrink?(Qi(Ze.original,dn),bn++):Gn.shouldNotShrink?(Qi(Ze.modified,Gn),Fn++):dn.heightInLines>=Gn.heightInLines?(dn.heightInLines-=Gn.heightInLines,Fn++):(Gn.heightInLines-=dn.heightInLines,bn++)}for(;bn<cn.length;)Qi(Ze.original,cn[bn]),bn++;for(;Fn<qi.length;)Qi(Ze.modified,qi[Fn]),Fn++}return{original:es._ensureDomNodes(Ze.original),modified:es._ensureDomNodes(Ze.modified)}}static _ensureDomNodes(t){return t.map(s=>(s.domNode||(s.domNode=Ks()),s))}}function xn(ue,t,s,m,W){return{range:new M.e(ue,t,s,m),options:W}}const Wn={arrowRevertChange:Et.qx.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+oi.kS.asClassName(Ii.lA.arrowRight)}),charDelete:Et.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:Et.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:Et.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:Et.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:Et.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:Et.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+oi.kS.asClassName(ao),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:Et.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:Et.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+oi.kS.asClassName(to),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:Et.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class Ns extends Eo{constructor(t,s){super(t),this._disableSash=s===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new en.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(m=>this._onSashDrag(m)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(t){const s=t===!1;this._disableSash!==s&&(this._disableSash=s,this._sash.state=this._disableSash?0:3)}layout(t=this._sashRatio){const m=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Is.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let W=Math.floor((t||.5)*m);const q=Math.floor(.5*m);return W=this._disableSash?q:W||q,m>Ns.MINIMUM_EDITOR_WIDTH*2?(W<Ns.MINIMUM_EDITOR_WIDTH&&(W=Ns.MINIMUM_EDITOR_WIDTH),W>m-Ns.MINIMUM_EDITOR_WIDTH&&(W=m-Ns.MINIMUM_EDITOR_WIDTH)):W=q,this._sashPosition!==W&&(this._sashPosition=W),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(t){const m=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?Is.ENTIRE_DIFF_OVERVIEW_WIDTH:0),W=this.layout((this._startSashPosition+(t.currentX-t.startX))/m);this._sashRatio=W/m,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(t){return 0}getVerticalSashLeft(t){return this._sashPosition}getVerticalSashHeight(t){return this._dataSource.getHeight()}_getViewZones(t,s,m){const W=this._dataSource.getOriginalEditor(),q=this._dataSource.getModifiedEditor();return new zs(t,s,m,W,q).getViewZones()}_getOriginalEditorDecorations(t,s,m,W){const q=this._dataSource.getOriginalEditor(),ae=String(this._removeColor),fe={decorations:[],overviewZones:[]},ke=q.getModel(),Ze=q._getViewModel();for(const it of s)if(No(it)){fe.decorations.push({range:new M.e(it.originalStartLineNumber,1,it.originalEndLineNumber,1073741824),options:W?Wn.lineDeleteWithSign:Wn.lineDelete}),(!Ms(it)||!it.charChanges)&&fe.decorations.push(xn(it.originalStartLineNumber,1,it.originalEndLineNumber,1073741824,Wn.charDeleteWholeLine));const Ct=Ts(ke,Ze,it.originalStartLineNumber,it.originalEndLineNumber);if(fe.overviewZones.push(new Xt.EY(Ct.startLineNumber,Ct.endLineNumber,0,ae)),it.charChanges){for(const ti of it.charChanges)if(fr(ti))if(m)for(let ri=ti.originalStartLineNumber;ri<=ti.originalEndLineNumber;ri++){let hi,Di;ri===ti.originalStartLineNumber?hi=ti.originalStartColumn:hi=ke.getLineFirstNonWhitespaceColumn(ri),ri===ti.originalEndLineNumber?Di=ti.originalEndColumn:Di=ke.getLineLastNonWhitespaceColumn(ri),fe.decorations.push(xn(ri,hi,ri,Di,Wn.charDelete))}else fe.decorations.push(xn(ti.originalStartLineNumber,ti.originalStartColumn,ti.originalEndLineNumber,ti.originalEndColumn,Wn.charDelete))}}return fe}_getModifiedEditorDecorations(t,s,m,W,q){const ae=this._dataSource.getModifiedEditor(),fe=String(this._insertColor),ke={decorations:[],overviewZones:[]},Ze=ae.getModel(),it=ae._getViewModel();for(const Ct of s){if(q)if(Ct.modifiedEndLineNumber>0)ke.decorations.push({range:new M.e(Ct.modifiedStartLineNumber,1,Ct.modifiedStartLineNumber,1),options:Wn.arrowRevertChange});else{const ti=t.modified.find(ri=>ri.afterLineNumber===Ct.modifiedStartLineNumber);ti&&(ti.marginDomNode=lo())}if(Ms(Ct)){ke.decorations.push({range:new M.e(Ct.modifiedStartLineNumber,1,Ct.modifiedEndLineNumber,1073741824),options:W?Wn.lineInsertWithSign:Wn.lineInsert}),(!No(Ct)||!Ct.charChanges)&&ke.decorations.push(xn(Ct.modifiedStartLineNumber,1,Ct.modifiedEndLineNumber,1073741824,Wn.charInsertWholeLine));const ti=Ts(Ze,it,Ct.modifiedStartLineNumber,Ct.modifiedEndLineNumber);if(ke.overviewZones.push(new Xt.EY(ti.startLineNumber,ti.endLineNumber,0,fe)),Ct.charChanges){for(const ri of Ct.charChanges)if(hr(ri))if(m)for(let hi=ri.modifiedStartLineNumber;hi<=ri.modifiedEndLineNumber;hi++){let Di,ki;hi===ri.modifiedStartLineNumber?Di=ri.modifiedStartColumn:Di=Ze.getLineFirstNonWhitespaceColumn(hi),hi===ri.modifiedEndLineNumber?ki=ri.modifiedEndColumn:ki=Ze.getLineLastNonWhitespaceColumn(hi),ke.decorations.push(xn(hi,Di,hi,ki,Wn.charInsert))}else ke.decorations.push(xn(ri.modifiedStartLineNumber,ri.modifiedStartColumn,ri.modifiedEndLineNumber,ri.modifiedEndColumn,Wn.charInsert))}}}return ke}}Ns.MINIMUM_EDITOR_WIDTH=100;class zs extends es{constructor(t,s,m,W,q){super(t,s,m,W,q)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(t,s,m){return m>s?{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:m-s,domNode:null}:null}_produceModifiedFromDiff(t,s,m){return s>m?{afterLineNumber:Math.max(t.modifiedStartLineNumber,t.modifiedEndLineNumber),heightInLines:s-m,domNode:null}:null}}class ur extends Eo{constructor(t,s){super(t),this._decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(t.getOriginalEditor().onDidLayoutChange(m=>{this._decorationsLeft!==m.decorationsLeft&&(this._decorationsLeft=m.decorationsLeft,t.relayoutEditors())}))}setEnableSplitViewResizing(t){}_getViewZones(t,s,m,W){const q=this._dataSource.getOriginalEditor(),ae=this._dataSource.getModifiedEditor();return new gs(t,s,m,q,ae,W).getViewZones()}_getOriginalEditorDecorations(t,s,m,W){const q=String(this._removeColor),ae={decorations:[],overviewZones:[]},fe=this._dataSource.getOriginalEditor(),ke=fe.getModel(),Ze=fe._getViewModel();let it=0;for(const Ct of s)if(No(Ct)){for(ae.decorations.push({range:new M.e(Ct.originalStartLineNumber,1,Ct.originalEndLineNumber,1073741824),options:Wn.lineDeleteMargin});it<t.modified.length;){const hi=t.modified[it];if(hi.diff&&hi.diff.originalStartLineNumber>=Ct.originalStartLineNumber)break;it++}let ti=0;if(it<t.modified.length){const hi=t.modified[it];hi.diff&&hi.diff.originalStartLineNumber===Ct.originalStartLineNumber&&hi.diff.originalEndLineNumber===Ct.originalEndLineNumber&&hi.diff.modifiedStartLineNumber===Ct.modifiedStartLineNumber&&hi.diff.modifiedEndLineNumber===Ct.modifiedEndLineNumber&&(ti=hi.heightInLines)}const ri=Ts(ke,Ze,Ct.originalStartLineNumber,Ct.originalEndLineNumber);ae.overviewZones.push(new Xt.EY(ri.startLineNumber,ri.endLineNumber,ti,q))}return ae}_getModifiedEditorDecorations(t,s,m,W,q){const ae=this._dataSource.getModifiedEditor(),fe=String(this._insertColor),ke={decorations:[],overviewZones:[]},Ze=ae.getModel(),it=ae._getViewModel();for(const Ct of s)if(Ms(Ct)){ke.decorations.push({range:new M.e(Ct.modifiedStartLineNumber,1,Ct.modifiedEndLineNumber,1073741824),options:W?Wn.lineInsertWithSign:Wn.lineInsert});const ti=Ts(Ze,it,Ct.modifiedStartLineNumber,Ct.modifiedEndLineNumber);if(ke.overviewZones.push(new Xt.EY(ti.startLineNumber,ti.endLineNumber,0,fe)),Ct.charChanges){for(const ri of Ct.charChanges)if(hr(ri))if(m)for(let hi=ri.modifiedStartLineNumber;hi<=ri.modifiedEndLineNumber;hi++){let Di,ki;hi===ri.modifiedStartLineNumber?Di=ri.modifiedStartColumn:Di=Ze.getLineFirstNonWhitespaceColumn(hi),hi===ri.modifiedEndLineNumber?ki=ri.modifiedEndColumn:ki=Ze.getLineLastNonWhitespaceColumn(hi),ke.decorations.push(xn(hi,Di,hi,ki,Wn.charInsert))}else ke.decorations.push(xn(ri.modifiedStartLineNumber,ri.modifiedStartColumn,ri.modifiedEndLineNumber,ri.modifiedEndColumn,Wn.charInsert))}else ke.decorations.push(xn(Ct.modifiedStartLineNumber,1,Ct.modifiedEndLineNumber,1073741824,Wn.charInsertWholeLine))}return ke}layout(){return Math.max(5,this._decorationsLeft)}}class gs extends es{constructor(t,s,m,W,q,ae){super(t,s,m,W,q),this._originalModel=W.getModel(),this._renderIndicators=ae,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const t=super.getViewZones();return this._finalize(t),t}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const t=document.createElement("div");return t.className="inline-added-margin-view-zone",t}_produceOriginalFromDiff(t,s,m){const W=document.createElement("div");return W.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(t.originalStartLineNumber,t.originalEndLineNumber),heightInLines:m,domNode:document.createElement("div"),marginDomNode:W}}_produceModifiedFromDiff(t,s,m){const W=document.createElement("div");W.className=`view-lines line-delete ${Yi.S}`;const q=document.createElement("div");q.className="inline-deleted-margin-view-zone";const ae={shouldNotShrink:!0,afterLineNumber:t.modifiedEndLineNumber===0?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1,heightInLines:s,minWidthInPx:0,domNode:W,marginDomNode:q,diff:{originalStartLineNumber:t.originalStartLineNumber,originalEndLineNumber:t.originalEndLineNumber,modifiedStartLineNumber:t.modifiedStartLineNumber,modifiedEndLineNumber:t.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let fe=t.originalStartLineNumber;fe<=t.originalEndLineNumber;fe++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(fe),null,null);return this._pendingLineChange.push(t),this._pendingViewZones.push(ae),ae}_finalize(t){const s=this._modifiedEditor.getOptions(),m=this._modifiedEditor.getModel().getOptions().tabSize,W=s.get(46),q=s.get(29),ae=W.typicalHalfwidthCharacterWidth,fe=s.get(95),ke=this._originalModel.mightContainNonBasicASCII(),Ze=this._originalModel.mightContainRTL(),it=s.get(61),ti=s.get(133).decorationsWidth,ri=s.get(107),hi=s.get(90),Di=s.get(85),ki=s.get(47),Qi=this._lineBreaksComputer.finalize();let rn=0;for(let Ki=0;Ki<this._pendingLineChange.length;Ki++){const ji=this._pendingLineChange[Ki],In=this._pendingViewZones[Ki],Cn=In.domNode;(0,un.N)(Cn,W);const Ji=In.marginDomNode;(0,un.N)(Ji,W);const Hi=[];if(ji.charChanges)for(const jn of ji.charChanges)fr(jn)&&Hi.push(new Si.$t(new M.e(jn.originalStartLineNumber,jn.originalStartColumn,jn.originalEndLineNumber,jn.originalEndColumn),"char-delete",0));const cn=Hi.length>0,qi=(0,Lt.l$)(1e4);let bn=0,Fn=0,dn=null;for(let jn=ji.originalStartLineNumber;jn<=ji.originalEndLineNumber;jn++){const ys=jn-ji.originalStartLineNumber,Ps=this._originalModel.tokenization.getLineTokens(jn),Us=Ps.getLineContent(),Gs=Qi[rn++],Es=Jt.Kp.filter(Hi,jn,1,Us.length+1);if(Gs){let va=0;for(const Ca of Gs.breakOffsets){const Vh=Ps.sliceAndInflate(va,Ca,0),Hh=Us.substring(va,Ca);bn=Math.max(bn,this._renderOriginalLine(Fn++,Hh,Vh,Jt.Kp.extractWrapped(Es,va,Ca),cn,ke,Ze,W,q,it,ti,ri,hi,Di,ki,m,qi,Ji)),va=Ca}for(dn||(dn=[]);dn.length<ys;)dn[dn.length]=1;dn[ys]=Gs.breakOffsets.length,In.heightInLines+=Gs.breakOffsets.length-1;const Tc=document.createElement("div");Tc.className="gutter-delete",t.original.push({afterLineNumber:jn,afterColumn:0,heightInLines:Gs.breakOffsets.length-1,domNode:Ks(),marginDomNode:Tc})}else bn=Math.max(bn,this._renderOriginalLine(Fn++,Us,Ps,Es,cn,ke,Ze,W,q,it,ti,ri,hi,Di,ki,m,qi,Ji))}bn+=fe;const Gn=qi.build(),vs=Do?Do.createHTML(Gn):Gn;if(Cn.innerHTML=vs,In.minWidthInPx=bn*ae,dn){const jn=ji.originalEndLineNumber-ji.originalStartLineNumber;for(;dn.length<=jn;)dn[dn.length]=1}In.diff.viewLineCounts=dn}t.original.sort((Ki,ji)=>Ki.afterLineNumber-ji.afterLineNumber)}_renderOriginalLine(t,s,m,W,q,ae,fe,ke,Ze,it,Ct,ti,ri,hi,Di,ki,Qi,rn){Qi.appendASCIIString('<div class="view-line'),q||Qi.appendASCIIString(" char-delete"),Qi.appendASCIIString('" style="top:'),Qi.appendASCIIString(String(t*it)),Qi.appendASCIIString('px;width:1000000px;">');const Ki=Si.wA.isBasicASCII(s,ae),ji=Si.wA.containsRTL(s,Ki,fe),In=(0,xi.d1)(new xi.IJ(ke.isMonospace&&!Ze,ke.canUseHalfwidthRightwardsArrow,s,!1,Ki,ji,0,m,W,ki,0,ke.spaceWidth,ke.middotWidth,ke.wsmiddotWidth,ti,ri,hi,Di!==w.n0.OFF,null),Qi);if(Qi.appendASCIIString("</div>"),this._renderIndicators){const Cn=document.createElement("div");Cn.className=`delete-sign ${oi.kS.asClassName(to)}`,Cn.setAttribute("style",`position:absolute;top:${t*it}px;width:${Ct}px;height:${it}px;right:0;`),rn.appendChild(Cn)}return In.characterMapping.getHorizontalOffset(In.characterMapping.length)}}function xs(ue,t){return(0,w.NY)(ue,t,["off","on","inherit"])}function Ms(ue){return ue.modifiedEndLineNumber>0}function No(ue){return ue.originalEndLineNumber>0}function hr(ue){return ue.modifiedStartLineNumber===ue.modifiedEndLineNumber?ue.modifiedEndColumn-ue.modifiedStartColumn>0:ue.modifiedEndLineNumber-ue.modifiedStartLineNumber>0}function fr(ue){return ue.originalStartLineNumber===ue.originalEndLineNumber?ue.originalEndColumn-ue.originalStartColumn>0:ue.originalEndLineNumber-ue.originalStartLineNumber>0}function Ks(){const ue=document.createElement("div");return ue.className="diagonal-fill",ue}function lo(){const ue=document.createElement("div");return ue.className="arrow-revert-change "+oi.kS.asClassName(Ii.lA.arrowRight),Pt.$("div",{},ue)}function Ts(ue,t,s,m){const W=ue.getLineCount();return s=Math.min(W,Math.max(1,s)),m=Math.min(W,Math.max(1,m)),t.coordinatesConverter.convertModelRangeToViewRange(new M.e(s,ue.getLineMinColumn(s),m,ue.getLineMaxColumn(m)))}function Vo(ue,t){return{enableSplitViewResizing:(0,w.O7)(ue.enableSplitViewResizing,t.enableSplitViewResizing),renderSideBySide:(0,w.O7)(ue.renderSideBySide,t.renderSideBySide),renderMarginRevertIcon:(0,w.O7)(ue.renderMarginRevertIcon,t.renderMarginRevertIcon),maxComputationTime:(0,w.Zc)(ue.maxComputationTime,t.maxComputationTime,0,1073741824),maxFileSize:(0,w.Zc)(ue.maxFileSize,t.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,w.O7)(ue.ignoreTrimWhitespace,t.ignoreTrimWhitespace),renderIndicators:(0,w.O7)(ue.renderIndicators,t.renderIndicators),originalEditable:(0,w.O7)(ue.originalEditable,t.originalEditable),diffCodeLens:(0,w.O7)(ue.diffCodeLens,t.diffCodeLens),renderOverviewRuler:(0,w.O7)(ue.renderOverviewRuler,t.renderOverviewRuler),diffWordWrap:xs(ue.diffWordWrap,t.diffWordWrap)}}function co(ue,t){return{enableSplitViewResizing:ue.enableSplitViewResizing!==t.enableSplitViewResizing,renderSideBySide:ue.renderSideBySide!==t.renderSideBySide,renderMarginRevertIcon:ue.renderMarginRevertIcon!==t.renderMarginRevertIcon,maxComputationTime:ue.maxComputationTime!==t.maxComputationTime,maxFileSize:ue.maxFileSize!==t.maxFileSize,ignoreTrimWhitespace:ue.ignoreTrimWhitespace!==t.ignoreTrimWhitespace,renderIndicators:ue.renderIndicators!==t.renderIndicators,originalEditable:ue.originalEditable!==t.originalEditable,diffCodeLens:ue.diffCodeLens!==t.diffCodeLens,renderOverviewRuler:ue.renderOverviewRuler!==t.renderOverviewRuler,diffWordWrap:ue.diffWordWrap!==t.diffWordWrap}}(0,oi.Ic)((ue,t)=>{const s=ue.getColor(yi.ypS);s&&t.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${s}; }`);const m=ue.getColor(yi.hzo)||s;m&&t.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${m}; }`);const W=ue.getColor(yi.j51)||m;W&&(t.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${W}; }`),t.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${W}; }`));const q=ue.getColor(yi.P4M);q&&t.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${q}; }`);const ae=ue.getColor(yi.xi6)||q;ae&&t.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${ae}; }`);const fe=ue.getColor(yi.zOm)||ae;fe&&(t.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${fe}; }`),t.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${fe}; }`));const ke=ue.getColor(yi.XL$);ke&&t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${(0,Qn.c3)(ue.type)?"dashed":"solid"} ${ke}; }`);const Ze=ue.getColor(yi.mHy);Ze&&t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${(0,Qn.c3)(ue.type)?"dashed":"solid"} ${Ze}; }`);const it=ue.getColor(yi._wn);it&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${it}; }`);const Ct=ue.getColor(yi.LLc);Ct&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Ct}; }`);const ti=ue.getColor(yi.etL);ti&&t.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${ti};
			}
		`);const ri=ue.getColor(yi.ABB);ri&&t.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${ri};
			}
		`);const hi=ue.getColor(yi.ynu);hi&&t.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${hi};
			}
		`);const Di=ue.getColor(yi.L_t);t.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${Di} 12.5%,
			#0000 12.5%, #0000 50%,
			${Di} 50%, ${Di} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)});var Ho=i(30653),Kn=i(66663),js=i(91741),uo=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},gr=function(ue,t){return function(s,m){t(s,m,ue)}},mr=function(ue,t,s,m){function W(q){return q instanceof s?q:new s(function(ae){ae(q)})}return new(s||(s=Promise))(function(q,ae){function fe(it){try{Ze(m.next(it))}catch(Ct){ae(Ct)}}function ke(it){try{Ze(m.throw(it))}catch(Ct){ae(Ct)}}function Ze(it){it.done?q(it.value):W(it.value).then(fe,ke)}Ze((m=m.apply(ue,t||[])).next())})};let xo=class extends f.JT{constructor(t){super(),this._themeService=t,this._onCodeEditorAdd=this._register(new O.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new O.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new O.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new O.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new js.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(t){this._codeEditors[t.getId()]=t,this._onCodeEditorAdd.fire(t)}removeCodeEditor(t){delete this._codeEditors[t.getId()]&&this._onCodeEditorRemove.fire(t)}listCodeEditors(){return Object.keys(this._codeEditors).map(t=>this._codeEditors[t])}addDiffEditor(t){this._diffEditors[t.getId()]=t,this._onDiffEditorAdd.fire(t)}removeDiffEditor(t){delete this._diffEditors[t.getId()]&&this._onDiffEditorRemove.fire(t)}listDiffEditors(){return Object.keys(this._diffEditors).map(t=>this._diffEditors[t])}getFocusedCodeEditor(){let t=null;const s=this.listCodeEditors();for(const m of s){if(m.hasTextFocus())return m;m.hasWidgetFocus()&&(t=m)}return t}removeDecorationType(t){const s=this._decorationOptionProviders.get(t);s&&(s.refCount--,s.refCount<=0&&(this._decorationOptionProviders.delete(t),s.dispose(),this.listCodeEditors().forEach(m=>m.removeDecorationsByType(t))))}setModelProperty(t,s,m){const W=t.toString();let q;this._modelProperties.has(W)?q=this._modelProperties.get(W):(q=new Map,this._modelProperties.set(W,q)),q.set(s,m)}getModelProperty(t,s){const m=t.toString();if(this._modelProperties.has(m))return this._modelProperties.get(m).get(s)}openCodeEditor(t,s,m){return mr(this,void 0,void 0,function*(){for(const W of this._codeEditorOpenHandlers){const q=yield W(t,s,m);if(q!==null)return q}return null})}registerCodeEditorOpenHandler(t){const s=this._codeEditorOpenHandlers.unshift(t);return(0,f.OF)(s)}};xo=uo([gr(0,oi.XE)],xo);class Ur{constructor(t){this._styleSheet=t}}var Ln=i(65026),pr=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},_r=function(ue,t){return function(s,m){t(s,m,ue)}},Uo=function(ue,t,s,m){function W(q){return q instanceof s?q:new s(function(ae){ae(q)})}return new(s||(s=Promise))(function(q,ae){function fe(it){try{Ze(m.next(it))}catch(Ct){ae(Ct)}}function ke(it){try{Ze(m.throw(it))}catch(Ct){ae(Ct)}}function Ze(it){it.done?q(it.value):W(it.value).then(fe,ke)}Ze((m=m.apply(ue,t||[])).next())})};let io=class extends xo{constructor(t,s){super(s),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((m,W,q)=>Uo(this,void 0,void 0,function*(){return W?this.doOpenEditor(W,m):null}))}_checkContextKey(){let t=!1;for(const s of this.listCodeEditors())if(!s.isSimpleWidget){t=!0;break}this._editorIsOpen.set(t)}setActiveCodeEditor(t){this._activeCodeEditor=t}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(t,s){if(!this.findModel(t,s.resource)){if(s.resource){const q=s.resource.scheme;if(q===Kn.lg.http||q===Kn.lg.https)return(0,Pt.V3)(s.resource.toString()),t}return null}const W=s.options?s.options.selection:null;if(W)if(typeof W.endLineNumber=="number"&&typeof W.endColumn=="number")t.setSelection(W),t.revealRangeInCenter(W,1);else{const q={lineNumber:W.startLineNumber,column:W.startColumn};t.setPosition(q),t.revealPositionInCenter(q,1)}return t}findModel(t,s){const m=t.getModel();return m&&m.uri.toString()!==s.toString()?null:m}};io=pr([_r(0,nn.i6),_r(1,oi.XE)],io),(0,Ln.z)(a.$,io);const $s=(0,Qt.yh)("layoutService");var vr=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},Cr=function(ue,t){return function(s,m){t(s,m,ue)}};let Ys=class{constructor(t){this._codeEditorService=t,this.onDidLayout=O.ju.None,this.offset={top:0,quickPickTop:0}}get dimension(){return this._dimension||(this._dimension=Pt.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var t;(t=this._codeEditorService.getFocusedCodeEditor())===null||t===void 0||t.focus()}};Ys=vr([Cr(0,a.$)],Ys);let zo=class extends Ys{constructor(t,s){super(s),this._container=t}get hasContainer(){return!1}get container(){return this._container}};zo=vr([Cr(1,a.$)],zo),(0,Ln.z)($s,Ys);var ss=i(14603),Os=i(28820),Xn=i(64862),zi=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},ho=function(ue,t){return function(s,m){t(s,m,ue)}},fo=function(ue,t,s,m){function W(q){return q instanceof s?q:new s(function(ae){ae(q)})}return new(s||(s=Promise))(function(q,ae){function fe(it){try{Ze(m.next(it))}catch(Ct){ae(Ct)}}function ke(it){try{Ze(m.throw(it))}catch(Ct){ae(Ct)}}function Ze(it){it.done?q(it.value):W(it.value).then(fe,ke)}Ze((m=m.apply(ue,t||[])).next())})};const ms=!1;function is(ue){return ue.scheme===Kn.lg.file?ue.fsPath:ue.path}let go=0;class no{constructor(t,s,m,W,q,ae,fe){this.id=++go,this.type=0,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabel=s,this.strResource=m,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=W,this.groupOrder=q,this.sourceId=ae,this.sourceOrder=fe,this.isValid=!0}setValid(t){this.isValid=t}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Mo{constructor(t,s){this.resourceLabel=t,this.reason=s}}class sn{constructor(){this.elements=new Map}createMessage(){const t=[],s=[];for(const[,W]of this.elements)(W.reason===0?t:s).push(W.resourceLabel);const m=[];return t.length>0&&m.push(wi.NC({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",t.join(", "))),s.length>0&&m.push(wi.NC({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",s.join(", "))),m.join(`
`)}get size(){return this.elements.size}has(t){return this.elements.has(t)}set(t,s){this.elements.set(t,s)}delete(t){return this.elements.delete(t)}}class Mn{constructor(t,s,m,W,q,ae,fe){this.id=++go,this.type=1,this.actual=t,this.label=t.label,this.confirmBeforeUndo=t.confirmBeforeUndo||!1,this.resourceLabels=s,this.strResources=m,this.groupId=W,this.groupOrder=q,this.sourceId=ae,this.sourceOrder=fe,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(t,s,m){this.removedResources||(this.removedResources=new sn),this.removedResources.has(s)||this.removedResources.set(s,new Mo(t,m))}setValid(t,s,m){m?this.invalidatedResources&&(this.invalidatedResources.delete(s),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new sn),this.invalidatedResources.has(s)||this.invalidatedResources.set(s,new Mo(t,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Zn{constructor(t,s){this.resourceLabel=t,this.strResource=s,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const t of this._past)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,0);for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const t=[];t.push(`* ${this.strResource}:`);for(let s=0;s<this._past.length;s++)t.push(`   * [UNDO] ${this._past[s]}`);for(let s=this._future.length-1;s>=0;s--)t.push(`   * [REDO] ${this._future[s]}`);return t.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(t,s){t.type===1?t.setValid(this.resourceLabel,this.strResource,s):t.setValid(s)}setElementsValidFlag(t,s){for(const m of this._past)s(m.actual)&&this._setElementValidFlag(m,t);for(const m of this._future)s(m.actual)&&this._setElementValidFlag(m,t)}pushElement(t){for(const s of this._future)s.type===1&&s.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(t),this.versionId++}createSnapshot(t){const s=[];for(let m=0,W=this._past.length;m<W;m++)s.push(this._past[m].id);for(let m=this._future.length-1;m>=0;m--)s.push(this._future[m].id);return new Xn.YO(t,s)}restoreSnapshot(t){const s=t.elements.length;let m=!0,W=0,q=-1;for(let fe=0,ke=this._past.length;fe<ke;fe++,W++){const Ze=this._past[fe];m&&(W>=s||Ze.id!==t.elements[W])&&(m=!1,q=0),!m&&Ze.type===1&&Ze.removeResource(this.resourceLabel,this.strResource,0)}let ae=-1;for(let fe=this._future.length-1;fe>=0;fe--,W++){const ke=this._future[fe];m&&(W>=s||ke.id!==t.elements[W])&&(m=!1,ae=fe),!m&&ke.type===1&&ke.removeResource(this.resourceLabel,this.strResource,0)}q!==-1&&(this._past=this._past.slice(0,q)),ae!==-1&&(this._future=this._future.slice(ae+1)),this.versionId++}getElements(){const t=[],s=[];for(const m of this._past)t.push(m.actual);for(const m of this._future)s.push(m.actual);return{past:t,future:s}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(t,s){for(let m=this._past.length-1;m>=0;m--)if(this._past[m]===t){s.has(this.strResource)?this._past[m]=s.get(this.strResource):this._past.splice(m,1);break}this.versionId++}splitFutureWorkspaceElement(t,s){for(let m=this._future.length-1;m>=0;m--)if(this._future[m]===t){s.has(this.strResource)?this._future[m]=s.get(this.strResource):this._future.splice(m,1);break}this.versionId++}moveBackward(t){this._past.pop(),this._future.push(t),this.versionId++}moveForward(t){this._future.pop(),this._past.push(t),this.versionId++}}class gn{constructor(t){this.editStacks=t,this._versionIds=[];for(let s=0,m=this.editStacks.length;s<m;s++)this._versionIds[s]=this.editStacks[s].versionId}isValid(){for(let t=0,s=this.editStacks.length;t<s;t++)if(this._versionIds[t]!==this.editStacks[t].versionId)return!1;return!0}}const rs=new Zn("","");rs.locked=!0;let ns=class{constructor(t,s){this._dialogService=t,this._notificationService=s,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(t){for(const s of this._uriComparisonKeyComputers)if(s[0]===t.scheme)return s[1].getComparisonKey(t);return t.toString()}_print(t){console.log("------------------------------------"),console.log(`AFTER ${t}: `);const s=[];for(const m of this._editStacks)s.push(m[1].toString());console.log(s.join(`
`))}pushElement(t,s=Xn.Xt.None,m=Xn.gJ.None){if(t.type===0){const W=is(t.resource),q=this.getUriComparisonKey(t.resource);this._pushElement(new no(t,W,q,s.id,s.nextOrder(),m.id,m.nextOrder()))}else{const W=new Set,q=[],ae=[];for(const fe of t.resources){const ke=is(fe),Ze=this.getUriComparisonKey(fe);W.has(Ze)||(W.add(Ze),q.push(ke),ae.push(Ze))}q.length===1?this._pushElement(new no(t,q[0],ae[0],s.id,s.nextOrder(),m.id,m.nextOrder())):this._pushElement(new Mn(t,q,ae,s.id,s.nextOrder(),m.id,m.nextOrder()))}ms&&this._print("pushElement")}_pushElement(t){for(let s=0,m=t.strResources.length;s<m;s++){const W=t.resourceLabels[s],q=t.strResources[s];let ae;this._editStacks.has(q)?ae=this._editStacks.get(q):(ae=new Zn(W,q),this._editStacks.set(q,ae)),ae.pushElement(t)}}getLastElement(t){const s=this.getUriComparisonKey(t);if(this._editStacks.has(s)){const m=this._editStacks.get(s);if(m.hasFutureElements())return null;const W=m.getClosestPastElement();return W?W.actual:null}return null}_splitPastWorkspaceElement(t,s){const m=t.actual.split(),W=new Map;for(const q of m){const ae=is(q.resource),fe=this.getUriComparisonKey(q.resource),ke=new no(q,ae,fe,0,0,0,0);W.set(ke.strResource,ke)}for(const q of t.strResources){if(s&&s.has(q))continue;this._editStacks.get(q).splitPastWorkspaceElement(t,W)}}_splitFutureWorkspaceElement(t,s){const m=t.actual.split(),W=new Map;for(const q of m){const ae=is(q.resource),fe=this.getUriComparisonKey(q.resource),ke=new no(q,ae,fe,0,0,0,0);W.set(ke.strResource,ke)}for(const q of t.strResources){if(s&&s.has(q))continue;this._editStacks.get(q).splitFutureWorkspaceElement(t,W)}}removeElements(t){const s=typeof t=="string"?t:this.getUriComparisonKey(t);this._editStacks.has(s)&&(this._editStacks.get(s).dispose(),this._editStacks.delete(s)),ms&&this._print("removeElements")}setElementsValidFlag(t,s,m){const W=this.getUriComparisonKey(t);this._editStacks.has(W)&&this._editStacks.get(W).setElementsValidFlag(s,m),ms&&this._print("setElementsValidFlag")}createSnapshot(t){const s=this.getUriComparisonKey(t);return this._editStacks.has(s)?this._editStacks.get(s).createSnapshot(t):new Xn.YO(t,[])}restoreSnapshot(t){const s=this.getUriComparisonKey(t.resource);if(this._editStacks.has(s)){const m=this._editStacks.get(s);m.restoreSnapshot(t),!m.hasPastElements()&&!m.hasFutureElements()&&(m.dispose(),this._editStacks.delete(s))}ms&&this._print("restoreSnapshot")}getElements(t){const s=this.getUriComparisonKey(t);return this._editStacks.has(s)?this._editStacks.get(s).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(t){if(!t)return[null,null];let s=null,m=null;for(const[W,q]of this._editStacks){const ae=q.getClosestPastElement();!ae||ae.sourceId===t&&(!s||ae.sourceOrder>s.sourceOrder)&&(s=ae,m=W)}return[s,m]}canUndo(t){if(t instanceof Xn.gJ){const[,m]=this._findClosestUndoElementWithSource(t.id);return!!m}const s=this.getUriComparisonKey(t);return this._editStacks.has(s)?this._editStacks.get(s).hasPastElements():!1}_onError(t,s){(0,K.dL)(t);for(const m of s.strResources)this.removeElements(m);this._notificationService.error(t)}_acquireLocks(t){for(const s of t.editStacks)if(s.locked)throw new Error("Cannot acquire edit stack lock");for(const s of t.editStacks)s.locked=!0;return()=>{for(const s of t.editStacks)s.locked=!1}}_safeInvokeWithLocks(t,s,m,W,q){const ae=this._acquireLocks(m);let fe;try{fe=s()}catch(ke){return ae(),W.dispose(),this._onError(ke,t)}return fe?fe.then(()=>(ae(),W.dispose(),q()),ke=>(ae(),W.dispose(),this._onError(ke,t))):(ae(),W.dispose(),q())}_invokeWorkspacePrepare(t){return fo(this,void 0,void 0,function*(){if(typeof t.actual.prepareUndoRedo>"u")return f.JT.None;const s=t.actual.prepareUndoRedo();return typeof s>"u"?f.JT.None:s})}_invokeResourcePrepare(t,s){if(t.actual.type!==1||typeof t.actual.prepareUndoRedo>"u")return s(f.JT.None);const m=t.actual.prepareUndoRedo();return m?(0,f.Wf)(m)?s(m):m.then(W=>s(W)):s(f.JT.None)}_getAffectedEditStacks(t){const s=[];for(const m of t.strResources)s.push(this._editStacks.get(m)||rs);return new gn(s)}_tryToSplitAndUndo(t,s,m,W){if(s.canSplit())return this._splitPastWorkspaceElement(s,m),this._notificationService.warn(W),new ps(this._undo(t,0,!0));for(const q of s.strResources)this.removeElements(q);return this._notificationService.warn(W),new ps}_checkWorkspaceUndo(t,s,m,W){if(s.removedResources)return this._tryToSplitAndUndo(t,s,s.removedResources,wi.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",s.label,s.removedResources.createMessage()));if(W&&s.invalidatedResources)return this._tryToSplitAndUndo(t,s,s.invalidatedResources,wi.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",s.label,s.invalidatedResources.createMessage()));const q=[];for(const fe of m.editStacks)fe.getClosestPastElement()!==s&&q.push(fe.resourceLabel);if(q.length>0)return this._tryToSplitAndUndo(t,s,null,wi.NC({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",s.label,q.join(", ")));const ae=[];for(const fe of m.editStacks)fe.locked&&ae.push(fe.resourceLabel);return ae.length>0?this._tryToSplitAndUndo(t,s,null,wi.NC({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",s.label,ae.join(", "))):m.isValid()?null:this._tryToSplitAndUndo(t,s,null,wi.NC({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",s.label))}_workspaceUndo(t,s,m){const W=this._getAffectedEditStacks(s),q=this._checkWorkspaceUndo(t,s,W,!1);return q?q.returnValue:this._confirmAndExecuteWorkspaceUndo(t,s,W,m)}_isPartOfUndoGroup(t){if(!t.groupId)return!1;for(const[,s]of this._editStacks){const m=s.getClosestPastElement();if(!!m){if(m===t){const W=s.getSecondClosestPastElement();if(W&&W.groupId===t.groupId)return!0}if(m.groupId===t.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(t,s,m,W){return fo(this,void 0,void 0,function*(){if(s.canSplit()&&!this._isPartOfUndoGroup(s)){const fe=yield this._dialogService.show(ss.Z.Info,wi.NC("confirmWorkspace","Would you like to undo '{0}' across all files?",s.label),[wi.NC({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",m.editStacks.length),wi.NC("nok","Undo this File"),wi.NC("cancel","Cancel")],{cancelId:2});if(fe.choice===2)return;if(fe.choice===1)return this._splitPastWorkspaceElement(s,null),this._undo(t,0,!0);const ke=this._checkWorkspaceUndo(t,s,m,!1);if(ke)return ke.returnValue;W=!0}let q;try{q=yield this._invokeWorkspacePrepare(s)}catch(fe){return this._onError(fe,s)}const ae=this._checkWorkspaceUndo(t,s,m,!0);if(ae)return q.dispose(),ae.returnValue;for(const fe of m.editStacks)fe.moveBackward(s);return this._safeInvokeWithLocks(s,()=>s.actual.undo(),m,q,()=>this._continueUndoInGroup(s.groupId,W))})}_resourceUndo(t,s,m){if(!s.isValid){t.flushAllElements();return}if(t.locked){const W=wi.NC({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",s.label);this._notificationService.warn(W);return}return this._invokeResourcePrepare(s,W=>(t.moveBackward(s),this._safeInvokeWithLocks(s,()=>s.actual.undo(),new gn([t]),W,()=>this._continueUndoInGroup(s.groupId,m))))}_findClosestUndoElementInGroup(t){if(!t)return[null,null];let s=null,m=null;for(const[W,q]of this._editStacks){const ae=q.getClosestPastElement();!ae||ae.groupId===t&&(!s||ae.groupOrder>s.groupOrder)&&(s=ae,m=W)}return[s,m]}_continueUndoInGroup(t,s){if(!t)return;const[,m]=this._findClosestUndoElementInGroup(t);if(m)return this._undo(m,0,s)}undo(t){if(t instanceof Xn.gJ){const[,s]=this._findClosestUndoElementWithSource(t.id);return s?this._undo(s,t.id,!1):void 0}return typeof t=="string"?this._undo(t,0,!1):this._undo(this.getUriComparisonKey(t),0,!1)}_undo(t,s=0,m){if(!this._editStacks.has(t))return;const W=this._editStacks.get(t),q=W.getClosestPastElement();if(!q)return;if(q.groupId){const[fe,ke]=this._findClosestUndoElementInGroup(q.groupId);if(q!==fe&&ke)return this._undo(ke,s,m)}if((q.sourceId!==s||q.confirmBeforeUndo)&&!m)return this._confirmAndContinueUndo(t,s,q);try{return q.type===1?this._workspaceUndo(t,q,m):this._resourceUndo(W,q,m)}finally{ms&&this._print("undo")}}_confirmAndContinueUndo(t,s,m){return fo(this,void 0,void 0,function*(){if((yield this._dialogService.show(ss.Z.Info,wi.NC("confirmDifferentSource","Would you like to undo '{0}'?",m.label),[wi.NC("confirmDifferentSource.yes","Yes"),wi.NC("confirmDifferentSource.no","No")],{cancelId:1})).choice!==1)return this._undo(t,s,!0)})}_findClosestRedoElementWithSource(t){if(!t)return[null,null];let s=null,m=null;for(const[W,q]of this._editStacks){const ae=q.getClosestFutureElement();!ae||ae.sourceId===t&&(!s||ae.sourceOrder<s.sourceOrder)&&(s=ae,m=W)}return[s,m]}canRedo(t){if(t instanceof Xn.gJ){const[,m]=this._findClosestRedoElementWithSource(t.id);return!!m}const s=this.getUriComparisonKey(t);return this._editStacks.has(s)?this._editStacks.get(s).hasFutureElements():!1}_tryToSplitAndRedo(t,s,m,W){if(s.canSplit())return this._splitFutureWorkspaceElement(s,m),this._notificationService.warn(W),new ps(this._redo(t));for(const q of s.strResources)this.removeElements(q);return this._notificationService.warn(W),new ps}_checkWorkspaceRedo(t,s,m,W){if(s.removedResources)return this._tryToSplitAndRedo(t,s,s.removedResources,wi.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",s.label,s.removedResources.createMessage()));if(W&&s.invalidatedResources)return this._tryToSplitAndRedo(t,s,s.invalidatedResources,wi.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",s.label,s.invalidatedResources.createMessage()));const q=[];for(const fe of m.editStacks)fe.getClosestFutureElement()!==s&&q.push(fe.resourceLabel);if(q.length>0)return this._tryToSplitAndRedo(t,s,null,wi.NC({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",s.label,q.join(", ")));const ae=[];for(const fe of m.editStacks)fe.locked&&ae.push(fe.resourceLabel);return ae.length>0?this._tryToSplitAndRedo(t,s,null,wi.NC({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",s.label,ae.join(", "))):m.isValid()?null:this._tryToSplitAndRedo(t,s,null,wi.NC({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",s.label))}_workspaceRedo(t,s){const m=this._getAffectedEditStacks(s),W=this._checkWorkspaceRedo(t,s,m,!1);return W?W.returnValue:this._executeWorkspaceRedo(t,s,m)}_executeWorkspaceRedo(t,s,m){return fo(this,void 0,void 0,function*(){let W;try{W=yield this._invokeWorkspacePrepare(s)}catch(ae){return this._onError(ae,s)}const q=this._checkWorkspaceRedo(t,s,m,!0);if(q)return W.dispose(),q.returnValue;for(const ae of m.editStacks)ae.moveForward(s);return this._safeInvokeWithLocks(s,()=>s.actual.redo(),m,W,()=>this._continueRedoInGroup(s.groupId))})}_resourceRedo(t,s){if(!s.isValid){t.flushAllElements();return}if(t.locked){const m=wi.NC({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",s.label);this._notificationService.warn(m);return}return this._invokeResourcePrepare(s,m=>(t.moveForward(s),this._safeInvokeWithLocks(s,()=>s.actual.redo(),new gn([t]),m,()=>this._continueRedoInGroup(s.groupId))))}_findClosestRedoElementInGroup(t){if(!t)return[null,null];let s=null,m=null;for(const[W,q]of this._editStacks){const ae=q.getClosestFutureElement();!ae||ae.groupId===t&&(!s||ae.groupOrder<s.groupOrder)&&(s=ae,m=W)}return[s,m]}_continueRedoInGroup(t){if(!t)return;const[,s]=this._findClosestRedoElementInGroup(t);if(s)return this._redo(s)}redo(t){if(t instanceof Xn.gJ){const[,s]=this._findClosestRedoElementWithSource(t.id);return s?this._redo(s):void 0}return typeof t=="string"?this._redo(t):this._redo(this.getUriComparisonKey(t))}_redo(t){if(!this._editStacks.has(t))return;const s=this._editStacks.get(t),m=s.getClosestFutureElement();if(!!m){if(m.groupId){const[W,q]=this._findClosestRedoElementInGroup(m.groupId);if(m!==W&&q)return this._redo(q)}try{return m.type===1?this._workspaceRedo(t,m):this._resourceRedo(s,m)}finally{ms&&this._print("redo")}}}};ns=zi([ho(0,Os.S),ho(1,fi.lT)],ns);class ps{constructor(t){this.returnValue=t}}(0,Ln.z)(Xn.tJ,ns);var br=i(88191),Ss=i(59069),so=i(8313),mo=i(66007),zr=i(800),To=i(69386),xa=i(88216),us=i(94565),_s=i(43702);class hs{constructor(t={},s=[],m=[]){this._contents=t,this._keys=s,this._overrides=m,this.frozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(t){return t?(0,li.Mt)(this.contents,t):this.contents}getOverrideValue(t,s){const m=this.getContentsForOverrideIdentifer(s);return m?t?(0,li.Mt)(m,t):m:void 0}override(t){let s=this.overrideConfigurations.get(t);return s||(s=this.createOverrideConfigurationModel(t),this.overrideConfigurations.set(t,s)),s}merge(...t){const s=u.I8(this.contents),m=u.I8(this.overrides),W=[...this.keys];for(const q of t)if(!q.isEmpty()){this.mergeContents(s,q.contents);for(const ae of q.overrides){const[fe]=m.filter(ke=>_i.fS(ke.identifiers,ae.identifiers));fe?(this.mergeContents(fe.contents,ae.contents),fe.keys.push(...ae.keys),fe.keys=_i.EB(fe.keys)):m.push(u.I8(ae))}for(const ae of q.keys)W.indexOf(ae)===-1&&W.push(ae)}return new hs(s,W,m)}freeze(){return this.frozen=!0,this}createOverrideConfigurationModel(t){const s=this.getContentsForOverrideIdentifer(t);if(!s||typeof s!="object"||!Object.keys(s).length)return this;const m={};for(const W of _i.EB([...Object.keys(this.contents),...Object.keys(s)])){let q=this.contents[W];const ae=s[W];ae&&(typeof q=="object"&&typeof ae=="object"?(q=u.I8(q),this.mergeContents(q,ae)):q=ae),m[W]=q}return new hs(m,this.keys,this.overrides)}mergeContents(t,s){for(const m of Object.keys(s)){if(m in t&&X.Kn(t[m])&&X.Kn(s[m])){this.mergeContents(t[m],s[m]);continue}t[m]=u.I8(s[m])}}checkAndFreeze(t){return this.frozen&&!Object.isFrozen(t)?u._A(t):t}getContentsForOverrideIdentifer(t){let s=null,m=null;const W=q=>{q&&(m?this.mergeContents(m,q):m=u.I8(q))};for(const q of this.overrides)_i.fS(q.identifiers,[t])?s=q.contents:q.identifiers.includes(t)&&W(q.contents);return W(s),m}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(t,s){this.addKey(t),(0,li.KV)(this.contents,t,s,m=>{throw new Error(m)})}removeValue(t){this.removeKey(t)&&(0,li.xL)(this.contents,t)}addKey(t){let s=this.keys.length;for(let m=0;m<s;m++)t.indexOf(this.keys[m])===0&&(s=m);this.keys.splice(s,1,t)}removeKey(t){const s=this.keys.indexOf(t);return s!==-1?(this.keys.splice(s,1),!0):!1}}class po{constructor(t,s,m,W,q=new hs,ae=new hs,fe=new _s.Y9,ke=new hs,Ze=new _s.Y9,it=!0){this._defaultConfiguration=t,this._policyConfiguration=s,this._applicationConfiguration=m,this._localUserConfiguration=W,this._remoteUserConfiguration=q,this._workspaceConfiguration=ae,this._folderConfigurations=fe,this._memoryConfiguration=ke,this._memoryConfigurationByResource=Ze,this._freeze=it,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new _s.Y9,this._userConfiguration=null}getValue(t,s,m){return this.getConsolidatedConfigurationModel(t,s,m).getValue(t)}updateValue(t,s,m={}){let W;m.resource?(W=this._memoryConfigurationByResource.get(m.resource),W||(W=new hs,this._memoryConfigurationByResource.set(m.resource,W))):W=this._memoryConfiguration,s===void 0?W.removeValue(t):W.setValue(t,s),m.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(t,s,m){const W=this.getConsolidatedConfigurationModel(t,s,m),q=this.getFolderConfigurationModelForResource(s.resource,m),ae=s.resource?this._memoryConfigurationByResource.get(s.resource)||this._memoryConfiguration:this._memoryConfiguration,fe=s.overrideIdentifier?this._defaultConfiguration.freeze().override(s.overrideIdentifier).getValue(t):this._defaultConfiguration.freeze().getValue(t),ke=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().getValue(t),Ze=this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze().getValue(t),it=s.overrideIdentifier?this.userConfiguration.freeze().override(s.overrideIdentifier).getValue(t):this.userConfiguration.freeze().getValue(t),Ct=s.overrideIdentifier?this.localUserConfiguration.freeze().override(s.overrideIdentifier).getValue(t):this.localUserConfiguration.freeze().getValue(t),ti=s.overrideIdentifier?this.remoteUserConfiguration.freeze().override(s.overrideIdentifier).getValue(t):this.remoteUserConfiguration.freeze().getValue(t),ri=m?s.overrideIdentifier?this._workspaceConfiguration.freeze().override(s.overrideIdentifier).getValue(t):this._workspaceConfiguration.freeze().getValue(t):void 0,hi=q?s.overrideIdentifier?q.freeze().override(s.overrideIdentifier).getValue(t):q.freeze().getValue(t):void 0,Di=s.overrideIdentifier?ae.override(s.overrideIdentifier).getValue(t):ae.getValue(t),ki=W.getValue(t),Qi=_i.EB(W.overrides.map(rn=>rn.identifiers).flat()).filter(rn=>W.getOverrideValue(t,rn)!==void 0);return{defaultValue:fe,policyValue:ke,applicationValue:Ze,userValue:it,userLocalValue:Ct,userRemoteValue:ti,workspaceValue:ri,workspaceFolderValue:hi,memoryValue:Di,value:ki,default:fe!==void 0?{value:this._defaultConfiguration.freeze().getValue(t),override:s.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,policy:ke!==void 0?{value:ke}:void 0,application:Ze!==void 0?{value:Ze,override:s.overrideIdentifier?this.applicationConfiguration.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,user:it!==void 0?{value:this.userConfiguration.freeze().getValue(t),override:s.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,userLocal:Ct!==void 0?{value:this.localUserConfiguration.freeze().getValue(t),override:s.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,userRemote:ti!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(t),override:s.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,workspace:ri!==void 0?{value:this._workspaceConfiguration.freeze().getValue(t),override:s.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,workspaceFolder:hi!==void 0?{value:q==null?void 0:q.freeze().getValue(t),override:s.overrideIdentifier?q==null?void 0:q.freeze().getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,memory:Di!==void 0?{value:ae.getValue(t),override:s.overrideIdentifier?ae.getOverrideValue(t,s.overrideIdentifier):void 0}:void 0,overrideIdentifiers:Qi.length?Qi:void 0}}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(t,s,m){let W=this.getConsolidatedConfigurationModelForResource(s,m);return s.overrideIdentifier&&(W=W.override(s.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(t)!==void 0&&(W=W.merge(this._policyConfiguration)),W}getConsolidatedConfigurationModelForResource({resource:t},s){let m=this.getWorkspaceConsolidatedConfiguration();if(s&&t){const W=s.getFolder(t);W&&(m=this.getFolderConsolidatedConfiguration(W.uri)||m);const q=this._memoryConfigurationByResource.get(t);q&&(m=m.merge(q))}return m}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(t){let s=this._foldersConsolidatedConfigurations.get(t);if(!s){const m=this.getWorkspaceConsolidatedConfiguration(),W=this._folderConfigurations.get(t);W?(s=m.merge(W),this._freeze&&(s=s.freeze()),this._foldersConsolidatedConfigurations.set(t,s)):s=m}return s}getFolderConfigurationModelForResource(t,s){if(s&&t){const m=s.getFolder(t);if(m)return this._folderConfigurations.get(m.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((t,s)=>{const{contents:m,overrides:W,keys:q}=this._folderConfigurations.get(s);return t.push([s,{contents:m,overrides:W,keys:q}]),t},[])}}static parse(t){const s=this.parseConfigurationModel(t.defaults),m=this.parseConfigurationModel(t.policy),W=this.parseConfigurationModel(t.application),q=this.parseConfigurationModel(t.user),ae=this.parseConfigurationModel(t.workspace),fe=t.folders.reduce((ke,Ze)=>(ke.set(D.o.revive(Ze[0]),this.parseConfigurationModel(Ze[1])),ke),new _s.Y9);return new po(s,m,W,q,new hs,ae,fe,new hs,new _s.Y9,!1)}static parseConfigurationModel(t){return new hs(t.contents,t.keys,t.overrides).freeze()}}class Ma{constructor(t,s,m,W){this.change=t,this.previous=s,this.currentConfiguraiton=m,this.currentWorkspace=W,this._previousConfiguration=void 0;const q=new Set;t.keys.forEach(fe=>q.add(fe)),t.overrides.forEach(([,fe])=>fe.forEach(ke=>q.add(ke))),this.affectedKeys=[...q.values()];const ae=new hs;this.affectedKeys.forEach(fe=>ae.setValue(fe,{})),this.affectedKeysTree=ae.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=po.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(t,s){var m;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,t)){if(s){const W=this.previousConfiguration?this.previousConfiguration.getValue(t,s,(m=this.previous)===null||m===void 0?void 0:m.workspace):void 0,q=this.currentConfiguraiton.getValue(t,s,this.currentWorkspace);return!u.fS(W,q)}return!0}return!1}doesAffectedKeysTreeContains(t,s){let m=(0,li.Od)({[s]:!0},()=>{}),W;for(;typeof m=="object"&&(W=Object.keys(m)[0]);){if(t=t[W],!t)return!1;m=m[W]}return!0}}const Ko=/^(cursor|delete)/;class jo extends f.JT{constructor(t,s,m,W,q){super(),this._contextKeyService=t,this._commandService=s,this._telemetryService=m,this._notificationService=W,this._logService=q,this._onDidUpdateKeybindings=this._register(new O.Q5),this._currentChord=null,this._currentChordChecker=new U.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=Xs.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new U._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:O.ju.None}dispose(){super.dispose()}_log(t){this._logging&&this._logService.info(`[KeybindingService]: ${t}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(t,s){const m=this._getResolver().lookupPrimaryKeybinding(t,s||this._contextKeyService);if(!!m)return m.resolvedKeybinding}dispatchEvent(t,s){return this._dispatch(t,s)}softDispatch(t,s){this._log("/ Soft dispatching keyboard event");const m=this.resolveKeyboardEvent(t);if(m.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[W]=m.getDispatchParts();if(W===null)return this._log("\\ Keyboard event cannot be dispatched"),null;const q=this._contextKeyService.getContext(s),ae=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(q,ae,W)}_enterChordMode(t,s){this._currentChord={keypress:t,label:s},this._currentChordStatusMessage=this._notificationService.status(wi.NC("first.chord","({0}) was pressed. Waiting for second key of chord...",s));const m=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-m>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(t,s){return this._doDispatch(this.resolveKeyboardEvent(t),s,!1)}_singleModifierDispatch(t,s){const m=this.resolveKeyboardEvent(t),[W]=m.getSingleModifierDispatchParts();if(W)return this._ignoreSingleModifiers.has(W)?(this._log(`+ Ignoring single modifier ${W} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=Xs.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=Xs.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${W}.`),this._currentSingleModifier=W,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):W===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${W} ${W}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(m,s,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${W}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[q]=m.getParts();return this._ignoreSingleModifiers=new Xs(q),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(t,s,m=!1){let W=!1;if(t.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let q=null,ae=null;if(m){const[it]=t.getSingleModifierDispatchParts();q=it,ae=it}else[q]=t.getDispatchParts(),ae=this._currentChord?this._currentChord.keypress:null;if(q===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),W;const fe=this._contextKeyService.getContext(s),ke=t.getLabel(),Ze=this._getResolver().resolve(fe,ae,q);return this._logService.trace("KeybindingService#dispatch",ke,Ze==null?void 0:Ze.commandId),Ze&&Ze.enterChord?(W=!0,this._enterChordMode(q,ke),this._log("+ Entering chord mode..."),W):(this._currentChord&&(!Ze||!Ze.commandId)&&(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${ke}".`),this._notificationService.status(wi.NC("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,ke),{hideAfter:10*1e3}),W=!0),this._leaveChordMode(),Ze&&Ze.commandId&&(Ze.bubble||(W=!0),this._log(`+ Invoking command ${Ze.commandId}.`),typeof Ze.commandArgs>"u"?this._commandService.executeCommand(Ze.commandId).then(void 0,it=>this._notificationService.warn(it)):this._commandService.executeCommand(Ze.commandId,Ze.commandArgs).then(void 0,it=>this._notificationService.warn(it)),Ko.test(Ze.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:Ze.commandId,from:"keybinding"})),W)}mightProducePrintableCharacter(t){return t.ctrlKey||t.metaKey?!1:t.keyCode>=31&&t.keyCode<=56||t.keyCode>=21&&t.keyCode<=30}}class Xs{constructor(t){this._ctrlKey=t?t.ctrlKey:!1,this._shiftKey=t?t.shiftKey:!1,this._altKey=t?t.altKey:!1,this._metaKey=t?t.metaKey:!1}has(t){switch(t){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}Xs.EMPTY=new Xs(null);var _o=i(91847);class Ao{constructor(t,s,m){this._log=m,this._defaultKeybindings=t,this._defaultBoundCommands=new Map;for(const W of t){const q=W.command;q&&q.charAt(0)!=="-"&&this._defaultBoundCommands.set(q,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=Ao.handleRemovals([].concat(t).concat(s));for(let W=0,q=this._keybindings.length;W<q;W++){const ae=this._keybindings[W];ae.keypressParts.length!==0&&(ae.when&&ae.when.type===0||this._addKeyPress(ae.keypressParts[0],ae))}}static _isTargetedForRemoval(t,s,m,W){return!(s&&t.keypressParts[0]!==s||m&&t.keypressParts[1]!==m||W&&(!t.when||!(0,nn.Fb)(W,t.when)))}static handleRemovals(t){const s=new Map;for(let W=0,q=t.length;W<q;W++){const ae=t[W];if(ae.command&&ae.command.charAt(0)==="-"){const fe=ae.command.substring(1);s.has(fe)?s.get(fe).push(ae):s.set(fe,[ae])}}if(s.size===0)return t;const m=[];for(let W=0,q=t.length;W<q;W++){const ae=t[W];if(!ae.command||ae.command.length===0){m.push(ae);continue}if(ae.command.charAt(0)==="-")continue;const fe=s.get(ae.command);if(!fe||!ae.isDefault){m.push(ae);continue}let ke=!1;for(const Ze of fe){const it=Ze.keypressParts[0],Ct=Ze.keypressParts[1],ti=Ze.when;if(this._isTargetedForRemoval(ae,it,Ct,ti)){ke=!0;break}}if(!ke){m.push(ae);continue}}return m}_addKeyPress(t,s){const m=this._map.get(t);if(typeof m>"u"){this._map.set(t,[s]),this._addToLookupMap(s);return}for(let W=m.length-1;W>=0;W--){const q=m[W];if(q.command===s.command)continue;const ae=q.keypressParts.length>1,fe=s.keypressParts.length>1;ae&&fe&&q.keypressParts[1]!==s.keypressParts[1]||Ao.whenIsEntirelyIncluded(q.when,s.when)&&this._removeFromLookupMap(q)}m.push(s),this._addToLookupMap(s)}_addToLookupMap(t){if(!t.command)return;let s=this._lookupMap.get(t.command);typeof s>"u"?(s=[t],this._lookupMap.set(t.command,s)):s.push(t)}_removeFromLookupMap(t){if(!t.command)return;const s=this._lookupMap.get(t.command);if(!(typeof s>"u")){for(let m=0,W=s.length;m<W;m++)if(s[m]===t){s.splice(m,1);return}}}static whenIsEntirelyIncluded(t,s){return!s||s.type===1?!0:!t||t.type===1?!1:(0,nn.K8)(t,s)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(t,s){const m=this._lookupMap.get(t);if(typeof m>"u"||m.length===0)return null;if(m.length===1)return m[0];for(let W=m.length-1;W>=0;W--){const q=m[W];if(s.contextMatchesRules(q.when))return q}return m[m.length-1]}resolve(t,s,m){this._log(`| Resolving ${m}${s?` chorded from ${s}`:""}`);let W=null;if(s!==null){const ae=this._map.get(s);if(typeof ae>"u")return this._log("\\ No keybinding entries."),null;W=[];for(let fe=0,ke=ae.length;fe<ke;fe++){const Ze=ae[fe];Ze.keypressParts[1]===m&&W.push(Ze)}}else{const ae=this._map.get(m);if(typeof ae>"u")return this._log("\\ No keybinding entries."),null;W=ae}const q=this._findCommand(t,W);return q?s===null&&q.keypressParts.length>1&&q.keypressParts[1]!==null?(this._log(`\\ From ${W.length} keybinding entries, matched chord, when: ${Kr(q.when)}, source: ${jr(q)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${W.length} keybinding entries, matched ${q.command}, when: ${Kr(q.when)}, source: ${jr(q)}.`),{enterChord:!1,leaveChord:q.keypressParts.length>1,commandId:q.command,commandArgs:q.commandArgs,bubble:q.bubble}):(this._log(`\\ From ${W.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(t,s){for(let m=s.length-1;m>=0;m--){const W=s[m];if(!!Ao._contextMatchesRules(t,W.when))return W}return null}static _contextMatchesRules(t,s){return s?s.evaluate(t):!0}}function Kr(ue){return ue?`${ue.serialize()}`:"no when condition"}function jr(ue){return ue.extensionId?ue.isBuiltinExtension?`built-in extension ${ue.extensionId}`:`user extension ${ue.extensionId}`:ue.isDefault?"built-in":"user"}var Ta=i(49989);class Sr{constructor(t,s,m,W,q,ae,fe){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=t,this.keypressParts=t?$o(t.getDispatchParts()):[],t&&this.keypressParts.length===0&&(this.keypressParts=$o(t.getSingleModifierDispatchParts())),this.bubble=s?s.charCodeAt(0)===94:!1,this.command=this.bubble?s.substr(1):s,this.commandArgs=m,this.when=W,this.isDefault=q,this.extensionId=ae,this.isBuiltinExtension=fe}}function $o(ue){const t=[];for(let s=0,m=ue.length;s<m;s++){const W=ue[s];if(!W)return t;t.push(W)}return t}var Go=i(8030);class Aa extends so.f1{constructor(t,s){if(super(),s.length===0)throw(0,K.b1)("parts");this._os=t,this._parts=s}getLabel(){return Go.xo.toLabel(this._os,this._parts,t=>this._getLabel(t))}getAriaLabel(){return Go.X4.toLabel(this._os,this._parts,t=>this._getAriaLabel(t))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:Go.jC.toLabel(this._os,this._parts,t=>this._getElectronAccelerator(t))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(t=>this._getPart(t))}_getPart(t){return new so.BQ(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,this._getLabel(t),this._getAriaLabel(t))}getDispatchParts(){return this._parts.map(t=>this._getDispatchPart(t))}getSingleModifierDispatchParts(){return this._parts.map(t=>this._getSingleModifierDispatchPart(t))}}class Ro extends Aa{constructor(t,s){super(s,t.parts)}_keyCodeToUILabel(t){if(this._os===2)switch(t){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return V.kL.toString(t)}_getLabel(t){return t.isDuplicateModifierCase()?"":this._keyCodeToUILabel(t.keyCode)}_getAriaLabel(t){return t.isDuplicateModifierCase()?"":V.kL.toString(t.keyCode)}_getElectronAccelerator(t){return V.kL.toElectronAccelerator(t.keyCode)}_getDispatchPart(t){return Ro.getDispatchStr(t)}static getDispatchStr(t){if(t.isModifierKey())return null;let s="";return t.ctrlKey&&(s+="ctrl+"),t.shiftKey&&(s+="shift+"),t.altKey&&(s+="alt+"),t.metaKey&&(s+="meta+"),s+=V.kL.toString(t.keyCode),s}_getSingleModifierDispatchPart(t){return t.keyCode===5&&!t.shiftKey&&!t.altKey&&!t.metaKey?"ctrl":t.keyCode===4&&!t.ctrlKey&&!t.altKey&&!t.metaKey?"shift":t.keyCode===6&&!t.ctrlKey&&!t.shiftKey&&!t.metaKey?"alt":t.keyCode===57&&!t.ctrlKey&&!t.shiftKey&&!t.altKey?"meta":null}static _scanCodeToKeyCode(t){const s=V.Vd[t];if(s!==-1)return s;switch(t){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(t){if(!t)return null;if(t instanceof so.QC)return t;const s=this._scanCodeToKeyCode(t.scanCode);return s===0?null:new so.QC(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,s)}static resolveUserBinding(t,s){const m=$o(t.map(W=>this._resolveSimpleUserBinding(W)));return m.length>0?[new Ro(new so.X_(m),s)]:[]}}var Ra=i(44349),Zo=i(10829),Qo=i(40382),wr=i(20913),Yo=i(95935),$r=i(33425),Pa=i(10161),Gr=i(61134),Js;(function(ue){ue[ue.AVOID=0]="AVOID",ue[ue.ALIGN=1]="ALIGN"})(Js||(Js={}));function vo(ue,t,s){const m=s.mode===Js.ALIGN?s.offset:s.offset+s.size,W=s.mode===Js.ALIGN?s.offset+s.size:s.offset;return s.position===0?t<=ue-m?m:t<=W?W-t:Math.max(ue-t,0):t<=W?W-t:t<=ue-m?m:0}class ks extends f.JT{constructor(t,s){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=f.JT.None,this.toDisposeOnSetContainer=f.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=Pt.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,Pt.Cp(this.view),this.setContainer(t,s),this._register((0,f.OF)(()=>this.setContainer(null,1)))}setContainer(t,s){var m;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(m=this.shadowRootHostElement)===null||m===void 0||m.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),t){if(this.container=t,this.useFixedPosition=s!==1,this.useShadowDOM=s===3,this.useShadowDOM){this.shadowRootHostElement=Pt.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const q=document.createElement("style");q.textContent=Zr,this.shadowRoot.appendChild(q),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(Pt.$("slot"))}else this.container.appendChild(this.view);const W=new f.SL;ks.BUBBLE_UP_EVENTS.forEach(q=>{W.add(Pt.mu(this.container,q,ae=>{this.onDOMEvent(ae,!1)}))}),ks.BUBBLE_DOWN_EVENTS.forEach(q=>{W.add(Pt.mu(this.container,q,ae=>{this.onDOMEvent(ae,!0)},!0))}),this.toDisposeOnSetContainer=W}}show(t){var s,m;this.isVisible()&&this.hide(),Pt.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",Pt.$Z(this.view),this.toDisposeOnClean=t.render(this.view)||f.JT.None,this.delegate=t,this.doLayout(),(m=(s=this.delegate).focus)===null||m===void 0||m.call(s)}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(H.gn&&Pa.D.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const t=this.delegate.getAnchor();let s;if(Pt.Re(t)){const Ct=Pt.i(t),ti=Pt.I8(t);s={top:Ct.top*ti,left:Ct.left*ti,width:Ct.width*ti,height:Ct.height*ti}}else s={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const m=Pt.w(this.view),W=Pt.wn(this.view),q=this.delegate.anchorPosition||0,ae=this.delegate.anchorAlignment||0,fe=this.delegate.anchorAxisAlignment||0;let ke,Ze;if(fe===0){const Ct={offset:s.top-window.pageYOffset,size:s.height,position:q===0?0:1},ti={offset:s.left,size:s.width,position:ae===0?0:1,mode:Js.ALIGN};ke=vo(window.innerHeight,W,Ct)+window.pageYOffset,Gr.e.intersects({start:ke,end:ke+W},{start:Ct.offset,end:Ct.offset+Ct.size})&&(ti.mode=Js.AVOID),Ze=vo(window.innerWidth,m,ti)}else{const Ct={offset:s.left,size:s.width,position:ae===0?0:1},ti={offset:s.top,size:s.height,position:q===0?0:1,mode:Js.ALIGN};Ze=vo(window.innerWidth,m,Ct),Gr.e.intersects({start:Ze,end:Ze+m},{start:Ct.offset,end:Ct.offset+Ct.size})&&(ti.mode=Js.AVOID),ke=vo(window.innerHeight,W,ti)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(q===0?"bottom":"top"),this.view.classList.add(ae===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const it=Pt.i(this.container);this.view.style.top=`${ke-(this.useFixedPosition?Pt.i(this.view).top:it.top)}px`,this.view.style.left=`${Ze-(this.useFixedPosition?Pt.i(this.view).left:it.left)}px`,this.view.style.width="initial"}hide(t){const s=this.delegate;this.delegate=null,s!=null&&s.onHide&&s.onHide(t),this.toDisposeOnClean.dispose(),Pt.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(t,s){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,document.activeElement):s&&!Pt.jg(t.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}ks.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],ks.BUBBLE_DOWN_EVENTS=["click"];const Zr=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var Qr=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},Gl=function(ue,t){return function(s,m){t(s,m,ue)}};let Co=class extends f.JT{constructor(t){super(),this.layoutService=t,this.currentViewDisposable=f.JT.None,this.container=t.hasContainer?t.container:null,this.contextView=this._register(new ks(this.container,1)),this.layout(),this._register(t.onDidLayout(()=>this.layout()))}setContainer(t,s){this.contextView.setContainer(t,s||1)}showContextView(t,s,m){s?(s!==this.container||this.shadowRoot!==m)&&(this.container=s,this.setContainer(s,m?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=m,this.contextView.show(t);const W=(0,f.OF)(()=>{this.currentViewDisposable===W&&this.hideContextView()});return this.currentViewDisposable=W,W}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(t){this.contextView.hide(t)}};Co=Qr([Gl(0,$s)],Co);var yr=i(15527),Fs=i(88721),Xo=function(ue,t,s,m){function W(q){return q instanceof s?q:new s(function(ae){ae(q)})}return new(s||(s=Promise))(function(q,ae){function fe(it){try{Ze(m.next(it))}catch(Ct){ae(Ct)}}function ke(it){try{Ze(m.throw(it))}catch(Ct){ae(Ct)}}function Ze(it){it.done?q(it.value):W(it.value).then(fe,ke)}Ze((m=m.apply(ue,t||[])).next())})};const bo="**",Yr="/",Jo="[/\\\\]",qs="[^/\\\\]",Xr=/\//g;function qo(ue,t){switch(ue){case 0:return"";case 1:return`${qs}*?`;default:return`(?:${Jo}|${qs}+${Jo}${t?`|${Jo}${qs}+`:""})*?`}}function Lr(ue,t){if(!ue)return[];const s=[];let m=!1,W=!1,q="";for(const ae of ue){switch(ae){case t:if(!m&&!W){s.push(q),q="";continue}break;case"{":m=!0;break;case"}":m=!1;break;case"[":W=!0;break;case"]":W=!1;break}q+=ae}return q&&s.push(q),s}function er(ue){if(!ue)return"";let t="";const s=Lr(ue,Yr);if(s.every(m=>m===bo))t=".*";else{let m=!1;s.forEach((W,q)=>{if(W===bo){if(m)return;t+=qo(2,q===s.length-1)}else{let ae=!1,fe="",ke=!1,Ze="";for(const it of W){if(it!=="}"&&ae){fe+=it;continue}if(ke&&(it!=="]"||!Ze)){let Ct;it==="-"?Ct=it:(it==="^"||it==="!")&&!Ze?Ct="^":it===Yr?Ct="":Ct=(0,l.ec)(it),Ze+=Ct;continue}switch(it){case"{":ae=!0;continue;case"[":ke=!0;continue;case"}":{t+=`(?:${Lr(fe,",").map(ri=>er(ri)).join("|")})`,ae=!1,fe="";break}case"]":{t+="["+Ze+"]",ke=!1,Ze="";break}case"?":t+=qs;continue;case"*":t+=qo(1);continue;default:t+=(0,l.ec)(it)}}q<s.length-1&&(s[q+1]!==bo||q+2<s.length)&&(t+=Jo)}m=W===bo})}return t}const Dr=/^\*\*\/\*\.[\w\.-]+$/,Er=/^\*\*\/([\w\.-]+)\/?$/,Oa=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,ka=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,Fa=/^\*\*((\/[\w\.-]+)+)\/?$/,Ir=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,tr=new _s.z6(1e4),Jr=function(){return!1},Bs=function(){return null};function Nr(ue,t){if(!ue)return Bs;let s;typeof ue!="string"?s=ue.pattern:s=ue,s=s.trim();const m=`${s}_${!!t.trimForExclusions}`;let W=tr.get(m);if(W)return qr(W,ue);let q;return Dr.test(s)?W=Ba(s.substr(4),s):(q=Er.exec(As(s,t)))?W=Wa(q[1],s):(t.trimForExclusions?ka:Oa).test(s)?W=Va(s,t):(q=Fa.exec(As(s,t)))?W=Po(q[1].substr(1),s,!0):(q=Ir.exec(As(s,t)))?W=Po(q[1],s,!1):W=ea(s),tr.set(m,W),qr(W,ue)}function qr(ue,t){if(typeof t=="string")return ue;const s=function(m,W){return(0,yr.KM)(m,t.base,!H.IJ)?ue(m.substr(t.base.length+1),W):null};return s.allBasenames=ue.allBasenames,s.allPaths=ue.allPaths,s.basenames=ue.basenames,s.patterns=ue.patterns,s}function As(ue,t){return t.trimForExclusions&&ue.endsWith("/**")?ue.substr(0,ue.length-2):ue}function Ba(ue,t){return function(s,m){return typeof s=="string"&&s.endsWith(ue)?t:null}}function Wa(ue,t){const s=`/${ue}`,m=`\\${ue}`,W=function(ae,fe){return typeof ae!="string"?null:fe?fe===ue?t:null:ae===ue||ae.endsWith(s)||ae.endsWith(m)?t:null},q=[ue];return W.basenames=q,W.patterns=[t],W.allBasenames=q,W}function Va(ue,t){const s=ia(ue.slice(1,-1).split(",").map(fe=>Nr(fe,t)).filter(fe=>fe!==Bs),ue),m=s.length;if(!m)return Bs;if(m===1)return s[0];const W=function(fe,ke){for(let Ze=0,it=s.length;Ze<it;Ze++)if(s[Ze](fe,ke))return ue;return null},q=s.find(fe=>!!fe.allBasenames);q&&(W.allBasenames=q.allBasenames);const ae=s.reduce((fe,ke)=>ke.allPaths?fe.concat(ke.allPaths):fe,[]);return ae.length&&(W.allPaths=ae),W}function Po(ue,t,s){const m=Fs.ir===Fs.KR.sep,W=m?ue:ue.replace(Xr,Fs.ir),q=Fs.ir+W,ae=Fs.KR.sep+ue;let fe;return s?fe=function(ke,Ze){return typeof ke=="string"&&(ke===W||ke.endsWith(q)||!m&&(ke===ue||ke.endsWith(ae)))?t:null}:fe=function(ke,Ze){return typeof ke=="string"&&(ke===W||!m&&ke===ue)?t:null},fe.allPaths=[(s?"*/":"./")+ue],fe}function ea(ue){try{const t=new RegExp(`^${er(ue)}$`);return function(s){return t.lastIndex=0,typeof s=="string"&&t.test(s)?ue:null}}catch{return Bs}}function Ha(ue,t,s){return!ue||typeof t!="string"?!1:ta(ue)(t,void 0,s)}function ta(ue,t={}){if(!ue)return Jr;if(typeof ue=="string"||Ua(ue)){const s=Nr(ue,t);if(s===Bs)return Jr;const m=function(W,q){return!!s(W,q)};return s.allBasenames&&(m.allBasenames=s.allBasenames),s.allPaths&&(m.allPaths=s.allPaths),m}return za(ue,t)}function Ua(ue){const t=ue;return t?typeof t.base=="string"&&typeof t.pattern=="string":!1}function za(ue,t){const s=ia(Object.getOwnPropertyNames(ue).map(fe=>Ka(fe,ue[fe],t)).filter(fe=>fe!==Bs)),m=s.length;if(!m)return Bs;if(!s.some(fe=>!!fe.requiresSiblings)){if(m===1)return s[0];const fe=function(it,Ct){let ti;for(let ri=0,hi=s.length;ri<hi;ri++){const Di=s[ri](it,Ct);if(typeof Di=="string")return Di;(0,U.J8)(Di)&&(ti||(ti=[]),ti.push(Di))}return ti?(()=>Xo(this,void 0,void 0,function*(){for(const ri of ti){const hi=yield ri;if(typeof hi=="string")return hi}return null}))():null},ke=s.find(it=>!!it.allBasenames);ke&&(fe.allBasenames=ke.allBasenames);const Ze=s.reduce((it,Ct)=>Ct.allPaths?it.concat(Ct.allPaths):it,[]);return Ze.length&&(fe.allPaths=Ze),fe}const W=function(fe,ke,Ze){let it,Ct;for(let ti=0,ri=s.length;ti<ri;ti++){const hi=s[ti];hi.requiresSiblings&&Ze&&(ke||(ke=(0,Fs.EZ)(fe)),it||(it=ke.substr(0,ke.length-(0,Fs.DZ)(fe).length)));const Di=hi(fe,ke,it,Ze);if(typeof Di=="string")return Di;(0,U.J8)(Di)&&(Ct||(Ct=[]),Ct.push(Di))}return Ct?(()=>Xo(this,void 0,void 0,function*(){for(const ti of Ct){const ri=yield ti;if(typeof ri=="string")return ri}return null}))():null},q=s.find(fe=>!!fe.allBasenames);q&&(W.allBasenames=q.allBasenames);const ae=s.reduce((fe,ke)=>ke.allPaths?fe.concat(ke.allPaths):fe,[]);return ae.length&&(W.allPaths=ae),W}function Ka(ue,t,s){if(t===!1)return Bs;const m=Nr(ue,s);if(m===Bs)return Bs;if(typeof t=="boolean")return m;if(t){const W=t.when;if(typeof W=="string"){const q=(ae,fe,ke,Ze)=>{if(!Ze||!m(ae,fe))return null;const it=W.replace("$(basename)",ke),Ct=Ze(it);return(0,U.J8)(Ct)?Ct.then(ti=>ti?ue:null):Ct?ue:null};return q.requiresSiblings=!0,q}}return m}function ia(ue,t){const s=ue.filter(fe=>!!fe.basenames);if(s.length<2)return ue;const m=s.reduce((fe,ke)=>{const Ze=ke.basenames;return Ze?fe.concat(Ze):fe},[]);let W;if(t){W=[];for(let fe=0,ke=m.length;fe<ke;fe++)W.push(t)}else W=s.reduce((fe,ke)=>{const Ze=ke.patterns;return Ze?fe.concat(Ze):fe},[]);const q=function(fe,ke){if(typeof fe!="string")return null;if(!ke){let it;for(it=fe.length;it>0;it--){const Ct=fe.charCodeAt(it-1);if(Ct===47||Ct===92)break}ke=fe.substr(it)}const Ze=m.indexOf(ke);return Ze!==-1?W[Ze]:null};q.basenames=m,q.patterns=W,q.allBasenames=m;const ae=ue.filter(fe=>!fe.basenames);return ae.push(q),ae}var oo=i(81170),Ws=i(68801);let So=[],xr=[],yt=[];function e(ue,t=!1){o(ue,!1,t)}function o(ue,t,s){const m=v(ue,t);So.push(m),m.userConfigured?yt.push(m):xr.push(m),s&&!m.userConfigured&&So.forEach(W=>{W.mime===m.mime||W.userConfigured||(m.extension&&W.extension===m.extension&&console.warn(`Overwriting extension <<${m.extension}>> to now point to mime <<${m.mime}>>`),m.filename&&W.filename===m.filename&&console.warn(`Overwriting filename <<${m.filename}>> to now point to mime <<${m.mime}>>`),m.filepattern&&W.filepattern===m.filepattern&&console.warn(`Overwriting filepattern <<${m.filepattern}>> to now point to mime <<${m.mime}>>`),m.firstline&&W.firstline===m.firstline&&console.warn(`Overwriting firstline <<${m.firstline}>> to now point to mime <<${m.mime}>>`))})}function v(ue,t){return{id:ue.id,mime:ue.mime,filename:ue.filename,extension:ue.extension,filepattern:ue.filepattern,firstline:ue.firstline,userConfigured:t,filenameLowercase:ue.filename?ue.filename.toLowerCase():void 0,extensionLowercase:ue.extension?ue.extension.toLowerCase():void 0,filepatternLowercase:ue.filepattern?ta(ue.filepattern.toLowerCase()):void 0,filepatternOnPath:ue.filepattern?ue.filepattern.indexOf(Fs.KR.sep)>=0:!1}}function B(){So=So.filter(ue=>ue.userConfigured),xr=[]}function Y(ue,t){return ce(ue,t).map(s=>s.id)}function ce(ue,t){let s;if(ue)switch(ue.scheme){case Kn.lg.file:s=ue.fsPath;break;case Kn.lg.data:{s=Yo.Vb.parseMetaData(ue).get(Yo.Vb.META_DATA_LABEL);break}case Kn.lg.vscodeNotebookCell:s=void 0;break;default:s=ue.path}if(!s)return[{id:"unknown",mime:oo.v.unknown}];s=s.toLowerCase();const m=(0,Fs.EZ)(s),W=De(s,m,yt);if(W)return[W,{id:Ws.bd,mime:oo.v.text}];const q=De(s,m,xr);if(q)return[q,{id:Ws.bd,mime:oo.v.text}];if(t){const ae=Fe(t);if(ae)return[ae,{id:Ws.bd,mime:oo.v.text}]}return[{id:"unknown",mime:oo.v.unknown}]}function De(ue,t,s){var m;let W,q,ae;for(let fe=s.length-1;fe>=0;fe--){const ke=s[fe];if(t===ke.filenameLowercase){W=ke;break}if(ke.filepattern&&(!q||ke.filepattern.length>q.filepattern.length)){const Ze=ke.filepatternOnPath?ue:t;!((m=ke.filepatternLowercase)===null||m===void 0)&&m.call(ke,Ze)&&(q=ke)}ke.extension&&(!ae||ke.extension.length>ae.extension.length)&&t.endsWith(ke.extensionLowercase)&&(ae=ke)}if(W)return W;if(q)return q;if(ae)return ae}function Fe(ue){if((0,l.uS)(ue)&&(ue=ue.substr(1)),ue.length>0)for(let t=So.length-1;t>=0;t--){const s=So[t];if(!s.firstline)continue;const m=ue.match(s.firstline);if(m&&m.length>0)return s}}var Ue=i(23193),tt=i(89872);const gt=Object.prototype.hasOwnProperty,It="vs.editor.nullLanguage";class Nt{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(It,0),this._register(Ws.bd,1),this._nextLanguageId=2}_register(t,s){this._languageIdToLanguage[s]=t,this._languageToLanguageId.set(t,s)}register(t){if(this._languageToLanguageId.has(t))return;const s=this._nextLanguageId++;this._register(t,s)}encodeLanguageId(t){return this._languageToLanguageId.get(t)||0}decodeLanguageId(t){return this._languageIdToLanguage[t]||It}}class zt extends f.JT{constructor(t=!0,s=!1){super(),this._onDidChange=this._register(new O.Q5),this.onDidChange=this._onDidChange.event,zt.instanceCount++,this._warnOnOverwrite=s,this.languageIdCodec=new Nt,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},t&&(this._initializeFromRegistry(),this._register(Ws.dQ.onDidChangeLanguages(m=>{this._initializeFromRegistry()})))}dispose(){zt.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},B();const t=[].concat(Ws.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(t)}_registerLanguages(t){for(const s of t)this._registerLanguage(s);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(s=>{const m=this._languages[s];m.name&&(this._nameMap[m.name]=m.identifier),m.aliases.forEach(W=>{this._lowercaseNameMap[W.toLowerCase()]=m.identifier}),m.mimetypes.forEach(W=>{this._mimeTypesMap[W]=m.identifier})}),tt.B.as(Ue.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(t){const s=t.id;let m;gt.call(this._languages,s)?m=this._languages[s]:(this.languageIdCodec.register(s),m={identifier:s,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[s]=m),this._mergeLanguage(m,t)}_mergeLanguage(t,s){const m=s.id;let W=null;if(Array.isArray(s.mimetypes)&&s.mimetypes.length>0&&(t.mimetypes.push(...s.mimetypes),W=s.mimetypes[0]),W||(W=`text/x-${m}`,t.mimetypes.push(W)),Array.isArray(s.extensions)){s.configuration?t.extensions=s.extensions.concat(t.extensions):t.extensions=t.extensions.concat(s.extensions);for(const fe of s.extensions)e({id:m,mime:W,extension:fe},this._warnOnOverwrite)}if(Array.isArray(s.filenames))for(const fe of s.filenames)e({id:m,mime:W,filename:fe},this._warnOnOverwrite),t.filenames.push(fe);if(Array.isArray(s.filenamePatterns))for(const fe of s.filenamePatterns)e({id:m,mime:W,filepattern:fe},this._warnOnOverwrite);if(typeof s.firstLine=="string"&&s.firstLine.length>0){let fe=s.firstLine;fe.charAt(0)!=="^"&&(fe="^"+fe);try{const ke=new RegExp(fe);(0,l.IO)(ke)||e({id:m,mime:W,firstline:ke},this._warnOnOverwrite)}catch(ke){(0,K.dL)(ke)}}t.aliases.push(m);let q=null;if(typeof s.aliases<"u"&&Array.isArray(s.aliases)&&(s.aliases.length===0?q=[null]:q=s.aliases),q!==null)for(const fe of q)!fe||fe.length===0||t.aliases.push(fe);const ae=q!==null&&q.length>0;if(!(ae&&q[0]===null)){const fe=(ae?q[0]:null)||m;(ae||!t.name)&&(t.name=fe)}s.configuration&&t.configurationFiles.push(s.configuration),s.icon&&t.icons.push(s.icon)}isRegisteredLanguageId(t){return t?gt.call(this._languages,t):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(t){const s=t.toLowerCase();return gt.call(this._lowercaseNameMap,s)?this._lowercaseNameMap[s]:null}getLanguageIdByMimeType(t){return t&&gt.call(this._mimeTypesMap,t)?this._mimeTypesMap[t]:null}guessLanguageIdByFilepathOrFirstLine(t,s){return!t&&!s?[]:Y(t,s)}}zt.instanceCount=0;class qt extends f.JT{constructor(t=!1){super(),this._onDidEncounterLanguage=this._register(new O.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new O.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,qt.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new zt(!0,t)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){qt.instanceCount--,super.dispose()}isRegisteredLanguageId(t){return this._registry.isRegisteredLanguageId(t)}getLanguageIdByLanguageName(t){return this._registry.getLanguageIdByLanguageName(t)}getLanguageIdByMimeType(t){return this._registry.getLanguageIdByMimeType(t)}guessLanguageIdByFilepathOrFirstLine(t,s){const m=this._registry.guessLanguageIdByFilepathOrFirstLine(t,s);return(0,_i.Xh)(m,null)}createById(t){return new si(this.onDidChange,()=>this._createAndGetLanguageIdentifier(t))}createByFilepathOrFirstLine(t,s){return new si(this.onDidChange,()=>{const m=this.guessLanguageIdByFilepathOrFirstLine(t,s);return this._createAndGetLanguageIdentifier(m)})}_createAndGetLanguageIdentifier(t){return(!t||!this.isRegisteredLanguageId(t))&&(t=Ws.bd),this._encounteredLanguages.has(t)||(this._encounteredLanguages.add(t),A.RW.getOrCreate(t),this._onDidEncounterLanguage.fire(t)),t}}qt.instanceCount=0;class si{constructor(t,s){this._onDidChangeLanguages=t,this._selector=s,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new O.Q5({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var t;const s=this._selector();s!==this.languageId&&(this.languageId=s,(t=this._emitter)===null||t===void 0||t.fire(this.languageId))}}var ci=i(7448),vi=i(30747),gi=i(10553),Bi=i(76033),Ai=i(11287),Wi=i(21212);const Ui=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Ri=/(&amp;)?(&amp;)([^\s&])/g;var Zi;(function(ue){ue[ue.Right=0]="Right",ue[ue.Left=1]="Left"})(Zi||(Zi={}));class vn extends Gi.o{constructor(t,s,m={}){t.classList.add("monaco-menu-container"),t.setAttribute("role","presentation");const W=document.createElement("div");W.classList.add("monaco-menu"),W.setAttribute("role","presentation"),super(W,{orientation:1,actionViewItemProvider:fe=>this.doGetActionViewItem(fe,m,q),context:m.context,actionRunner:m.actionRunner,ariaLabel:m.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...H.dz||H.IJ?[10]:[]],keyDown:!0}}),this.menuElement=W,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new f.SL),this.initializeOrUpdateStyleSheet(t,{}),this._register(gi.o.addTarget(W)),(0,Pt.nm)(W,Pt.tw.KEY_DOWN,fe=>{new Ss.y(fe).equals(2)&&fe.preventDefault()}),m.enableMnemonics&&this.menuDisposables.add((0,Pt.nm)(W,Pt.tw.KEY_DOWN,fe=>{const ke=fe.key.toLocaleLowerCase();if(this.mnemonics.has(ke)){Pt.zB.stop(fe,!0);const Ze=this.mnemonics.get(ke);if(Ze.length===1&&(Ze[0]instanceof kn&&Ze[0].container&&this.focusItemByElement(Ze[0].container),Ze[0].onClick(fe)),Ze.length>1){const it=Ze.shift();it&&it.container&&(this.focusItemByElement(it.container),Ze.push(it)),this.mnemonics.set(ke,Ze)}}})),H.IJ&&this._register((0,Pt.nm)(W,Pt.tw.KEY_DOWN,fe=>{const ke=new Ss.y(fe);ke.equals(14)||ke.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Pt.zB.stop(fe,!0)):(ke.equals(13)||ke.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Pt.zB.stop(fe,!0))})),this._register((0,Pt.nm)(this.domNode,Pt.tw.MOUSE_OUT,fe=>{const ke=fe.relatedTarget;(0,Pt.jg)(ke,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),fe.stopPropagation())})),this._register((0,Pt.nm)(this.actionsList,Pt.tw.MOUSE_OVER,fe=>{let ke=fe.target;if(!(!ke||!(0,Pt.jg)(ke,this.actionsList)||ke===this.actionsList)){for(;ke.parentElement!==this.actionsList&&ke.parentElement!==null;)ke=ke.parentElement;if(ke.classList.contains("action-item")){const Ze=this.focusedItem;this.setFocusedItem(ke),Ze!==this.focusedItem&&this.updateFocus()}}})),this._register(gi.o.addTarget(this.actionsList)),this._register((0,Pt.nm)(this.actionsList,gi.t.Tap,fe=>{let ke=fe.initialTarget;if(!(!ke||!(0,Pt.jg)(ke,this.actionsList)||ke===this.actionsList)){for(;ke.parentElement!==this.actionsList&&ke.parentElement!==null;)ke=ke.parentElement;if(ke.classList.contains("action-item")){const Ze=this.focusedItem;this.setFocusedItem(ke),Ze!==this.focusedItem&&this.updateFocus()}}}));const q={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new _n.s$(W,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const ae=this.scrollableElement.getDomNode();ae.style.position="",this._register((0,Pt.nm)(W,gi.t.Change,fe=>{Pt.zB.stop(fe,!0);const ke=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:ke-fe.translationY})})),this._register((0,Pt.nm)(ae,Pt.tw.MOUSE_UP,fe=>{fe.preventDefault()})),W.style.maxHeight=`${Math.max(10,window.innerHeight-t.getBoundingClientRect().top-35)}px`,s=s.filter(fe=>{var ke;return!((ke=m.submenuIds)===null||ke===void 0)&&ke.has(fe.id)?(console.warn(`Found submenu cycle: ${fe.id}`),!1):!0}),this.push(s,{icon:!0,label:!0,isMenu:!0}),t.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(fe=>!(fe instanceof Pn)).forEach((fe,ke,Ze)=>{fe.updatePositionInSet(ke+1,Ze.length)})}initializeOrUpdateStyleSheet(t,s){this.styleSheet||((0,Pt.OO)(t)?this.styleSheet=(0,Pt.dS)(t):(vn.globalStyleSheet||(vn.globalStyleSheet=(0,Pt.dS)()),this.styleSheet=vn.globalStyleSheet)),this.styleSheet.textContent=Nn(s,(0,Pt.OO)(t))}style(t){const s=this.getContainer();this.initializeOrUpdateStyleSheet(s,t);const m=t.foregroundColor?`${t.foregroundColor}`:"",W=t.backgroundColor?`${t.backgroundColor}`:"",q=t.borderColor?`1px solid ${t.borderColor}`:"",ae="5px",fe=t.shadowColor?`0 2px 8px ${t.shadowColor}`:"";s.style.outline=q,s.style.borderRadius=ae,s.style.color=m,s.style.backgroundColor=W,s.style.boxShadow=fe,this.viewItems&&this.viewItems.forEach(ke=>{(ke instanceof on||ke instanceof Pn)&&ke.style(t)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(t){const s=this.focusedItem;this.setFocusedItem(t),s!==this.focusedItem&&this.updateFocus()}setFocusedItem(t){for(let s=0;s<this.actionsList.children.length;s++){const m=this.actionsList.children[s];if(t===m){this.focusedItem=s;break}}}updateFocus(t){super.updateFocus(t,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(t,s,m){if(t instanceof an.Z0)return new Pn(s.context,t,{icon:!0});if(t instanceof an.wY){const W=new kn(t,t.actions,m,Object.assign(Object.assign({},s),{submenuIds:new Set([...s.submenuIds||[],t.id])}));if(s.enableMnemonics){const q=W.getMnemonic();if(q&&W.isEnabled()){let ae=[];this.mnemonics.has(q)&&(ae=this.mnemonics.get(q)),ae.push(W),this.mnemonics.set(q,ae)}}return W}else{const W={enableMnemonics:s.enableMnemonics,useEventAsContext:s.useEventAsContext};if(s.getKeyBinding){const ae=s.getKeyBinding(t);if(ae){const fe=ae.getLabel();fe&&(W.keybinding=fe)}}const q=new on(s.context,t,W);if(s.enableMnemonics){const ae=q.getMnemonic();if(ae&&q.isEnabled()){let fe=[];this.mnemonics.has(ae)&&(fe=this.mnemonics.get(ae)),fe.push(q),this.mnemonics.set(ae,fe)}}return q}}}class on extends Bi.Y{constructor(t,s,m={}){if(m.isMenu=!0,super(s,s,m),this.options=m,this.options.icon=m.icon!==void 0?m.icon:!1,this.options.label=m.label!==void 0?m.label:!0,this.cssClass="",this.options.label&&m.enableMnemonics){const W=this.getAction().label;if(W){const q=Ui.exec(W);q&&(this.mnemonic=(q[1]?q[1]:q[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new U.pY(()=>{!this.element||(this._register((0,Pt.nm)(this.element,Pt.tw.MOUSE_UP,W=>{if(Pt.zB.stop(W,!0),vi.isFirefox){if(new ci.n(W).rightButton)return;this.onClick(W)}else setTimeout(()=>{this.onClick(W)},0)})),this._register((0,Pt.nm)(this.element,Pt.tw.CONTEXT_MENU,W=>{Pt.zB.stop(W,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(t){super.render(t),this.element&&(this.container=t,this.item=(0,Pt.R3)(this.element,(0,Pt.$)("a.action-menu-item")),this._action.id===an.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,Pt.R3)(this.item,(0,Pt.$)("span.menu-item-check"+Ii.lA.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,Pt.R3)(this.item,(0,Pt.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,Pt.R3)(this.item,(0,Pt.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(t,s){this.item&&(this.item.setAttribute("aria-posinset",`${t}`),this.item.setAttribute("aria-setsize",`${s}`))}updateLabel(){var t;if(!!this.label&&this.options.label){(0,Pt.PO)(this.label);let s=(0,Wi.x$)(this.getAction().label);if(s){const m=Jn(s);this.options.enableMnemonics||(s=m),this.label.setAttribute("aria-label",m.replace(/&&/g,"&"));const W=Ui.exec(s);if(W){s=l.YU(s),Ri.lastIndex=0;let q=Ri.exec(s);for(;q&&q[1];)q=Ri.exec(s);const ae=fe=>fe.replace(/&amp;&amp;/g,"&amp;");q?this.label.append(l.j3(ae(s.substr(0,q.index))," "),(0,Pt.$)("u",{"aria-hidden":"true"},q[3]),l.oL(ae(s.substr(q.index+q[0].length))," ")):this.label.innerText=ae(s).trim(),(t=this.item)===null||t===void 0||t.setAttribute("aria-keyshortcuts",(W[1]?W[1]:W[3]).toLocaleLowerCase())}else this.label.innerText=s.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const t=this.getAction().checked;this.item.classList.toggle("checked",!!t),t!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",t?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const t=this.element&&this.element.classList.contains("focused"),s=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,m=t&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,W=t&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",q=t&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=s?s.toString():"",this.item.style.backgroundColor=m?m.toString():"",this.item.style.outline=W,this.item.style.outlineOffset=q),this.check&&(this.check.style.color=s?s.toString():"")}style(t){this.menuStyle=t,this.applyStyle()}}class kn extends on{constructor(t,s,m,W){super(t,t,W),this.submenuActions=s,this.parentData=m,this.submenuOptions=W,this.mysubmenu=null,this.submenuDisposables=this._register(new f.SL),this.mouseOver=!1,this.expandDirection=W&&W.expandDirection!==void 0?W.expandDirection:Zi.Right,this.showScheduler=new U.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new U.pY(()=>{this.element&&!(0,Pt.jg)((0,Pt.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(t){super.render(t),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,Pt.R3)(this.item,(0,Pt.$)("span.submenu-indicator"+Ii.lA.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,Pt.nm)(this.element,Pt.tw.KEY_UP,s=>{const m=new Ss.y(s);(m.equals(17)||m.equals(3))&&(Pt.zB.stop(s,!0),this.createSubmenu(!0))})),this._register((0,Pt.nm)(this.element,Pt.tw.KEY_DOWN,s=>{const m=new Ss.y(s);(0,Pt.vY)()===this.item&&(m.equals(17)||m.equals(3))&&Pt.zB.stop(s,!0)})),this._register((0,Pt.nm)(this.element,Pt.tw.MOUSE_OVER,s=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,Pt.nm)(this.element,Pt.tw.MOUSE_LEAVE,s=>{this.mouseOver=!1})),this._register((0,Pt.nm)(this.element,Pt.tw.FOCUS_OUT,s=>{this.element&&!(0,Pt.jg)((0,Pt.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(t){Pt.zB.stop(t,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(t){if(this.parentData.submenu&&(t||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(t,s,m,W){const q={top:0,left:0};return q.left=vo(t.width,s.width,{position:W===Zi.Right?0:1,offset:m.left,size:m.width}),q.left>=m.left&&q.left<m.left+m.width&&(m.left+10+s.width<=t.width&&(q.left=m.left+10),m.top+=10,m.height=0),q.top=vo(t.height,s.height,{position:0,offset:m.top,size:0}),q.top+s.height===m.top&&q.top+m.height+s.height<=t.height&&(q.top+=m.height),q}createSubmenu(t=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,Pt.R3)(this.element,(0,Pt.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const s=getComputedStyle(this.parentData.parent.domNode),m=parseFloat(s.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new vn(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new an.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const W=this.element.getBoundingClientRect(),q={top:W.top-m,left:W.left,height:W.height+2*m,width:W.width},ae=this.submenuContainer.getBoundingClientRect(),{top:fe,left:ke}=this.calculateSubmenuMenuLayout(new Pt.Ro(window.innerWidth,window.innerHeight),Pt.Ro.lift(ae),q,this.expandDirection);this.submenuContainer.style.left=`${ke-ae.left}px`,this.submenuContainer.style.top=`${fe-ae.top}px`,this.submenuDisposables.add((0,Pt.nm)(this.submenuContainer,Pt.tw.KEY_UP,Ze=>{new Ss.y(Ze).equals(15)&&(Pt.zB.stop(Ze,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,Pt.nm)(this.submenuContainer,Pt.tw.KEY_DOWN,Ze=>{new Ss.y(Ze).equals(15)&&Pt.zB.stop(Ze,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(t),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(t){var s;this.item&&((s=this.item)===null||s===void 0||s.setAttribute("aria-expanded",t))}applyStyle(){var t;if(super.applyStyle(),!this.menuStyle)return;const m=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=m?`${m}`:""),(t=this.parentData.submenu)===null||t===void 0||t.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class Pn extends Bi.g{style(t){this.label&&(this.label.style.borderBottomColor=t.separatorColor?`${t.separatorColor}`:"")}}function Jn(ue){const t=Ui,s=t.exec(ue);if(!s)return ue;const m=!s[1];return ue.replace(t,m?"$2$3":"").trim()}function Nn(ue,t){let s=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${(0,Ai.a)(Ii.lA.menuSelection)}
${(0,Ai.a)(Ii.lA.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .6em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(t){s+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const m=ue.scrollbarShadow;m&&(s+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${m} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${m} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${m} 6px 6px 6px -6px inset;
				}
			`);const W=ue.scrollbarSliderBackground;W&&(s+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${W};
				}
			`);const q=ue.scrollbarSliderHoverBackground;q&&(s+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${q};
				}
			`);const ae=ue.scrollbarSliderActiveBackground;ae&&(s+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${ae};
				}
			`)}return s}var Vn=i(88810);class qn{constructor(t,s,m,W,q){this.contextViewService=t,this.telemetryService=s,this.notificationService=m,this.keybindingService=W,this.themeService=q,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(t){this.options=t}showContextMenu(t){const s=t.getActions();if(!s.length)return;this.focusToReturn=document.activeElement;let m;const W=(0,Pt.Re)(t.domForShadowRoot)?t.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>t.getAnchor(),canRelayout:!1,anchorAlignment:t.anchorAlignment,anchorAxisAlignment:t.anchorAxisAlignment,render:q=>{const ae=t.getMenuClassName?t.getMenuClassName():"";ae&&(q.className+=" "+ae),this.options.blockMouse&&(this.block=q.appendChild((0,Pt.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,Pt.nm)(this.block,Pt.tw.MOUSE_DOWN,Ze=>Ze.stopPropagation()));const fe=new f.SL,ke=t.actionRunner||new an.Wi;return ke.onBeforeRun(this.onActionRun,this,fe),ke.onDidRun(this.onDidActionRun,this,fe),m=new vn(q,s,{actionViewItemProvider:t.getActionViewItem,context:t.getActionsContext?t.getActionsContext():null,actionRunner:ke,getKeyBinding:t.getKeyBinding?t.getKeyBinding:Ze=>this.keybindingService.lookupKeybinding(Ze.id)}),fe.add((0,Vn.tj)(m,this.themeService)),m.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,fe),m.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,fe),fe.add((0,Pt.nm)(window,Pt.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),fe.add((0,Pt.nm)(window,Pt.tw.MOUSE_DOWN,Ze=>{if(Ze.defaultPrevented)return;const it=new ci.n(Ze);let Ct=it.target;if(!it.rightButton){for(;Ct;){if(Ct===q)return;Ct=Ct.parentElement}this.contextViewService.hideContextView(!0)}})),(0,f.F8)(fe,m)},focus:()=>{m==null||m.focus(!!t.autoSelectFirstItem)},onHide:q=>{var ae;(ae=t.onHide)===null||ae===void 0||ae.call(t,!!q),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},W,!!W)}onActionRun(t){this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(t){t.error&&!(0,K.n2)(t.error)&&this.notificationService.error(t.error)}}var Yn=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},as=function(ue,t){return function(s,m){t(s,m,ue)}};let ja=class extends f.JT{constructor(t,s,m,W,q){super(),this._onDidShowContextMenu=new O.Q5,this._onDidHideContextMenu=new O.Q5,this.contextMenuHandler=new qn(m,t,s,W,q)}configure(t){this.contextMenuHandler.configure(t)}showContextMenu(t){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},t),{onHide:s=>{var m;(m=t.onHide)===null||m===void 0||m.call(t,s),this._onDidHideContextMenu.fire()}})),Pt._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};ja=Yn([as(0,Zo.b),as(1,fi.lT),as(2,Ti.u),as(3,_o.d),as(4,oi.XE)],ja);var Zl=i(23897),na;(function(ue){ue[ue.API=0]="API",ue[ue.USER=1]="USER"})(na||(na={}));var Mr=i(50988),$a=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},sa=function(ue,t){return function(s,m){t(s,m,ue)}},Oo=function(ue,t,s,m){function W(q){return q instanceof s?q:new s(function(ae){ae(q)})}return new(s||(s=Promise))(function(q,ae){function fe(it){try{Ze(m.next(it))}catch(Ct){ae(Ct)}}function ke(it){try{Ze(m.throw(it))}catch(Ct){ae(Ct)}}function Ze(it){it.done?q(it.value):W(it.value).then(fe,ke)}Ze((m=m.apply(ue,t||[])).next())})};let Ga=class{constructor(t){this._commandService=t}open(t,s){return Oo(this,void 0,void 0,function*(){if(!(0,Mr.xn)(t,Kn.lg.command))return!1;if(!(s!=null&&s.allowCommands))return!0;typeof t=="string"&&(t=D.o.parse(t));let m=[];try{m=(0,Zl.Q)(decodeURIComponent(t.query))}catch{try{m=(0,Zl.Q)(t.query)}catch{}}return Array.isArray(m)||(m=[m]),yield this._commandService.executeCommand(t.path,...m),!0})}};Ga=$a([sa(0,us.Hy)],Ga);let Za=class{constructor(t){this._editorService=t}open(t,s){return Oo(this,void 0,void 0,function*(){typeof t=="string"&&(t=D.o.parse(t));const{selection:m,uri:W}=(0,Mr.xI)(t);return t=W,t.scheme===Kn.lg.file&&(t=(0,Yo.AH)(t)),yield this._editorService.openCodeEditor({resource:t,options:Object.assign({selection:m,source:s!=null&&s.fromUserGesture?na.USER:na.API},s==null?void 0:s.editorOptions)},this._editorService.getFocusedCodeEditor(),s==null?void 0:s.openToSide),!0})}};Za=$a([sa(0,a.$)],Za);let Qa=class{constructor(t,s){this._openers=new js.S,this._validators=new js.S,this._resolvers=new js.S,this._resolvedUriTargets=new _s.Y9(m=>m.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new js.S,this._defaultExternalOpener={openExternal:m=>Oo(this,void 0,void 0,function*(){return(0,Mr.Gs)(m,Kn.lg.http,Kn.lg.https)?Pt.V3(m):window.location.href=m,!0})},this._openers.push({open:(m,W)=>Oo(this,void 0,void 0,function*(){return(W==null?void 0:W.openExternal)||(0,Mr.Gs)(m,Kn.lg.mailto,Kn.lg.http,Kn.lg.https,Kn.lg.vsls)?(yield this._doOpenExternal(m,W),!0):!1})}),this._openers.push(new Ga(s)),this._openers.push(new Za(t))}registerOpener(t){return{dispose:this._openers.unshift(t)}}registerValidator(t){return{dispose:this._validators.push(t)}}registerExternalUriResolver(t){return{dispose:this._resolvers.push(t)}}setDefaultExternalOpener(t){this._defaultExternalOpener=t}registerExternalOpener(t){return{dispose:this._externalOpeners.push(t)}}open(t,s){var m;return Oo(this,void 0,void 0,function*(){const W=typeof t=="string"?D.o.parse(t):t,q=(m=this._resolvedUriTargets.get(W))!==null&&m!==void 0?m:t;for(const ae of this._validators)if(!(yield ae.shouldOpen(q,s)))return!1;for(const ae of this._openers)if(yield ae.open(t,s))return!0;return!1})}resolveExternalUri(t,s){return Oo(this,void 0,void 0,function*(){for(const m of this._resolvers)try{const W=yield m.resolveExternalUri(t,s);if(W)return this._resolvedUriTargets.has(W.resolved)||this._resolvedUriTargets.set(W.resolved,t),W}catch{}throw new Error("Could not resolve external URI: "+t.toString())})}_doOpenExternal(t,s){return Oo(this,void 0,void 0,function*(){const m=typeof t=="string"?D.o.parse(t):t;let W;try{W=(yield this.resolveExternalUri(m,s)).resolved}catch{W=m}let q;if(typeof t=="string"&&m.toString()===W.toString()?q=t:q=encodeURI(W.toString(!0)),s!=null&&s.allowContributedOpeners){const ae=typeof(s==null?void 0:s.allowContributedOpeners)=="string"?s==null?void 0:s.allowContributedOpeners:void 0;for(const fe of this._externalOpeners)if(yield fe.openExternal(q,{sourceUri:m,preferredOpenerId:ae},r.T.None))return!0}return this._defaultExternalOpener.openExternal(q,{sourceUri:m},r.T.None)})}dispose(){this._validators.clear()}};Qa=$a([sa(0,a.$),sa(1,us.Hy)],Qa);var ws=i(98674),cd=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},Ql=function(ue,t){return function(s,m){t(s,m,ue)}};class dd extends f.JT{constructor(t){super(),this.model=t,this._markersData=new Map,this._register((0,f.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(t,s){const m=[...this._markersData.keys()];this._markersData.clear();const W=this.model.deltaDecorations(m,s);for(let q=0;q<W.length;q++)this._markersData.set(W[q],t[q]);return m.length!==0||W.length!==0}getMarker(t){return this._markersData.get(t.id)}}let Ya=class extends f.JT{constructor(t,s){super(),this._markerService=s,this._onDidChangeMarker=this._register(new O.Q5),this._markerDecorations=new _s.Y9,t.getModels().forEach(m=>this._onModelAdded(m)),this._register(t.onModelAdded(this._onModelAdded,this)),this._register(t.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(t=>t.dispose()),this._markerDecorations.clear()}getMarker(t,s){const m=this._markerDecorations.get(t);return m&&m.getMarker(s)||null}_handleMarkerChange(t){t.forEach(s=>{const m=this._markerDecorations.get(s);m&&this._updateDecorations(m)})}_onModelAdded(t){const s=new dd(t);this._markerDecorations.set(t.uri,s),this._updateDecorations(s)}_onModelRemoved(t){var s;const m=this._markerDecorations.get(t.uri);m&&(m.dispose(),this._markerDecorations.delete(t.uri)),(t.uri.scheme===Kn.lg.inMemory||t.uri.scheme===Kn.lg.internal||t.uri.scheme===Kn.lg.vscode)&&((s=this._markerService)===null||s===void 0||s.read({resource:t.uri}).map(W=>W.owner).forEach(W=>this._markerService.remove(W,[t.uri])))}_updateDecorations(t){const s=this._markerService.read({resource:t.model.uri,take:500}),m=s.map(W=>({range:this._createDecorationRange(t.model,W),options:this._createDecorationOption(W)}));t.update(s,m)&&this._onDidChangeMarker.fire(t.model)}_createDecorationRange(t,s){let m=M.e.lift(s);if(s.severity===ws.ZL.Hint&&!this._hasMarkerTag(s,1)&&!this._hasMarkerTag(s,2)&&(m=m.setEndPosition(m.startLineNumber,m.startColumn+2)),m=t.validateRange(m),m.isEmpty()){const W=t.getLineLastNonWhitespaceColumn(m.startLineNumber)||t.getLineMaxColumn(m.startLineNumber);if(W===1||m.endColumn>=W)return m;const q=t.getWordAtPosition(m.getStartPosition());q&&(m=new M.e(m.startLineNumber,q.startColumn,m.endLineNumber,q.endColumn))}else if(s.endColumn===Number.MAX_VALUE&&s.startColumn===1&&m.startLineNumber===m.endLineNumber){const W=t.getLineFirstNonWhitespaceColumn(s.startLineNumber);W<m.endColumn&&(m=new M.e(m.startLineNumber,W,m.endLineNumber,m.endColumn),s.startColumn=W)}return m}_createDecorationOption(t){let s,m,W,q,ae;switch(t.severity){case ws.ZL.Hint:this._hasMarkerTag(t,2)?s=void 0:this._hasMarkerTag(t,1)?s="squiggly-unnecessary":s="squiggly-hint",W=0;break;case ws.ZL.Warning:s="squiggly-warning",m=(0,oi.EN)(En.Re),W=20,ae={color:(0,oi.EN)(yi.Ivo),position:E.F5.Inline};break;case ws.ZL.Info:s="squiggly-info",m=(0,oi.EN)(En.eS),W=10;break;case ws.ZL.Error:default:s="squiggly-error",m=(0,oi.EN)(En.lK),W=30,ae={color:(0,oi.EN)(yi.Gj_),position:E.F5.Inline};break}return t.tags&&(t.tags.indexOf(1)!==-1&&(q="squiggly-inline-unnecessary"),t.tags.indexOf(2)!==-1&&(q="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:s,showIfCollapsed:!0,overviewRuler:{color:m,position:E.sh.Right},minimap:ae,zIndex:W,inlineClassName:q}}_hasMarkerTag(t,s){return t.tags?t.tags.indexOf(s)>=0:!1}};Ya=cd([Ql(0,Q.q),Ql(1,ws.lT)],Ya);var ud=i(36357),hd=i(51200),ir=i(31106),Yl=i(56811),nr=i(41264);const fd={buttonBackground:nr.Il.fromHex("#0E639C"),buttonHoverBackground:nr.Il.fromHex("#006BB3"),buttonSeparator:nr.Il.white,buttonForeground:nr.Il.white};class Xl extends f.JT{constructor(t,s){super(),this._onDidClick=this._register(new O.Q5),this.options=s||Object.create(null),(0,u.jB)(this.options,fd,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),t.appendChild(this._element),this._register(gi.o.addTarget(this._element)),[Pt.tw.CLICK,gi.t.Tap].forEach(m=>{this._register((0,Pt.nm)(this._element,m,W=>{if(!this.enabled){Pt.zB.stop(W);return}this._onDidClick.fire(W)}))}),this._register((0,Pt.nm)(this._element,Pt.tw.KEY_DOWN,m=>{const W=new Ss.y(m);let q=!1;this.enabled&&(W.equals(3)||W.equals(10))?(this._onDidClick.fire(m),q=!0):W.equals(9)&&(this._element.blur(),q=!0),q&&Pt.zB.stop(W,!0)})),this._register((0,Pt.nm)(this._element,Pt.tw.MOUSE_OVER,m=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,Pt.nm)(this._element,Pt.tw.MOUSE_OUT,m=>{this.applyStyles()})),this.focusTracker=this._register((0,Pt.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.setHoverBackground()})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.applyStyles()})),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let t;this.options.secondary?t=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:t=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,t&&(this._element.style.backgroundColor=t)}style(t){this.buttonForeground=t.buttonForeground,this.buttonBackground=t.buttonBackground,this.buttonHoverBackground=t.buttonHoverBackground,this.buttonSecondaryForeground=t.buttonSecondaryForeground,this.buttonSecondaryBackground=t.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=t.buttonSecondaryHoverBackground,this.buttonBorder=t.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let t,s;this.options.secondary?(s=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",t=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(s=this.buttonForeground?this.buttonForeground.toString():"",t=this.buttonBackground?this.buttonBackground.toString():"");const m=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=s,this._element.style.backgroundColor=t,this._element.style.borderWidth=m?"1px":"",this._element.style.borderStyle=m?"solid":"",this._element.style.borderColor=m}}get element(){return this._element}set label(t){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,Pt.mc)(this._element,...(0,Yl.T)(t)):this._element.textContent=t,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=t)}set enabled(t){t?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var Jl=i(4451);const ql="done",ec="active",Xa="infinite",Ja="infinite-long-running",tc="discrete",gd={progressBarBackground:nr.Il.fromHex("#0E70C0")};class oa extends f.JT{constructor(t,s){super(),this.options=s||Object.create(null),(0,u.jB)(this.options,gd,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new U.pY(()=>(0,Pt.$Z)(this.element),0)),this.longRunningScheduler=this._register(new U.pY(()=>this.infiniteLongRunning(),oa.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(t)}create(t){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),t.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(ec,Xa,Ja,tc),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(t){return this.element.classList.add(ql),this.element.classList.contains(Xa)?(this.bit.style.opacity="0",t?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",t?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(tc,ql,Ja),this.element.classList.add(ec,Xa),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(Ja)}getContainer(){return this.element}style(t){this.progressBarBackground=t.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const t=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=t}}}oa.LONG_RUNNING_INFINITE_THRESHOLD=1e4;var md=i(44742);const qa={},pd=new md.R("quick-input-button-icon-");function el(ue){if(!ue)return;let t;const s=ue.dark.toString();return qa[s]?t=qa[s]:(t=pd.nextId(),Pt.fk(`.${t}, .hc-light .${t}`,`background-image: ${Pt.wY(ue.light||ue.dark)}`),Pt.fk(`.vs-dark .${t}, .hc-black .${t}`,`background-image: ${Pt.wY(ue.dark)}`),qa[s]=t),t}var Vs=i(67746),_d=i(41519);const vd=Pt.$;class Cd extends f.JT{constructor(t){super(),this.parent=t,this.onKeyDown=s=>Pt.nm(this.inputBox.inputElement,Pt.tw.KEY_DOWN,m=>{s(new Ss.y(m))}),this.onMouseDown=s=>Pt.nm(this.inputBox.inputElement,Pt.tw.MOUSE_DOWN,m=>{s(new ci.n(m))}),this.onDidChange=s=>this.inputBox.onDidChange(s),this.container=Pt.R3(this.parent,vd(".quick-input-box")),this.inputBox=this._register(new _d.W(this.container,void 0))}get value(){return this.inputBox.value}set value(t){this.inputBox.value=t}select(t=null){this.inputBox.select(t)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(t){this.inputBox.setPlaceHolder(t)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(t){this.inputBox.setAriaLabel(t)}get password(){return this.inputBox.inputElement.type==="password"}set password(t){this.inputBox.inputElement.type=t?"password":"text"}setAttribute(t,s){this.inputBox.inputElement.setAttribute(t,s)}removeAttribute(t){this.inputBox.inputElement.removeAttribute(t)}showDecoration(t){t===ss.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:t===ss.Z.Info?1:t===ss.Z.Warning?2:3,content:""})}stylesForType(t){return this.inputBox.stylesForType(t===ss.Z.Info?1:t===ss.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(t){this.inputBox.style(t)}}var ic=i(11069);const ra=Pt.$;class tl{constructor(t,s,m){this.os=s,this.keyElements=new Set,this.options=m||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=Pt.R3(t,ra(".monaco-keybinding")),this.didEverRender=!1,t.appendChild(this.domNode)}get element(){return this.domNode}set(t,s){this.didEverRender&&this.keybinding===t&&tl.areSame(this.matches,s)||(this.keybinding=t,this.matches=s,this.render())}render(){if(this.clear(),this.keybinding){const[t,s]=this.keybinding.getParts();t&&this.renderPart(this.domNode,t,this.matches?this.matches.firstPart:null),s&&(Pt.R3(this.domNode,ra("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,s,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){Pt.PO(this.domNode),this.keyElements.clear()}renderPart(t,s,m){const W=Go.xo.modifierLabels[this.os];s.ctrlKey&&this.renderKey(t,W.ctrlKey,Boolean(m==null?void 0:m.ctrlKey),W.separator),s.shiftKey&&this.renderKey(t,W.shiftKey,Boolean(m==null?void 0:m.shiftKey),W.separator),s.altKey&&this.renderKey(t,W.altKey,Boolean(m==null?void 0:m.altKey),W.separator),s.metaKey&&this.renderKey(t,W.metaKey,Boolean(m==null?void 0:m.metaKey),W.separator);const q=s.keyLabel;q&&this.renderKey(t,q,Boolean(m==null?void 0:m.keyCode),"")}renderKey(t,s,m,W){Pt.R3(t,this.createKeyElement(s,m?".highlight":"")),W&&Pt.R3(t,ra("span.monaco-keybinding-key-separator",void 0,W))}renderUnbound(t){Pt.R3(t,this.createKeyElement((0,wi.NC)("unbound","Unbound")))}createKeyElement(t,s=""){const m=ra("span.monaco-keybinding-key"+s,void 0,t);return this.keyElements.add(m),m}style(t){this.labelBackground=t.keybindingLabelBackground,this.labelForeground=t.keybindingLabelForeground,this.labelBorder=t.keybindingLabelBorder,this.labelBottomBorder=t.keybindingLabelBottomBorder,this.labelShadow=t.keybindingLabelShadow,this.applyStyles()}applyStyles(){var t;if(this.element){for(const s of this.keyElements)this.labelBackground&&(s.style.backgroundColor=(t=this.labelBackground)===null||t===void 0?void 0:t.toString()),this.labelBorder&&(s.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(s.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(s.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(t,s){return t===s||!t&&!s?!0:!!t&&!!s&&(0,u.fS)(t.firstPart,s.firstPart)&&(0,u.fS)(t.chordPart,s.chordPart)}}const nc=new U.Ue(()=>{const ue=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:ue,collatorIsNumeric:ue.resolvedOptions().numeric}}),Uh=new U.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),zh=new U.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function bd(ue,t,s=!1){const m=ue||"",W=t||"",q=nc.value.collator.compare(m,W);return nc.value.collatorIsNumeric&&q===0&&m!==W?m<W?-1:1:q}function Sd(ue,t,s){const m=ue.toLowerCase(),W=t.toLowerCase(),q=wd(ue,t,s);if(q)return q;const ae=m.endsWith(s),fe=W.endsWith(s);if(ae!==fe)return ae?-1:1;const ke=bd(m,W);return ke!==0?ke:m.localeCompare(W)}function wd(ue,t,s){const m=ue.toLowerCase(),W=t.toLowerCase(),q=m.startsWith(s),ae=W.startsWith(s);if(q!==ae)return q?-1:1;if(q&&ae){if(m.length<W.length)return-1;if(m.length>W.length)return 1}return 0}var sc=i(49898),oc=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},yd=function(ue,t,s,m){function W(q){return q instanceof s?q:new s(function(ae){ae(q)})}return new(s||(s=Promise))(function(q,ae){function fe(it){try{Ze(m.next(it))}catch(Ct){ae(Ct)}}function ke(it){try{Ze(m.throw(it))}catch(Ct){ae(Ct)}}function Ze(it){it.done?q(it.value):W(it.value).then(fe,ke)}Ze((m=m.apply(ue,t||[])).next())})};const eo=Pt.$;class Ld{constructor(t){this.hidden=!1,this._onChecked=new O.Q5,this.onChecked=this._onChecked.event,Object.assign(this,t)}get checked(){return!!this._checked}set checked(t){t!==this._checked&&(this._checked=t,this._onChecked.fire(t))}dispose(){this._onChecked.dispose()}}class Tr{get templateId(){return Tr.ID}renderTemplate(t){const s=Object.create(null);s.toDisposeElement=[],s.toDisposeTemplate=[],s.entry=Pt.R3(t,eo(".quick-input-list-entry"));const m=Pt.R3(s.entry,eo("label.quick-input-list-label"));s.toDisposeTemplate.push(Pt.mu(m,Pt.tw.CLICK,Ze=>{s.checkbox.offsetParent||Ze.preventDefault()})),s.checkbox=Pt.R3(m,eo("input.quick-input-list-checkbox")),s.checkbox.type="checkbox",s.toDisposeTemplate.push(Pt.mu(s.checkbox,Pt.tw.CHANGE,Ze=>{s.element.checked=s.checkbox.checked}));const W=Pt.R3(m,eo(".quick-input-list-rows")),q=Pt.R3(W,eo(".quick-input-list-row")),ae=Pt.R3(W,eo(".quick-input-list-row"));s.label=new ic.g(q,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const fe=Pt.R3(q,eo(".quick-input-list-entry-keybinding"));s.keybinding=new tl(fe,H.OS);const ke=Pt.R3(ae,eo(".quick-input-list-label-meta"));return s.detail=new ic.g(ke,{supportHighlights:!0,supportIcons:!0}),s.separator=Pt.R3(s.entry,eo(".quick-input-list-separator")),s.actionBar=new Gi.o(s.entry),s.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),s.toDisposeTemplate.push(s.actionBar),s}renderElement(t,s,m){m.toDisposeElement=(0,f.B9)(m.toDisposeElement),m.element=t,m.checkbox.checked=t.checked,m.toDisposeElement.push(t.onChecked(Ze=>m.checkbox.checked=Ze));const{labelHighlights:W,descriptionHighlights:q,detailHighlights:ae}=t,fe=Object.create(null);fe.matches=W||[],fe.descriptionTitle=t.saneDescription,fe.descriptionMatches=q||[],fe.extraClasses=t.item.iconClasses,fe.italic=t.item.italic,fe.strikethrough=t.item.strikethrough,m.label.setLabel(t.saneLabel,t.saneDescription,fe),m.keybinding.set(t.item.keybinding),t.saneDetail&&m.detail.setLabel(t.saneDetail,void 0,{matches:ae,title:t.saneDetail}),t.separator&&t.separator.label?(m.separator.textContent=t.separator.label,m.separator.style.display=""):m.separator.style.display="none",m.entry.classList.toggle("quick-input-list-separator-border",!!t.separator),m.actionBar.clear();const ke=t.item.buttons;ke&&ke.length?(m.actionBar.push(ke.map((Ze,it)=>{let Ct=Ze.iconClass||(Ze.iconPath?el(Ze.iconPath):void 0);Ze.alwaysVisible&&(Ct=Ct?`${Ct} always-visible`:"always-visible");const ti=new an.aU(`id-${it}`,"",Ct,!0,()=>yd(this,void 0,void 0,function*(){t.fireButtonTriggered({button:Ze,item:t.item})}));return ti.tooltip=Ze.tooltip||"",ti}),{icon:!0,label:!1}),m.entry.classList.add("has-actions")):m.entry.classList.remove("has-actions")}disposeElement(t,s,m){m.toDisposeElement=(0,f.B9)(m.toDisposeElement)}disposeTemplate(t){t.toDisposeElement=(0,f.B9)(t.toDisposeElement),t.toDisposeTemplate=(0,f.B9)(t.toDisposeTemplate)}}Tr.ID="listelement";class Dd{getHeight(t){return t.saneDetail?44:22}getTemplateId(t){return Tr.ID}}var $n;(function(ue){ue[ue.First=1]="First",ue[ue.Second=2]="Second",ue[ue.Last=3]="Last",ue[ue.Next=4]="Next",ue[ue.Previous=5]="Previous",ue[ue.NextPage=6]="NextPage",ue[ue.PreviousPage=7]="PreviousPage"})($n||($n={}));class il{constructor(t,s,m){this.parent=t,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new O.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new O.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new O.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new O.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new O.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new O.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new O.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=s,this.container=Pt.R3(this.parent,eo(".quick-input-list"));const W=new Dd,q=new Nd;this.list=m.createList("QuickInput",this.container,W,[new Tr],{identityProvider:{getId:ae=>ae.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:q}),this.list.getHTMLElement().id=s,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(ae=>{const fe=new Ss.y(ae);switch(fe.keyCode){case 10:this.toggleCheckbox();break;case 31:(H.dz?ae.metaKey:ae.ctrlKey)&&this.list.setFocus((0,_i.w6)(this.list.length));break;case 16:{const ke=this.list.getFocus();ke.length===1&&ke[0]===0&&this._onLeave.fire();break}case 18:{const ke=this.list.getFocus();ke.length===1&&ke[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(fe)})),this.disposables.push(this.list.onMouseDown(ae=>{ae.browserEvent.button!==2&&ae.browserEvent.preventDefault()})),this.disposables.push(Pt.nm(this.container,Pt.tw.CLICK,ae=>{(ae.x||ae.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(ae=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(ae=>{typeof ae.index=="number"&&(ae.browserEvent.preventDefault(),this.list.setSelection([ae.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return O.ju.map(this.list.onDidChangeFocus,t=>t.elements.map(s=>s.item))}get onDidChangeSelection(){return O.ju.map(this.list.onDidChangeSelection,t=>({items:t.elements.map(s=>s.item),event:t.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(t){this.list.scrollTop=t}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(t,s=!0){for(let m=0,W=t.length;m<W;m++){const q=t[m];if(!q.hidden)if(q.checked)s=!0;else return!1}return s}getCheckedCount(){let t=0;const s=this.elements;for(let m=0,W=s.length;m<W;m++)s[m].checked&&t++;return t}getVisibleCount(){let t=0;const s=this.elements;for(let m=0,W=s.length;m<W;m++)s[m].hidden||t++;return t}setAllVisibleChecked(t){try{this._fireCheckedEvents=!1,this.elements.forEach(s=>{s.hidden||(s.checked=t)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(t){this.elementDisposables=(0,f.B9)(this.elementDisposables);const s=m=>this.fireButtonTriggered(m);this.inputElements=t,this.elements=t.reduce((m,W,q)=>{var ae,fe,ke;if(W.type!=="separator"){const Ze=q&&t[q-1],it=W.label&&W.label.replace(/\r?\n/g," "),Ct=(0,Wi.Ho)(it).text.trim(),ti=W.meta&&W.meta.replace(/\r?\n/g," "),ri=W.description&&W.description.replace(/\r?\n/g," "),hi=W.detail&&W.detail.replace(/\r?\n/g," "),Di=W.ariaLabel||[it,ri,hi].map(Qi=>(0,Ii.JL)(Qi)).filter(Qi=>!!Qi).join(", "),ki=this.parent.classList.contains("show-checkboxes");m.push(new Ld({hasCheckbox:ki,index:q,item:W,saneLabel:it,saneSortLabel:Ct,saneMeta:ti,saneAriaLabel:Di,saneDescription:ri,saneDetail:hi,labelHighlights:(ae=W.highlights)===null||ae===void 0?void 0:ae.label,descriptionHighlights:(fe=W.highlights)===null||fe===void 0?void 0:fe.description,detailHighlights:(ke=W.highlights)===null||ke===void 0?void 0:ke.detail,checked:!1,separator:Ze&&Ze.type==="separator"?Ze:void 0,fireButtonTriggered:s}))}return m},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(m=>m.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((m,W,q)=>(m.set(W.item,q),m),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(t=>t.item)}setFocusedElements(t){if(this.list.setFocus(t.filter(s=>this.elementsToIndexes.has(s)).map(s=>this.elementsToIndexes.get(s))),t.length>0){const s=this.list.getFocus()[0];typeof s=="number"&&this.list.reveal(s)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(t){this.list.setSelection(t.filter(s=>this.elementsToIndexes.has(s)).map(s=>this.elementsToIndexes.get(s)))}getCheckedElements(){return this.elements.filter(t=>t.checked).map(t=>t.item)}setCheckedElements(t){try{this._fireCheckedEvents=!1;const s=new Set;for(const m of t)s.add(m);for(const m of this.elements)m.checked=s.has(m.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(t){this.list.getHTMLElement().style.pointerEvents=t?"":"none"}focus(t){if(!this.list.length)return;switch(t===$n.Next&&this.list.getFocus()[0]===this.list.length-1&&(t=$n.First),t===$n.Previous&&this.list.getFocus()[0]===0&&(t=$n.Last),t===$n.Second&&this.list.length<2&&(t=$n.First),t){case $n.First:this.list.focusFirst();break;case $n.Second:this.list.focusNth(1);break;case $n.Last:this.list.focusLast();break;case $n.Next:this.list.focusNext();break;case $n.Previous:this.list.focusPrevious();break;case $n.NextPage:this.list.focusNextPage();break;case $n.PreviousPage:this.list.focusPreviousPage();break}const s=this.list.getFocus()[0];typeof s=="number"&&this.list.reveal(s)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(t){this.list.getHTMLElement().style.maxHeight=t?`calc(${Math.floor(t/44)*44}px)`:"",this.list.layout()}filter(t){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const s=t;if(t=t.trim(),!t||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(W=>{W.labelHighlights=void 0,W.descriptionHighlights=void 0,W.detailHighlights=void 0,W.hidden=!1;const q=W.index&&this.inputElements[W.index-1];W.separator=q&&q.type==="separator"?q:void 0});else{let W;this.elements.forEach(q=>{let ae;this.matchOnLabelMode==="fuzzy"?ae=this.matchOnLabel?(0,X.f6)((0,Wi.Gt)(t,(0,Wi.Ho)(q.saneLabel))):void 0:ae=this.matchOnLabel?(0,X.f6)(Ed(s,(0,Wi.Ho)(q.saneLabel))):void 0;const fe=this.matchOnDescription?(0,X.f6)((0,Wi.Gt)(t,(0,Wi.Ho)(q.saneDescription||""))):void 0,ke=this.matchOnDetail?(0,X.f6)((0,Wi.Gt)(t,(0,Wi.Ho)(q.saneDetail||""))):void 0,Ze=this.matchOnMeta?(0,X.f6)((0,Wi.Gt)(t,(0,Wi.Ho)(q.saneMeta||""))):void 0;if(ae||fe||ke||Ze?(q.labelHighlights=ae,q.descriptionHighlights=fe,q.detailHighlights=ke,q.hidden=!1):(q.labelHighlights=void 0,q.descriptionHighlights=void 0,q.detailHighlights=void 0,q.hidden=!q.item.alwaysShow),q.separator=void 0,!this.sortByLabel){const it=q.index&&this.inputElements[q.index-1];W=it&&it.type==="separator"?it:W,W&&!q.hidden&&(q.separator=W,W=void 0)}})}const m=this.elements.filter(W=>!W.hidden);if(this.sortByLabel&&t){const W=t.toLowerCase();m.sort((q,ae)=>Id(q,ae,W))}return this.elementsToIndexes=m.reduce((W,q,ae)=>(W.set(q.item,ae),W),new Map),this.list.splice(0,this.list.length,m),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(m.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const t=this.list.getFocusedElements(),s=this.allVisibleChecked(t);for(const m of t)m.checked=!s}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(t){this.container.style.display=t?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,f.B9)(this.elementDisposables),this.disposables=(0,f.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(t){this._onButtonTriggered.fire(t)}style(t){this.list.style(t)}}oc([sc.H],il.prototype,"onDidChangeFocus",null),oc([sc.H],il.prototype,"onDidChangeSelection",null);function Ed(ue,t){const{text:s,iconOffsets:m}=t;if(!m||m.length===0)return rc(ue,s);const W=(0,l.j3)(s," "),q=s.length-W.length,ae=rc(ue,W);if(ae)for(const fe of ae){const ke=m[fe.start+q]+q;fe.start+=ke,fe.end+=ke}return ae}function rc(ue,t){const s=t.toLowerCase().indexOf(ue.toLowerCase());return s!==-1?[{start:s,end:s+ue.length}]:null}function Id(ue,t,s){const m=ue.labelHighlights||[],W=t.labelHighlights||[];return m.length&&!W.length?-1:!m.length&&W.length?1:m.length===0&&W.length===0?0:Sd(ue.saneSortLabel,t.saneSortLabel,s)}class Nd{getWidgetAriaLabel(){return(0,wi.NC)("quickInput","Quick Input")}getAriaLabel(t){var s;return!((s=t.separator)===null||s===void 0)&&s.label?`${t.saneAriaLabel}, ${t.separator.label}`:t.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(t){return t.hasCheckbox?"checkbox":"option"}isChecked(t){if(!!t.hasCheckbox)return{value:t.checked,onDidChange:t.onChecked}}}var ac=function(ue,t,s,m){function W(q){return q instanceof s?q:new s(function(ae){ae(q)})}return new(s||(s=Promise))(function(q,ae){function fe(it){try{Ze(m.next(it))}catch(Ct){ae(Ct)}}function ke(it){try{Ze(m.throw(it))}catch(Ct){ae(Ct)}}function Ze(it){it.done?q(it.value):W(it.value).then(fe,ke)}Ze((m=m.apply(ue,t||[])).next())})};const Ls=Pt.$,nl={iconClass:Ii.lA.quickInputBack.classNames,tooltip:(0,wi.NC)("quickInput.back","Back"),handle:-1};class aa extends f.JT{constructor(t){super(),this.ui=t,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=aa.noPromptMessage,this._severity=ss.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new O.Q5),this.onDidHideEmitter=this._register(new O.Q5),this.onDisposeEmitter=this._register(new O.Q5),this.visibleDisposables=this._register(new f.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(t){this._title=t,this.update()}get description(){return this._description}set description(t){this._description=t,this.update()}get step(){return this._steps}set step(t){this._steps=t,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(t){this._totalSteps=t,this.update()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this.update()}get contextKey(){return this._contextKey}set contextKey(t){this._contextKey=t,this.update()}get busy(){return this._busy}set busy(t){this._busy=t,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(t){const s=this._ignoreFocusOut!==t&&!H.gn;this._ignoreFocusOut=t&&!H.gn,s&&this.update()}get buttons(){return this._buttons}set buttons(t){this._buttons=t,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(t){this._validationMessage=t,this.update()}get severity(){return this._severity}set severity(t){this._severity=t,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(t=>{this.buttons.indexOf(t)!==-1&&this.onDidTriggerButtonEmitter.fire(t)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(t=Vs.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:t})}update(){if(!this.visible)return;const t=this.getTitle();t&&this.ui.title.textContent!==t?this.ui.title.textContent=t:!t&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const s=this.getDescription();if(this.ui.description1.textContent!==s&&(this.ui.description1.textContent=s),this.ui.description2.textContent!==s&&(this.ui.description2.textContent=s),this.busy&&!this.busyDelay&&(this.busyDelay=new U._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const W=this.buttons.filter(ae=>ae===nl);this.ui.leftActionBar.push(W.map((ae,fe)=>{const ke=new an.aU(`id-${fe}`,"",ae.iconClass||el(ae.iconPath),!0,()=>ac(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(ae)}));return ke.tooltip=ae.tooltip||"",ke}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const q=this.buttons.filter(ae=>ae!==nl);this.ui.rightActionBar.push(q.map((ae,fe)=>{const ke=new an.aU(`id-${fe}`,"",ae.iconClass||el(ae.iconPath),!0,()=>ac(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(ae)}));return ke.tooltip=ae.tooltip||"",ke}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const m=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==m&&(this._lastValidationMessage=m,Pt.mc(this.ui.message,...(0,Yl.T)(m))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,wi.NC)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(t){if(this.ui.inputBox.showDecoration(t),t!==ss.Z.Ignore){const s=this.ui.inputBox.stylesForType(t);this.ui.message.style.color=s.foreground?`${s.foreground}`:"",this.ui.message.style.backgroundColor=s.background?`${s.background}`:"",this.ui.message.style.border=s.border?`1px solid ${s.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}aa.noPromptMessage=(0,wi.NC)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class Ar extends aa{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new O.Q5),this.onWillAcceptEmitter=this._register(new O.Q5),this.onDidAcceptEmitter=this._register(new O.Q5),this.onDidCustomEmitter=this._register(new O.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?Vs.jG.NONE:Vs.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new O.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new O.Q5),this.onDidTriggerItemButtonEmitter=this._register(new O.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=t=>t,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(t){this._quickNavigate=t,this.update()}get value(){return this._value}set value(t){this.doSetValue(t)}doSetValue(t,s){this._value!==t&&(this._value=t,s||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(t){this._ariaLabel=t,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(t){this.ui.list.scrollTop=t}set items(t){this._items=t,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(t){this._canSelectMany=t,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(t){this._canAcceptInBackground=t}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(t){this._matchOnDescription=t,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(t){this._matchOnDetail=t,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(t){this._matchOnLabel=t,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(t){this._matchOnLabelMode=t,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(t){this._sortByLabel=t,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(t){this._autoFocusOnList=t,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(t){this._keepScrollPosition=t}get itemActivation(){return this._itemActivation}set itemActivation(t){this._itemActivation=t}get activeItems(){return this._activeItems}set activeItems(t){this._activeItems=t,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(t){this._selectedItems=t,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Vs.X5:this.ui.keyMods}set valueSelection(t){this._valueSelection=t,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(t){this._customButton=t,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(t){this._customButtonLabel=t,this.update()}get customHover(){return this._customButtonHover}set customHover(t){this._customButtonHover=t,this.update()}get ok(){return this._ok}set ok(t){this._ok=t,this.update()}get hideInput(){return!!this._hideInput}set hideInput(t){this._hideInput=t,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus($n.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(t=>{this.doSetValue(t,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(t=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(t=>{switch(t.keyCode){case 18:this.ui.list.focus($n.Next),this.canSelectMany&&this.ui.list.domFocus(),Pt.zB.stop(t,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus($n.Previous):this.ui.list.focus($n.Last),this.canSelectMany&&this.ui.list.domFocus(),Pt.zB.stop(t,!0);break;case 12:this.ui.list.focus($n.NextPage),this.canSelectMany&&this.ui.list.domFocus(),Pt.zB.stop(t,!0);break;case 11:this.ui.list.focus($n.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),Pt.zB.stop(t,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(t.ctrlKey||t.metaKey)&&!t.shiftKey&&!t.altKey&&(this.ui.list.focus($n.First),Pt.zB.stop(t,!0));break;case 13:(t.ctrlKey||t.metaKey)&&!t.shiftKey&&!t.altKey&&(this.ui.list.focus($n.Last),Pt.zB.stop(t,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(t=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,_i.fS)(t,this._activeItems,(s,m)=>s===m)||(this._activeItems=t,this.onDidChangeActiveEmitter.fire(t))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:t,event:s})=>{if(this.canSelectMany){t.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,_i.fS)(t,this._selectedItems,(m,W)=>m===W)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t),t.length&&this.handleAccept(s instanceof MouseEvent&&s.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(t=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,_i.fS)(t,this._selectedItems,(s,m)=>s===m)||(this._selectedItems=t,this.onDidChangeSelectionEmitter.fire(t))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(t=>this.onDidTriggerItemButtonEmitter.fire(t))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(t){let s=!1;this.onWillAcceptEmitter.fire({veto:()=>s=!0}),s||this.onDidAcceptEmitter.fire({inBackground:t})}registerQuickNavigation(){return Pt.nm(this.ui.container,Pt.tw.KEY_UP,t=>{if(this.canSelectMany||!this._quickNavigate)return;const s=new Ss.y(t),m=s.keyCode;this._quickNavigate.keybindings.some(ae=>{const[fe,ke]=ae.getParts();return ke?!1:fe.shiftKey&&m===4?!(s.ctrlKey||s.altKey||s.metaKey):!!(fe.altKey&&m===6||fe.ctrlKey&&m===5||fe.metaKey&&m===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const t=this.keepScrollPosition?this.scrollTop:0,s=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",s&&!this.description);const m={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!s,progressBar:!s,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(m),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let W=this.ariaLabel;if(W||(W=this.placeholder||Ar.DEFAULT_ARIA_LABEL,this.title&&(W+=` - ${this.title}`)),this.ui.inputBox.ariaLabel!==W&&(this.ui.inputBox.ariaLabel=W),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Vs.jG.NONE:this._itemActivation=Vs.jG.FIRST;break;case Vs.jG.SECOND:this.ui.list.focus($n.Second),this._itemActivation=Vs.jG.FIRST;break;case Vs.jG.LAST:this.ui.list.focus($n.Last),this._itemActivation=Vs.jG.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),m.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus($n.First)),this.keepScrollPosition&&(this.scrollTop=t)}}Ar.DEFAULT_ARIA_LABEL=(0,wi.NC)("quickInputBox.ariaLabel","Type to narrow down results.");class la extends f.JT{constructor(t){super(),this.options=t,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new O.Q5),this.onDidCustomEmitter=this._register(new O.Q5),this.onDidTriggerButtonEmitter=this._register(new O.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new O.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new O.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=t.idPrefix,this.parentElement=t.container,this.styles=t.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const t=s=>{this.keyMods.ctrlCmd=s.ctrlKey||s.metaKey,this.keyMods.alt=s.altKey};this._register(Pt.nm(window,Pt.tw.KEY_DOWN,t,!0)),this._register(Pt.nm(window,Pt.tw.KEY_UP,t,!0)),this._register(Pt.nm(window,Pt.tw.MOUSE_DOWN,t,!0))}getUI(){if(this.ui)return this.ui;const t=Pt.R3(this.parentElement,Ls(".quick-input-widget.show-file-icons"));t.tabIndex=-1,t.style.display="none";const s=Pt.dS(t),m=Pt.R3(t,Ls(".quick-input-titlebar")),W=this._register(new Gi.o(m));W.domNode.classList.add("quick-input-left-action-bar");const q=Pt.R3(m,Ls(".quick-input-title")),ae=this._register(new Gi.o(m));ae.domNode.classList.add("quick-input-right-action-bar");const fe=Pt.R3(t,Ls(".quick-input-description")),ke=Pt.R3(t,Ls(".quick-input-header")),Ze=Pt.R3(ke,Ls("input.quick-input-check-all"));Ze.type="checkbox",Ze.setAttribute("aria-label",(0,wi.NC)("quickInput.checkAll","Toggle all checkboxes")),this._register(Pt.mu(Ze,Pt.tw.CHANGE,qi=>{const bn=Ze.checked;Ji.setAllVisibleChecked(bn)})),this._register(Pt.nm(Ze,Pt.tw.CLICK,qi=>{(qi.x||qi.y)&&ri.setFocus()}));const it=Pt.R3(ke,Ls(".quick-input-description")),Ct=Pt.R3(ke,Ls(".quick-input-and-message")),ti=Pt.R3(Ct,Ls(".quick-input-filter")),ri=this._register(new Cd(ti));ri.setAttribute("aria-describedby",`${this.idPrefix}message`);const hi=Pt.R3(ti,Ls(".quick-input-visible-count"));hi.setAttribute("aria-live","polite"),hi.setAttribute("aria-atomic","true");const Di=new Jl.Z(hi,{countFormat:(0,wi.NC)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),ki=Pt.R3(ti,Ls(".quick-input-count"));ki.setAttribute("aria-live","polite");const Qi=new Jl.Z(ki,{countFormat:(0,wi.NC)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),rn=Pt.R3(ke,Ls(".quick-input-action")),Ki=new Xl(rn);Ki.label=(0,wi.NC)("ok","OK"),this._register(Ki.onDidClick(qi=>{this.onDidAcceptEmitter.fire()}));const ji=Pt.R3(ke,Ls(".quick-input-action")),In=new Xl(ji);In.label=(0,wi.NC)("custom","Custom"),this._register(In.onDidClick(qi=>{this.onDidCustomEmitter.fire()}));const Cn=Pt.R3(Ct,Ls(`#${this.idPrefix}message.quick-input-message`)),Ji=this._register(new il(t,this.idPrefix+"list",this.options));this._register(Ji.onChangedAllVisibleChecked(qi=>{Ze.checked=qi})),this._register(Ji.onChangedVisibleCount(qi=>{Di.setCount(qi)})),this._register(Ji.onChangedCheckedCount(qi=>{Qi.setCount(qi)})),this._register(Ji.onLeave(()=>{setTimeout(()=>{ri.setFocus(),this.controller instanceof Ar&&this.controller.canSelectMany&&Ji.clearFocus()},0)})),this._register(Ji.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const Hi=new oa(t);Hi.getContainer().classList.add("quick-input-progress");const cn=Pt.go(t);return this._register(cn),this._register(Pt.nm(t,Pt.tw.FOCUS,qi=>{this.previousFocusElement=qi.relatedTarget instanceof HTMLElement?qi.relatedTarget:void 0},!0)),this._register(cn.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Vs.Jq.Blur),this.previousFocusElement=void 0})),this._register(Pt.nm(t,Pt.tw.FOCUS,qi=>{ri.setFocus()})),this._register(Pt.nm(t,Pt.tw.KEY_DOWN,qi=>{const bn=new Ss.y(qi);switch(bn.keyCode){case 3:Pt.zB.stop(qi,!0),this.onDidAcceptEmitter.fire();break;case 9:Pt.zB.stop(qi,!0),this.hide(Vs.Jq.Gesture);break;case 2:if(!bn.altKey&&!bn.ctrlKey&&!bn.metaKey){const Fn=[".action-label.codicon"];t.classList.contains("show-checkboxes")?Fn.push("input"):Fn.push("input[type=text]"),this.getUI().list.isDisplayed()&&Fn.push(".monaco-list");const dn=t.querySelectorAll(Fn.join(", "));bn.shiftKey&&bn.target===dn[0]?(Pt.zB.stop(qi,!0),dn[dn.length-1].focus()):!bn.shiftKey&&bn.target===dn[dn.length-1]&&(Pt.zB.stop(qi,!0),dn[0].focus())}break}})),this.ui={container:t,styleSheet:s,leftActionBar:W,titleBar:m,title:q,description1:fe,description2:it,rightActionBar:ae,checkAll:Ze,filterContainer:ti,inputBox:ri,visibleCountContainer:hi,visibleCount:Di,countContainer:ki,count:Qi,okContainer:rn,ok:Ki,message:Cn,customButtonContainer:ji,customButton:In,list:Ji,progressBar:Hi,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:qi=>this.show(qi),hide:()=>this.hide(),setVisibilities:qi=>this.setVisibilities(qi),setComboboxAccessibility:qi=>this.setComboboxAccessibility(qi),setEnabled:qi=>this.setEnabled(qi),setContextKey:qi=>this.options.setContextKey(qi)},this.updateStyles(),this.ui}pick(t,s={},m=r.T.None){return new Promise((W,q)=>{let ae=it=>{var Ct;ae=W,(Ct=s.onKeyMods)===null||Ct===void 0||Ct.call(s,fe.keyMods),W(it)};if(m.isCancellationRequested){ae(void 0);return}const fe=this.createQuickPick();let ke;const Ze=[fe,fe.onDidAccept(()=>{if(fe.canSelectMany)ae(fe.selectedItems.slice()),fe.hide();else{const it=fe.activeItems[0];it&&(ae(it),fe.hide())}}),fe.onDidChangeActive(it=>{const Ct=it[0];Ct&&s.onDidFocus&&s.onDidFocus(Ct)}),fe.onDidChangeSelection(it=>{if(!fe.canSelectMany){const Ct=it[0];Ct&&(ae(Ct),fe.hide())}}),fe.onDidTriggerItemButton(it=>s.onDidTriggerItemButton&&s.onDidTriggerItemButton(Object.assign(Object.assign({},it),{removeItem:()=>{const Ct=fe.items.indexOf(it.item);if(Ct!==-1){const ti=fe.items.slice(),ri=ti.splice(Ct,1),hi=fe.activeItems.filter(ki=>ki!==ri[0]),Di=fe.keepScrollPosition;fe.keepScrollPosition=!0,fe.items=ti,hi&&(fe.activeItems=hi),fe.keepScrollPosition=Di}}}))),fe.onDidChangeValue(it=>{ke&&!it&&(fe.activeItems.length!==1||fe.activeItems[0]!==ke)&&(fe.activeItems=[ke])}),m.onCancellationRequested(()=>{fe.hide()}),fe.onDidHide(()=>{(0,f.B9)(Ze),ae(void 0)})];fe.title=s.title,fe.canSelectMany=!!s.canPickMany,fe.placeholder=s.placeHolder,fe.ignoreFocusOut=!!s.ignoreFocusLost,fe.matchOnDescription=!!s.matchOnDescription,fe.matchOnDetail=!!s.matchOnDetail,fe.matchOnLabel=s.matchOnLabel===void 0||s.matchOnLabel,fe.autoFocusOnList=s.autoFocusOnList===void 0||s.autoFocusOnList,fe.quickNavigate=s.quickNavigate,fe.hideInput=!!s.hideInput,fe.contextKey=s.contextKey,fe.busy=!0,Promise.all([t,s.activeItem]).then(([it,Ct])=>{ke=Ct,fe.busy=!1,fe.items=it,fe.canSelectMany&&(fe.selectedItems=it.filter(ti=>ti.type!=="separator"&&ti.picked)),ke&&(fe.activeItems=[ke])}),fe.show(),Promise.resolve(t).then(void 0,it=>{q(it),fe.hide()})})}createQuickPick(){const t=this.getUI();return new Ar(t)}show(t){const s=this.getUI();this.onShowEmitter.fire();const m=this.controller;this.controller=t,m&&m.didHide(),this.setEnabled(!0),s.leftActionBar.clear(),s.title.textContent="",s.description1.textContent="",s.description2.textContent="",s.rightActionBar.clear(),s.checkAll.checked=!1,s.inputBox.placeholder="",s.inputBox.password=!1,s.inputBox.showDecoration(ss.Z.Ignore),s.visibleCount.setCount(0),s.count.setCount(0),Pt.mc(s.message),s.progressBar.stop(),s.list.setElements([]),s.list.matchOnDescription=!1,s.list.matchOnDetail=!1,s.list.matchOnLabel=!0,s.list.sortByLabel=!0,s.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),s.inputBox.ariaLabel="";const W=this.options.backKeybindingLabel();nl.tooltip=W?(0,wi.NC)("quickInput.backWithKeybinding","Back ({0})",W):(0,wi.NC)("quickInput.back","Back"),s.container.style.display="",this.updateLayout(),s.inputBox.setFocus()}setVisibilities(t){const s=this.getUI();s.title.style.display=t.title?"":"none",s.description1.style.display=t.description&&(t.inputBox||t.checkAll)?"":"none",s.description2.style.display=t.description&&!(t.inputBox||t.checkAll)?"":"none",s.checkAll.style.display=t.checkAll?"":"none",s.filterContainer.style.display=t.inputBox?"":"none",s.visibleCountContainer.style.display=t.visibleCount?"":"none",s.countContainer.style.display=t.count?"":"none",s.okContainer.style.display=t.ok?"":"none",s.customButtonContainer.style.display=t.customButton?"":"none",s.message.style.display=t.message?"":"none",s.progressBar.getContainer().style.display=t.progressBar?"":"none",s.list.display(!!t.list),s.container.classList[t.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(t){if(t!==this.comboboxAccessibility){const s=this.getUI();this.comboboxAccessibility=t,this.comboboxAccessibility?(s.inputBox.setAttribute("role","combobox"),s.inputBox.setAttribute("aria-haspopup","true"),s.inputBox.setAttribute("aria-autocomplete","list"),s.inputBox.setAttribute("aria-activedescendant",s.list.getActiveDescendant()||"")):(s.inputBox.removeAttribute("role"),s.inputBox.removeAttribute("aria-haspopup"),s.inputBox.removeAttribute("aria-autocomplete"),s.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(t){if(t!==this.enabled){this.enabled=t;for(const s of this.getUI().leftActionBar.viewItems)s.getAction().enabled=t;for(const s of this.getUI().rightActionBar.viewItems)s.getAction().enabled=t;this.getUI().checkAll.disabled=!t,this.getUI().ok.enabled=t,this.getUI().list.enabled=t}}hide(t){var s;const m=this.controller;if(m){const W=!(!((s=this.ui)===null||s===void 0)&&s.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!W){let q=this.previousFocusElement;for(;q&&!q.offsetParent;)q=(0,X.f6)(q.parentElement);q!=null&&q.offsetParent?(q.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}m.didHide(t)}}layout(t,s){this.dimension=t,this.titleBarOffset=s,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const t=this.ui.container.style,s=Math.min(this.dimension.width*.62,la.MAX_WIDTH);t.width=s+"px",t.marginLeft="-"+s/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(t){this.styles=t,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:t,quickInputBackground:s,quickInputForeground:m,contrastBorder:W,widgetShadow:q}=this.styles.widget;this.ui.titleBar.style.backgroundColor=t?t.toString():"",this.ui.container.style.backgroundColor=s?s.toString():"",this.ui.container.style.color=m?m.toString():"",this.ui.container.style.border=W?`1px solid ${W}`:"",this.ui.container.style.boxShadow=q?`0 0 8px 2px ${q}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const ae=[];this.styles.list.pickerGroupBorder&&ae.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&ae.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(ae.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&ae.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&ae.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&ae.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&ae.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&ae.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),ae.push("}"));const fe=ae.join(`
`);fe!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=fe)}}}la.MAX_WIDTH=600;var sl=i(44448),ol=i(88289),lc=i(90725),rl=i(41157),xd=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},cc=function(ue,t){return function(s,m){t(s,m,ue)}};let al=class extends f.JT{constructor(t,s){super(),this.quickInputService=t,this.instantiationService=s,this.registry=tt.B.as(lc.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(t="",s){this.doShowOrPick(t,!1,s)}doShowOrPick(t,s,m){var W;const[q,ae]=this.getOrInstantiateProvider(t),fe=this.visibleQuickAccess,ke=fe==null?void 0:fe.descriptor;if(fe&&ae&&ke===ae){t!==ae.prefix&&!(m!=null&&m.preserveValue)&&(fe.picker.value=t),this.adjustValueSelection(fe.picker,ae,m);return}if(ae&&!(m!=null&&m.preserveValue)){let ri;if(fe&&ke&&ke!==ae){const hi=fe.value.substr(ke.prefix.length);hi&&(ri=`${ae.prefix}${hi}`)}if(!ri){const hi=q==null?void 0:q.defaultFilterValue;hi===lc.Ry.LAST?ri=this.lastAcceptedPickerValues.get(ae):typeof hi=="string"&&(ri=`${ae.prefix}${hi}`)}typeof ri=="string"&&(t=ri)}const Ze=new f.SL,it=Ze.add(this.quickInputService.createQuickPick());it.value=t,this.adjustValueSelection(it,ae,m),it.placeholder=ae==null?void 0:ae.placeholder,it.quickNavigate=m==null?void 0:m.quickNavigateConfiguration,it.hideInput=!!it.quickNavigate&&!fe,(typeof(m==null?void 0:m.itemActivation)=="number"||(m==null?void 0:m.quickNavigateConfiguration))&&(it.itemActivation=(W=m==null?void 0:m.itemActivation)!==null&&W!==void 0?W:rl.jG.SECOND),it.contextKey=ae==null?void 0:ae.contextKey,it.filterValue=ri=>ri.substring(ae?ae.prefix.length:0),ae!=null&&ae.placeholder&&(it.ariaLabel=ae==null?void 0:ae.placeholder);let Ct;s&&(Ct=new U.CR,Ze.add((0,ol.I)(it.onWillAccept)(ri=>{ri.veto(),it.hide()}))),Ze.add(this.registerPickerListeners(it,q,ae,t));const ti=Ze.add(new r.A);if(q&&Ze.add(q.provide(it,ti.token)),(0,ol.I)(it.onDidHide)(()=>{it.selectedItems.length===0&&ti.cancel(),Ze.dispose(),Ct==null||Ct.complete(it.selectedItems.slice(0))}),it.show(),s)return Ct==null?void 0:Ct.p}adjustValueSelection(t,s,m){var W;let q;m!=null&&m.preserveValue?q=[t.value.length,t.value.length]:q=[(W=s==null?void 0:s.prefix.length)!==null&&W!==void 0?W:0,t.value.length],t.valueSelection=q}registerPickerListeners(t,s,m,W){const q=new f.SL,ae=this.visibleQuickAccess={picker:t,descriptor:m,value:W};return q.add((0,f.OF)(()=>{ae===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),q.add(t.onDidChangeValue(fe=>{const[ke]=this.getOrInstantiateProvider(fe);ke!==s?this.show(fe,{preserveValue:!0}):ae.value=fe})),m&&q.add(t.onDidAccept(()=>{this.lastAcceptedPickerValues.set(m,t.value)})),q}getOrInstantiateProvider(t){const s=this.registry.getQuickAccessProvider(t);if(!s)return[void 0,void 0];let m=this.mapProviderToDescriptor.get(s);return m||(m=this.instantiationService.createInstance(s.ctor),this.mapProviderToDescriptor.set(s,m)),[m,s]}};al=xd([cc(0,rl.eJ),cc(1,Qt.TG)],al);var Md=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},Rr=function(ue,t){return function(s,m){t(s,m,ue)}};let ll=class extends oi.bB{constructor(t,s,m,W,q){super(m),this.instantiationService=t,this.contextKeyService=s,this.accessibilityService=W,this.layoutService=q,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(al))),this._quickAccess}createController(t=this.layoutService,s){const m={idPrefix:"quickInput_",container:t.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:q=>this.setContextKey(q),returnFocus:()=>t.focus(),createList:(q,ae,fe,ke,Ze)=>this.instantiationService.createInstance(sl.ev,q,ae,fe,ke,Ze),styles:this.computeStyles()},W=this._register(new la(Object.assign(Object.assign({},m),s)));return W.layout(t.dimension,t.offset.quickPickTop),this._register(t.onDidLayout(q=>W.layout(q,t.offset.quickPickTop))),this._register(W.onShow(()=>this.resetContextKeys())),this._register(W.onHide(()=>this.resetContextKeys())),W}setContextKey(t){let s;t&&(s=this.contexts.get(t),s||(s=new nn.uy(t,!1).bindTo(this.contextKeyService),this.contexts.set(t,s))),!(s&&s.get())&&(this.resetContextKeys(),s==null||s.set(!0))}resetContextKeys(){this.contexts.forEach(t=>{t.get()&&t.reset()})}pick(t,s={},m=r.T.None){return this.controller.pick(t,s,m)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,Vn.o)(this.theme,{quickInputBackground:yi.zKr,quickInputForeground:yi.tZ6,quickInputTitleBackground:yi.loF,contrastBorder:yi.lRK,widgetShadow:yi.rh})),inputBox:(0,Vn.o)(this.theme,{inputForeground:yi.zJb,inputBackground:yi.sEe,inputBorder:yi.dt_,inputValidationInfoBackground:yi._lC,inputValidationInfoForeground:yi.YI3,inputValidationInfoBorder:yi.EPQ,inputValidationWarningBackground:yi.RV_,inputValidationWarningForeground:yi.SUG,inputValidationWarningBorder:yi.C3g,inputValidationErrorBackground:yi.paE,inputValidationErrorForeground:yi._t9,inputValidationErrorBorder:yi.OZR}),countBadge:(0,Vn.o)(this.theme,{badgeBackground:yi.g8u,badgeForeground:yi.qeD,badgeBorder:yi.lRK}),button:(0,Vn.o)(this.theme,{buttonForeground:yi.j5u,buttonBackground:yi.b7$,buttonHoverBackground:yi.GO4,buttonBorder:yi.lRK}),progressBar:(0,Vn.o)(this.theme,{progressBarBackground:yi.zRJ}),keybindingLabel:(0,Vn.o)(this.theme,{keybindingLabelBackground:yi.oQ$,keybindingLabelForeground:yi.lWp,keybindingLabelBorder:yi.AWI,keybindingLabelBottomBorder:yi.K19,keybindingLabelShadow:yi.rh}),list:(0,Vn.o)(this.theme,{listBackground:yi.zKr,listInactiveFocusForeground:yi.NPS,listInactiveSelectionIconForeground:yi.cbQ,listInactiveFocusBackground:yi.Vqd,listFocusOutline:yi.xL1,listInactiveFocusOutline:yi.xL1,pickerGroupBorder:yi.opG,pickerGroupForeground:yi.kJk})}}};ll=Md([Rr(0,Qt.TG),Rr(1,nn.i6),Rr(2,oi.XE),Rr(3,ir.F),Rr(4,$s)],ll);var dc=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},ko=function(ue,t){return function(s,m){t(s,m,ue)}};let cl=class extends ll{constructor(t,s,m,W,q,ae){super(s,m,W,q,new zo(t.getContainerDomNode(),ae)),this.host=void 0;const fe=sr.get(t);if(fe){const ke=fe.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return ke.getDomNode()},get dimension(){return t.getLayoutInfo()},get onDidLayout(){return t.onDidLayoutChange},focus:()=>t.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};cl=dc([ko(1,Qt.TG),ko(2,nn.i6),ko(3,oi.XE),ko(4,ir.F),ko(5,a.$)],cl);let dl=class{constructor(t,s){this.instantiationService=t,this.codeEditorService=s,this.mapEditorToService=new Map}get activeService(){const t=this.codeEditorService.getFocusedCodeEditor();if(!t)throw new Error("Quick input service needs a focused editor to work.");let s=this.mapEditorToService.get(t);if(!s){const m=s=this.instantiationService.createInstance(cl,t);this.mapEditorToService.set(t,s),(0,ol.I)(t.onDidDispose)(()=>{m.dispose(),this.mapEditorToService.delete(t)})}return s}get quickAccess(){return this.activeService.quickAccess}pick(t,s={},m=r.T.None){return this.activeService.pick(t,s,m)}createQuickPick(){return this.activeService.createQuickPick()}};dl=dc([ko(0,Qt.TG),ko(1,a.$)],dl);class sr{constructor(t){this.editor=t,this.widget=new ca(this.editor)}static get(t){return t.getContribution(sr.ID)}dispose(){this.widget.dispose()}}sr.ID="editor.controller.quickInput";class ca{constructor(t){this.codeEditor=t,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return ca.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}ca.ID="editor.contrib.quickInputWidget",(0,tn._K)(sr.ID,sr);var Td=i(58763),Hs=i(44156),Ad=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},ul=function(ue,t){return function(s,m){t(s,m,ue)}};let hl=class extends f.JT{constructor(t,s,m){super(),this._contextKeyService=t,this._layoutService=s,this._configurationService=m,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new O.Q5,this._onDidChangeReducedMotion=new O.Q5,this._accessibilityModeEnabledContext=ir.U.bindTo(this._contextKeyService);const W=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(ae=>{ae.affectsConfiguration("editor.accessibilitySupport")&&(W(),this._onDidChangeScreenReaderOptimized.fire()),ae.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),W(),this._register(this.onDidChangeScreenReaderOptimized(()=>W()));const q=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=q.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(q)}initReducedMotionListeners(t){if(!this._layoutService.hasContainer)return;this._register((0,Pt.nm)(t,"change",()=>{this._systemMotionReduced=t.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const s=()=>{const m=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",m),this._layoutService.container.classList.toggle("enable-motion",!m)};s(),this._register(this.onDidChangeReducedMotion(()=>s()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const t=this._configurationService.getValue("editor.accessibilitySupport");return t==="on"||t==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const t=this._configMotionReduced;return t==="on"||t==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};hl=Ad([ul(0,nn.i6),ul(1,$s),ul(2,li.Ui)],hl);var Rs=i(84144),da=i(26904),fl=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},or=function(ue,t){return function(s,m){t(s,m,ue)}};let gl=class{constructor(t,s){this._commandService=t,this._hiddenStates=new ua(s)}createMenu(t,s,m){return new ml(t,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},m),this._commandService,s,this)}};gl=fl([or(0,us.Hy),or(1,da.Uy)],gl);let ua=class Hr{constructor(t){this._storageService=t,this._disposables=new f.SL,this._onDidChange=new O.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1;try{const s=t.get(Hr._key,0,"{}");this._data=JSON.parse(s)}catch{this._data=Object.create(null)}this._disposables.add(t.onDidChangeValue(s=>{if(s.key===Hr._key){if(!this._ignoreChangeEvent)try{const m=t.get(Hr._key,0,"{}");this._data=JSON.parse(m)}catch(m){console.log("FAILED to read storage after UPDATE",m)}this._onDidChange.fire()}}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}isHidden(t,s){var m,W;return(W=(m=this._data[t.id])===null||m===void 0?void 0:m.includes(s))!==null&&W!==void 0?W:!1}updateHidden(t,s,m){const W=this._data[t.id];if(m)W?W.indexOf(s)<0&&W.push(s):this._data[t.id]=[s];else if(W){const q=W.indexOf(s);q>=0&&(0,_i.LS)(W,q),W.length===0&&delete this._data[t.id]}this._persist()}_persist(){try{this._ignoreChangeEvent=!0;const t=JSON.stringify(this._data);this._storageService.store(Hr._key,t,0,0)}finally{this._ignoreChangeEvent=!1}}};ua._key="menu.hiddenCommands",ua=fl([or(0,da.Uy)],ua);let ml=class dr{constructor(t,s,m,W,q,ae){this._id=t,this._hiddenStates=s,this._options=m,this._commandService=W,this._contextKeyService=q,this._menuService=ae,this._disposables=new f.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const fe=new U.pY(()=>{this._build(),this._onDidChange.fire(this)},m.eventDebounceDelay);this._disposables.add(fe),this._disposables.add(Rs.BH.onDidChangeMenu(it=>{it.has(t)&&fe.schedule()}));const ke=this._disposables.add(new f.SL),Ze=()=>{const it=new U.pY(()=>this._onDidChange.fire(this),m.eventDebounceDelay);ke.add(it),ke.add(q.onDidChangeContext(Ct=>{Ct.affectsSome(this._contextKeys)&&it.schedule()})),ke.add(s.onDidChange(()=>{it.schedule()}))};this._onDidChange=new O.Q5({onFirstListenerAdd:Ze,onLastListenerRemove:ke.clear.bind(ke)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=Rs.BH.getMenuItems(this._id);let s;t.sort(dr._compareMenuItems);for(const m of t){const W=m.group||"";(!s||s[0]!==W)&&(s=[W,[]],this._menuGroups.push(s)),s[1].push(m),this._collectContextKeys(m)}}_collectContextKeys(t){if(dr._fillInKbExprKeys(t.when,this._contextKeys),(0,Rs.vr)(t)){if(t.command.precondition&&dr._fillInKbExprKeys(t.command.precondition,this._contextKeys),t.command.toggled){const s=t.command.toggled.condition||t.command.toggled;dr._fillInKbExprKeys(s,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&Rs.BH.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}getActions(t){const s=[],m=[];for(const W of this._menuGroups){const[q,ae]=W,fe=[],ke=[];for(const Ze of ae)if(this._contextKeyService.contextMatchesRules(Ze.when)){let it;if((0,Rs.vr)(Ze)){const ti=Rd(this._id,Ze.command,this._hiddenStates);it=new Rs.U8(Ze.command,Ze.alt,t,ti,this._contextKeyService,this._commandService)}else it=new Rs.NZ(Ze,this._menuService,this._contextKeyService,t),it.actions.length===0&&(it.dispose(),it=void 0);it&&ke.push(it)}ke.length>0&&s.push([q,ke]),fe.length>0&&m.push(fe)}return s}static _fillInKbExprKeys(t,s){if(t)for(const m of t.keys())s.add(m)}static _compareMenuItems(t,s){const m=t.group,W=s.group;if(m!==W){if(m){if(!W)return-1}else return 1;if(m==="navigation")return-1;if(W==="navigation")return 1;const fe=m.localeCompare(W);if(fe!==0)return fe}const q=t.order||0,ae=s.order||0;return q<ae?-1:q>ae?1:dr._compareTitles((0,Rs.vr)(t)?t.command.title:t.title,(0,Rs.vr)(s)?s.command.title:s.title)}static _compareTitles(t,s){const m=typeof t=="string"?t:t.original,W=typeof s=="string"?s:s.original;return m.localeCompare(W)}};ml=fl([or(3,us.Hy),or(4,nn.i6),or(5,Rs.co)],ml);function Rd(ue,t,s){const m=`${ue.id}/${t.id}`,W=typeof t.title=="string"?t.title:t.title.value,q=(0,an.xw)({id:m,label:(0,wi.NC)("hide.label","Hide '{0}'",W),run(){s.updateHidden(ue,t.id,!0)}}),ae=(0,an.xw)({id:m,label:W,get checked(){return!s.isHidden(ue,t.id)},run(){const fe=!s.isHidden(ue,t.id);s.updateHidden(ue,t.id,fe)}});return{hide:q,toggle:ae,get isHidden(){return!ae.checked}}}var Pd=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},uc=function(ue,t){return function(s,m){t(s,m,ue)}},rr=function(ue,t,s,m){function W(q){return q instanceof s?q:new s(function(ae){ae(q)})}return new(s||(s=Promise))(function(q,ae){function fe(it){try{Ze(m.next(it))}catch(Ct){ae(Ct)}}function ke(it){try{Ze(m.throw(it))}catch(Ct){ae(Ct)}}function Ze(it){it.done?q(it.value):W(it.value).then(fe,ke)}Ze((m=m.apply(ue,t||[])).next())})};let pl=class extends f.JT{constructor(t,s){super(),this.layoutService=t,this.logService=s,this.mapTextToType=new Map,this.findText="",this.resources=[],(vi.isSafari||vi.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const t=()=>{const s=new U.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=s,navigator.clipboard.write([new ClipboardItem({"text/plain":s.p})]).catch(m=>rr(this,void 0,void 0,function*(){(!(m instanceof Error)||m.name!=="NotAllowedError"||!s.isRejected)&&this.logService.error(m)}))};this.layoutService.hasContainer&&(this._register((0,Pt.nm)(this.layoutService.container,"click",t)),this._register((0,Pt.nm)(this.layoutService.container,"keydown",t)))}writeText(t,s){return rr(this,void 0,void 0,function*(){if(s){this.mapTextToType.set(s,t);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(t);try{return yield navigator.clipboard.writeText(t)}catch(q){console.error(q)}const m=document.activeElement,W=document.body.appendChild((0,Pt.$)("textarea",{"aria-hidden":!0}));W.style.height="1px",W.style.width="1px",W.style.position="absolute",W.value=t,W.focus(),W.select(),document.execCommand("copy"),m instanceof HTMLElement&&m.focus(),document.body.removeChild(W)})}readText(t){return rr(this,void 0,void 0,function*(){if(t)return this.mapTextToType.get(t)||"";try{return yield navigator.clipboard.readText()}catch(s){return console.error(s),""}})}readFindText(){return rr(this,void 0,void 0,function*(){return this.findText})}writeFindText(t){return rr(this,void 0,void 0,function*(){this.findText=t})}readResources(){return rr(this,void 0,void 0,function*(){return this.resources})}};pl=Pd([uc(0,$s),uc(1,Ci.VZ)],pl);var Fo=i(53725),Od=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},kd=function(ue,t){return function(s,m){t(s,m,ue)}};const Pr="data-keybinding-context";class _l{constructor(t,s){this._id=t,this._parent=s,this._value=Object.create(null),this._value._contextId=t}get value(){return Object.assign({},this._value)}setValue(t,s){return this._value[t]!==s?(this._value[t]=s,!0):!1}removeValue(t){return t in this._value?(delete this._value[t],!0):!1}getValue(t){const s=this._value[t];return typeof s>"u"&&this._parent?this._parent.getValue(t):s}}class ar extends _l{constructor(){super(-1,null)}setValue(t,s){return!1}removeValue(t){return!1}getValue(t){}}ar.INSTANCE=new ar;class Or extends _l{constructor(t,s,m){super(t,null),this._configurationService=s,this._values=_s.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(W=>{if(W.source===7){const q=Array.from(Fo.$.map(this._values,([ae])=>ae));this._values.clear(),m.fire(new fc(q))}else{const q=[];for(const ae of W.affectedKeys){const fe=`config.${ae}`,ke=this._values.findSuperstr(fe);ke!==void 0&&(q.push(...Fo.$.map(ke,([Ze])=>Ze)),this._values.deleteSuperstr(fe)),this._values.has(fe)&&(q.push(fe),this._values.delete(fe))}m.fire(new fc(q))}})}dispose(){this._listener.dispose()}getValue(t){if(t.indexOf(Or._keyPrefix)!==0)return super.getValue(t);if(this._values.has(t))return this._values.get(t);const s=t.substr(Or._keyPrefix.length),m=this._configurationService.getValue(s);let W;switch(typeof m){case"number":case"boolean":case"string":W=m;break;default:Array.isArray(m)?W=JSON.stringify(m):W=m}return this._values.set(t,W),W}setValue(t,s){return super.setValue(t,s)}removeValue(t){return super.removeValue(t)}}Or._keyPrefix="config.";class Fd{constructor(t,s,m){this._service=t,this._key=s,this._defaultValue=m,this.reset()}set(t){this._service.setContext(this._key,t)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class hc{constructor(t){this.key=t}affectsSome(t){return t.has(this.key)}allKeysContainedIn(t){return this.affectsSome(t)}}class fc{constructor(t){this.keys=t}affectsSome(t){for(const s of this.keys)if(t.has(s))return!0;return!1}allKeysContainedIn(t){return this.keys.every(s=>t.has(s))}}class Bd{constructor(t){this.events=t}affectsSome(t){for(const s of this.events)if(s.affectsSome(t))return!0;return!1}allKeysContainedIn(t){return this.events.every(s=>s.allKeysContainedIn(t))}}function Wd(ue,t){return ue.allKeysContainedIn(new Set(Object.keys(t)))}class gc{constructor(t){this._onDidChangeContext=new O.K3({merge:s=>new Bd(s)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=t}createKey(t,s){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Fd(this,t,s)}bufferChangeEvents(t){this._onDidChangeContext.pause();try{t()}finally{this._onDidChangeContext.resume()}}createScoped(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Vd(this,t)}contextMatchesRules(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const s=this.getContextValuesContainer(this._myContextId);return t?t.evaluate(s):!0}getContextKeyValue(t){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(t)}setContext(t,s){if(this._isDisposed)return;const m=this.getContextValuesContainer(this._myContextId);!m||m.setValue(t,s)&&this._onDidChangeContext.fire(new hc(t))}removeContext(t){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(t)&&this._onDidChangeContext.fire(new hc(t))}getContext(t){return this._isDisposed?ar.INSTANCE:this.getContextValuesContainer(Hd(t))}}let vl=class extends gc{constructor(t){super(0),this._contexts=new Map,this._toDispose=new f.SL,this._lastContextId=0;const s=new Or(this._myContextId,t,this._onDidChangeContext);this._contexts.set(this._myContextId,s),this._toDispose.add(s)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(t){return this._isDisposed?ar.INSTANCE:this._contexts.get(t)||ar.INSTANCE}createChildContext(t=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const s=++this._lastContextId;return this._contexts.set(s,new _l(s,this.getContextValuesContainer(t))),s}disposeContext(t){this._isDisposed||this._contexts.delete(t)}};vl=Od([kd(0,li.Ui)],vl);class Vd extends gc{constructor(t,s){if(super(t.createChildContext()),this._parentChangeListener=new f.XK,this._parent=t,this._updateParentChangeListener(),this._domNode=s,this._domNode.hasAttribute(Pr)){let m="";this._domNode.classList&&(m=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${m?": "+m:""}`)}this._domNode.setAttribute(Pr,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(t=>{const m=this._parent.getContextValuesContainer(this._myContextId).value;Wd(t,m)||this._onDidChangeContext.fire(t)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(Pr),this._isDisposed=!0)}getContextValuesContainer(t){return this._isDisposed?ar.INSTANCE:this._parent.getContextValuesContainer(t)}createChildContext(t=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(t)}disposeContext(t){this._isDisposed||this._parent.disposeContext(t)}}function Hd(ue){for(;ue;){if(ue.hasAttribute(Pr)){const t=ue.getAttribute(Pr);return t?parseInt(t,10):NaN}ue=ue.parentElement}return 0}function Ud(ue,t,s){ue.get(nn.i6).createKey(String(t),zd(s))}function zd(ue){return(0,u.rs)(ue,t=>{if(typeof t=="object"&&t.$mid===1)return D.o.revive(t).toString();if(t instanceof D.o)return t.toString()})}us.P0.registerCommand(nn.Eq,Ud),us.P0.registerCommand({id:"getContextKeyInfo",handler(){return[...nn.uy.all()].sort((ue,t)=>ue.key.localeCompare(t.key))},description:{description:(0,wi.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),us.P0.registerCommand("_generateContextKeyInfo",function(){const ue=[],t=new Set;for(const s of nn.uy.all())t.has(s.key)||(t.add(s.key),ue.push(s));ue.sort((s,m)=>s.key.localeCompare(m.key)),console.log(JSON.stringify(ue,void 0,2))});var wo=i(97108);class Kd{constructor(t){this.incoming=new Map,this.outgoing=new Map,this.data=t}}class jd{constructor(t){this._hashFn=t,this._nodes=new Map}roots(){const t=[];for(const s of this._nodes.values())s.outgoing.size===0&&t.push(s);return t}insertEdge(t,s){const m=this.lookupOrInsertNode(t),W=this.lookupOrInsertNode(s);m.outgoing.set(this._hashFn(s),W),W.incoming.set(this._hashFn(t),m)}removeNode(t){const s=this._hashFn(t);this._nodes.delete(s);for(const m of this._nodes.values())m.outgoing.delete(s),m.incoming.delete(s)}lookupOrInsertNode(t){const s=this._hashFn(t);let m=this._nodes.get(s);return m||(m=new Kd(t),this._nodes.set(s,m)),m}isEmpty(){return this._nodes.size===0}toString(){const t=[];for(const[s,m]of this._nodes)t.push(`${s}, (incoming)[${[...m.incoming.keys()].join(", ")}], (outgoing)[${[...m.outgoing.keys()].join(",")}]`);return t.join(`
`)}findCycleSlow(){for(const[t,s]of this._nodes){const m=new Set([t]),W=this._findCycle(s,m);if(W)return W}}_findCycle(t,s){for(const[m,W]of t.outgoing){if(s.has(m))return[...s,m].join(" -> ");s.add(m);const q=this._findCycle(W,s);if(q)return q;s.delete(m)}}}const mc=!1;class pc extends Error{constructor(t){var s;super("cyclic dependency between services"),this.message=(s=t.findCycleSlow())!==null&&s!==void 0?s:`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}}class Cl{constructor(t=new di.y,s=!1,m){this._activeInstantiations=new Set,this._services=t,this._strict=s,this._parent=m,this._services.set(Qt.TG,this)}createChild(t){return new Cl(t,this._strict,this)}invokeFunction(t,...s){const m=Ds.traceInvocation(t);let W=!1;try{return t({get:ae=>{if(W)throw(0,K.L6)("service accessor is only valid during the invocation of its target method");const fe=this._getOrCreateServiceInstance(ae,m);if(!fe)throw new Error(`[invokeFunction] unknown service '${ae}'`);return fe}},...s)}finally{W=!0,m.stop()}}createInstance(t,...s){let m,W;return t instanceof wo.M?(m=Ds.traceCreation(t.ctor),W=this._createInstance(t.ctor,t.staticArguments.concat(s),m)):(m=Ds.traceCreation(t),W=this._createInstance(t,s,m)),m.stop(),W}_createInstance(t,s=[],m){const W=Qt.I8.getServiceDependencies(t).sort((fe,ke)=>fe.index-ke.index),q=[];for(const fe of W){const ke=this._getOrCreateServiceInstance(fe.id,m);ke||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${fe.id}.`,!1),q.push(ke)}const ae=W.length>0?W[0].index:s.length;if(s.length!==ae){console.trace(`[createInstance] First service dependency of ${t.name} at position ${ae+1} conflicts with ${s.length} static arguments`);const fe=ae-s.length;fe>0?s=s.concat(new Array(fe)):s=s.slice(0,ae)}return new t(...s,...q)}_setServiceInstance(t,s){if(this._services.get(t)instanceof wo.M)this._services.set(t,s);else if(this._parent)this._parent._setServiceInstance(t,s);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){const s=this._services.get(t);return!s&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):s}_getOrCreateServiceInstance(t,s){const m=this._getServiceInstanceOrDescriptor(t);return m instanceof wo.M?this._safeCreateAndCacheServiceInstance(t,m,s.branch(t,!0)):(s.branch(t,!1),m)}_safeCreateAndCacheServiceInstance(t,s,m){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,s,m)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,s,m){const W=new jd(fe=>fe.id.toString());let q=0;const ae=[{id:t,desc:s,_trace:m}];for(;ae.length;){const fe=ae.pop();if(W.lookupOrInsertNode(fe),q++>1e3)throw new pc(W);for(const ke of Qt.I8.getServiceDependencies(fe.desc.ctor)){const Ze=this._getServiceInstanceOrDescriptor(ke.id);if(Ze||this._throwIfStrict(`[createInstance] ${t} depends on ${ke.id} which is NOT registered.`,!0),Ze instanceof wo.M){const it={id:ke.id,desc:Ze,_trace:fe._trace.branch(ke.id,!0)};W.insertEdge(fe,it),ae.push(it)}}}for(;;){const fe=W.roots();if(fe.length===0){if(!W.isEmpty())throw new pc(W);break}for(const{data:ke}of fe){if(this._getServiceInstanceOrDescriptor(ke.id)instanceof wo.M){const it=this._createServiceInstanceWithOwner(ke.id,ke.desc.ctor,ke.desc.staticArguments,ke.desc.supportsDelayedInstantiation,ke._trace);this._setServiceInstance(ke.id,it)}W.removeNode(ke)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,s,m=[],W,q){if(this._services.get(t)instanceof wo.M)return this._createServiceInstance(s,m,W,q);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,s,m,W,q);throw new Error(`illegalState - creating UNKNOWN service instance ${s.name}`)}_createServiceInstance(t,s=[],m,W){if(m){const q=new U.Ue(()=>this._createInstance(t,s,W));return new Proxy(Object.create(null),{get(ae,fe){if(fe in ae)return ae[fe];const ke=q.value;let Ze=ke[fe];return typeof Ze!="function"||(Ze=Ze.bind(ke),ae[fe]=Ze),Ze},set(ae,fe,ke){return q.value[fe]=ke,!0}})}else return this._createInstance(t,s,W)}_throwIfStrict(t,s){if(s&&console.warn(t),this._strict)throw new Error(t)}}class Ds{constructor(t,s){this.type=t,this.name=s,this._start=Date.now(),this._dep=[]}static traceInvocation(t){return mc?new Ds(1,t.name||t.toString().substring(0,42).replace(/\n/g,"")):Ds._None}static traceCreation(t){return mc?new Ds(0,t.name):Ds._None}branch(t,s){const m=new Ds(2,t.toString());return this._dep.push([t,s,m]),m}stop(){const t=Date.now()-this._start;Ds._totals+=t;let s=!1;function m(q,ae){const fe=[],ke=new Array(q+1).join("	");for(const[Ze,it,Ct]of ae._dep)if(it&&Ct){s=!0,fe.push(`${ke}CREATES -> ${Ze}`);const ti=m(q+1,Ct);ti&&fe.push(ti)}else fe.push(`${ke}uses -> ${Ze}`);return fe.join(`
`)}const W=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${m(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${Ds._totals.toFixed(2)}ms)`];(t>2||s)&&console.log(W.join(`
`))}}Ds._None=new class extends Ds{constructor(){super(-1,null)}stop(){}branch(){return this}},Ds._totals=0;class $d{constructor(){this._byResource=new _s.Y9,this._byOwner=new Map}set(t,s,m){let W=this._byResource.get(t);W||(W=new Map,this._byResource.set(t,W)),W.set(s,m);let q=this._byOwner.get(s);q||(q=new _s.Y9,this._byOwner.set(s,q)),q.set(t,m)}get(t,s){const m=this._byResource.get(t);return m==null?void 0:m.get(s)}delete(t,s){let m=!1,W=!1;const q=this._byResource.get(t);q&&(m=q.delete(s));const ae=this._byOwner.get(s);if(ae&&(W=ae.delete(t)),m!==W)throw new Error("illegal state");return m&&W}values(t){var s,m,W,q;return typeof t=="string"?(m=(s=this._byOwner.get(t))===null||s===void 0?void 0:s.values())!==null&&m!==void 0?m:Fo.$.empty():D.o.isUri(t)?(q=(W=this._byResource.get(t))===null||W===void 0?void 0:W.values())!==null&&q!==void 0?q:Fo.$.empty():Fo.$.map(Fo.$.concat(...this._byOwner.values()),ae=>ae[1])}}class Gd{constructor(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new _s.Y9,this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(t){for(const s of t){const m=this._data.get(s);m&&this._substract(m);const W=this._resourceStats(s);this._add(W),this._data.set(s,W)}}_resourceStats(t){const s={errors:0,warnings:0,infos:0,unknowns:0};if(t.scheme===Kn.lg.inMemory||t.scheme===Kn.lg.walkThrough||t.scheme===Kn.lg.walkThroughSnippet||t.scheme===Kn.lg.vscodeSourceControl)return s;for(const{severity:m}of this._service.read({resource:t}))m===ws.ZL.Error?s.errors+=1:m===ws.ZL.Warning?s.warnings+=1:m===ws.ZL.Info?s.infos+=1:s.unknowns+=1;return s}_substract(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns}_add(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns}}class yo{constructor(){this._onMarkerChanged=new O.D0({delay:0,merge:yo._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new $d,this._stats=new Gd(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(t,s){for(const m of s||[])this.changeOne(t,m,[])}changeOne(t,s,m){if((0,_i.XY)(m))this._data.delete(s,t)&&this._onMarkerChanged.fire([s]);else{const W=[];for(const q of m){const ae=yo._toMarker(t,s,q);ae&&W.push(ae)}this._data.set(s,t,W),this._onMarkerChanged.fire([s])}}static _toMarker(t,s,m){let{code:W,severity:q,message:ae,source:fe,startLineNumber:ke,startColumn:Ze,endLineNumber:it,endColumn:Ct,relatedInformation:ti,tags:ri}=m;if(!!ae)return ke=ke>0?ke:1,Ze=Ze>0?Ze:1,it=it>=ke?it:ke,Ct=Ct>0?Ct:Ze,{resource:s,owner:t,code:W,severity:q,message:ae,source:fe,startLineNumber:ke,startColumn:Ze,endLineNumber:it,endColumn:Ct,relatedInformation:ti,tags:ri}}changeAll(t,s){const m=[],W=this._data.values(t);if(W)for(const q of W){const ae=Fo.$.first(q);ae&&(m.push(ae.resource),this._data.delete(ae.resource,t))}if((0,_i.Of)(s)){const q=new _s.Y9;for(const{resource:ae,marker:fe}of s){const ke=yo._toMarker(t,ae,fe);if(!ke)continue;const Ze=q.get(ae);Ze?Ze.push(ke):(q.set(ae,[ke]),m.push(ae))}for(const[ae,fe]of q)this._data.set(ae,t,fe)}m.length>0&&this._onMarkerChanged.fire(m)}read(t=Object.create(null)){let{owner:s,resource:m,severities:W,take:q}=t;if((!q||q<0)&&(q=-1),s&&m){const ae=this._data.get(m,s);if(ae){const fe=[];for(const ke of ae)if(yo._accept(ke,W)){const Ze=fe.push(ke);if(q>0&&Ze===q)break}return fe}else return[]}else if(!s&&!m){const ae=[];for(const fe of this._data.values())for(const ke of fe)if(yo._accept(ke,W)){const Ze=ae.push(ke);if(q>0&&Ze===q)return ae}return ae}else{const ae=this._data.values(m??s),fe=[];for(const ke of ae)for(const Ze of ke)if(yo._accept(Ze,W)){const it=fe.push(Ze);if(q>0&&it===q)return fe}return fe}}static _accept(t,s){return s===void 0||(s&t.severity)===t.severity}static _merge(t){const s=new _s.Y9;for(const m of t)for(const W of m)s.set(W,!0);return Array.from(s.keys())}}function _c(ue,t,s,m,W,q){if(Array.isArray(ue)){let ae=0;for(const fe of ue){const ke=_c(fe,t,s,m,W,q);if(ke===10)return ke;ke>ae&&(ae=ke)}return ae}else{if(typeof ue=="string")return m?ue==="*"?5:ue===s?10:0:0;if(ue){const{language:ae,pattern:fe,scheme:ke,hasAccessToAllModels:Ze,notebookType:it}=ue;if(!m&&!Ze)return 0;it&&W&&(t=W);let Ct=0;if(ke)if(ke===t.scheme)Ct=10;else if(ke==="*")Ct=5;else return 0;if(ae)if(ae===s)Ct=10;else if(ae==="*")Ct=Math.max(Ct,5);else return 0;if(it)if(it===q)Ct=10;else if(it==="*"&&q!==void 0)Ct=Math.max(Ct,5);else return 0;if(fe){let ti;if(typeof fe=="string"?ti=fe:ti=Object.assign(Object.assign({},fe),{base:(0,Fs.Fv)(fe.base)}),ti===t.fsPath||Ha(ti,t.fsPath))Ct=10;else return 0}return Ct}else return 0}}function vc(ue){return typeof ue=="string"?!1:Array.isArray(ue)?ue.every(vc):!!ue.exclusive}class Cc{constructor(t,s,m,W){this.uri=t,this.languageId=s,this.notebookUri=m,this.notebookType=W}equals(t){var s,m;return this.notebookType===t.notebookType&&this.languageId===t.languageId&&this.uri.toString()===t.uri.toString()&&((s=this.notebookUri)===null||s===void 0?void 0:s.toString())===((m=t.notebookUri)===null||m===void 0?void 0:m.toString())}}class Hn{constructor(t){this._notebookInfoResolver=t,this._clock=0,this._entries=[],this._onDidChange=new O.Q5,this.onDidChange=this._onDidChange.event}register(t,s){let m={selector:t,provider:s,_score:-1,_time:this._clock++};return this._entries.push(m),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,f.OF)(()=>{if(m){const W=this._entries.indexOf(m);W>=0&&(this._entries.splice(W,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),m=void 0)}})}has(t){return this.all(t).length>0}all(t){if(!t)return[];this._updateScores(t);const s=[];for(const m of this._entries)m._score>0&&s.push(m.provider);return s}ordered(t){const s=[];return this._orderedForEach(t,m=>s.push(m.provider)),s}orderedGroups(t){const s=[];let m,W;return this._orderedForEach(t,q=>{m&&W===q._score?m.push(q.provider):(W=q._score,m=[q.provider],s.push(m))}),s}_orderedForEach(t,s){this._updateScores(t);for(const m of this._entries)m._score>0&&s(m)}_updateScores(t){var s,m;const W=(s=this._notebookInfoResolver)===null||s===void 0?void 0:s.call(this,t.uri),q=W?new Cc(t.uri,t.getLanguageId(),W.uri,W.type):new Cc(t.uri,t.getLanguageId(),void 0,void 0);if(!(!((m=this._lastCandidate)===null||m===void 0)&&m.equals(q))){this._lastCandidate=q;for(const ae of this._entries)if(ae._score=_c(ae.selector,q.uri,q.languageId,(0,E.pt)(t),q.notebookUri,q.notebookType),vc(ae.selector)&&ae._score>0){for(const fe of this._entries)fe._score=0;ae._score=1e3;break}this._entries.sort(Hn._compareByScoreAndTime)}}static _compareByScoreAndTime(t,s){return t._score<s._score?1:t._score>s._score?-1:t._time<s._time?1:t._time>s._time?-1:0}}class Zd{constructor(){this.referenceProvider=new Hn(this._score.bind(this)),this.renameProvider=new Hn(this._score.bind(this)),this.codeActionProvider=new Hn(this._score.bind(this)),this.definitionProvider=new Hn(this._score.bind(this)),this.typeDefinitionProvider=new Hn(this._score.bind(this)),this.declarationProvider=new Hn(this._score.bind(this)),this.implementationProvider=new Hn(this._score.bind(this)),this.documentSymbolProvider=new Hn(this._score.bind(this)),this.inlayHintsProvider=new Hn(this._score.bind(this)),this.colorProvider=new Hn(this._score.bind(this)),this.codeLensProvider=new Hn(this._score.bind(this)),this.documentFormattingEditProvider=new Hn(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Hn(this._score.bind(this)),this.onTypeFormattingEditProvider=new Hn(this._score.bind(this)),this.signatureHelpProvider=new Hn(this._score.bind(this)),this.hoverProvider=new Hn(this._score.bind(this)),this.documentHighlightProvider=new Hn(this._score.bind(this)),this.selectionRangeProvider=new Hn(this._score.bind(this)),this.foldingRangeProvider=new Hn(this._score.bind(this)),this.linkProvider=new Hn(this._score.bind(this)),this.inlineCompletionsProvider=new Hn(this._score.bind(this)),this.completionProvider=new Hn(this._score.bind(this)),this.linkedEditingRangeProvider=new Hn(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Hn(this._score.bind(this)),this.documentSemanticTokensProvider=new Hn(this._score.bind(this)),this.documentOnDropEditProvider=new Hn(this._score.bind(this)),this.documentPasteEditProvider=new Hn(this._score.bind(this))}_score(t){var s;return(s=this._notebookTypeResolver)===null||s===void 0?void 0:s.call(this,t)}}(0,Ln.z)(bi.p,Zd,!0);class Qd extends hs{constructor(t={}){const s=tt.B.as(Ue.IP.Configuration).getConfigurationProperties(),m=Object.keys(s),W=Object.create(null),q=[];for(const ae in s){const fe=t[ae],ke=fe!==void 0?fe:s[ae].default;(0,li.KV)(W,ae,ke,Ze=>console.error(`Conflict in default settings: ${Ze}`))}for(const ae of Object.keys(W))Ue.eU.test(ae)&&q.push({identifiers:(0,Ue.ny)(ae),keys:Object.keys(W[ae]),contents:(0,li.Od)(W[ae],fe=>console.error(`Conflict in default settings file: ${fe}`))});super(W,m,q)}}var Lo=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},ls=function(ue,t){return function(s,m){t(s,m,ue)}},bc=function(ue,t,s,m){function W(q){return q instanceof s?q:new s(function(ae){ae(q)})}return new(s||(s=Promise))(function(q,ae){function fe(it){try{Ze(m.next(it))}catch(Ct){ae(Ct)}}function ke(it){try{Ze(m.throw(it))}catch(Ct){ae(Ct)}}function Ze(it){it.done?q(it.value):W(it.value).then(fe,ke)}Ze((m=m.apply(ue,t||[])).next())})};class Yd{constructor(t){this.disposed=!1,this.model=t,this._onWillDispose=new O.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let bl=class{constructor(t){this.modelService=t}createModelReference(t){const s=this.modelService.getModel(t);return s?Promise.resolve(new f.Jz(new Yd(s))):Promise.reject(new Error("Model not found"))}};bl=Lo([ls(0,Q.q)],bl);class ha{show(){return ha.NULL_PROGRESS_RUNNER}showWhile(t,s){return bc(this,void 0,void 0,function*(){yield t})}}ha.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Xd{withProgress(t,s,m){return s({report:()=>{}})}}class Jd{confirm(t){return this.doConfirm(t).then(s=>({confirmed:s,checkboxChecked:!1}))}doConfirm(t){let s=t.message;return t.detail&&(s=s+`

`+t.detail),Promise.resolve(window.confirm(s))}show(t,s,m,W){return Promise.resolve({choice:0})}}class fa{info(t){return this.notify({severity:ss.Z.Info,message:t})}warn(t){return this.notify({severity:ss.Z.Warning,message:t})}error(t){return this.notify({severity:ss.Z.Error,message:t})}notify(t){switch(t.severity){case ss.Z.Error:console.error(t.message);break;case ss.Z.Warning:console.warn(t.message);break;default:console.log(t.message);break}return fa.NO_OP}status(t,s){return f.JT.None}}fa.NO_OP=new fi.EO;let Sl=class{constructor(t){this._onWillExecuteCommand=new O.Q5,this._onDidExecuteCommand=new O.Q5,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=t}executeCommand(t,...s){const m=us.P0.getCommand(t);if(!m)return Promise.reject(new Error(`command '${t}' not found`));try{this._onWillExecuteCommand.fire({commandId:t,args:s});const W=this._instantiationService.invokeFunction.apply(this._instantiationService,[m.handler,...s]);return this._onDidExecuteCommand.fire({commandId:t,args:s}),Promise.resolve(W)}catch(W){return Promise.reject(W)}}};Sl=Lo([ls(0,Qt.TG)],Sl);let ga=class extends jo{constructor(t,s,m,W,q,ae){super(t,s,m,W,q),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const fe=ri=>{const hi=new f.SL;hi.add(Pt.nm(ri,Pt.tw.KEY_DOWN,Di=>{const ki=new Ss.y(Di);this._dispatch(ki,ki.target)&&(ki.preventDefault(),ki.stopPropagation())})),hi.add(Pt.nm(ri,Pt.tw.KEY_UP,Di=>{const ki=new Ss.y(Di);this._singleModifierDispatch(ki,ki.target)&&ki.preventDefault()})),this._domNodeListeners.push(new qd(ri,hi))},ke=ri=>{for(let hi=0;hi<this._domNodeListeners.length;hi++){const Di=this._domNodeListeners[hi];Di.domNode===ri&&(this._domNodeListeners.splice(hi,1),Di.dispose())}},Ze=ri=>{ri.getOption(56)||fe(ri.getContainerDomNode())},it=ri=>{ri.getOption(56)||ke(ri.getContainerDomNode())};this._register(ae.onCodeEditorAdd(Ze)),this._register(ae.onCodeEditorRemove(it)),ae.listCodeEditors().forEach(Ze);const Ct=ri=>{fe(ri.getContainerDomNode())},ti=ri=>{ke(ri.getContainerDomNode())};this._register(ae.onDiffEditorAdd(Ct)),this._register(ae.onDiffEditorRemove(ti)),ae.listDiffEditors().forEach(Ct)}addDynamicKeybinding(t,s,m,W){const q=(0,so.gm)(s,H.OS),ae=new f.SL;return q&&(this._dynamicKeybindings.push({keybinding:q.parts,command:t,when:W,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),ae.add((0,f.OF)(()=>{for(let fe=0;fe<this._dynamicKeybindings.length;fe++)if(this._dynamicKeybindings[fe].command===t){this._dynamicKeybindings.splice(fe,1),this.updateResolver();return}}))),ae.add(us.P0.registerCommand(t,m)),this.updateResolver(),ae}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const t=this._toNormalizedKeybindingItems(Ta.W.getDefaultKeybindings(),!0),s=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Ao(t,s,m=>this._log(m))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(t,s){const m=[];let W=0;for(const q of t){const ae=q.when||void 0,fe=q.keybinding;if(!fe)m[W++]=new Sr(void 0,q.command,q.commandArgs,ae,s,null,!1);else{const ke=Ro.resolveUserBinding(fe,H.OS);for(const Ze of ke)m[W++]=new Sr(Ze,q.command,q.commandArgs,ae,s,null,!1)}}return m}resolveKeyboardEvent(t){const s=new so.QC(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,t.keyCode).toChord();return new Ro(s,H.OS)}};ga=Lo([ls(0,nn.i6),ls(1,us.Hy),ls(2,Zo.b),ls(3,fi.lT),ls(4,Ci.VZ),ls(5,a.$)],ga);class qd extends f.JT{constructor(t,s){super(),this.domNode=t,this._register(s)}}function Sc(ue){return ue&&typeof ue=="object"&&(!ue.overrideIdentifier||typeof ue.overrideIdentifier=="string")&&(!ue.resource||ue.resource instanceof D.o)}class wc{constructor(){this._onDidChangeConfiguration=new O.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new po(new Qd,new hs,new hs,new hs)}getValue(t,s){const m=typeof t=="string"?t:void 0,W=Sc(t)?t:Sc(s)?s:{};return this._configuration.getValue(m,W,void 0)}updateValues(t){const s={data:this._configuration.toData()},m=[];for(const W of t){const[q,ae]=W;this.getValue(q)!==ae&&(this._configuration.updateValue(q,ae),m.push(q))}if(m.length>0){const W=new Ma({keys:m,overrides:[]},s,this._configuration);W.source=8,W.sourceConfig=null,this._onDidChangeConfiguration.fire(W)}return Promise.resolve()}updateValue(t,s,m,W){return this.updateValues([[t,s]])}inspect(t,s={}){return this._configuration.inspect(t,s,void 0)}}let wl=class{constructor(t){this.configurationService=t,this._onDidChangeConfiguration=new O.Q5,this.configurationService.onDidChangeConfiguration(s=>{this._onDidChangeConfiguration.fire({affectedKeys:s.affectedKeys,affectsConfiguration:(m,W)=>s.affectsConfiguration(W)})})}getValue(t,s,m){const q=($.L.isIPosition(s)?s:null)?typeof m=="string"?m:void 0:typeof s=="string"?s:void 0;return typeof q>"u"?this.configurationService.getValue():this.configurationService.getValue(q)}};wl=Lo([ls(0,li.Ui)],wl);let yl=class{constructor(t){this.configurationService=t}getEOL(t,s){const m=this.configurationService.getValue("files.eol",{overrideIdentifier:s,resource:t});return m&&typeof m=="string"&&m!=="auto"?m:H.IJ||H.dz?`
`:`\r
`}};yl=Lo([ls(0,li.Ui)],yl);class eu{publicLog(t,s){return Promise.resolve(void 0)}publicLog2(t,s){return this.publicLog(t,s)}}class kr{constructor(){const t=D.o.from({scheme:kr.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new Qo.md({uri:t,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(t){return t&&t.scheme===kr.SCHEME?this.workspace.folders[0]:null}}kr.SCHEME="inmemory";function ma(ue,t,s){if(!t||!(ue instanceof wc))return;const m=[];Object.keys(t).forEach(W=>{(0,zr.ei)(W)&&m.push([`editor.${W}`,t[W]]),s&&(0,zr.Pe)(W)&&m.push([`diffEditor.${W}`,t[W]])}),m.length>0&&ue.updateValues(m)}let Ll=class{constructor(t){this._modelService=t}hasPreviewHandler(){return!1}apply(t,s){return bc(this,void 0,void 0,function*(){const m=new Map;for(const ae of t){if(!(ae instanceof mo.Gl))throw new Error("bad edit - only text edits are supported");const fe=this._modelService.getModel(ae.resource);if(!fe)throw new Error("bad edit - model not found");if(typeof ae.versionId=="number"&&fe.getVersionId()!==ae.versionId)throw new Error("bad state - model changed in the meantime");let ke=m.get(fe);ke||(ke=[],m.set(fe,ke)),ke.push(To.h.replaceMove(M.e.lift(ae.textEdit.range),ae.textEdit.text))}let W=0,q=0;for(const[ae,fe]of m)ae.pushStackElement(),ae.pushEditOperations([],fe,()=>[]),ae.pushStackElement(),q+=1,W+=fe.length;return{ariaSummary:l.WU(wr.iN.bulkEditServiceSummary,W,q)}})}};Ll=Lo([ls(0,Q.q)],Ll);class tu{getUriLabel(t,s){return t.scheme==="file"?t.fsPath:t.path}getUriBasenameLabel(t){return(0,Yo.EZ)(t)}}let Dl=class extends Co{constructor(t,s){super(t),this._codeEditorService=s}showContextView(t,s,m){if(!s){const W=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();W&&(s=W.getContainerDomNode())}return super.showContextView(t,s,m)}};Dl=Lo([ls(0,$s),ls(1,a.$)],Dl);class iu{constructor(){this._neverEmitter=new O.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class nu extends qt{constructor(){super()}}class su extends Ci.$V{constructor(){super(new Ci.kw)}}let El=class extends ja{constructor(t,s,m,W,q){super(t,s,m,W,q),this.configure({blockMouse:!1})}};El=Lo([ls(0,Zo.b),ls(1,fi.lT),ls(2,Ti.u),ls(3,_o.d),ls(4,oi.XE)],El),(0,Ln.z)(li.Ui,wc),(0,Ln.z)(Yt.V,wl),(0,Ln.z)(Yt.y,yl),(0,Ln.z)(Qo.ec,kr),(0,Ln.z)(Ra.e,tu),(0,Ln.z)(Zo.b,eu),(0,Ln.z)(Os.S,Jd),(0,Ln.z)(fi.lT,fa),(0,Ln.z)(ws.lT,yo),(0,Ln.z)(J.O,nu),(0,Ln.z)(Hs.Z,Td.nI),(0,Ln.z)(Ci.VZ,su),(0,Ln.z)(Q.q,hd.b$),(0,Ln.z)(ud.i,Ya),(0,Ln.z)(nn.i6,vl),(0,Ln.z)(Un.R9,Xd),(0,Ln.z)(Un.ek,ha),(0,Ln.z)(da.Uy,da.vm),(0,Ln.z)(Vt.p,be),(0,Ln.z)(mo.vu,Ll),(0,Ln.z)($r.Y,iu),(0,Ln.z)(xa.S,bl),(0,Ln.z)(ir.F,hl),(0,Ln.z)(sl.Lw,sl.XN),(0,Ln.z)(us.Hy,Sl),(0,Ln.z)(_o.d,ga),(0,Ln.z)(rl.eJ,dl),(0,Ln.z)(Ti.u,Dl),(0,Ln.z)(Mr.v4,Qa),(0,Ln.z)(Rn.p,pl),(0,Ln.z)(Ti.i,El),(0,Ln.z)(Rs.co,gl);var Xi;(function(ue){const t=new di.y;for(const[ae,fe]of(0,Ln.d)())t.set(ae,fe);const s=new Cl(t,!0);t.set(Qt.TG,s);function m(ae){const fe=t.get(ae);if(!fe)throw new Error("Missing service "+ae);return fe instanceof wo.M?s.invokeFunction(ke=>ke.get(ae)):fe}ue.get=m;let W=!1;function q(ae){if(W)return s;W=!0;for(const[fe,ke]of(0,Ln.d)())t.get(fe)||t.set(fe,ke);for(const fe in ae)if(ae.hasOwnProperty(fe)){const ke=(0,Qt.yh)(fe);t.get(ke)instanceof wo.M&&t.set(ke,ae[fe])}return s}ue.initialize=q})(Xi||(Xi={}));var Il=function(ue,t,s,m){var W=arguments.length,q=W<3?t:m===null?m=Object.getOwnPropertyDescriptor(t,s):m,ae;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(ue,t,s,m);else for(var fe=ue.length-1;fe>=0;fe--)(ae=ue[fe])&&(q=(W<3?ae(q):W>3?ae(t,s,q):ae(t,s))||q);return W>3&&q&&Object.defineProperty(t,s,q),q},On=function(ue,t){return function(s,m){t(s,m,ue)}};let ou=0,yc=!1;function ru(ue){if(!ue){if(yc)return;yc=!0}Ei.wW(ue||document.body)}let pa=class extends Oi.Gm{constructor(t,s,m,W,q,ae,fe,ke,Ze,it,Ct,ti){const ri=Object.assign({},s);ri.ariaLabel=ri.ariaLabel||wr.B8.editorViewAccessibleLabel,ri.ariaLabel=ri.ariaLabel+";"+wr.B8.accessibilityHelpMessage,super(t,ri,{},m,W,q,ae,ke,Ze,it,Ct,ti),fe instanceof ga?this._standaloneKeybindingService=fe:this._standaloneKeybindingService=null,ru(ri.ariaContainerElement)}addCommand(t,s,m){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const W="DYNAMIC_"+ ++ou,q=nn.Ao.deserialize(m);return this._standaloneKeybindingService.addDynamicKeybinding(W,t,s,q),W}createContextKey(t,s){return this._contextKeyService.createKey(t,s)}addAction(t){if(typeof t.id!="string"||typeof t.label!="string"||typeof t.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),f.JT.None;const s=t.id,m=t.label,W=nn.Ao.and(nn.Ao.equals("editorId",this.getId()),nn.Ao.deserialize(t.precondition)),q=t.keybindings,ae=nn.Ao.and(W,nn.Ao.deserialize(t.keybindingContext)),fe=t.contextMenuGroupId||null,ke=t.contextMenuOrder||0,Ze=(ri,...hi)=>Promise.resolve(t.run(this,...hi)),it=new f.SL,Ct=this.getId()+":"+s;if(it.add(us.P0.registerCommand(Ct,Ze)),fe){const ri={command:{id:Ct,title:m},when:W,group:fe,order:ke};it.add(Rs.BH.appendMenuItem(Rs.eH.EditorContext,ri))}if(Array.isArray(q))for(const ri of q)it.add(this._standaloneKeybindingService.addDynamicKeybinding(Ct,ri,Ze,ae));const ti=new Ho.p(Ct,m,m,W,Ze,this._contextKeyService);return this._actions[s]=ti,it.add((0,f.OF)(()=>{delete this._actions[s]})),it}_triggerCommand(t,s){if(this._codeEditorService instanceof io)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(t,s)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(t,s)}};pa=Il([On(2,Qt.TG),On(3,a.$),On(4,us.Hy),On(5,nn.i6),On(6,_o.d),On(7,oi.XE),On(8,fi.lT),On(9,ir.F),On(10,I.c_),On(11,bi.p)],pa);let Nl=class extends pa{constructor(t,s,m,W,q,ae,fe,ke,Ze,it,Ct,ti,ri,hi,Di){const ki=Object.assign({},s);ma(it,ki,!1);const Qi=ke.registerEditorContainer(t);typeof ki.theme=="string"&&ke.setTheme(ki.theme),typeof ki.autoDetectHighContrast<"u"&&ke.setAutoDetectHighContrast(Boolean(ki.autoDetectHighContrast));const rn=ki.model;delete ki.model,super(t,ki,m,W,q,ae,fe,ke,Ze,Ct,hi,Di),this._configurationService=it,this._standaloneThemeService=ke,this._register(Qi);let Ki;if(typeof rn>"u"){const ji=ri.getLanguageIdByMimeType(ki.language)||ki.language||Ws.bd;Ki=Lc(ti,ri,ki.value||"",ji,void 0),this._ownsModel=!0}else Ki=rn,this._ownsModel=!1;if(this._attachModel(Ki),Ki){const ji={oldModelUrl:null,newModelUrl:Ki.uri};this._onDidChangeModel.fire(ji)}}dispose(){super.dispose()}updateOptions(t){ma(this._configurationService,t,!1),typeof t.theme=="string"&&this._standaloneThemeService.setTheme(t.theme),typeof t.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(t.autoDetectHighContrast)),super.updateOptions(t)}_postDetachModelCleanup(t){super._postDetachModelCleanup(t),t&&this._ownsModel&&(t.dispose(),this._ownsModel=!1)}};Nl=Il([On(2,Qt.TG),On(3,a.$),On(4,us.Hy),On(5,nn.i6),On(6,_o.d),On(7,Hs.Z),On(8,fi.lT),On(9,li.Ui),On(10,ir.F),On(11,Q.q),On(12,J.O),On(13,I.c_),On(14,bi.p)],Nl);let xl=class extends Is{constructor(t,s,m,W,q,ae,fe,ke,Ze,it,Ct,ti){const ri=Object.assign({},s);ma(Ze,ri,!0);const hi=fe.registerEditorContainer(t);typeof ri.theme=="string"&&fe.setTheme(ri.theme),typeof ri.autoDetectHighContrast<"u"&&fe.setAutoDetectHighContrast(Boolean(ri.autoDetectHighContrast)),super(t,ri,{},ti,q,W,m,ae,fe,ke,it,Ct),this._configurationService=Ze,this._standaloneThemeService=fe,this._register(hi)}dispose(){super.dispose()}updateOptions(t){ma(this._configurationService,t,!0),typeof t.theme=="string"&&this._standaloneThemeService.setTheme(t.theme),typeof t.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(t.autoDetectHighContrast)),super.updateOptions(t)}_createInnerEditor(t,s,m){return t.createInstance(pa,s,m)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(t,s,m){return this.getModifiedEditor().addCommand(t,s,m)}createContextKey(t,s){return this.getModifiedEditor().createContextKey(t,s)}addAction(t){return this.getModifiedEditor().addAction(t)}};xl=Il([On(2,Qt.TG),On(3,nn.i6),On(4,Vt.p),On(5,a.$),On(6,Hs.Z),On(7,fi.lT),On(8,li.Ui),On(9,Ti.i),On(10,Un.ek),On(11,Rn.p)],xl);function Lc(ue,t,s,m,W){if(s=s||"",!m){const q=s.indexOf(`
`);let ae=s;return q!==-1&&(ae=s.substring(0,q)),Dc(ue,s,t.createByFilepathOrFirstLine(W||null,ae),W)}return Dc(ue,s,t.createById(m),W)}function Dc(ue,t,s,m){return ue.createModel(t,s,m)}function au(ue,t,s){return Xi.initialize(s||{}).createInstance(Nl,ue,t)}function lu(ue){return Xi.get(a.$).onCodeEditorAdd(s=>{ue(s)})}function cu(ue){return Xi.get(a.$).onDiffEditorAdd(s=>{ue(s)})}function du(){return Xi.get(a.$).listCodeEditors()}function uu(){return Xi.get(a.$).listDiffEditors()}function hu(ue,t,s){return Xi.initialize(s||{}).createInstance(xl,ue,t)}function fu(ue,t){return new y(ue,t)}function gu(ue,t,s){const m=Xi.get(J.O),W=m.getLanguageIdByMimeType(t)||t;return Lc(Xi.get(Q.q),m,ue,W,s)}function mu(ue,t){const s=Xi.get(J.O);Xi.get(Q.q).setMode(ue,s.createById(t))}function pu(ue,t,s){ue&&Xi.get(ws.lT).changeOne(t,ue.uri,s)}function _u(ue){Xi.get(ws.lT).changeAll(ue,[])}function vu(ue){return Xi.get(ws.lT).read(ue)}function Cu(ue){return Xi.get(ws.lT).onMarkerChanged(ue)}function bu(ue){return Xi.get(Q.q).getModel(ue)}function Su(){return Xi.get(Q.q).getModels()}function wu(ue){return Xi.get(Q.q).onModelAdded(ue)}function yu(ue){return Xi.get(Q.q).onModelRemoved(ue)}function Lu(ue){return Xi.get(Q.q).onModelLanguageChanged(s=>{ue({model:s.model,oldLanguage:s.oldLanguageId})})}function Du(ue){return Ht(Xi.get(Q.q),Xi.get(I.c_),ue)}function Eu(ue,t){const s=Xi.get(J.O),m=Xi.get(Hs.Z);return m.registerEditorContainer(ue),pt.colorizeElement(m,s,ue,t)}function Iu(ue,t,s){const m=Xi.get(J.O);return Xi.get(Hs.Z).registerEditorContainer(document.body),pt.colorize(m,ue,t,s)}function Nu(ue,t,s=4){return Xi.get(Hs.Z).registerEditorContainer(document.body),pt.colorizeModelLine(ue,t,s)}function xu(ue){const t=A.RW.get(ue);return t||{getInitialState:()=>R.TJ,tokenize:(s,m,W)=>(0,R.Ri)(ue,W)}}function Mu(ue,t){A.RW.getOrCreate(t);const s=xu(t),m=(0,l.uq)(ue),W=[];let q=s.getInitialState();for(let ae=0,fe=m.length;ae<fe;ae++){const ke=m[ae],Ze=s.tokenize(ke,!0,q);W[ae]=Ze.tokens,q=Ze.endState}return W}function Tu(ue,t){Xi.get(Hs.Z).defineTheme(ue,t)}function Au(ue){Xi.get(Hs.Z).setTheme(ue)}function Ru(){n.g.clearAllFontInfos()}function Pu(ue,t){return us.P0.registerCommand({id:ue,handler:t})}function Ou(){return{create:au,getEditors:du,getDiffEditors:uu,onDidCreateEditor:lu,onDidCreateDiffEditor:cu,createDiffEditor:hu,createDiffNavigator:fu,createModel:gu,setModelLanguage:mu,setModelMarkers:pu,getModelMarkers:vu,removeAllMarkers:_u,onDidChangeMarkers:Cu,getModels:Su,getModel:bu,onDidCreateModel:wu,onWillDisposeModel:yu,onDidChangeModelLanguage:Lu,createWebWorker:Du,colorizeElement:Eu,colorize:Iu,colorizeModelLine:Nu,tokenize:Mu,defineTheme:Tu,setTheme:Au,remeasureFonts:Ru,registerCommand:Pu,AccessibilitySupport:L.ao,ContentWidgetPositionPreference:L.r3,CursorChangeReason:L.Vi,DefaultEndOfLine:L._x,EditorAutoIndentStrategy:L.rf,EditorOption:L.wT,EndOfLinePreference:L.gm,EndOfLineSequence:L.jl,MinimapPosition:L.F5,MouseTargetType:L.MG,OverlayWidgetPositionPreference:L.E$,OverviewRulerLane:L.sh,RenderLineNumbersType:L.Lu,RenderMinimap:L.vQ,ScrollbarVisibility:L.g_,ScrollType:L.g4,TextEditorCursorBlinkingStyle:L.In,TextEditorCursorStyle:L.d2,TrackedRangeStickiness:L.OI,WrappingIndent:L.up,InjectedTextCursorStops:L.RM,PositionAffinity:L.py,ConfigurationChangedEvent:w.Bb,BareFontInfo:b.E4,FontInfo:b.pR,TextModelResolvedOptions:E.dJ,FindMatch:E.tk,ApplyUpdateResult:w.rk,EditorType:_.g,EditorOptions:w.BH}}function ku(ue,t){if(!t||!Array.isArray(t))return!1;for(const s of t)if(!ue(s))return!1;return!0}function _a(ue,t){return typeof ue=="boolean"?ue:t}function Ec(ue,t){return typeof ue=="string"?ue:t}function Fu(ue){const t={};for(const s of ue)t[s]=!0;return t}function Ic(ue,t=!1){t&&(ue=ue.map(function(m){return m.toLowerCase()}));const s=Fu(ue);return t?function(m){return s[m.toLowerCase()]!==void 0&&s.hasOwnProperty(m.toLowerCase())}:function(m){return s[m]!==void 0&&s.hasOwnProperty(m)}}function Ml(ue,t){t=t.replace(/@@/g,"");let s=0,m;do m=!1,t=t.replace(/@(\w+)/g,function(q,ae){m=!0;let fe="";if(typeof ue[ae]=="string")fe=ue[ae];else if(ue[ae]&&ue[ae]instanceof RegExp)fe=ue[ae].source;else throw ue[ae]===void 0?$i(ue,"language definition does not contain attribute '"+ae+"', used at: "+t):$i(ue,"attribute reference '"+ae+"' must be a string, used at: "+t);return Fi(fe)?"":"(?:"+fe+")"}),s++;while(m&&s<5);t=t.replace(/\x01/g,"@");const W=(ue.ignoreCase?"i":"")+(ue.unicode?"u":"");return new RegExp(t,W)}function Bu(ue,t,s,m){if(m<0)return ue;if(m<t.length)return t[m];if(m>=100){m=m-100;const W=s.split(".");if(W.unshift(s),m<W.length)return W[m]}return null}function Wu(ue,t,s,m){let W=-1,q=s,ae=s.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);ae&&(ae[3]&&(W=parseInt(ae[3]),ae[2]&&(W=W+100)),q=ae[4]);let fe="~",ke=q;!q||q.length===0?(fe="!=",ke=""):/^\w*$/.test(ke)?fe="==":(ae=q.match(/^(@|!@|~|!~|==|!=)(.*)$/),ae&&(fe=ae[1],ke=ae[2]));let Ze;if((fe==="~"||fe==="!~")&&/^(\w|\|)*$/.test(ke)){const it=Ic(ke.split("|"),ue.ignoreCase);Ze=function(Ct){return fe==="~"?it(Ct):!it(Ct)}}else if(fe==="@"||fe==="!@"){const it=ue[ke];if(!it)throw $i(ue,"the @ match target '"+ke+"' is not defined, in rule: "+t);if(!ku(function(ti){return typeof ti=="string"},it))throw $i(ue,"the @ match target '"+ke+"' must be an array of strings, in rule: "+t);const Ct=Ic(it,ue.ignoreCase);Ze=function(ti){return fe==="@"?Ct(ti):!Ct(ti)}}else if(fe==="~"||fe==="!~")if(ke.indexOf("$")<0){const it=Ml(ue,"^"+ke+"$");Ze=function(Ct){return fe==="~"?it.test(Ct):!it.test(Ct)}}else Ze=function(it,Ct,ti,ri){return Ml(ue,"^"+pn(ue,ke,Ct,ti,ri)+"$").test(it)};else if(ke.indexOf("$")<0){const it=Ni(ue,ke);Ze=function(Ct){return fe==="=="?Ct===it:Ct!==it}}else{const it=Ni(ue,ke);Ze=function(Ct,ti,ri,hi,Di){const ki=pn(ue,it,ti,ri,hi);return fe==="=="?Ct===ki:Ct!==ki}}return W===-1?{name:s,value:m,test:function(it,Ct,ti,ri){return Ze(it,it,Ct,ti,ri)}}:{name:s,value:m,test:function(it,Ct,ti,ri){const hi=Bu(it,Ct,ti,W);return Ze(hi||"",it,Ct,ti,ri)}}}function Tl(ue,t,s){if(s){if(typeof s=="string")return s;if(s.token||s.token===""){if(typeof s.token!="string")throw $i(ue,"a 'token' attribute must be of type string, in rule: "+t);{const m={token:s.token};if(s.token.indexOf("$")>=0&&(m.tokenSubst=!0),typeof s.bracket=="string")if(s.bracket==="@open")m.bracket=1;else if(s.bracket==="@close")m.bracket=-1;else throw $i(ue,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);if(s.next){if(typeof s.next!="string")throw $i(ue,"the next state must be a string value in rule: "+t);{let W=s.next;if(!/^(@pop|@push|@popall)$/.test(W)&&(W[0]==="@"&&(W=W.substr(1)),W.indexOf("$")<0&&!wn(ue,pn(ue,W,"",[],""))))throw $i(ue,"the next state '"+s.next+"' is not defined in rule: "+t);m.next=W}}return typeof s.goBack=="number"&&(m.goBack=s.goBack),typeof s.switchTo=="string"&&(m.switchTo=s.switchTo),typeof s.log=="string"&&(m.log=s.log),typeof s.nextEmbedded=="string"&&(m.nextEmbedded=s.nextEmbedded,ue.usesEmbedded=!0),m}}else if(Array.isArray(s)){const m=[];for(let W=0,q=s.length;W<q;W++)m[W]=Tl(ue,t,s[W]);return{group:m}}else if(s.cases){const m=[];for(const q in s.cases)if(s.cases.hasOwnProperty(q)){const ae=Tl(ue,t,s.cases[q]);q==="@default"||q==="@"||q===""?m.push({test:void 0,value:ae,name:q}):q==="@eos"?m.push({test:function(fe,ke,Ze,it){return it},value:ae,name:q}):m.push(Wu(ue,t,q,ae))}const W=ue.defaultToken;return{test:function(q,ae,fe,ke){for(const Ze of m)if(!Ze.test||Ze.test(q,ae,fe,ke))return Ze.value;return W}}}else throw $i(ue,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}else return{token:""}}class Vu{constructor(t){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=t}setRegex(t,s){let m;if(typeof s=="string")m=s;else if(s instanceof RegExp)m=s.source;else throw $i(t,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=m.length>0&&m[0]==="^",this.name=this.name+": "+m,this.regex=Ml(t,"^(?:"+(this.matchOnlyAtLineStart?m.substr(1):m)+")")}setAction(t,s){this.action=Tl(t,this.name,s)}}function Nc(ue,t){if(!t||typeof t!="object")throw new Error("Monarch: expecting a language definition object");const s={};s.languageId=ue,s.includeLF=_a(t.includeLF,!1),s.noThrow=!1,s.maxStack=100,s.start=typeof t.start=="string"?t.start:null,s.ignoreCase=_a(t.ignoreCase,!1),s.unicode=_a(t.unicode,!1),s.tokenPostfix=Ec(t.tokenPostfix,"."+s.languageId),s.defaultToken=Ec(t.defaultToken,"source"),s.usesEmbedded=!1;const m=t;m.languageId=ue,m.includeLF=s.includeLF,m.ignoreCase=s.ignoreCase,m.unicode=s.unicode,m.noThrow=s.noThrow,m.usesEmbedded=s.usesEmbedded,m.stateNames=t.tokenizer,m.defaultToken=s.defaultToken;function W(ae,fe,ke){for(const Ze of ke){let it=Ze.include;if(it){if(typeof it!="string")throw $i(s,"an 'include' attribute must be a string at: "+ae);if(it[0]==="@"&&(it=it.substr(1)),!t.tokenizer[it])throw $i(s,"include target '"+it+"' is not defined at: "+ae);W(ae+"."+it,fe,t.tokenizer[it])}else{const Ct=new Vu(ae);if(Array.isArray(Ze)&&Ze.length>=1&&Ze.length<=3)if(Ct.setRegex(m,Ze[0]),Ze.length>=3)if(typeof Ze[1]=="string")Ct.setAction(m,{token:Ze[1],next:Ze[2]});else if(typeof Ze[1]=="object"){const ti=Ze[1];ti.next=Ze[2],Ct.setAction(m,ti)}else throw $i(s,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+ae);else Ct.setAction(m,Ze[1]);else{if(!Ze.regex)throw $i(s,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+ae);Ze.name&&typeof Ze.name=="string"&&(Ct.name=Ze.name),Ze.matchOnlyAtStart&&(Ct.matchOnlyAtLineStart=_a(Ze.matchOnlyAtLineStart,!1)),Ct.setRegex(m,Ze.regex),Ct.setAction(m,Ze.action)}fe.push(Ct)}}}if(!t.tokenizer||typeof t.tokenizer!="object")throw $i(s,"a language definition must define the 'tokenizer' attribute as an object");s.tokenizer=[];for(const ae in t.tokenizer)if(t.tokenizer.hasOwnProperty(ae)){s.start||(s.start=ae);const fe=t.tokenizer[ae];s.tokenizer[ae]=new Array,W("tokenizer."+ae,s.tokenizer[ae],fe)}if(s.usesEmbedded=m.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw $i(s,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const q=[];for(const ae of t.brackets){let fe=ae;if(fe&&Array.isArray(fe)&&fe.length===3&&(fe={token:fe[2],open:fe[0],close:fe[1]}),fe.open===fe.close)throw $i(s,"open and close brackets in a 'brackets' attribute must be different: "+fe.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof fe.open=="string"&&typeof fe.token=="string"&&typeof fe.close=="string")q.push({token:fe.token+s.tokenPostfix,open:Ni(s,fe.open),close:Ni(s,fe.close)});else throw $i(s,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return s.brackets=q,s.noThrow=!0,s}var Hu=function(ue,t,s,m){function W(q){return q instanceof s?q:new s(function(ae){ae(q)})}return new(s||(s=Promise))(function(q,ae){function fe(it){try{Ze(m.next(it))}catch(Ct){ae(Ct)}}function ke(it){try{Ze(m.throw(it))}catch(Ct){ae(Ct)}}function Ze(it){it.done?q(it.value):W(it.value).then(fe,ke)}Ze((m=m.apply(ue,t||[])).next())})};function Uu(ue){Ws.dQ.registerLanguage(ue)}function zu(){let ue=[];return ue=ue.concat(Ws.dQ.getLanguages()),ue}function Ku(ue){return Xi.get(J.O).languageIdCodec.encodeLanguageId(ue)}function ju(ue,t){const m=Xi.get(J.O).onDidEncounterLanguage(W=>{W===ue&&(m.dispose(),t())});return m}function $u(ue,t){if(!Xi.get(J.O).isRegisteredLanguageId(ue))throw new Error(`Cannot set configuration for unknown language ${ue}`);return Xi.get(I.c_).register(ue,t,100)}class Gu{constructor(t,s){this._languageId=t,this._actual=s}getInitialState(){return this._actual.getInitialState()}tokenize(t,s,m){if(typeof this._actual.tokenize=="function")return Fr.adaptTokenize(this._languageId,this._actual,t,m);throw new Error("Not supported!")}tokenizeEncoded(t,s,m){const W=this._actual.tokenizeEncoded(t,m);return new A.DI(W.tokens,W.endState)}}class Fr{constructor(t,s,m,W){this._languageId=t,this._actual=s,this._languageService=m,this._standaloneThemeService=W}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(t,s){const m=[];let W=0;for(let q=0,ae=t.length;q<ae;q++){const fe=t[q];let ke=fe.startIndex;q===0?ke=0:ke<W&&(ke=W),m[q]=new A.WU(ke,fe.scopes,s),W=ke}return m}static adaptTokenize(t,s,m,W){const q=s.tokenize(m,W),ae=Fr._toClassicTokens(q.tokens,t);let fe;return q.endState.equals(W)?fe=W:fe=q.endState,new A.hG(ae,fe)}tokenize(t,s,m){return Fr.adaptTokenize(this._languageId,this._actual,t,m)}_toBinaryTokens(t,s){const m=t.encodeLanguageId(this._languageId),W=this._standaloneThemeService.getColorTheme().tokenTheme,q=[];let ae=0,fe=0;for(let Ze=0,it=s.length;Ze<it;Ze++){const Ct=s[Ze],ti=W.match(m,Ct.scopes);if(ae>0&&q[ae-1]===ti)continue;let ri=Ct.startIndex;Ze===0?ri=0:ri<fe&&(ri=fe),q[ae++]=ri,q[ae++]=ti,fe=ri}const ke=new Uint32Array(ae);for(let Ze=0;Ze<ae;Ze++)ke[Ze]=q[Ze];return ke}tokenizeEncoded(t,s,m){const W=this._actual.tokenize(t,m),q=this._toBinaryTokens(this._languageService.languageIdCodec,W.tokens);let ae;return W.endState.equals(m)?ae=m:ae=W.endState,new A.DI(q,ae)}}function Zu(ue){return typeof ue.getInitialState=="function"}function Qu(ue){return"tokenizeEncoded"in ue}function xc(ue){return ue&&typeof ue.then=="function"}function Yu(ue){const t=Xi.get(Hs.Z);if(ue){const s=[null];for(let m=1,W=ue.length;m<W;m++)s[m]=nr.Il.fromHex(ue[m]);t.setColorMapOverride(s)}else t.setColorMapOverride(null)}function Mc(ue,t){return Qu(t)?new Gu(ue,t):new Fr(ue,t,Xi.get(J.O),Xi.get(Hs.Z))}function Al(ue,t){const s={createTokenizationSupport:()=>Hu(this,void 0,void 0,function*(){const m=yield Promise.resolve(t.create());return m?Zu(m)?Mc(ue,m):new $t(Xi.get(J.O),Xi.get(Hs.Z),ue,Nc(ue,m),Xi.get(li.Ui)):null})};return A.RW.registerFactory(ue,s)}function Xu(ue,t){if(!Xi.get(J.O).isRegisteredLanguageId(ue))throw new Error(`Cannot set tokens provider for unknown language ${ue}`);return xc(t)?Al(ue,{create:()=>t}):A.RW.register(ue,Mc(ue,t))}function Ju(ue,t){const s=m=>new $t(Xi.get(J.O),Xi.get(Hs.Z),ue,Nc(ue,m),Xi.get(li.Ui));return xc(t)?Al(ue,{create:()=>t}):A.RW.register(ue,s(t))}function qu(ue,t){return Xi.get(bi.p).referenceProvider.register(ue,t)}function eh(ue,t){return Xi.get(bi.p).renameProvider.register(ue,t)}function th(ue,t){return Xi.get(bi.p).signatureHelpProvider.register(ue,t)}function ih(ue,t){return Xi.get(bi.p).hoverProvider.register(ue,{provideHover:(m,W,q)=>{const ae=m.getWordAtPosition(W);return Promise.resolve(t.provideHover(m,W,q)).then(fe=>{if(!!fe)return!fe.range&&ae&&(fe.range=new M.e(W.lineNumber,ae.startColumn,W.lineNumber,ae.endColumn)),fe.range||(fe.range=new M.e(W.lineNumber,W.column,W.lineNumber,W.column)),fe})}})}function nh(ue,t){return Xi.get(bi.p).documentSymbolProvider.register(ue,t)}function sh(ue,t){return Xi.get(bi.p).documentHighlightProvider.register(ue,t)}function oh(ue,t){return Xi.get(bi.p).linkedEditingRangeProvider.register(ue,t)}function rh(ue,t){return Xi.get(bi.p).definitionProvider.register(ue,t)}function ah(ue,t){return Xi.get(bi.p).implementationProvider.register(ue,t)}function lh(ue,t){return Xi.get(bi.p).typeDefinitionProvider.register(ue,t)}function ch(ue,t){return Xi.get(bi.p).codeLensProvider.register(ue,t)}function dh(ue,t,s){return Xi.get(bi.p).codeActionProvider.register(ue,{providedCodeActionKinds:s==null?void 0:s.providedCodeActionKinds,documentation:s==null?void 0:s.documentation,provideCodeActions:(W,q,ae,fe)=>{const Ze=Xi.get(ws.lT).read({resource:W.uri}).filter(it=>M.e.areIntersectingOrTouching(it,q));return t.provideCodeActions(W,q,{markers:Ze,only:ae.only,trigger:ae.trigger},fe)},resolveCodeAction:t.resolveCodeAction})}function uh(ue,t){return Xi.get(bi.p).documentFormattingEditProvider.register(ue,t)}function hh(ue,t){return Xi.get(bi.p).documentRangeFormattingEditProvider.register(ue,t)}function fh(ue,t){return Xi.get(bi.p).onTypeFormattingEditProvider.register(ue,t)}function gh(ue,t){return Xi.get(bi.p).linkProvider.register(ue,t)}function mh(ue,t){return Xi.get(bi.p).completionProvider.register(ue,t)}function ph(ue,t){return Xi.get(bi.p).colorProvider.register(ue,t)}function _h(ue,t){return Xi.get(bi.p).foldingRangeProvider.register(ue,t)}function vh(ue,t){return Xi.get(bi.p).declarationProvider.register(ue,t)}function Ch(ue,t){return Xi.get(bi.p).selectionRangeProvider.register(ue,t)}function bh(ue,t){return Xi.get(bi.p).documentSemanticTokensProvider.register(ue,t)}function Sh(ue,t){return Xi.get(bi.p).documentRangeSemanticTokensProvider.register(ue,t)}function wh(ue,t){return Xi.get(bi.p).inlineCompletionsProvider.register(ue,t)}function yh(ue,t){return Xi.get(bi.p).inlayHintsProvider.register(ue,t)}function Lh(){return{register:Uu,getLanguages:zu,onLanguage:ju,getEncodedLanguageId:Ku,setLanguageConfiguration:$u,setColorMap:Yu,registerTokensProviderFactory:Al,setTokensProvider:Xu,setMonarchTokensProvider:Ju,registerReferenceProvider:qu,registerRenameProvider:eh,registerCompletionItemProvider:mh,registerSignatureHelpProvider:th,registerHoverProvider:ih,registerDocumentSymbolProvider:nh,registerDocumentHighlightProvider:sh,registerLinkedEditingRangeProvider:oh,registerDefinitionProvider:rh,registerImplementationProvider:ah,registerTypeDefinitionProvider:lh,registerCodeLensProvider:ch,registerCodeActionProvider:dh,registerDocumentFormattingEditProvider:uh,registerDocumentRangeFormattingEditProvider:hh,registerOnTypeFormattingEditProvider:fh,registerLinkProvider:gh,registerColorProvider:ph,registerFoldingRangeProvider:_h,registerDeclarationProvider:vh,registerSelectionRangeProvider:Ch,registerDocumentSemanticTokensProvider:bh,registerDocumentRangeSemanticTokensProvider:Sh,registerInlineCompletionsProvider:wh,registerInlayHintsProvider:yh,DocumentHighlightKind:L.MY,CompletionItemKind:L.cm,CompletionItemTag:L.we,CompletionItemInsertTextRule:L.a7,SymbolKind:L.cR,SymbolTag:L.r4,IndentAction:L.wU,CompletionTriggerKind:L.Ij,SignatureHelpTriggerKind:L.WW,InlayHintKind:L.gl,InlineCompletionTriggerKind:L.bw,CodeActionTriggerType:L.np,FoldingRangeKind:A.AD}}var Dh=i(58823),Rl;w.BH.wrappingIndent.defaultValue=0,w.BH.glyphMargin.defaultValue=!1,w.BH.autoIndent.defaultValue=3,w.BH.overviewRulerLanes.defaultValue=2,Dh.xC.setFormatterSelector((ue,t,s)=>Promise.resolve(ue[0]));const fs=p();fs.editor=Ou(),fs.languages=Lh();const Eh=fs.CancellationTokenSource,Ih=fs.Emitter,Nh=fs.KeyCode,xh=fs.KeyMod,Mh=fs.Position,Th=fs.Range,Ah=fs.Selection,Rh=fs.SelectionDirection,Ph=fs.MarkerSeverity,Oh=fs.MarkerTag,kh=fs.Uri,Fh=fs.Token,Bh=fs.editor,Wh=fs.languages;(((Rl=H.li.MonacoEnvironment)===null||Rl===void 0?void 0:Rl.globalAPI)||typeof define=="function"&&i.amdO)&&(self.monaco=fs),typeof self.require<"u"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},93922:function(Ot,Te,i){"use strict";i.r(Te);var w=i(65321),r=i(38626),O=i(94079),V=i(57924),D=i(93794),$=i(9917),M=i(1432),P=i(97295),A=i(70666),L=i(16830),c=i(29102),p=i(64662),l=i(16141),n=i(72065),a=i(91847),g=i(50988),f=i(73910),u=i(97781),C=i(20913),y=function(U,K,H,X){var j=arguments.length,x=j<3?K:X===null?X=Object.getOwnPropertyDescriptor(K,H):X,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(U,K,H,X);else for(var T=U.length-1;T>=0;T--)(Z=U[T])&&(x=(j<3?Z(x):j>3?Z(K,H,x):Z(K,H))||x);return j>3&&x&&Object.defineProperty(K,H,x),x},b=function(U,K){return function(H,X){K(H,X,U)}};const _=new l.uy("accessibilityHelpWidgetVisible",!1);let E=class rd extends $.JT{constructor(K,H){super(),this._editor=K,this._widget=this._register(H.createInstance(R,this._editor))}static get(K){return K.getContribution(rd.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};E.ID="editor.contrib.accessibilityHelpController",E=y([b(1,n.TG)],E);function I(U,K){return!U||U.length===0?C.Oe.noSelection:U.length===1?K?P.WU(C.Oe.singleSelectionRange,U[0].positionLineNumber,U[0].positionColumn,K):P.WU(C.Oe.singleSelection,U[0].positionLineNumber,U[0].positionColumn):K?P.WU(C.Oe.multiSelectionRange,U.length,K):U.length>0?P.WU(C.Oe.multiSelection,U.length):""}let R=class Ea extends D.${constructor(K,H,X,j){super(),this._contextKeyService=H,this._keybindingService=X,this._openerService=j,this._editor=K,this._isVisibleKey=_.bindTo(this._contextKeyService),this._domNode=(0,r.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,r.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(w.mu(this._contentDomNode.domNode,"keydown",x=>{if(!!this._isVisible&&(x.equals(2083)&&((0,V.Z9)(C.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),w.PO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),x.preventDefault(),x.stopPropagation()),x.equals(2086))){(0,V.Z9)(C.Oe.openingDocs);let Z=this._editor.getRawOptions().accessibilityHelpUrl;typeof Z>"u"&&(Z="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(A.o.parse(Z)),x.preventDefault(),x.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Ea.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(K,H,X){const j=this._keybindingService.lookupKeybinding(K);return j?P.WU(H,j.getAriaLabel()):P.WU(X,K)}_buildContent(){const K=this._editor.getOptions(),H=this._editor.getSelections();let X=0;if(H){const T=this._editor.getModel();T&&H.forEach(z=>{X+=T.getValueLengthInRange(z)})}let j=I(H,X);K.get(56)?K.get(83)?j+=C.Oe.readonlyDiffEditor:j+=C.Oe.editableDiffEditor:K.get(83)?j+=C.Oe.readonlyEditor:j+=C.Oe.editableEditor;const x=M.dz?C.Oe.changeConfigToOnMac:C.Oe.changeConfigToOnWinLinux;switch(K.get(2)){case 0:j+=`

 - `+x;break;case 2:j+=`

 - `+C.Oe.auto_on;break;case 1:j+=`

 - `+C.Oe.auto_off,j+=" "+x;break}K.get(132)?j+=`

 - `+this._descriptionForCommand(p.ToggleTabFocusModeAction.ID,C.Oe.tabFocusModeOnMsg,C.Oe.tabFocusModeOnMsgNoKb):j+=`

 - `+this._descriptionForCommand(p.ToggleTabFocusModeAction.ID,C.Oe.tabFocusModeOffMsg,C.Oe.tabFocusModeOffMsgNoKb);const Z=M.dz?C.Oe.openDocMac:C.Oe.openDocWinLinux;j+=`

 - `+Z,j+=`

`+C.Oe.outroMsg,this._contentDomNode.domNode.appendChild((0,O.BO)(j)),this._contentDomNode.domNode.setAttribute("aria-label",j)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,w.PO(this._contentDomNode.domNode),this._editor.focus())}_layout(){const K=this._editor.getLayoutInfo(),H=Math.max(5,Math.min(Ea.WIDTH,K.width-40)),X=Math.max(5,Math.min(Ea.HEIGHT,K.height-40));this._domNode.setWidth(H),this._domNode.setHeight(X);const j=Math.round((K.height-X)/2);this._domNode.setTop(j);const x=Math.round((K.width-H)/2);this._domNode.setLeft(x)}};R.ID="editor.contrib.accessibilityHelpWidget",R.WIDTH=500,R.HEIGHT=300,R=y([b(1,l.i6),b(2,a.d),b(3,g.v4)],R);class J extends L.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:C.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(K,H){const X=E.get(H);X&&X.show()}}(0,L._K)(E.ID,E),(0,L.Qr)(J);const Q=L._l.bindToContribution(E.get);(0,L.fK)(new Q({id:"closeAccessibilityHelp",precondition:_,handler:U=>U.hide(),kbOpts:{weight:100+100,kbExpr:c.u.focus,primary:9,secondary:[1033]}})),(0,u.Ic)((U,K)=>{const H=U.getColor(f.D0T);H&&K.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${H}; }`);const X=U.getColor(f.Hfx);X&&K.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${X}; }`);const j=U.getColor(f.rh);j&&K.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${j}; }`);const x=U.getColor(f.lRK);x&&K.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${x}; }`)})},29225:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{IPadShowKeyboard:function(){return D}});var w=i(65321),r=i(9917),O=i(16830),V=i(1432);class D extends r.JT{constructor(P){super(),this.editor=P,this.widget=null,V.gn&&(this._register(P.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const P=!this.editor.getOption(83);!this.widget&&P?this.widget=new $(this.editor):this.widget&&!P&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}D.ID="editor.contrib.iPadShowKeyboard";class $ extends r.JT{constructor(P){super(),this.editor=P,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(w.nm(this._domNode,"touchstart",A=>{this.editor.focus()})),this._register(w.nm(this._domNode,"focus",A=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return $.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}$.ID="editor.contrib.ShowKeyboardWidget",(0,O._K)(D.ID,D)},33556:function(Ot,Te,i){"use strict";i.r(Te);var w=i(65321),r=i(41264),O=i(9917),V=i(16830),D=i(96887),$=i(45797),M=i(276),P=i(72042),A=i(44156),L=i(73910),c=i(97781),p=i(20913),l=i(92321),n=function(b,_,E,I){var R=arguments.length,J=R<3?_:I===null?I=Object.getOwnPropertyDescriptor(_,E):I,Q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(b,_,E,I);else for(var U=b.length-1;U>=0;U--)(Q=b[U])&&(J=(R<3?Q(J):R>3?Q(_,E,J):Q(_,E))||J);return R>3&&J&&Object.defineProperty(_,E,J),J},a=function(b,_){return function(E,I){_(E,I,b)}};let g=class ad extends O.JT{constructor(_,E,I){super(),this._editor=_,this._languageService=I,this._widget=null,this._register(this._editor.onDidChangeModel(R=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(R=>this.stop())),this._register(D.RW.onDidChange(R=>this.stop())),this._register(this._editor.onKeyUp(R=>R.keyCode===9&&this.stop()))}static get(_){return _.getContribution(ad.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new y(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};g.ID="editor.contrib.inspectTokens",g=n([a(1,A.Z),a(2,P.O)],g);class f extends V.R6{constructor(){super({id:"editor.action.inspectTokens",label:p.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(_,E){const I=g.get(E);I&&I.launch()}}function u(b){let _="";for(let E=0,I=b.length;E<I;E++){const R=b.charCodeAt(E);switch(R){case 9:_+="\u2192";break;case 32:_+="\xB7";break;default:_+=String.fromCharCode(R)}}return _}function C(b,_){const E=D.RW.get(_);if(E)return E;const I=b.encodeLanguageId(_);return{getInitialState:()=>M.TJ,tokenize:(R,J,Q)=>(0,M.Ri)(_,Q),tokenizeEncoded:(R,J,Q)=>(0,M.Dy)(I,Q)}}class y extends O.JT{constructor(_,E){super(),this.allowEditorOverflow=!0,this._editor=_,this._languageService=E,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=C(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(I=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return y._ID}_compute(_){const E=this._getTokensAtLine(_.lineNumber);let I=0;for(let K=E.tokens1.length-1;K>=0;K--){const H=E.tokens1[K];if(_.column-1>=H.offset){I=K;break}}let R=0;for(let K=E.tokens2.length>>>1;K>=0;K--)if(_.column-1>=E.tokens2[K<<1]){R=K;break}const J=this._model.getLineContent(_.lineNumber);let Q="";if(I<E.tokens1.length){const K=E.tokens1[I].offset,H=I+1<E.tokens1.length?E.tokens1[I+1].offset:J.length;Q=J.substring(K,H)}(0,w.mc)(this._domNode,(0,w.$)("h2.tm-token",void 0,u(Q),(0,w.$)("span.tm-token-length",void 0,`${Q.length} ${Q.length===1?"char":"chars"}`))),(0,w.R3)(this._domNode,(0,w.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const U=(R<<1)+1<E.tokens2.length?this._decodeMetadata(E.tokens2[(R<<1)+1]):null;(0,w.R3)(this._domNode,(0,w.$)("table.tm-metadata-table",void 0,(0,w.$)("tbody",void 0,(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"language"),(0,w.$)("td.tm-metadata-value",void 0,`${U?U.languageId:"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"token type"),(0,w.$)("td.tm-metadata-value",void 0,`${U?this._tokenTypeToString(U.tokenType):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"font style"),(0,w.$)("td.tm-metadata-value",void 0,`${U?this._fontStyleToString(U.fontStyle):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"foreground"),(0,w.$)("td.tm-metadata-value",void 0,`${U?r.Il.Format.CSS.formatHex(U.foreground):"-?-"}`)),(0,w.$)("tr",void 0,(0,w.$)("td.tm-metadata-key",void 0,"background"),(0,w.$)("td.tm-metadata-value",void 0,`${U?r.Il.Format.CSS.formatHex(U.background):"-?-"}`))))),(0,w.R3)(this._domNode,(0,w.$)("hr.tokens-inspect-separator")),I<E.tokens1.length&&(0,w.R3)(this._domNode,(0,w.$)("span.tm-token-type",void 0,E.tokens1[I].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(_){const E=D.RW.getColorMap(),I=$.N.getLanguageId(_),R=$.N.getTokenType(_),J=$.N.getFontStyle(_),Q=$.N.getForeground(_),U=$.N.getBackground(_);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(I),tokenType:R,fontStyle:J,foreground:E[Q],background:E[U]}}_tokenTypeToString(_){switch(_){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(_){let E="";return _&1&&(E+="italic "),_&2&&(E+="bold "),_&4&&(E+="underline "),_&8&&(E+="strikethrough "),E.length===0&&(E="---"),E}_getTokensAtLine(_){const E=this._getStateBeforeLine(_),I=this._tokenizationSupport.tokenize(this._model.getLineContent(_),!0,E),R=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(_),!0,E);return{startState:E,tokens1:I.tokens,tokens2:R.tokens,endState:I.endState}}_getStateBeforeLine(_){let E=this._tokenizationSupport.getInitialState();for(let I=1;I<_;I++)E=this._tokenizationSupport.tokenize(this._model.getLineContent(I),!0,E).endState;return E}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}y._ID="editor.contrib.inspectTokensWidget",(0,V._K)(g.ID,g),(0,V.Qr)(f),(0,c.Ic)((b,_)=>{const E=b.getColor(L.CNo);if(E){const J=(0,l.c3)(b.type)?2:1;_.addRule(`.monaco-editor .tokens-inspect-widget { border: ${J}px solid ${E}; }`),_.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${E}; }`)}const I=b.getColor(L.yJx);I&&_.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${I}; }`);const R=b.getColor(L.Sbf);R&&_.addRule(`.monaco-editor .tokens-inspect-widget { color: ${R}; }`)})},38956:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{GotoLineAction:function(){return se},StandaloneCommandsQuickAccessProvider:function(){return ee}});var w=i(89872),r=i(90725),O=i(20913),V=i(11640),D=i(21212),$=i(9488),M=i(98401),P=i(63580);function A(ne,oe){return oe&&(ne.stack||ne.stacktrace)?P.NC("stackTrace.format","{0}: {1}",c(ne),L(ne.stack)||L(ne.stacktrace)):c(ne)}function L(ne){return Array.isArray(ne)?ne.join(`
`):ne}function c(ne){return typeof ne.code=="string"&&typeof ne.errno=="number"&&typeof ne.syscall=="string"?P.NC("nodeExceptionMessage","A system error occurred ({0})",ne.message):ne.message||P.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function p(ne=null,oe=!1){if(!ne)return P.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(ne)){const Se=$.kX(ne),Ee=p(Se[0],oe);return Se.length>1?P.NC("error.moreErrors","{0} ({1} errors in total)",Ee,Se.length):Ee}if(M.HD(ne))return ne;if(ne.detail){const Se=ne.detail;if(Se.error)return A(Se.error,oe);if(Se.exception)return A(Se.exception,oe)}return ne.stack?A(ne,oe):ne.message?ne.message:P.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var l=i(17301),n=i(75392),a=i(9917),g=i(43702),f=i(14603),u=i(94565),C=i(33108),y=i(28820),b=i(72065),_=i(91847),E=i(15393),I=i(71050),R=function(ne,oe,Se,Ee){function Me(ye){return ye instanceof Se?ye:new Se(function(le){le(ye)})}return new(Se||(Se=Promise))(function(ye,le){function ie(Ye){try{xe(Ee.next(Ye))}catch(at){le(at)}}function ve(Ye){try{xe(Ee.throw(Ye))}catch(at){le(at)}}function xe(Ye){Ye.done?ye(Ye.value):Me(Ye.value).then(ie,ve)}xe((Ee=Ee.apply(ne,oe||[])).next())})},J;(function(ne){ne[ne.NO_ACTION=0]="NO_ACTION",ne[ne.CLOSE_PICKER=1]="CLOSE_PICKER",ne[ne.REFRESH_PICKER=2]="REFRESH_PICKER",ne[ne.REMOVE_ITEM=3]="REMOVE_ITEM"})(J||(J={}));function Q(ne){const oe=ne;return Array.isArray(oe.items)}function U(ne){const oe=ne;return!!oe.picks&&oe.additionalPicks instanceof Promise}class K extends a.JT{constructor(oe,Se){super(),this.prefix=oe,this.options=Se}provide(oe,Se){var Ee;const Me=new a.SL;oe.canAcceptInBackground=!!(!((Ee=this.options)===null||Ee===void 0)&&Ee.canAcceptInBackground),oe.matchOnLabel=oe.matchOnDescription=oe.matchOnDetail=oe.sortByLabel=!1;let ye;const le=Me.add(new a.XK),ie=()=>R(this,void 0,void 0,function*(){const ve=le.value=new a.SL;ye==null||ye.dispose(!0),oe.busy=!1,ye=new I.A(Se);const xe=ye.token,Ye=oe.value.substr(this.prefix.length).trim(),at=this._getPicks(Ye,ve,xe),qe=(Re,Je)=>{var st;let et,we;if(Q(Re)?(et=Re.items,we=Re.active):et=Re,et.length===0){if(Je)return!1;Ye.length>0&&((st=this.options)===null||st===void 0?void 0:st.noResultsPick)&&(et=[this.options.noResultsPick])}return oe.items=et,we&&(oe.activeItems=[we]),!0};if(at!==null)if(U(at)){let Re=!1,Je=!1;yield Promise.all([(()=>R(this,void 0,void 0,function*(){yield(0,E.Vs)(K.FAST_PICKS_RACE_DELAY),!xe.isCancellationRequested&&(Je||(Re=qe(at.picks,!0)))}))(),(()=>R(this,void 0,void 0,function*(){oe.busy=!0;try{const st=yield at.additionalPicks;if(xe.isCancellationRequested)return;let et,we;Q(at.picks)?(et=at.picks.items,we=at.picks.active):et=at.picks;let Ne,de;if(Q(st)?(Ne=st.items,de=st.active):Ne=st,Ne.length>0||!Re){let Pe;if(!we&&!de){const He=oe.activeItems[0];He&&et.indexOf(He)!==-1&&(Pe=He)}qe({items:[...et,...Ne],active:we||de||Pe})}}finally{xe.isCancellationRequested||(oe.busy=!1),Je=!0}}))()])}else if(!(at instanceof Promise))qe(at);else{oe.busy=!0;try{const Re=yield at;if(xe.isCancellationRequested)return;qe(Re)}finally{xe.isCancellationRequested||(oe.busy=!1)}}});return Me.add(oe.onDidChangeValue(()=>ie())),ie(),Me.add(oe.onDidAccept(ve=>{const[xe]=oe.selectedItems;typeof(xe==null?void 0:xe.accept)=="function"&&(ve.inBackground||oe.hide(),xe.accept(oe.keyMods,ve))})),Me.add(oe.onDidTriggerItemButton(({button:ve,item:xe})=>R(this,void 0,void 0,function*(){var Ye,at;if(typeof xe.trigger=="function"){const qe=(at=(Ye=xe.buttons)===null||Ye===void 0?void 0:Ye.indexOf(ve))!==null&&at!==void 0?at:-1;if(qe>=0){const Re=xe.trigger(qe,oe.keyMods),Je=typeof Re=="number"?Re:yield Re;if(Se.isCancellationRequested)return;switch(Je){case J.NO_ACTION:break;case J.CLOSE_PICKER:oe.hide();break;case J.REFRESH_PICKER:ie();break;case J.REMOVE_ITEM:{const st=oe.items.indexOf(xe);if(st!==-1){const et=oe.items.slice(),we=et.splice(st,1),Ne=oe.activeItems.filter(Pe=>Pe!==we[0]),de=oe.keepScrollPosition;oe.keepScrollPosition=!0,oe.items=et,Ne&&(oe.activeItems=Ne),oe.keepScrollPosition=de}break}}}}}))),Me}}K.FAST_PICKS_RACE_DELAY=200;var H=i(26904),X=i(10829),j=function(ne,oe,Se,Ee){var Me=arguments.length,ye=Me<3?oe:Ee===null?Ee=Object.getOwnPropertyDescriptor(oe,Se):Ee,le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ye=Reflect.decorate(ne,oe,Se,Ee);else for(var ie=ne.length-1;ie>=0;ie--)(le=ne[ie])&&(ye=(Me<3?le(ye):Me>3?le(oe,Se,ye):le(oe,Se))||ye);return Me>3&&ye&&Object.defineProperty(oe,Se,ye),ye},x=function(ne,oe){return function(Se,Ee){oe(Se,Ee,ne)}},Z=function(ne,oe,Se,Ee){function Me(ye){return ye instanceof Se?ye:new Se(function(le){le(ye)})}return new(Se||(Se=Promise))(function(ye,le){function ie(Ye){try{xe(Ee.next(Ye))}catch(at){le(at)}}function ve(Ye){try{xe(Ee.throw(Ye))}catch(at){le(at)}}function xe(Ye){Ye.done?ye(Ye.value):Me(Ye.value).then(ie,ve)}xe((Ee=Ee.apply(ne,oe||[])).next())})};let T=class Ia extends K{constructor(oe,Se,Ee,Me,ye,le){super(Ia.PREFIX,oe),this.instantiationService=Se,this.keybindingService=Ee,this.commandService=Me,this.telemetryService=ye,this.dialogService=le,this.commandsHistory=this._register(this.instantiationService.createInstance(z)),this.options=oe}_getPicks(oe,Se,Ee){return Z(this,void 0,void 0,function*(){const Me=yield this.getCommandPicks(Se,Ee);if(Ee.isCancellationRequested)return[];const ye=[];for(const xe of Me){const Ye=(0,M.f6)(Ia.WORD_FILTER(oe,xe.label)),at=xe.commandAlias?(0,M.f6)(Ia.WORD_FILTER(oe,xe.commandAlias)):void 0;Ye||at?(xe.highlights={label:Ye,detail:this.options.showAlias?at:void 0},ye.push(xe)):oe===xe.commandId&&ye.push(xe)}const le=new Map;for(const xe of ye){const Ye=le.get(xe.label);Ye?(xe.description=xe.commandId,Ye.description=Ye.commandId):le.set(xe.label,xe)}ye.sort((xe,Ye)=>{const at=this.commandsHistory.peek(xe.commandId),qe=this.commandsHistory.peek(Ye.commandId);return at&&qe?at>qe?-1:1:at?-1:qe?1:xe.label.localeCompare(Ye.label)});const ie=[];let ve=!1;for(let xe=0;xe<ye.length;xe++){const Ye=ye[xe],at=this.keybindingService.lookupKeybinding(Ye.commandId),qe=at?(0,P.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",Ye.label,at.getAriaLabel()):Ye.label;xe===0&&this.commandsHistory.peek(Ye.commandId)&&(ie.push({type:"separator",label:(0,P.NC)("recentlyUsed","recently used")}),ve=!0),xe!==0&&ve&&!this.commandsHistory.peek(Ye.commandId)&&(ie.push({type:"separator",label:(0,P.NC)("morecCommands","other commands")}),ve=!1),ie.push(Object.assign(Object.assign({},Ye),{ariaLabel:qe,detail:this.options.showAlias&&Ye.commandAlias!==Ye.label?Ye.commandAlias:void 0,keybinding:at,accept:()=>Z(this,void 0,void 0,function*(){this.commandsHistory.push(Ye.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:Ye.commandId,from:"quick open"});try{yield this.commandService.executeCommand(Ye.commandId)}catch(Re){(0,l.n2)(Re)||this.dialogService.show(f.Z.Error,(0,P.NC)("canNotRun","Command '{0}' resulted in an error ({1})",Ye.label,p(Re)))}})}))}return ie})}};T.PREFIX=">",T.WORD_FILTER=(0,n.or)(n.Ji,n.KZ,n.ir),T=j([x(1,b.TG),x(2,_.d),x(3,u.Hy),x(4,X.b),x(5,y.S)],T);let z=class ts extends a.JT{constructor(oe,Se){super(),this.storageService=oe,this.configurationService=Se,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=ts.getConfiguredCommandHistoryLength(this.configurationService),ts.cache&&ts.cache.limit!==this.configuredCommandsHistoryLength&&(ts.cache.limit=this.configuredCommandsHistoryLength,ts.saveState(this.storageService))}load(){const oe=this.storageService.get(ts.PREF_KEY_CACHE,0);let Se;if(oe)try{Se=JSON.parse(oe)}catch{}const Ee=ts.cache=new g.z6(this.configuredCommandsHistoryLength,1);if(Se){let Me;Se.usesLRU?Me=Se.entries:Me=Se.entries.sort((ye,le)=>ye.value-le.value),Me.forEach(ye=>Ee.set(ye.key,ye.value))}ts.counter=this.storageService.getNumber(ts.PREF_KEY_COUNTER,0,ts.counter)}push(oe){!ts.cache||(ts.cache.set(oe,ts.counter++),ts.saveState(this.storageService))}peek(oe){var Se;return(Se=ts.cache)===null||Se===void 0?void 0:Se.peek(oe)}static saveState(oe){if(!ts.cache)return;const Se={usesLRU:!0,entries:[]};ts.cache.forEach((Ee,Me)=>Se.entries.push({key:Me,value:Ee})),oe.store(ts.PREF_KEY_CACHE,JSON.stringify(Se),0,0),oe.store(ts.PREF_KEY_COUNTER,ts.counter,0,0)}static getConfiguredCommandHistoryLength(oe){var Se,Ee;const ye=(Ee=(Se=oe.getValue().workbench)===null||Se===void 0?void 0:Se.commandPalette)===null||Ee===void 0?void 0:Ee.history;return typeof ye=="number"?ye:ts.DEFAULT_COMMANDS_HISTORY_LENGTH}};z.DEFAULT_COMMANDS_HISTORY_LENGTH=50,z.PREF_KEY_CACHE="commandPalette.mru.cache",z.PREF_KEY_COUNTER="commandPalette.mru.counter",z.counter=1,z=j([x(0,H.Uy),x(1,C.Ui)],z);class G extends T{constructor(oe,Se,Ee,Me,ye,le){super(oe,Se,Ee,Me,ye,le)}getCodeEditorCommandPicks(){const oe=this.activeTextEditorControl;if(!oe)return[];const Se=[];for(const Ee of oe.getSupportedActions())Se.push({commandId:Ee.id,commandAlias:Ee.alias,label:(0,D.x$)(Ee.label)||Ee.id});return Se}}var re=i(16830),S=i(29102),he=i(41157),Ce=function(ne,oe,Se,Ee){var Me=arguments.length,ye=Me<3?oe:Ee===null?Ee=Object.getOwnPropertyDescriptor(oe,Se):Ee,le;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ye=Reflect.decorate(ne,oe,Se,Ee);else for(var ie=ne.length-1;ie>=0;ie--)(le=ne[ie])&&(ye=(Me<3?le(ye):Me>3?le(oe,Se,ye):le(oe,Se))||ye);return Me>3&&ye&&Object.defineProperty(oe,Se,ye),ye},ge=function(ne,oe){return function(Se,Ee){oe(Se,Ee,ne)}},pe=function(ne,oe,Se,Ee){function Me(ye){return ye instanceof Se?ye:new Se(function(le){le(ye)})}return new(Se||(Se=Promise))(function(ye,le){function ie(Ye){try{xe(Ee.next(Ye))}catch(at){le(at)}}function ve(Ye){try{xe(Ee.throw(Ye))}catch(at){le(at)}}function xe(Ye){Ye.done?ye(Ye.value):Me(Ye.value).then(ie,ve)}xe((Ee=Ee.apply(ne,oe||[])).next())})};let ee=class extends G{constructor(oe,Se,Ee,Me,ye,le){super({showAlias:!1},oe,Ee,Me,ye,le),this.codeEditorService=Se}get activeTextEditorControl(){return(0,M.f6)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return pe(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};ee=Ce([ge(0,b.TG),ge(1,V.$),ge(2,_.d),ge(3,u.Hy),ge(4,X.b),ge(5,y.S)],ee);class se extends re.R6{constructor(){super({id:se.ID,label:O.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:S.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(oe){oe.get(he.eJ).quickAccess.show(ee.PREFIX)}}se.ID="editor.action.quickCommand",(0,re.Qr)(se),w.B.as(r.IP.Quickaccess).registerQuickAccessProvider({ctor:ee,prefix:ee.PREFIX,helpEntries:[{description:O.UX.quickCommandHelp,commandId:se.ID}]})},43588:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{GotoLineAction:function(){return u},StandaloneGotoLineQuickAccessProvider:function(){return f}});var w=i(9917),r=i(65520),O=i(83943),V=i(63580);class D extends O.X{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(y){const b=(0,V.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return y.items=[{label:b}],y.ariaLabel=b,w.JT.None}provideWithTextEditor(y,b,_){const E=y.editor,I=new w.SL;I.add(b.onDidAccept(Q=>{const[U]=b.selectedItems;if(U){if(!this.isValidLineNumber(E,U.lineNumber))return;this.gotoLocation(y,{range:this.toRange(U.lineNumber,U.column),keyMods:b.keyMods,preserveFocus:Q.inBackground}),Q.inBackground||b.hide()}}));const R=()=>{const Q=this.parsePosition(E,b.value.trim().substr(D.PREFIX.length)),U=this.getPickLabel(E,Q.lineNumber,Q.column);if(b.items=[{lineNumber:Q.lineNumber,column:Q.column,label:U}],b.ariaLabel=U,!this.isValidLineNumber(E,Q.lineNumber)){this.clearDecorations(E);return}const K=this.toRange(Q.lineNumber,Q.column);E.revealRangeInCenter(K,0),this.addDecorations(E,K)};R(),I.add(b.onDidChangeValue(()=>R()));const J=(0,r.Pi)(E);return J&&J.getOptions().get(62).renderType===2&&(J.updateOptions({lineNumbers:"on"}),I.add((0,w.OF)(()=>J.updateOptions({lineNumbers:"relative"})))),I}toRange(y=1,b=1){return{startLineNumber:y,startColumn:b,endLineNumber:y,endColumn:b}}parsePosition(y,b){const _=b.split(/,|:|#/).map(I=>parseInt(I,10)).filter(I=>!isNaN(I)),E=this.lineCount(y)+1;return{lineNumber:_[0]>0?_[0]:E+_[0],column:_[1]}}getPickLabel(y,b,_){if(this.isValidLineNumber(y,b))return this.isValidColumn(y,b,_)?(0,V.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",b,_):(0,V.NC)("gotoLineLabel","Go to line {0}.",b);const E=y.getPosition()||{lineNumber:1,column:1},I=this.lineCount(y);return I>1?(0,V.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",E.lineNumber,E.column,I):(0,V.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",E.lineNumber,E.column)}isValidLineNumber(y,b){return!b||typeof b!="number"?!1:b>0&&b<=this.lineCount(y)}isValidColumn(y,b,_){if(!_||typeof _!="number")return!1;const E=this.getModel(y);if(!E)return!1;const I={lineNumber:b,column:_};return E.validatePosition(I).equals(I)}lineCount(y){var b,_;return(_=(b=this.getModel(y))===null||b===void 0?void 0:b.getLineCount())!==null&&_!==void 0?_:0}}D.PREFIX=":";var $=i(89872),M=i(90725),P=i(11640),A=i(98401),L=i(20913),c=i(4669),p=i(16830),l=i(29102),n=i(41157),a=function(C,y,b,_){var E=arguments.length,I=E<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,b):_,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(C,y,b,_);else for(var J=C.length-1;J>=0;J--)(R=C[J])&&(I=(E<3?R(I):E>3?R(y,b,I):R(y,b))||I);return E>3&&I&&Object.defineProperty(y,b,I),I},g=function(C,y){return function(b,_){y(b,_,C)}};let f=class extends D{constructor(y){super(),this.editorService=y,this.onDidActiveTextEditorControlChange=c.ju.None}get activeTextEditorControl(){return(0,A.f6)(this.editorService.getFocusedCodeEditor())}};f=a([g(0,P.$)],f);class u extends p.R6{constructor(){super({id:u.ID,label:L.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:l.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(y){y.get(n.eJ).quickAccess.show(f.PREFIX)}}u.ID="editor.action.gotoLine",(0,p.Qr)(u),$.B.as(M.IP.Quickaccess).registerQuickAccessProvider({ctor:f,prefix:f.PREFIX,helpEntries:[{description:L.qq.gotoLineActionLabel,commandId:u.ID}]})},48766:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{GotoSymbolAction:function(){return Se},StandaloneGotoSymbolQuickAccessProvider:function(){return oe}});var w=i(11287),r=i(71713),O=i(15393),V=i(71050),D=i(73046),$=i(75392),M=i(88721),P=i(1432),A=i(97295);const L=[void 0,[]];function c(Ee,Me,ye=0,le=0){const ie=Me;return ie.values&&ie.values.length>1?p(Ee,ie.values,ye,le):l(Ee,Me,ye,le)}function p(Ee,Me,ye,le){let ie=0;const ve=[];for(const xe of Me){const[Ye,at]=l(Ee,xe,ye,le);if(typeof Ye!="number")return L;ie+=Ye,ve.push(...at)}return[ie,a(ve)]}function l(Ee,Me,ye,le){const ie=(0,$.EW)(Me.original,Me.originalLowercase,ye,Ee,Ee.toLowerCase(),le,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return ie?[ie[0],(0,$.mB)(ie)]:L}const n=Object.freeze({score:0});function a(Ee){const Me=Ee.sort((ie,ve)=>ie.start-ve.start),ye=[];let le;for(const ie of Me)!le||!g(le,ie)?(le=ie,ye.push(ie)):(le.start=Math.min(le.start,ie.start),le.end=Math.max(le.end,ie.end));return ye}function g(Ee,Me){return!(Ee.end<Me.start||Me.end<Ee.start)}function f(Ee){return Ee.startsWith('"')&&Ee.endsWith('"')}const u=" ";function C(Ee){typeof Ee!="string"&&(Ee="");const Me=Ee.toLowerCase(),{pathNormalized:ye,normalized:le,normalizedLowercase:ie}=y(Ee),ve=ye.indexOf(M.ir)>=0,xe=f(Ee);let Ye;const at=Ee.split(u);if(at.length>1)for(const qe of at){const Re=f(qe),{pathNormalized:Je,normalized:st,normalizedLowercase:et}=y(qe);st&&(Ye||(Ye=[]),Ye.push({original:qe,originalLowercase:qe.toLowerCase(),pathNormalized:Je,normalized:st,normalizedLowercase:et,expectContiguousMatch:Re}))}return{original:Ee,originalLowercase:Me,pathNormalized:ye,normalized:le,normalizedLowercase:ie,values:Ye,containsPathSeparator:ve,expectContiguousMatch:xe}}function y(Ee){let Me;P.ED?Me=Ee.replace(/\//g,M.ir):Me=Ee.replace(/\\/g,M.ir);const ye=(0,A.R1)(Me).replace(/\s|"/g,"");return{pathNormalized:Me,normalized:ye,normalizedLowercase:ye.toLowerCase()}}function b(Ee){return Array.isArray(Ee)?C(Ee.map(Me=>Me.original).join(u)):C(Ee.original)}var _=i(9917),E=i(24314),I=i(96887),R=i(30335),J=i(83943),Q=i(63580),U=i(71922),K=i(9488),H=function(Ee,Me,ye,le){var ie=arguments.length,ve=ie<3?Me:le===null?le=Object.getOwnPropertyDescriptor(Me,ye):le,xe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ve=Reflect.decorate(Ee,Me,ye,le);else for(var Ye=Ee.length-1;Ye>=0;Ye--)(xe=Ee[Ye])&&(ve=(ie<3?xe(ve):ie>3?xe(Me,ye,ve):xe(Me,ye))||ve);return ie>3&&ve&&Object.defineProperty(Me,ye,ve),ve},X=function(Ee,Me){return function(ye,le){Me(ye,le,Ee)}},j=function(Ee,Me,ye,le){function ie(ve){return ve instanceof ye?ve:new ye(function(xe){xe(ve)})}return new(ye||(ye=Promise))(function(ve,xe){function Ye(Re){try{qe(le.next(Re))}catch(Je){xe(Je)}}function at(Re){try{qe(le.throw(Re))}catch(Je){xe(Je)}}function qe(Re){Re.done?ve(Re.value):ie(Re.value).then(Ye,at)}qe((le=le.apply(Ee,Me||[])).next())})};let x=class $l extends J.X{constructor(Me,ye,le=Object.create(null)){super(le),this._languageFeaturesService=Me,this._outlineModelService=ye,this.options=le,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(Me){return this.provideLabelPick(Me,(0,Q.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),_.JT.None}provideWithTextEditor(Me,ye,le){const ie=Me.editor,ve=this.getModel(ie);return ve?this._languageFeaturesService.documentSymbolProvider.has(ve)?this.doProvideWithEditorSymbols(Me,ve,ye,le):this.doProvideWithoutEditorSymbols(Me,ve,ye,le):_.JT.None}doProvideWithoutEditorSymbols(Me,ye,le,ie){const ve=new _.SL;return this.provideLabelPick(le,(0,Q.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),j(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(ye,ve))||ie.isCancellationRequested||ve.add(this.doProvideWithEditorSymbols(Me,ye,le,ie))}),ve}provideLabelPick(Me,ye){Me.items=[{label:ye,index:0,kind:14}],Me.ariaLabel=ye}waitForLanguageSymbolRegistry(Me,ye){return j(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(Me))return!0;const le=new O.CR,ie=ye.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(Me)&&(ie.dispose(),le.complete(!0))}));return ye.add((0,_.OF)(()=>le.complete(!1))),le.p})}doProvideWithEditorSymbols(Me,ye,le,ie){var ve;const xe=Me.editor,Ye=new _.SL;Ye.add(le.onDidAccept(st=>{const[et]=le.selectedItems;et&&et.range&&(this.gotoLocation(Me,{range:et.range.selection,keyMods:le.keyMods,preserveFocus:st.inBackground}),st.inBackground||le.hide())})),Ye.add(le.onDidTriggerItemButton(({item:st})=>{st&&st.range&&(this.gotoLocation(Me,{range:st.range.selection,keyMods:le.keyMods,forceSideBySide:!0}),le.hide())}));const at=this.getDocumentSymbols(ye,ie);let qe;const Re=st=>j(this,void 0,void 0,function*(){qe==null||qe.dispose(!0),le.busy=!1,qe=new V.A(ie),le.busy=!0;try{const et=C(le.value.substr($l.PREFIX.length).trim()),we=yield this.doGetSymbolPicks(at,et,void 0,qe.token);if(ie.isCancellationRequested)return;if(we.length>0){if(le.items=we,st&&et.original.length===0){const Ne=(0,K.dF)(we,de=>Boolean(de.type!=="separator"&&de.range&&E.e.containsPosition(de.range.decoration,st)));Ne&&(le.activeItems=[Ne])}}else et.original.length>0?this.provideLabelPick(le,(0,Q.NC)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(le,(0,Q.NC)("noSymbolResults","No editor symbols"))}finally{ie.isCancellationRequested||(le.busy=!1)}});Ye.add(le.onDidChangeValue(()=>Re(void 0))),Re((ve=xe.getSelection())===null||ve===void 0?void 0:ve.getPosition());let Je=2;return Ye.add(le.onDidChangeActive(()=>{const[st]=le.activeItems;if(st&&st.range){if(Je-- >0)return;xe.revealRangeInCenter(st.range.selection,0),this.addDecorations(xe,st.range.decoration)}})),Ye}doGetSymbolPicks(Me,ye,le,ie){return j(this,void 0,void 0,function*(){const ve=yield Me;if(ie.isCancellationRequested)return[];const xe=ye.original.indexOf($l.SCOPE_PREFIX)===0,Ye=xe?1:0;let at,qe;ye.values&&ye.values.length>1?(at=b(ye.values[0]),qe=b(ye.values.slice(1))):at=ye;const Re=[];for(let et=0;et<ve.length;et++){const we=ve[et],Ne=(0,A.fy)(we.name),de=`$(${I.uZ.toIcon(we.kind).id}) ${Ne}`,Pe=de.length-Ne.length;let He=we.containerName;le!=null&&le.extraContainerLabel&&(He?He=`${le.extraContainerLabel} \u2022 ${He}`:He=le.extraContainerLabel);let $e,me,Ie,Ge;if(ye.original.length>Ye){let ze=!1;if(at!==ye&&([$e,me]=c(de,Object.assign(Object.assign({},ye),{values:void 0}),Ye,Pe),typeof $e=="number"&&(ze=!0)),typeof $e!="number"&&([$e,me]=c(de,at,Ye,Pe),typeof $e!="number"))continue;if(!ze&&qe){if(He&&qe.original.length>0&&([Ie,Ge]=c(He,qe)),typeof Ie!="number")continue;typeof $e=="number"&&($e+=Ie)}}const ft=we.tags&&we.tags.indexOf(1)>=0;Re.push({index:et,kind:we.kind,score:$e,label:de,ariaLabel:Ne,description:He,highlights:ft?void 0:{label:me,description:Ge},range:{selection:E.e.collapseToStart(we.selectionRange),decoration:we.range},strikethrough:ft,buttons:(()=>{var ze,mt;const wt=!((ze=this.options)===null||ze===void 0)&&ze.openSideBySideDirection?(mt=this.options)===null||mt===void 0?void 0:mt.openSideBySideDirection():void 0;if(!!wt)return[{iconClass:wt==="right"?D.lA.splitHorizontal.classNames:D.lA.splitVertical.classNames,tooltip:wt==="right"?(0,Q.NC)("openToSide","Open to the Side"):(0,Q.NC)("openToBottom","Open to the Bottom")}]})()})}const Je=Re.sort((et,we)=>xe?this.compareByKindAndScore(et,we):this.compareByScore(et,we));let st=[];if(xe){let de=function(){we&&typeof et=="number"&&Ne>0&&(we.label=(0,A.WU)(T[et]||Z,Ne))},et,we,Ne=0;for(const Pe of Je)et!==Pe.kind?(de(),et=Pe.kind,Ne=1,we={type:"separator"},st.push(we)):Ne++,st.push(Pe);de()}else Je.length>0&&(st=[{label:(0,Q.NC)("symbols","symbols ({0})",Re.length),type:"separator"},...Je]);return st})}compareByScore(Me,ye){if(typeof Me.score!="number"&&typeof ye.score=="number")return 1;if(typeof Me.score=="number"&&typeof ye.score!="number")return-1;if(typeof Me.score=="number"&&typeof ye.score=="number"){if(Me.score>ye.score)return-1;if(Me.score<ye.score)return 1}return Me.index<ye.index?-1:Me.index>ye.index?1:0}compareByKindAndScore(Me,ye){const le=T[Me.kind]||Z,ie=T[ye.kind]||Z,ve=le.localeCompare(ie);return ve===0?this.compareByScore(Me,ye):ve}getDocumentSymbols(Me,ye){return j(this,void 0,void 0,function*(){const le=yield this._outlineModelService.getOrCreate(Me,ye);return ye.isCancellationRequested?[]:le.asListOfDocumentSymbols()})}};x.PREFIX="@",x.SCOPE_PREFIX=":",x.PREFIX_BY_CATEGORY=`${x.PREFIX}${x.SCOPE_PREFIX}`,x=H([X(0,U.p),X(1,R.Je)],x);const Z=(0,Q.NC)("property","properties ({0})"),T={[5]:(0,Q.NC)("method","methods ({0})"),[11]:(0,Q.NC)("function","functions ({0})"),[8]:(0,Q.NC)("_constructor","constructors ({0})"),[12]:(0,Q.NC)("variable","variables ({0})"),[4]:(0,Q.NC)("class","classes ({0})"),[22]:(0,Q.NC)("struct","structs ({0})"),[23]:(0,Q.NC)("event","events ({0})"),[24]:(0,Q.NC)("operator","operators ({0})"),[10]:(0,Q.NC)("interface","interfaces ({0})"),[2]:(0,Q.NC)("namespace","namespaces ({0})"),[3]:(0,Q.NC)("package","packages ({0})"),[25]:(0,Q.NC)("typeParameter","type parameters ({0})"),[1]:(0,Q.NC)("modules","modules ({0})"),[6]:(0,Q.NC)("property","properties ({0})"),[9]:(0,Q.NC)("enum","enumerations ({0})"),[21]:(0,Q.NC)("enumMember","enumeration members ({0})"),[14]:(0,Q.NC)("string","strings ({0})"),[0]:(0,Q.NC)("file","files ({0})"),[17]:(0,Q.NC)("array","arrays ({0})"),[15]:(0,Q.NC)("number","numbers ({0})"),[16]:(0,Q.NC)("boolean","booleans ({0})"),[18]:(0,Q.NC)("object","objects ({0})"),[19]:(0,Q.NC)("key","keys ({0})"),[7]:(0,Q.NC)("field","fields ({0})"),[13]:(0,Q.NC)("constant","constants ({0})")};var z=i(89872),G=i(90725),re=i(11640),S=i(98401),he=i(20913),Ce=i(4669),ge=i(16830),pe=i(29102),ee=i(41157),se=function(Ee,Me,ye,le){var ie=arguments.length,ve=ie<3?Me:le===null?le=Object.getOwnPropertyDescriptor(Me,ye):le,xe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ve=Reflect.decorate(Ee,Me,ye,le);else for(var Ye=Ee.length-1;Ye>=0;Ye--)(xe=Ee[Ye])&&(ve=(ie<3?xe(ve):ie>3?xe(Me,ye,ve):xe(Me,ye))||ve);return ie>3&&ve&&Object.defineProperty(Me,ye,ve),ve},ne=function(Ee,Me){return function(ye,le){Me(ye,le,Ee)}};let oe=class extends x{constructor(Me,ye,le){super(ye,le),this.editorService=Me,this.onDidActiveTextEditorControlChange=Ce.ju.None}get activeTextEditorControl(){return(0,S.f6)(this.editorService.getFocusedCodeEditor())}};oe=se([ne(0,re.$),ne(1,U.p),ne(2,R.Je)],oe);class Se extends ge.R6{constructor(){super({id:Se.ID,label:he.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:pe.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:pe.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(Me){Me.get(ee.eJ).quickAccess.show(x.PREFIX)}}Se.ID="editor.action.quickOutline",(0,ge.Qr)(Se),z.B.as(G.IP.Quickaccess).registerQuickAccessProvider({ctor:oe,prefix:x.PREFIX,helpEntries:[{description:he.aq.quickOutlineActionLabel,prefix:x.PREFIX,commandId:Se.ID},{description:he.aq.quickOutlineByCategoryActionLabel,prefix:x.PREFIX_BY_CATEGORY}]})},78944:function(Ot,Te,i){"use strict";i.r(Te);var w=i(89872),r=i(90725),O=i(20913),V=i(63580),D=i(9917),$=i(91847),M=i(41157),P=function(c,p,l,n){var a=arguments.length,g=a<3?p:n===null?n=Object.getOwnPropertyDescriptor(p,l):n,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(c,p,l,n);else for(var u=c.length-1;u>=0;u--)(f=c[u])&&(g=(a<3?f(g):a>3?f(p,l,g):f(p,l))||g);return a>3&&g&&Object.defineProperty(p,l,g),g},A=function(c,p){return function(l,n){p(l,n,c)}};let L=class Na{constructor(p,l){this.quickInputService=p,this.keybindingService=l,this.registry=w.B.as(r.IP.Quickaccess)}provide(p){const l=new D.SL;return l.add(p.onDidAccept(()=>{const[n]=p.selectedItems;n&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})),l.add(p.onDidChangeValue(n=>{const a=this.registry.getQuickAccessProvider(n.substr(Na.PREFIX.length));a&&a.prefix&&a.prefix!==Na.PREFIX&&this.quickInputService.quickAccess.show(a.prefix,{preserveValue:!0})})),p.items=this.getQuickAccessProviders(),l}getQuickAccessProviders(){const p=[];for(const l of this.registry.getQuickAccessProviders().sort((n,a)=>n.prefix.localeCompare(a.prefix)))if(l.prefix!==Na.PREFIX)for(const n of l.helpEntries){const a=n.prefix||l.prefix,g=a||"\u2026";p.push({prefix:a,label:g,keybinding:n.commandId?this.keybindingService.lookupKeybinding(n.commandId):void 0,ariaLabel:(0,V.NC)("helpPickAriaLabel","{0}, {1}",g,n.description),description:n.description})}return p}};L.PREFIX="?",L=P([A(0,M.eJ),A(1,$.d)],L),w.B.as(r.IP.Quickaccess).registerQuickAccessProvider({ctor:L,prefix:"",helpEntries:[{description:O.ld.helpQuickAccessActionLabel}]})},45048:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{StandaloneReferencesController:function(){return c}});var w=i(16830),r=i(11640),O=i(29829),V=i(33108),D=i(16141),$=i(72065),M=i(59422),P=i(26904),A=function(p,l,n,a){var g=arguments.length,f=g<3?l:a===null?a=Object.getOwnPropertyDescriptor(l,n):a,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(p,l,n,a);else for(var C=p.length-1;C>=0;C--)(u=p[C])&&(f=(g<3?u(f):g>3?u(l,n,f):u(l,n))||f);return g>3&&f&&Object.defineProperty(l,n,f),f},L=function(p,l){return function(n,a){l(n,a,p)}};let c=class extends O.J{constructor(l,n,a,g,f,u,C){super(!0,l,n,a,g,f,u,C)}};c=A([L(1,D.i6),L(2,r.$),L(3,M.lT),L(4,$.TG),L(5,P.Uy),L(6,V.Ui)],c),(0,w._K)(O.J.ID,c)},58763:function(Ot,Te,i){"use strict";i.d(Te,{kR:function(){return Z},MU:function(){return T},nI:function(){return ge},rW:function(){return x},TG:function(){return j}});var w=i(65321),r=i(30747),O=i(41264),V=i(4669),D=i(96887),$=i(45797);class M{constructor(ee,se,ne,oe,Se){this._parsedThemeRuleBrand=void 0,this.token=ee,this.index=se,this.fontStyle=ne,this.foreground=oe,this.background=Se}}function P(pe){if(!pe||!Array.isArray(pe))return[];const ee=[];let se=0;for(let ne=0,oe=pe.length;ne<oe;ne++){const Se=pe[ne];let Ee=-1;if(typeof Se.fontStyle=="string"){Ee=0;const le=Se.fontStyle.split(" ");for(let ie=0,ve=le.length;ie<ve;ie++)switch(le[ie]){case"italic":Ee=Ee|1;break;case"bold":Ee=Ee|2;break;case"underline":Ee=Ee|4;break;case"strikethrough":Ee=Ee|8;break}}let Me=null;typeof Se.foreground=="string"&&(Me=Se.foreground);let ye=null;typeof Se.background=="string"&&(ye=Se.background),ee[se++]=new M(Se.token||"",ne,Ee,Me,ye)}return ee}function A(pe,ee){pe.sort((ie,ve)=>{const xe=a(ie.token,ve.token);return xe!==0?xe:ie.index-ve.index});let se=0,ne="000000",oe="ffffff";for(;pe.length>=1&&pe[0].token==="";){const ie=pe.shift();ie.fontStyle!==-1&&(se=ie.fontStyle),ie.foreground!==null&&(ne=ie.foreground),ie.background!==null&&(oe=ie.background)}const Se=new c;for(const ie of ee)Se.getId(ie);const Ee=Se.getId(ne),Me=Se.getId(oe),ye=new g(se,Ee,Me),le=new f(ye);for(let ie=0,ve=pe.length;ie<ve;ie++){const xe=pe[ie];le.insert(xe.token,xe.fontStyle,Se.getId(xe.foreground),Se.getId(xe.background))}return new p(Se,le)}const L=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class c{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(ee){if(ee===null)return 0;const se=ee.match(L);if(!se)throw new Error("Illegal value for token color: "+ee);ee=se[1].toUpperCase();let ne=this._color2id.get(ee);return ne||(ne=++this._lastColorId,this._color2id.set(ee,ne),this._id2color[ne]=O.Il.fromHex("#"+ee),ne)}getColorMap(){return this._id2color.slice(0)}}class p{constructor(ee,se){this._colorMap=ee,this._root=se,this._cache=new Map}static createFromRawTokenTheme(ee,se){return this.createFromParsedTokenTheme(P(ee),se)}static createFromParsedTokenTheme(ee,se){return A(ee,se)}getColorMap(){return this._colorMap.getColorMap()}_match(ee){return this._root.match(ee)}match(ee,se){let ne=this._cache.get(se);if(typeof ne>"u"){const oe=this._match(se),Se=n(se);ne=(oe.metadata|Se<<8)>>>0,this._cache.set(se,ne)}return(ne|ee<<0)>>>0}}const l=/\b(comment|string|regex|regexp)\b/;function n(pe){const ee=pe.match(l);if(!ee)return 0;switch(ee[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function a(pe,ee){return pe<ee?-1:pe>ee?1:0}class g{constructor(ee,se,ne){this._themeTrieElementRuleBrand=void 0,this._fontStyle=ee,this._foreground=se,this._background=ne,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new g(this._fontStyle,this._foreground,this._background)}acceptOverwrite(ee,se,ne){ee!==-1&&(this._fontStyle=ee),se!==0&&(this._foreground=se),ne!==0&&(this._background=ne),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class f{constructor(ee){this._themeTrieElementBrand=void 0,this._mainRule=ee,this._children=new Map}match(ee){if(ee==="")return this._mainRule;const se=ee.indexOf(".");let ne,oe;se===-1?(ne=ee,oe=""):(ne=ee.substring(0,se),oe=ee.substring(se+1));const Se=this._children.get(ne);return typeof Se<"u"?Se.match(oe):this._mainRule}insert(ee,se,ne,oe){if(ee===""){this._mainRule.acceptOverwrite(se,ne,oe);return}const Se=ee.indexOf(".");let Ee,Me;Se===-1?(Ee=ee,Me=""):(Ee=ee.substring(0,Se),Me=ee.substring(Se+1));let ye=this._children.get(Ee);typeof ye>"u"&&(ye=new f(this._mainRule.clone()),this._children.set(Ee,ye)),ye.insert(Me,se,ne,oe)}}function u(pe){const ee=[];for(let se=1,ne=pe.length;se<ne;se++){const oe=pe[se];ee[se]=`.mtk${se} { color: ${oe}; }`}return ee.push(".mtki { font-style: italic; }"),ee.push(".mtkb { font-weight: bold; }"),ee.push(".mtku { text-decoration: underline; text-underline-position: under; }"),ee.push(".mtks { text-decoration: line-through; }"),ee.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),ee.join(`
`)}var C=i(8625),y=i(73910);const b={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[y.cvW]:"#FFFFFE",[y.NOs]:"#000000",[y.ES4]:"#E5EBF1",[C.tR]:"#D3D3D3",[C.Ym]:"#939393",[y.Rzx]:"#ADD6FF4D"}},_={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[y.cvW]:"#1E1E1E",[y.NOs]:"#D4D4D4",[y.ES4]:"#3A3D41",[C.tR]:"#404040",[C.Ym]:"#707070",[y.Rzx]:"#ADD6FF26"}},E={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[y.cvW]:"#000000",[y.NOs]:"#FFFFFF",[C.tR]:"#FFFFFF",[C.Ym]:"#FFFFFF"}},I={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[y.cvW]:"#FFFFFF",[y.NOs]:"#292929",[C.tR]:"#292929",[C.Ym]:"#292929"}};var R=i(89872),J=i(97781),Q=i(9917),U=i(92321),K=i(59554);function H(pe){const ee=new V.Q5,se=(0,K.Ks)();return se.onDidChange(()=>ee.fire()),pe==null||pe.onDidProductIconThemeChange(()=>ee.fire()),{onDidChange:ee.event,getCSS(){const ne=pe?pe.getProductIconTheme():new X,oe={},Se=Me=>{const ye=ne.getIcon(Me);if(!ye)return;const le=ye.font;return le?(oe[le.id]=le.definition,`.codicon-${Me.id}:before { content: '${ye.fontCharacter}'; font-family: ${(0,w._h)(le.id)}; }`):`.codicon-${Me.id}:before { content: '${ye.fontCharacter}'; }`},Ee=[];for(const Me of se.getIcons()){const ye=Se(Me);ye&&Ee.push(ye)}for(const Me in oe){const ye=oe[Me],le=ye.weight?`font-weight: ${ye.weight};`:"",ie=ye.style?`font-style: ${ye.style};`:"",ve=ye.src.map(xe=>`${(0,w.wY)(xe.location)} format('${xe.format}')`).join(", ");Ee.push(`@font-face { src: ${ve}; font-family: ${(0,w._h)(Me)};${le}${ie} font-display: block; }`)}return Ee.join(`
`)}}}class X{getIcon(ee){const se=(0,K.Ks)();let ne=ee.defaults;for(;J.kS.isThemeIcon(ne);){const oe=se.getIcon(ne.id);if(!oe)return;ne=oe.defaults}return ne}}const j="vs",x="vs-dark",Z="hc-black",T="hc-light",z=R.B.as(y.IPX.ColorContribution),G=R.B.as(J.IP.ThemingContribution);class re{constructor(ee,se){this.semanticHighlighting=!1,this.themeData=se;const ne=se.base;ee.length>0?(S(ee)?this.id=ee:this.id=ne+" "+ee,this.themeName=ee):(this.id=ne,this.themeName=ne),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const ee=new Map;for(const se in this.themeData.colors)ee.set(se,O.Il.fromHex(this.themeData.colors[se]));if(this.themeData.inherit){const se=he(this.themeData.base);for(const ne in se.colors)ee.has(ne)||ee.set(ne,O.Il.fromHex(se.colors[ne]))}this.colors=ee}return this.colors}getColor(ee,se){const ne=this.getColors().get(ee);if(ne)return ne;if(se!==!1)return this.getDefault(ee)}getDefault(ee){let se=this.defaultColors[ee];return se||(se=z.resolveDefaultColor(ee,this),this.defaultColors[ee]=se,se)}defines(ee){return Object.prototype.hasOwnProperty.call(this.getColors(),ee)}get type(){switch(this.base){case j:return U.eL.LIGHT;case Z:return U.eL.HIGH_CONTRAST_DARK;case T:return U.eL.HIGH_CONTRAST_LIGHT;default:return U.eL.DARK}}get tokenTheme(){if(!this._tokenTheme){let ee=[],se=[];if(this.themeData.inherit){const Se=he(this.themeData.base);ee=Se.rules,Se.encodedTokensColors&&(se=Se.encodedTokensColors)}const ne=this.themeData.colors["editor.foreground"],oe=this.themeData.colors["editor.background"];if(ne||oe){const Se={token:""};ne&&(Se.foreground=ne),oe&&(Se.background=oe),ee.push(Se)}ee=ee.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(se=this.themeData.encodedTokensColors),this._tokenTheme=p.createFromRawTokenTheme(ee,se)}return this._tokenTheme}getTokenStyleMetadata(ee,se,ne){const Se=this.tokenTheme._match([ee].concat(se).join(".")).metadata,Ee=$.N.getForeground(Se),Me=$.N.getFontStyle(Se);return{foreground:Ee,italic:Boolean(Me&1),bold:Boolean(Me&2),underline:Boolean(Me&4),strikethrough:Boolean(Me&8)}}}function S(pe){return pe===j||pe===x||pe===Z||pe===T}function he(pe){switch(pe){case j:return b;case x:return _;case Z:return E;case T:return I}}function Ce(pe){const ee=he(pe);return new re(pe,ee)}class ge extends Q.JT{constructor(){super(),this._onColorThemeChange=this._register(new V.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new V.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new X,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(j,Ce(j)),this._knownThemes.set(x,Ce(x)),this._knownThemes.set(Z,Ce(Z)),this._knownThemes.set(T,Ce(T));const ee=H(this);this._codiconCSS=ee.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(j),this._onOSSchemeChanged(),ee.onDidChange(()=>{this._codiconCSS=ee.getCSS(),this._updateCSS()}),(0,r.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(ee){return w.OO(ee)?this._registerShadowDomContainer(ee):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=w.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),Q.JT.None}_registerShadowDomContainer(ee){const se=w.dS(ee);return se.className="monaco-colors",se.textContent=this._allCSS,this._styleElements.push(se),{dispose:()=>{for(let ne=0;ne<this._styleElements.length;ne++)if(this._styleElements[ne]===se){this._styleElements.splice(ne,1);return}}}}defineTheme(ee,se){if(!/^[a-z0-9\-]+$/i.test(ee))throw new Error("Illegal theme name!");if(!S(se.base)&&!S(ee))throw new Error("Illegal theme base!");this._knownThemes.set(ee,new re(ee,se)),S(ee)&&this._knownThemes.forEach(ne=>{ne.base===ee&&ne.notifyBaseUpdated()}),this._theme.themeName===ee&&this.setTheme(ee)}getColorTheme(){return this._theme}setColorMapOverride(ee){this._colorMapOverride=ee,this._updateThemeOrColorMap()}setTheme(ee){let se;this._knownThemes.has(ee)?se=this._knownThemes.get(ee):se=this._knownThemes.get(j),this._updateActualTheme(se)}_updateActualTheme(ee){!ee||this._theme===ee||(this._theme=ee,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const ee=window.matchMedia("(forced-colors: active)").matches;if(ee!==(0,U.c3)(this._theme.type)){let se;(0,U._T)(this._theme.type)?se=ee?Z:x:se=ee?T:j,this._updateActualTheme(this._knownThemes.get(se))}}}setAutoDetectHighContrast(ee){this._autoDetectHighContrast=ee,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const ee=[],se={},ne={addRule:Ee=>{se[Ee]||(ee.push(Ee),se[Ee]=!0)}};G.getThemingParticipants().forEach(Ee=>Ee(this._theme,ne,this._environment));const oe=[];for(const Ee of z.getColors()){const Me=this._theme.getColor(Ee.id,!0);Me&&oe.push(`${(0,y.QO2)(Ee.id)}: ${Me.toString()};`)}ne.addRule(`.monaco-editor { ${oe.join(`
`)} }`);const Se=this._colorMapOverride||this._theme.tokenTheme.getColorMap();ne.addRule(u(Se)),this._themeCSS=ee.join(`
`),this._updateCSS(),D.RW.setColorMap(Se),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(ee=>ee.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},15662:function(Ot,Te,i){"use strict";i.r(Te);var w=i(16830),r=i(44156),O=i(20913),V=i(92321),D=i(58763);class $ extends w.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:O.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(P,A){const L=P.get(r.Z),c=L.getColorTheme();(0,V.c3)(c.type)?(L.setTheme(this._originalThemeName||((0,V._T)(c.type)?D.rW:D.TG)),this._originalThemeName=null):(L.setTheme((0,V._T)(c.type)?D.kR:D.MU),this._originalThemeName=c.themeName)}}(0,w.Qr)($)},44156:function(Ot,Te,i){"use strict";i.d(Te,{Z:function(){return r}});var w=i(72065);const r=(0,w.yh)("themeService")},72323:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{jsonDefaults:function(){return p}});var w=i(26565);var r=Object.defineProperty,O=Object.getOwnPropertyDescriptor,V=Object.getOwnPropertyNames,D=Object.prototype.hasOwnProperty,$=(n,a,g,f)=>{if(a&&typeof a=="object"||typeof a=="function")for(let u of V(a))!D.call(n,u)&&u!==g&&r(n,u,{get:()=>a[u],enumerable:!(f=O(a,u))||f.enumerable});return n},M=(n,a,g)=>($(n,a,"default"),g&&$(g,a,"default")),P={};M(P,w);var A=class{_onDidChange=new P.Emitter;_diagnosticsOptions;_modeConfiguration;_languageId;constructor(n,a,g){this._languageId=n,this.setDiagnosticsOptions(a),this.setModeConfiguration(g)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},L={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},c={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},p=new A("json",L,c);P.languages.json={jsonDefaults:p};function l(){return i.e(665).then(i.bind(i,90665))}P.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),P.languages.onLanguage("json",()=>{l().then(n=>n.setupMode(p))})},39585:function(Ot,Te,i){"use strict";i.r(Te),i.d(Te,{JsxEmit:function(){return c},ModuleKind:function(){return L},ModuleResolutionKind:function(){return n},NewLineKind:function(){return p},ScriptTarget:function(){return l},getJavaScriptWorker:function(){return y},getTypeScriptWorker:function(){return C},javascriptDefaults:function(){return u},typescriptDefaults:function(){return f},typescriptVersion:function(){return g}});var w=i(26565);var r=Object.defineProperty,O=Object.getOwnPropertyDescriptor,V=Object.getOwnPropertyNames,D=Object.prototype.hasOwnProperty,$=(_,E,I,R)=>{if(E&&typeof E=="object"||typeof E=="function")for(let J of V(E))!D.call(_,J)&&J!==I&&r(_,J,{get:()=>E[J],enumerable:!(R=O(E,J))||R.enumerable});return _},M=(_,E,I)=>($(_,E,"default"),I&&$(I,E,"default")),P="4.5.5",A={};M(A,w);var L=(_=>(_[_.None=0]="None",_[_.CommonJS=1]="CommonJS",_[_.AMD=2]="AMD",_[_.UMD=3]="UMD",_[_.System=4]="System",_[_.ES2015=5]="ES2015",_[_.ESNext=99]="ESNext",_))(L||{}),c=(_=>(_[_.None=0]="None",_[_.Preserve=1]="Preserve",_[_.React=2]="React",_[_.ReactNative=3]="ReactNative",_[_.ReactJSX=4]="ReactJSX",_[_.ReactJSXDev=5]="ReactJSXDev",_))(c||{}),p=(_=>(_[_.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",_[_.LineFeed=1]="LineFeed",_))(p||{}),l=(_=>(_[_.ES3=0]="ES3",_[_.ES5=1]="ES5",_[_.ES2015=2]="ES2015",_[_.ES2016=3]="ES2016",_[_.ES2017=4]="ES2017",_[_.ES2018=5]="ES2018",_[_.ES2019=6]="ES2019",_[_.ES2020=7]="ES2020",_[_.ESNext=99]="ESNext",_[_.JSON=100]="JSON",_[_.Latest=99]="Latest",_))(l||{}),n=(_=>(_[_.Classic=1]="Classic",_[_.NodeJs=2]="NodeJs",_))(n||{}),a=class{_onDidChange=new A.Emitter;_onDidExtraLibsChange=new A.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;constructor(_,E,I,R){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(_),this.setDiagnosticsOptions(E),this.setWorkerOptions(I),this.setInlayHintsOptions(R),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(_,E){let I;if(typeof E>"u"?I=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:I=E,this._extraLibs[I]&&this._extraLibs[I].content===_)return{dispose:()=>{}};let R=1;return this._removedExtraLibs[I]&&(R=this._removedExtraLibs[I]+1),this._extraLibs[I]&&(R=this._extraLibs[I].version+1),this._extraLibs[I]={content:_,version:R},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let J=this._extraLibs[I];!J||J.version===R&&(delete this._extraLibs[I],this._removedExtraLibs[I]=R,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(_){for(const E in this._extraLibs)this._removedExtraLibs[E]=this._extraLibs[E].version;if(this._extraLibs=Object.create(null),_&&_.length>0)for(const E of _){const I=E.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,R=E.content;let J=1;this._removedExtraLibs[I]&&(J=this._removedExtraLibs[I]+1),this._extraLibs[I]={content:R,version:J}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(_){this._compilerOptions=_||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(_){this._diagnosticsOptions=_||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(_){this._workerOptions=_||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(_){this._inlayHintsOptions=_||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(_){}setEagerModelSync(_){this._eagerModelSync=_}getEagerModelSync(){return this._eagerModelSync}},g=P,f=new a({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),u=new a({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),C=()=>b().then(_=>_.getTypeScriptWorker()),y=()=>b().then(_=>_.getJavaScriptWorker());A.languages.typescript={ModuleKind:L,JsxEmit:c,NewLineKind:p,ScriptTarget:l,ModuleResolutionKind:n,typescriptVersion:g,typescriptDefaults:f,javascriptDefaults:u,getTypeScriptWorker:C,getJavaScriptWorker:y};function b(){return i.e(401).then(i.bind(i,78401))}A.languages.onLanguage("typescript",()=>b().then(_=>_.setupTypeScript(f))),A.languages.onLanguage("javascript",()=>b().then(_=>_.setupJavaScript(u)))},63580:function(Ot,Te,i){"use strict";i.d(Te,{NC:function(){return A},aj:function(){return L}});var w=function(n,a,g,f){function u(C){return C instanceof g?C:new g(function(y){y(C)})}return new(g||(g=Promise))(function(C,y){function b(I){try{E(f.next(I))}catch(R){y(R)}}function _(I){try{E(f.throw(I))}catch(R){y(R)}}function E(I){I.done?C(I.value):u(I.value).then(b,_)}E((f=f.apply(n,a||[])).next())})};let r=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const O="i-default";function V(n,a){let g;return a.length===0?g=n:g=n.replace(/\{(\d+)\}/g,(f,u)=>{const C=u[0],y=a[C];let b=f;return typeof y=="string"?b=y:(typeof y=="number"||typeof y=="boolean"||y===void 0||y===null)&&(b=String(y)),b}),r&&(g="\uFF3B"+g.replace(/[aouei]/g,"$&$&")+"\uFF3D"),g}function D(n,a){let g=n[a];return g||(g=n["*"],g)?g:null}function $(n){return n.charAt(n.length-1)==="/"?n:n+"/"}function M(n,a,g){return w(this,void 0,void 0,function*(){const f=$(n)+$(a)+"vscode/"+$(g),u=yield fetch(f);if(u.ok)return yield u.json();throw new Error(`${u.status} - ${u.statusText}`)})}function P(n){return function(a,g){const f=Array.prototype.slice.call(arguments,2);return V(n[a],f)}}function A(n,a,...g){return V(a,g)}function L(n){}function c(n){r=n}function p(n,a){var g;return{localize:P(a[n]),getConfiguredDefaultLocale:(g=a.getConfiguredDefaultLocale)!==null&&g!==void 0?g:f=>{}}}function l(n,a,g,f){var u;const C=(u=f["vs/nls"])!==null&&u!==void 0?u:{};if(!n||n.length===0)return g({localize:A,getConfiguredDefaultLocale:()=>{var I;return(I=C.availableLanguages)===null||I===void 0?void 0:I["*"]}});const y=C.availableLanguages?D(C.availableLanguages,n):null,b=y===null||y===O;let _=".nls";b||(_=_+"."+y);const E=I=>{Array.isArray(I)?I.localize=P(I):I.localize=P(I[n]),I.getConfiguredDefaultLocale=()=>{var R;return(R=C.availableLanguages)===null||R===void 0?void 0:R["*"]},g(I)};typeof C.loadBundle=="function"?C.loadBundle(n,y,(I,R)=>{I?a([n+".nls"],E):E(R)}):C.translationServiceUrl&&!b?w(this,void 0,void 0,function*(){var I;try{const R=yield M(C.translationServiceUrl,y,n);return E(R)}catch(R){if(!y.includes("-"))return console.error(R),a([n+".nls"],E);try{const J=y.split("-")[0],Q=yield M(C.translationServiceUrl,J,n);return(I=C.availableLanguages)!==null&&I!==void 0||(C.availableLanguages={}),C.availableLanguages["*"]=J,E(Q)}catch(J){return console.error(J),a([n+".nls"],E)}}}):a([n+_],E,I=>{if(_===".nls"){console.error("Failed trying to load default language strings",I);return}console.error(`Failed to load message bundle for language ${y}. Falling back to the default language:`,I),a([n+".nls"],E)})}},31106:function(Ot,Te,i){"use strict";i.d(Te,{F:function(){return O},U:function(){return V}});var w=i(16141),r=i(72065);const O=(0,r.yh)("accessibilityService"),V=new w.uy("accessibilityModeEnabled",!1)},11468:function(Ot,Te,i){"use strict";i.d(Te,{Mm:function(){return H},Id:function(){return x},vr:function(){return Q}});var w=i(65321),r=i(59069),O=i(76033),V=i(10553),D=i(74741),$=i(4669);class M extends D.Wi{constructor(T,z){super(),this._onDidChangeVisibility=this._register(new $.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,w.R3)(T,(0,w.$)(".monaco-dropdown")),this._label=(0,w.R3)(this._element,(0,w.$)(".dropdown-label"));let G=z.labelRenderer;G||(G=S=>(S.textContent=z.label||"",null));for(const S of[w.tw.CLICK,w.tw.MOUSE_DOWN,V.t.Tap])this._register((0,w.nm)(this.element,S,he=>w.zB.stop(he,!0)));for(const S of[w.tw.MOUSE_DOWN,V.t.Tap])this._register((0,w.nm)(this._label,S,he=>{he instanceof MouseEvent&&(he.detail>1||he.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,w.nm)(this._label,w.tw.KEY_UP,S=>{const he=new r.y(S);(he.equals(3)||he.equals(10))&&(w.zB.stop(S,!0),this.visible?this.hide():this.show())}));const re=G(this._label);re&&this._register(re),this._register(V.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class P extends M{constructor(T,z){super(T,z),this._actions=[],this._contextMenuProvider=z.contextMenuProvider,this.actions=z.actions||[],this.actionProvider=z.actionProvider,this.menuClassName=z.menuClassName||"",this.menuAsChild=!!z.menuAsChild}set menuOptions(T){this._menuOptions=T}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(T){this._actions=T}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:T=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(T):void 0,getKeyBinding:T=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(T):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class A extends O.Y{constructor(T,z,G,re=Object.create(null)){super(null,T,re),this.actionItem=null,this._onDidChangeVisibility=this._register(new $.Q5),this.menuActionsOrProvider=z,this.contextMenuProvider=G,this.options=re,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(T){this.actionItem=T;const z=S=>{this.element=(0,w.R3)(S,(0,w.$)("a.action-label"));let he=[];return typeof this.options.classNames=="string"?he=this.options.classNames.split(/\s+/g).filter(Ce=>!!Ce):this.options.classNames&&(he=this.options.classNames),he.find(Ce=>Ce==="icon")||he.push("codicon"),this.element.classList.add(...he),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},G=Array.isArray(this.menuActionsOrProvider),re={contextMenuProvider:this.contextMenuProvider,labelRenderer:z,menuAsChild:this.options.menuAsChild,actions:G?this.menuActionsOrProvider:void 0,actionProvider:G?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new P(T,re)),this._register(this.dropdownMenu.onDidChangeVisibility(S=>{var he;(he=this.element)===null||he===void 0||he.setAttribute("aria-expanded",`${S}`),this._onDidChangeVisibility.fire(S)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const S=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return S.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let T=null;return this.getAction().tooltip?T=this.getAction().tooltip:this.getAction().label&&(T=this.getAction().label),T??void 0}setActionContext(T){super.setActionContext(T),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=T:this.dropdownMenu.menuOptions={context:T})}updateEnabled(){var T,z;const G=!this.getAction().enabled;(T=this.actionItem)===null||T===void 0||T.classList.toggle("disabled",G),(z=this.element)===null||z===void 0||z.classList.toggle("disabled",G)}}var L=i(8030),c=i(9917),p=i(1432),l=i(63580),n=i(84144),a=i(16141),g=i(5606),f=i(72065),u=i(91847),C=i(59422),y=i(26904),b=i(97781),_=i(92321),E=i(98401),I=function(Z,T,z,G){var re=arguments.length,S=re<3?T:G===null?G=Object.getOwnPropertyDescriptor(T,z):G,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(Z,T,z,G);else for(var Ce=Z.length-1;Ce>=0;Ce--)(he=Z[Ce])&&(S=(re<3?he(S):re>3?he(T,z,S):he(T,z))||S);return re>3&&S&&Object.defineProperty(T,z,S),S},R=function(Z,T){return function(z,G){T(z,G,Z)}},J=function(Z,T,z,G){function re(S){return S instanceof z?S:new z(function(he){he(S)})}return new(z||(z=Promise))(function(S,he){function Ce(ee){try{pe(G.next(ee))}catch(se){he(se)}}function ge(ee){try{pe(G.throw(ee))}catch(se){he(se)}}function pe(ee){ee.done?S(ee.value):re(ee.value).then(Ce,ge)}pe((G=G.apply(Z,T||[])).next())})};function Q(Z,T,z,G,re,S,he){const Ce=Z.getActions(T);return K(Ce,z,!1,typeof G=="string"?pe=>pe===G:G,re,S,he),U(Ce)}function U(Z){const T=new c.SL;for(const[,z]of Z)for(const G of z)T.add(G);return T}function K(Z,T,z,G=Ce=>Ce==="navigation",re=Number.MAX_SAFE_INTEGER,S=()=>!1,he=!1){let Ce,ge;Array.isArray(T)?(Ce=T,ge=T):(Ce=T.primary,ge=T.secondary);const pe=new Set;for(const[ee,se]of Z){let ne;G(ee)?(ne=Ce,ne.length>0&&he&&ne.push(new D.Z0)):(ne=ge,ne.length>0&&ne.push(new D.Z0));for(let oe of se){z&&(oe=oe instanceof n.U8&&oe.alt?oe.alt:oe);const Se=ne.push(oe);oe instanceof D.wY&&pe.add({group:ee,action:oe,index:Se-1})}}for(const{group:ee,action:se,index:ne}of pe){const oe=G(ee)?Ce:ge,Se=se.actions;(Se.length<=1||oe.length+Se.length-2<=re)&&S(se,ee,oe.length)&&oe.splice(ne,1,...Se)}if(Ce!==ge&&Ce.length>re){const ee=Ce.splice(re,Ce.length-re);ge.unshift(...ee,new D.Z0)}}let H=class extends O.g{constructor(T,z,G,re,S,he,Ce){super(void 0,T,{icon:!!(T.class||T.item.icon),label:!T.class&&!T.item.icon,draggable:z==null?void 0:z.draggable,keybinding:z==null?void 0:z.keybinding,hoverDelegate:z==null?void 0:z.hoverDelegate}),this._keybindingService=G,this._notificationService=re,this._contextKeyService=S,this._themeService=he,this._contextMenuService=Ce,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new c.XK),this._altKey=w._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(T){return J(this,void 0,void 0,function*(){T.preventDefault(),T.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(z){this._notificationService.error(z)}})}render(T){super.render(T),T.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let z=!1,G=this._altKey.keyStatus.altKey||(p.ED||p.IJ)&&this._altKey.keyStatus.shiftKey;const re=()=>{var S;const he=z&&G&&!!(!((S=this._commandAction.alt)===null||S===void 0)&&S.enabled);he!==this._wantsAltCommand&&(this._wantsAltCommand=he,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(S=>{G=S.altKey||(p.ED||p.IJ)&&S.shiftKey,re()})),this._register((0,w.nm)(T,"mouseleave",S=>{z=!1,re()})),this._register((0,w.nm)(T,"mouseenter",S=>{z=!0,re()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var T;const z=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),G=z&&z.getLabel(),re=this._commandAction.tooltip||this._commandAction.label;let S=G?(0,l.NC)("titleAndKb","{0} ({1})",re,G):re;if(!this._wantsAltCommand&&((T=this._menuItemAction.alt)===null||T===void 0?void 0:T.enabled)){const he=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,Ce=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),ge=Ce&&Ce.getLabel(),pe=ge?(0,l.NC)("titleAndKb","{0} ({1})",he,ge):he;S=(0,l.NC)("titleAndKbAndAlt",`{0}
[{1}] {2}`,S,L.xo.modifierLabels[p.OS].altKey,pe)}return S}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(T){var z;this._itemClassDispose.value=void 0;const{element:G,label:re}=this;if(!G||!re)return;const S=this._commandAction.checked&&((z=T.toggled)===null||z===void 0?void 0:z.icon)?T.toggled.icon:T.icon;if(!!S)if(b.kS.isThemeIcon(S)){const he=b.kS.asClassNameArray(S);re.classList.add(...he),this._itemClassDispose.value=(0,c.OF)(()=>{re.classList.remove(...he)})}else re.style.backgroundImage=(0,_._T)(this._themeService.getColorTheme().type)?(0,w.wY)(S.dark):(0,w.wY)(S.light),re.classList.add("icon"),this._itemClassDispose.value=(0,c.F8)((0,c.OF)(()=>{re.style.backgroundImage="",re.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};H=I([R(2,u.d),R(3,C.lT),R(4,a.i6),R(5,b.XE),R(6,g.i)],H);let X=class extends A{constructor(T,z,G,re){var S,he;const Ce=Object.assign({},z??Object.create(null),{menuAsChild:(S=z==null?void 0:z.menuAsChild)!==null&&S!==void 0?S:!1,classNames:(he=z==null?void 0:z.classNames)!==null&&he!==void 0?he:b.kS.isThemeIcon(T.item.icon)?b.kS.asClassName(T.item.icon):void 0});super(T,{getActions:()=>T.actions},G,Ce),this._contextMenuService=G,this._themeService=re}render(T){super.render(T),(0,E.p_)(this.element),T.classList.add("menu-entry");const z=this._action,{icon:G}=z.item;if(G&&!b.kS.isThemeIcon(G)){this.element.classList.add("icon");const re=()=>{this.element&&(this.element.style.backgroundImage=(0,_._T)(this._themeService.getColorTheme().type)?(0,w.wY)(G.dark):(0,w.wY)(G.light))};re(),this._register(this._themeService.onDidColorThemeChange(()=>{re()}))}}};X=I([R(2,g.i),R(3,b.XE)],X);let j=class extends O.Y{constructor(T,z,G,re,S,he,Ce,ge){var pe,ee,se;super(null,T),this._keybindingService=G,this._notificationService=re,this._contextMenuService=S,this._menuService=he,this._instaService=Ce,this._storageService=ge,this._container=null,this._options=z,this._storageKey=`${T.item.submenu.id}_lastActionId`;let ne;const oe=ge.get(this._storageKey,1);oe&&(ne=T.actions.find(Ee=>oe===Ee.id)),ne||(ne=T.actions[0]),this._defaultAction=this._instaService.createInstance(H,ne,{keybinding:this._getDefaultActionKeybindingLabel(ne)});const Se=Object.assign({},z??Object.create(null),{menuAsChild:(pe=z==null?void 0:z.menuAsChild)!==null&&pe!==void 0?pe:!0,classNames:(ee=z==null?void 0:z.classNames)!==null&&ee!==void 0?ee:["codicon","codicon-chevron-down"],actionRunner:(se=z==null?void 0:z.actionRunner)!==null&&se!==void 0?se:new D.Wi});this._dropdown=new A(T,T.actions,this._contextMenuService,Se),this._dropdown.actionRunner.onDidRun(Ee=>{Ee.action instanceof n.U8&&this.update(Ee.action)})}update(T){this._storageService.store(this._storageKey,T.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(H,T,{keybinding:this._getDefaultActionKeybindingLabel(T)}),this._defaultAction.actionRunner=new class extends D.Wi{runAction(z,G){return J(this,void 0,void 0,function*(){yield z.run(void 0)})}},this._container&&this._defaultAction.render((0,w.Ce)(this._container,(0,w.$)(".action-container")))}_getDefaultActionKeybindingLabel(T){var z;let G;if(!((z=this._options)===null||z===void 0)&&z.renderKeybindingWithDefaultActionLabel){const re=this._keybindingService.lookupKeybinding(T.id);re&&(G=`(${re.getLabel()})`)}return G}setActionContext(T){super.setActionContext(T),this._defaultAction.setActionContext(T),this._dropdown.setActionContext(T)}render(T){this._container=T,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const z=(0,w.$)(".action-container");this._defaultAction.render((0,w.R3)(this._container,z)),this._register((0,w.nm)(z,w.tw.KEY_DOWN,re=>{const S=new r.y(re);S.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),S.stopPropagation())}));const G=(0,w.$)(".dropdown-action-container");this._dropdown.render((0,w.R3)(this._container,G)),this._register((0,w.nm)(G,w.tw.KEY_DOWN,re=>{var S;const he=new r.y(re);he.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(S=this._defaultAction.element)===null||S===void 0||S.focus(),he.stopPropagation())}))}focus(T){T?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(T){T?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};j=I([R(2,u.d),R(3,C.lT),R(4,g.i),R(5,n.co),R(6,f.TG),R(7,y.Uy)],j);function x(Z,T,z){return T instanceof n.U8?Z.createInstance(H,T,z):T instanceof n.NZ?T.item.rememberDefaultAction?Z.createInstance(j,T,z):Z.createInstance(X,T,z):void 0}},84144:function(Ot,Te,i){"use strict";i.d(Te,{BH:function(){return g},NZ:function(){return f},U8:function(){return u},co:function(){return a},eH:function(){return n},vr:function(){return l}});var w=i(74741),r=i(73046),O=i(4669),V=i(53725),D=i(9917),$=i(91741),M=i(94565),P=i(16141),A=i(72065),L=i(97781),c=function(C,y,b,_){var E=arguments.length,I=E<3?y:_===null?_=Object.getOwnPropertyDescriptor(y,b):_,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(C,y,b,_);else for(var J=C.length-1;J>=0;J--)(R=C[J])&&(I=(E<3?R(I):E>3?R(y,b,I):R(y,b))||I);return E>3&&I&&Object.defineProperty(y,b,I),I},p=function(C,y){return function(b,_){y(b,_,C)}};function l(C){return C.command!==void 0}class n{constructor(y){if(n._instances.has(y))throw new TypeError(`MenuId with identifier '${y}' already exists. Use MenuId.for(ident) or a unique identifier`);n._instances.set(y,this),this.id=y}}n._instances=new Map,n.CommandPalette=new n("CommandPalette"),n.DebugBreakpointsContext=new n("DebugBreakpointsContext"),n.DebugCallStackContext=new n("DebugCallStackContext"),n.DebugConsoleContext=new n("DebugConsoleContext"),n.DebugVariablesContext=new n("DebugVariablesContext"),n.DebugWatchContext=new n("DebugWatchContext"),n.DebugToolBar=new n("DebugToolBar"),n.DebugToolBarStop=new n("DebugToolBarStop"),n.EditorContext=new n("EditorContext"),n.SimpleEditorContext=new n("SimpleEditorContext"),n.EditorContextCopy=new n("EditorContextCopy"),n.EditorContextPeek=new n("EditorContextPeek"),n.EditorContextShare=new n("EditorContextShare"),n.EditorTitle=new n("EditorTitle"),n.EditorTitleRun=new n("EditorTitleRun"),n.EditorTitleContext=new n("EditorTitleContext"),n.EmptyEditorGroup=new n("EmptyEditorGroup"),n.EmptyEditorGroupContext=new n("EmptyEditorGroupContext"),n.ExplorerContext=new n("ExplorerContext"),n.ExtensionContext=new n("ExtensionContext"),n.GlobalActivity=new n("GlobalActivity"),n.CommandCenter=new n("CommandCenter"),n.LayoutControlMenuSubmenu=new n("LayoutControlMenuSubmenu"),n.LayoutControlMenu=new n("LayoutControlMenu"),n.MenubarMainMenu=new n("MenubarMainMenu"),n.MenubarAppearanceMenu=new n("MenubarAppearanceMenu"),n.MenubarDebugMenu=new n("MenubarDebugMenu"),n.MenubarEditMenu=new n("MenubarEditMenu"),n.MenubarCopy=new n("MenubarCopy"),n.MenubarFileMenu=new n("MenubarFileMenu"),n.MenubarGoMenu=new n("MenubarGoMenu"),n.MenubarHelpMenu=new n("MenubarHelpMenu"),n.MenubarLayoutMenu=new n("MenubarLayoutMenu"),n.MenubarNewBreakpointMenu=new n("MenubarNewBreakpointMenu"),n.MenubarPanelAlignmentMenu=new n("MenubarPanelAlignmentMenu"),n.MenubarPanelPositionMenu=new n("MenubarPanelPositionMenu"),n.MenubarPreferencesMenu=new n("MenubarPreferencesMenu"),n.MenubarRecentMenu=new n("MenubarRecentMenu"),n.MenubarSelectionMenu=new n("MenubarSelectionMenu"),n.MenubarShare=new n("MenubarShare"),n.MenubarSwitchEditorMenu=new n("MenubarSwitchEditorMenu"),n.MenubarSwitchGroupMenu=new n("MenubarSwitchGroupMenu"),n.MenubarTerminalMenu=new n("MenubarTerminalMenu"),n.MenubarViewMenu=new n("MenubarViewMenu"),n.MenubarHomeMenu=new n("MenubarHomeMenu"),n.OpenEditorsContext=new n("OpenEditorsContext"),n.ProblemsPanelContext=new n("ProblemsPanelContext"),n.SCMChangeContext=new n("SCMChangeContext"),n.SCMResourceContext=new n("SCMResourceContext"),n.SCMResourceFolderContext=new n("SCMResourceFolderContext"),n.SCMResourceGroupContext=new n("SCMResourceGroupContext"),n.SCMSourceControl=new n("SCMSourceControl"),n.SCMTitle=new n("SCMTitle"),n.SearchContext=new n("SearchContext"),n.StatusBarWindowIndicatorMenu=new n("StatusBarWindowIndicatorMenu"),n.StatusBarRemoteIndicatorMenu=new n("StatusBarRemoteIndicatorMenu"),n.TestItem=new n("TestItem"),n.TestItemGutter=new n("TestItemGutter"),n.TestPeekElement=new n("TestPeekElement"),n.TestPeekTitle=new n("TestPeekTitle"),n.TouchBarContext=new n("TouchBarContext"),n.TitleBarContext=new n("TitleBarContext"),n.TitleBarTitleContext=new n("TitleBarTitleContext"),n.TunnelContext=new n("TunnelContext"),n.TunnelPrivacy=new n("TunnelPrivacy"),n.TunnelProtocol=new n("TunnelProtocol"),n.TunnelPortInline=new n("TunnelInline"),n.TunnelTitle=new n("TunnelTitle"),n.TunnelLocalAddressInline=new n("TunnelLocalAddressInline"),n.TunnelOriginInline=new n("TunnelOriginInline"),n.ViewItemContext=new n("ViewItemContext"),n.ViewContainerTitle=new n("ViewContainerTitle"),n.ViewContainerTitleContext=new n("ViewContainerTitleContext"),n.ViewTitle=new n("ViewTitle"),n.ViewTitleContext=new n("ViewTitleContext"),n.CommentThreadTitle=new n("CommentThreadTitle"),n.CommentThreadActions=new n("CommentThreadActions"),n.CommentTitle=new n("CommentTitle"),n.CommentActions=new n("CommentActions"),n.InteractiveToolbar=new n("InteractiveToolbar"),n.InteractiveCellTitle=new n("InteractiveCellTitle"),n.InteractiveCellDelete=new n("InteractiveCellDelete"),n.InteractiveCellExecute=new n("InteractiveCellExecute"),n.InteractiveInputExecute=new n("InteractiveInputExecute"),n.NotebookToolbar=new n("NotebookToolbar"),n.NotebookCellTitle=new n("NotebookCellTitle"),n.NotebookCellDelete=new n("NotebookCellDelete"),n.NotebookCellInsert=new n("NotebookCellInsert"),n.NotebookCellBetween=new n("NotebookCellBetween"),n.NotebookCellListTop=new n("NotebookCellTop"),n.NotebookCellExecute=new n("NotebookCellExecute"),n.NotebookCellExecutePrimary=new n("NotebookCellExecutePrimary"),n.NotebookDiffCellInputTitle=new n("NotebookDiffCellInputTitle"),n.NotebookDiffCellMetadataTitle=new n("NotebookDiffCellMetadataTitle"),n.NotebookDiffCellOutputsTitle=new n("NotebookDiffCellOutputsTitle"),n.NotebookOutputToolbar=new n("NotebookOutputToolbar"),n.NotebookEditorLayoutConfigure=new n("NotebookEditorLayoutConfigure"),n.NotebookKernelSource=new n("NotebookKernelSource"),n.BulkEditTitle=new n("BulkEditTitle"),n.BulkEditContext=new n("BulkEditContext"),n.TimelineItemContext=new n("TimelineItemContext"),n.TimelineTitle=new n("TimelineTitle"),n.TimelineTitleContext=new n("TimelineTitleContext"),n.TimelineFilterSubMenu=new n("TimelineFilterSubMenu"),n.AccountsContext=new n("AccountsContext"),n.PanelTitle=new n("PanelTitle"),n.AuxiliaryBarTitle=new n("AuxiliaryBarTitle"),n.TerminalInstanceContext=new n("TerminalInstanceContext"),n.TerminalEditorInstanceContext=new n("TerminalEditorInstanceContext"),n.TerminalNewDropdownContext=new n("TerminalNewDropdownContext"),n.TerminalTabContext=new n("TerminalTabContext"),n.TerminalTabEmptyAreaContext=new n("TerminalTabEmptyAreaContext"),n.TerminalInlineTabContext=new n("TerminalInlineTabContext"),n.WebviewContext=new n("WebviewContext"),n.InlineCompletionsActions=new n("InlineCompletionsActions"),n.NewFile=new n("NewFile"),n.MergeToolbar=new n("MergeToolbar"),n.MergeInput1Toolbar=new n("MergeToolbar1Toolbar"),n.MergeInput2Toolbar=new n("MergeToolbar2Toolbar");const a=(0,A.yh)("menuService"),g=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new O.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:C=>C===n.CommandPalette}}addCommand(C){return this.addCommands(V.$.single(C))}addCommands(C){for(const y of C)this._commands.set(y.id,y);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,D.OF)(()=>{let y=!1;for(const b of C)y=this._commands.delete(b.id)||y;y&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(C){return this._commands.get(C)}getCommands(){const C=new Map;return this._commands.forEach((y,b)=>C.set(b,y)),C}appendMenuItem(C,y){return this.appendMenuItems(V.$.single({id:C,item:y}))}appendMenuItems(C){const y=new Set,b=new $.S;for(const{id:_,item:E}of C){let I=this._menuItems.get(_);I||(I=new $.S,this._menuItems.set(_,I)),b.push(I.push(E)),y.add(_)}return this._onDidChangeMenu.fire(y),(0,D.OF)(()=>{if(b.size>0){for(const _ of b)_();this._onDidChangeMenu.fire(y),b.clear()}})}getMenuItems(C){let y;return this._menuItems.has(C)?y=[...this._menuItems.get(C)]:y=[],C===n.CommandPalette&&this._appendImplicitItems(y),y}_appendImplicitItems(C){const y=new Set;for(const b of C)l(b)&&(y.add(b.command.id),b.alt&&y.add(b.alt.id));this._commands.forEach((b,_)=>{y.has(_)||C.push({command:b})})}};class f extends w.wY{constructor(y,b,_,E){super(`submenuitem.${y.submenu.id}`,typeof y.title=="string"?y.title:y.title.value,[],"submenu"),this.item=y,this._menuService=b,this._contextKeyService=_,this._options=E}get actions(){const y=[],b=this._menuService.createMenu(this.item.submenu,this._contextKeyService),_=b.getActions(this._options);b.dispose();for(const[,E]of _)E.length>0&&(y.push(...E),y.push(new w.Z0));return y.length&&y.pop(),y}}let u=class ld{constructor(y,b,_,E,I,R){var J,Q;if(this.hideActions=E,this._commandService=R,this.id=y.id,this.label=(_==null?void 0:_.renderShortTitle)&&y.shortTitle?typeof y.shortTitle=="string"?y.shortTitle:y.shortTitle.value:typeof y.title=="string"?y.title:y.title.value,this.tooltip=(Q=typeof y.tooltip=="string"?y.tooltip:(J=y.tooltip)===null||J===void 0?void 0:J.value)!==null&&Q!==void 0?Q:"",this.enabled=!y.precondition||I.contextMatchesRules(y.precondition),this.checked=void 0,y.toggled){const U=y.toggled.condition?y.toggled:{condition:y.toggled};this.checked=I.contextMatchesRules(U.condition),this.checked&&U.tooltip&&(this.tooltip=typeof U.tooltip=="string"?U.tooltip:U.tooltip.value),U.title&&(this.label=typeof U.title=="string"?U.title:U.title.value)}this.item=y,this.alt=b?new ld(b,void 0,_,E,I,R):void 0,this._options=_,L.kS.isThemeIcon(y.icon)&&(this.class=r.dT.asClassName(y.icon))}dispose(){}run(...y){var b,_;let E=[];return!((b=this._options)===null||b===void 0)&&b.arg&&(E=[...E,this._options.arg]),!((_=this._options)===null||_===void 0)&&_.shouldForwardArgs&&(E=[...E,...y]),this._commandService.executeCommand(this.id,...E)}};u=c([p(4,P.i6),p(5,M.Hy)],u)},84972:function(Ot,Te,i){"use strict";i.d(Te,{p:function(){return r}});var w=i(72065);const r=(0,w.yh)("clipboardService")},94565:function(Ot,Te,i){"use strict";i.d(Te,{Hy:function(){return M},P0:function(){return P}});var w=i(4669),r=i(53725),O=i(9917),V=i(91741),D=i(98401),$=i(72065);const M=(0,$.yh)("commandService"),P=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new w.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(L,c){if(!L)throw new Error("invalid command");if(typeof L=="string"){if(!c)throw new Error("invalid command");return this.registerCommand({id:L,handler:c})}if(L.description){const g=[];for(const u of L.description.args)g.push(u.constraint);const f=L.handler;L.handler=function(u,...C){return(0,D.D8)(C,g),f(u,...C)}}const{id:p}=L;let l=this._commands.get(p);l||(l=new V.S,this._commands.set(p,l));const n=l.unshift(L),a=(0,O.OF)(()=>{n();const g=this._commands.get(p);g!=null&&g.isEmpty()&&this._commands.delete(p)});return this._onDidRegisterCommand.fire(p),a}registerCommandAlias(L,c){return P.registerCommand(L,(p,...l)=>p.get(M).executeCommand(c,...l))}getCommand(L){const c=this._commands.get(L);if(!(!c||c.isEmpty()))return r.$.first(c)}getCommands(){const L=new Map;for(const c of this._commands.keys()){const p=this.getCommand(c);p&&L.set(c,p)}return L}},A={_serviceBrand:void 0,onWillExecuteCommand:()=>O.JT.None,onDidExecuteCommand:()=>O.JT.None,executeCommand(){return Promise.resolve(void 0)}};P.registerCommand("noop",()=>{})},33108:function(Ot,Te,i){"use strict";i.d(Te,{KV:function(){return V},Mt:function(){return M},Od:function(){return O},UI:function(){return P},Ui:function(){return r},xL:function(){return D}});var w=i(72065);const r=(0,w.yh)("configurationService");function O(A,L){const c=Object.create(null);for(const p in A)V(c,p,A[p],L);return c}function V(A,L,c,p){const l=L.split("."),n=l.pop();let a=A;for(let g=0;g<l.length;g++){const f=l[g];let u=a[f];switch(typeof u){case"undefined":u=a[f]=Object.create(null);break;case"object":break;default:p(`Ignoring ${L} as ${l.slice(0,g+1).join(".")} is ${JSON.stringify(u)}`);return}a=u}if(typeof a=="object"&&a!==null)try{a[n]=c}catch{p(`Ignoring ${L} as ${l.join(".")} is ${JSON.stringify(a)}`)}else p(`Ignoring ${L} as ${l.join(".")} is ${JSON.stringify(a)}`)}function D(A,L){const c=L.split(".");$(A,c)}function $(A,L){const c=L.shift();if(L.length===0){delete A[c];return}if(Object.keys(A).indexOf(c)!==-1){const p=A[c];typeof p=="object"&&!Array.isArray(p)&&($(p,L),Object.keys(p).length===0&&delete A[c])}}function M(A,L,c){function p(a,g){let f=a;for(const u of g){if(typeof f!="object"||f===null)return;f=f[u]}return f}const l=L.split("."),n=p(A,l);return typeof n>"u"?c:n}function P(A){return A.replace(/[\[\]]/g,"")}},23193:function(Ot,Te,i){"use strict";i.d(Te,{IP:function(){return P},eU:function(){return b},ny:function(){return _}});var w=i(9488),r=i(4669),O=i(98401),V=i(63580),D=i(33108),$=i(81294),M=i(89872);const P={Configuration:"base.contributions.configuration"},A={properties:{},patternProperties:{}},L={properties:{},patternProperties:{}},c={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},l={properties:{},patternProperties:{}},n={properties:{},patternProperties:{}},a="vscode://schemas/settings/resourceLanguage",g=M.B.as($.I.JSONContribution);class f{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new r.Q5,this._onDidUpdateConfiguration=new r.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:V.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},g.registerSchema(a,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(Q,U=!0){this.registerConfigurations([Q],U)}registerConfigurations(Q,U=!0){const K=this.doRegisterConfigurations(Q,U);g.registerSchema(a,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:K})}registerDefaultConfigurations(Q){var U;const K=[],H=[];for(const{overrides:X,source:j}of Q)for(const x in X)if(K.push(x),b.test(x)){const Z=this.configurationDefaultsOverrides.get(x),T=(U=Z==null?void 0:Z.valuesSources)!==null&&U!==void 0?U:new Map;if(j)for(const S of Object.keys(X[x]))T.set(S,j);const z=Object.assign(Object.assign({},(Z==null?void 0:Z.value)||{}),X[x]);this.configurationDefaultsOverrides.set(x,{source:j,value:z,valuesSources:T});const G=(0,D.UI)(x),re={type:"object",default:z,description:V.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",G),$ref:a,defaultDefaultValue:z,source:O.HD(j)?void 0:j,defaultValueSource:j};H.push(..._(x)),this.configurationProperties[x]=re,this.defaultLanguageConfigurationOverridesNode.properties[x]=re}else{this.configurationDefaultsOverrides.set(x,{value:X[x],source:j});const Z=this.configurationProperties[x];Z&&(this.updatePropertyDefaultValue(x,Z),this.updateSchema(x,Z))}this.registerOverrideIdentifiers(H),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:K,defaultsOverrides:!0})}registerOverrideIdentifiers(Q){for(const U of Q)this.overrideIdentifiers.add(U);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(Q,U){const K=[];return Q.forEach(H=>{K.push(...this.validateAndRegisterProperties(H,U,H.extensionInfo,H.restrictedProperties)),this.configurationContributors.push(H),this.registerJSONConfiguration(H)}),K}validateAndRegisterProperties(Q,U=!0,K,H,X=3){var j;X=O.Jp(Q.scope)?X:Q.scope;const x=[],Z=Q.properties;if(Z)for(const z in Z){const G=Z[z];if(U&&R(z,G)){delete Z[z];continue}if(G.source=K,G.defaultDefaultValue=Z[z].default,this.updatePropertyDefaultValue(z,G),b.test(z)?G.scope=void 0:(G.scope=O.Jp(G.scope)?X:G.scope,G.restricted=O.Jp(G.restricted)?!!(H!=null&&H.includes(z)):G.restricted),Z[z].hasOwnProperty("included")&&!Z[z].included){this.excludedConfigurationProperties[z]=Z[z],delete Z[z];continue}else this.configurationProperties[z]=Z[z],!((j=Z[z].policy)===null||j===void 0)&&j.name&&this.policyConfigurations.set(Z[z].policy.name,z);!Z[z].deprecationMessage&&Z[z].markdownDeprecationMessage&&(Z[z].deprecationMessage=Z[z].markdownDeprecationMessage),x.push(z)}const T=Q.allOf;if(T)for(const z of T)x.push(...this.validateAndRegisterProperties(z,U,K,H,X));return x}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(Q){const U=K=>{const H=K.properties;if(H)for(const j in H)this.updateSchema(j,H[j]);const X=K.allOf;X==null||X.forEach(U)};U(Q)}updateSchema(Q,U){switch(A.properties[Q]=U,U.scope){case 1:L.properties[Q]=U;break;case 2:c.properties[Q]=U;break;case 6:p.properties[Q]=U;break;case 3:l.properties[Q]=U;break;case 4:n.properties[Q]=U;break;case 5:n.properties[Q]=U,this.resourceLanguageSettingsSchema.properties[Q]=U;break}}updateOverridePropertyPatternKey(){for(const Q of this.overrideIdentifiers.values()){const U=`[${Q}]`,K={type:"object",description:V.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:V.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:a};this.updatePropertyDefaultValue(U,K),A.properties[U]=K,L.properties[U]=K,c.properties[U]=K,p.properties[U]=K,l.properties[U]=K,n.properties[U]=K}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const Q={type:"object",description:V.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:V.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:a};A.patternProperties[y]=Q,L.patternProperties[y]=Q,c.patternProperties[y]=Q,p.patternProperties[y]=Q,l.patternProperties[y]=Q,n.patternProperties[y]=Q,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(Q,U){const K=this.configurationDefaultsOverrides.get(Q);let H=K==null?void 0:K.value,X=K==null?void 0:K.source;O.o8(H)&&(H=U.defaultDefaultValue,X=void 0),O.o8(H)&&(H=E(U.type)),U.default=H,U.defaultValueSource=X}}const u="\\[([^\\]]+)\\]",C=new RegExp(u,"g"),y=`^(${u})+$`,b=new RegExp(y);function _(J){const Q=[];if(b.test(J)){let U=C.exec(J);for(;U!=null&&U.length;){const K=U[1].trim();K&&Q.push(K),U=C.exec(J)}}return(0,w.EB)(Q)}function E(J){switch(Array.isArray(J)?J[0]:J){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const I=new f;M.B.add(P.Configuration,I);function R(J,Q){var U,K,H,X;return J.trim()?b.test(J)?V.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",J):I.getConfigurationProperties()[J]!==void 0?V.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",J):((U=Q.policy)===null||U===void 0?void 0:U.name)&&I.getPolicyConfigurations().get((K=Q.policy)===null||K===void 0?void 0:K.name)!==void 0?V.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",J,(H=Q.policy)===null||H===void 0?void 0:H.name,I.getPolicyConfigurations().get((X=Q.policy)===null||X===void 0?void 0:X.name)):null:V.NC("config.property.empty","Cannot register an empty property")}},16141:function(Ot,Te,i){"use strict";i.d(Te,{Ao:function(){return $},Eq:function(){return K},Fb:function(){return M},K8:function(){return j},i6:function(){return U},uy:function(){return Q}});var w=i(1432),r=i(97295),O=i(72065);const V=new Map;V.set("false",!1),V.set("true",!0),V.set("isMac",w.dz),V.set("isLinux",w.IJ),V.set("isWindows",w.ED),V.set("isWeb",w.$L),V.set("isMacNative",w.dz&&!w.$L),V.set("isEdge",w.un),V.set("isFirefox",w.vU),V.set("isChrome",w.i7),V.set("isSafari",w.G6);const D=Object.prototype.hasOwnProperty;class ${static has(T){return c.create(T)}static equals(T,z){return p.create(T,z)}static regex(T,z){return _.create(T,z)}static not(T){return g.create(T)}static and(...T){return R.create(T,null)}static or(...T){return J.create(T,null,!0)}static deserialize(T,z=!1){if(!!T)return this._deserializeOrExpression(T,z)}static _deserializeOrExpression(T,z){const G=T.split("||");return J.create(G.map(re=>this._deserializeAndExpression(re,z)),null,!0)}static _deserializeAndExpression(T,z){const G=T.split("&&");return R.create(G.map(re=>this._deserializeOne(re,z)),null)}static _deserializeOne(T,z){if(T=T.trim(),T.indexOf("!=")>=0){const G=T.split("!=");return a.create(G[0].trim(),this._deserializeValue(G[1],z))}if(T.indexOf("==")>=0){const G=T.split("==");return p.create(G[0].trim(),this._deserializeValue(G[1],z))}if(T.indexOf("=~")>=0){const G=T.split("=~");return _.create(G[0].trim(),this._deserializeRegexValue(G[1],z))}if(T.indexOf(" not in ")>=0){const G=T.split(" not in ");return n.create(G[0].trim(),G[1].trim())}if(T.indexOf(" in ")>=0){const G=T.split(" in ");return l.create(G[0].trim(),G[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(T)){const G=T.split(">=");return C.create(G[0].trim(),G[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(T)){const G=T.split(">");return u.create(G[0].trim(),G[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(T)){const G=T.split("<=");return b.create(G[0].trim(),G[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(T)){const G=T.split("<");return y.create(G[0].trim(),G[1].trim())}return/^\!\s*/.test(T)?g.create(T.substr(1).trim()):c.create(T)}static _deserializeValue(T,z){if(T=T.trim(),T==="true")return!0;if(T==="false")return!1;const G=/^'([^']*)'$/.exec(T);return G?G[1].trim():T}static _deserializeRegexValue(T,z){if((0,r.m5)(T)){if(z)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}const G=T.indexOf("/"),re=T.lastIndexOf("/");if(G===re||G<0){if(z)throw new Error(`bad regexp-value '${T}', missing /-enclosure`);return console.warn(`bad regexp-value '${T}', missing /-enclosure`),null}const S=T.slice(G+1,re),he=T[re+1]==="i"?"i":"";try{return new RegExp(S,he)}catch(Ce){if(z)throw new Error(`bad regexp-value '${T}', parse error: ${Ce}`);return console.warn(`bad regexp-value '${T}', parse error: ${Ce}`),null}}}function M(Z,T){const z=Z?Z.substituteConstants():void 0,G=T?T.substituteConstants():void 0;return!z&&!G?!0:!z||!G?!1:z.equals(G)}function P(Z,T){return Z.cmp(T)}class A{constructor(){this.type=0}cmp(T){return this.type-T.type}equals(T){return T.type===this.type}substituteConstants(){return this}evaluate(T){return!1}serialize(){return"false"}keys(){return[]}negate(){return L.INSTANCE}}A.INSTANCE=new A;class L{constructor(){this.type=1}cmp(T){return this.type-T.type}equals(T){return T.type===this.type}substituteConstants(){return this}evaluate(T){return!0}serialize(){return"true"}keys(){return[]}negate(){return A.INSTANCE}}L.INSTANCE=new L;class c{constructor(T,z){this.key=T,this.negated=z,this.type=2}static create(T,z=null){const G=V.get(T);return typeof G=="boolean"?G?L.INSTANCE:A.INSTANCE:new c(T,z)}cmp(T){return T.type!==this.type?this.type-T.type:H(this.key,T.key)}equals(T){return T.type===this.type?this.key===T.key:!1}substituteConstants(){const T=V.get(this.key);return typeof T=="boolean"?T?L.INSTANCE:A.INSTANCE:this}evaluate(T){return!!T.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=g.create(this.key,this)),this.negated}}class p{constructor(T,z,G){this.key=T,this.value=z,this.negated=G,this.type=4}static create(T,z,G=null){if(typeof z=="boolean")return z?c.create(T,G):g.create(T,G);const re=V.get(T);return typeof re=="boolean"?z===(re?"true":"false")?L.INSTANCE:A.INSTANCE:new p(T,z,G)}cmp(T){return T.type!==this.type?this.type-T.type:X(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){const T=V.get(this.key);if(typeof T=="boolean"){const z=T?"true":"false";return this.value===z?L.INSTANCE:A.INSTANCE}return this}evaluate(T){return T.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=a.create(this.key,this.value,this)),this.negated}}class l{constructor(T,z){this.key=T,this.valueKey=z,this.type=10,this.negated=null}static create(T,z){return new l(T,z)}cmp(T){return T.type!==this.type?this.type-T.type:X(this.key,this.valueKey,T.key,T.valueKey)}equals(T){return T.type===this.type?this.key===T.key&&this.valueKey===T.valueKey:!1}substituteConstants(){return this}evaluate(T){const z=T.getValue(this.valueKey),G=T.getValue(this.key);return Array.isArray(z)?z.includes(G):typeof G=="string"&&typeof z=="object"&&z!==null?D.call(z,G):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=n.create(this.key,this.valueKey)),this.negated}}class n{constructor(T,z){this.key=T,this.valueKey=z,this.type=11,this._negated=l.create(T,z)}static create(T,z){return new n(T,z)}cmp(T){return T.type!==this.type?this.type-T.type:this._negated.cmp(T._negated)}equals(T){return T.type===this.type?this._negated.equals(T._negated):!1}substituteConstants(){return this}evaluate(T){return!this._negated.evaluate(T)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class a{constructor(T,z,G){this.key=T,this.value=z,this.negated=G,this.type=5}static create(T,z,G=null){if(typeof z=="boolean")return z?g.create(T,G):c.create(T,G);const re=V.get(T);return typeof re=="boolean"?z===(re?"true":"false")?A.INSTANCE:L.INSTANCE:new a(T,z,G)}cmp(T){return T.type!==this.type?this.type-T.type:X(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){const T=V.get(this.key);if(typeof T=="boolean"){const z=T?"true":"false";return this.value===z?A.INSTANCE:L.INSTANCE}return this}evaluate(T){return T.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this.key,this.value,this)),this.negated}}class g{constructor(T,z){this.key=T,this.negated=z,this.type=3}static create(T,z=null){const G=V.get(T);return typeof G=="boolean"?G?A.INSTANCE:L.INSTANCE:new g(T,z)}cmp(T){return T.type!==this.type?this.type-T.type:H(this.key,T.key)}equals(T){return T.type===this.type?this.key===T.key:!1}substituteConstants(){const T=V.get(this.key);return typeof T=="boolean"?T?A.INSTANCE:L.INSTANCE:this}evaluate(T){return!T.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=c.create(this.key,this)),this.negated}}function f(Z,T){if(typeof Z=="string"){const z=parseFloat(Z);isNaN(z)||(Z=z)}return typeof Z=="string"||typeof Z=="number"?T(Z):A.INSTANCE}class u{constructor(T,z,G){this.key=T,this.value=z,this.negated=G,this.type=12}static create(T,z,G=null){return f(z,re=>new u(T,re,G))}cmp(T){return T.type!==this.type?this.type-T.type:X(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){return this}evaluate(T){return typeof this.value=="string"?!1:parseFloat(T.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=b.create(this.key,this.value,this)),this.negated}}class C{constructor(T,z,G){this.key=T,this.value=z,this.negated=G,this.type=13}static create(T,z,G=null){return f(z,re=>new C(T,re,G))}cmp(T){return T.type!==this.type?this.type-T.type:X(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){return this}evaluate(T){return typeof this.value=="string"?!1:parseFloat(T.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=y.create(this.key,this.value,this)),this.negated}}class y{constructor(T,z,G){this.key=T,this.value=z,this.negated=G,this.type=14}static create(T,z,G=null){return f(z,re=>new y(T,re,G))}cmp(T){return T.type!==this.type?this.type-T.type:X(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){return this}evaluate(T){return typeof this.value=="string"?!1:parseFloat(T.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=C.create(this.key,this.value,this)),this.negated}}class b{constructor(T,z,G){this.key=T,this.value=z,this.negated=G,this.type=15}static create(T,z,G=null){return f(z,re=>new b(T,re,G))}cmp(T){return T.type!==this.type?this.type-T.type:X(this.key,this.value,T.key,T.value)}equals(T){return T.type===this.type?this.key===T.key&&this.value===T.value:!1}substituteConstants(){return this}evaluate(T){return typeof this.value=="string"?!1:parseFloat(T.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=u.create(this.key,this.value,this)),this.negated}}class _{constructor(T,z){this.key=T,this.regexp=z,this.type=7,this.negated=null}static create(T,z){return new _(T,z)}cmp(T){if(T.type!==this.type)return this.type-T.type;if(this.key<T.key)return-1;if(this.key>T.key)return 1;const z=this.regexp?this.regexp.source:"",G=T.regexp?T.regexp.source:"";return z<G?-1:z>G?1:0}equals(T){if(T.type===this.type){const z=this.regexp?this.regexp.source:"",G=T.regexp?T.regexp.source:"";return this.key===T.key&&z===G}return!1}substituteConstants(){return this}evaluate(T){const z=T.getValue(this.key);return this.regexp?this.regexp.test(z):!1}serialize(){const T=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${T}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=E.create(this)),this.negated}}class E{constructor(T){this._actual=T,this.type=8}static create(T){return new E(T)}cmp(T){return T.type!==this.type?this.type-T.type:this._actual.cmp(T._actual)}equals(T){return T.type===this.type?this._actual.equals(T._actual):!1}substituteConstants(){return this}evaluate(T){return!this._actual.evaluate(T)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function I(Z){let T=null;for(let z=0,G=Z.length;z<G;z++){const re=Z[z].substituteConstants();if(Z[z]!==re&&T===null){T=[];for(let S=0;S<z;S++)T[S]=Z[S]}T!==null&&(T[z]=re)}return T===null?Z:T}class R{constructor(T,z){this.expr=T,this.negated=z,this.type=6}static create(T,z){return R._normalizeArr(T,z)}cmp(T){if(T.type!==this.type)return this.type-T.type;if(this.expr.length<T.expr.length)return-1;if(this.expr.length>T.expr.length)return 1;for(let z=0,G=this.expr.length;z<G;z++){const re=P(this.expr[z],T.expr[z]);if(re!==0)return re}return 0}equals(T){if(T.type===this.type){if(this.expr.length!==T.expr.length)return!1;for(let z=0,G=this.expr.length;z<G;z++)if(!this.expr[z].equals(T.expr[z]))return!1;return!0}return!1}substituteConstants(){const T=I(this.expr);return T===this.expr?this:R.create(T,this.negated)}evaluate(T){for(let z=0,G=this.expr.length;z<G;z++)if(!this.expr[z].evaluate(T))return!1;return!0}static _normalizeArr(T,z){const G=[];let re=!1;for(const S of T)if(!!S){if(S.type===1){re=!0;continue}if(S.type===0)return A.INSTANCE;if(S.type===6){G.push(...S.expr);continue}G.push(S)}if(G.length===0&&re)return L.INSTANCE;if(G.length!==0){if(G.length===1)return G[0];G.sort(P);for(let S=1;S<G.length;S++)G[S-1].equals(G[S])&&(G.splice(S,1),S--);if(G.length===1)return G[0];for(;G.length>1;){const S=G[G.length-1];if(S.type!==9)break;G.pop();const he=G.pop(),Ce=G.length===0,ge=J.create(S.expr.map(pe=>R.create([pe,he],null)),null,Ce);ge&&(G.push(ge),G.sort(P))}return G.length===1?G[0]:new R(G,z)}}serialize(){return this.expr.map(T=>T.serialize()).join(" && ")}keys(){const T=[];for(const z of this.expr)T.push(...z.keys());return T}negate(){if(!this.negated){const T=[];for(const z of this.expr)T.push(z.negate());this.negated=J.create(T,this,!0)}return this.negated}}class J{constructor(T,z){this.expr=T,this.negated=z,this.type=9}static create(T,z,G){return J._normalizeArr(T,z,G)}cmp(T){if(T.type!==this.type)return this.type-T.type;if(this.expr.length<T.expr.length)return-1;if(this.expr.length>T.expr.length)return 1;for(let z=0,G=this.expr.length;z<G;z++){const re=P(this.expr[z],T.expr[z]);if(re!==0)return re}return 0}equals(T){if(T.type===this.type){if(this.expr.length!==T.expr.length)return!1;for(let z=0,G=this.expr.length;z<G;z++)if(!this.expr[z].equals(T.expr[z]))return!1;return!0}return!1}substituteConstants(){const T=I(this.expr);return T===this.expr?this:J.create(T,this.negated,!1)}evaluate(T){for(let z=0,G=this.expr.length;z<G;z++)if(this.expr[z].evaluate(T))return!0;return!1}static _normalizeArr(T,z,G){let re=[],S=!1;if(T){for(let he=0,Ce=T.length;he<Ce;he++){const ge=T[he];if(!!ge){if(ge.type===0){S=!0;continue}if(ge.type===1)return L.INSTANCE;if(ge.type===9){re=re.concat(ge.expr);continue}re.push(ge)}}if(re.length===0&&S)return A.INSTANCE;re.sort(P)}if(re.length!==0){if(re.length===1)return re[0];for(let he=1;he<re.length;he++)re[he-1].equals(re[he])&&(re.splice(he,1),he--);if(re.length===1)return re[0];if(G){for(let he=0;he<re.length;he++)for(let Ce=he+1;Ce<re.length;Ce++)j(re[he],re[Ce])&&(re.splice(Ce,1),Ce--);if(re.length===1)return re[0]}return new J(re,z)}}serialize(){return this.expr.map(T=>T.serialize()).join(" || ")}keys(){const T=[];for(const z of this.expr)T.push(...z.keys());return T}negate(){if(!this.negated){const T=[];for(const z of this.expr)T.push(z.negate());for(;T.length>1;){const z=T.shift(),G=T.shift(),re=[];for(const he of x(z))for(const Ce of x(G))re.push(R.create([he,Ce],null));const S=T.length===0;T.unshift(J.create(re,null,S))}this.negated=T[0]}return this.negated}}class Q extends c{constructor(T,z,G){super(T,null),this._defaultValue=z,typeof G=="object"?Q._info.push(Object.assign(Object.assign({},G),{key:T})):G!==!0&&Q._info.push({key:T,description:G,type:z!=null?typeof z:void 0})}static all(){return Q._info.values()}bindTo(T){return T.createKey(this.key,this._defaultValue)}getValue(T){return T.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(T){return p.create(this.key,T)}}Q._info=[];const U=(0,O.yh)("contextKeyService"),K="setContext";function H(Z,T){return Z<T?-1:Z>T?1:0}function X(Z,T,z,G){return Z<z?-1:Z>z?1:T<G?-1:T>G?1:0}function j(Z,T){if(T.type===6&&Z.type!==9&&Z.type!==6){for(const re of T.expr)if(Z.equals(re))return!0}const z=Z.negate(),G=x(z).concat(x(T));G.sort(P);for(let re=0;re<G.length;re++){const he=G[re].negate();for(let Ce=re+1;Ce<G.length;Ce++){const ge=G[Ce];if(he.equals(ge))return!0}}return!1}function x(Z){return Z.type===9?Z.expr:[Z]}},39282:function(Ot,Te,i){"use strict";i.d(Te,{cv:function(){return $},d0:function(){return p}});var w=i(1432),r=i(63580),O=i(16141);const V=new O.uy("isMac",w.dz,(0,r.NC)("isMac","Whether the operating system is macOS")),D=new O.uy("isLinux",w.IJ,(0,r.NC)("isLinux","Whether the operating system is Linux")),$=new O.uy("isWindows",w.ED,(0,r.NC)("isWindows","Whether the operating system is Windows")),M=new O.uy("isWeb",w.$L,(0,r.NC)("isWeb","Whether the platform is a web browser")),P=new O.uy("isMacNative",w.dz&&!w.$L,(0,r.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),A=new O.uy("isIOS",w.gn,(0,r.NC)("isIOS","Whether the operating system is iOS")),L=new O.uy("isDevelopment",!1,!0),c=new O.uy("productQualityType","",(0,r.NC)("productQualityType","Quality type of VS Code")),p="inputFocus",l=new O.uy(p,!1,(0,r.NC)("inputFocus","Whether keyboard focus is inside an input box"))},5606:function(Ot,Te,i){"use strict";i.d(Te,{i:function(){return O},u:function(){return r}});var w=i(72065);const r=(0,w.yh)("contextViewService"),O=(0,w.yh)("contextMenuService")},28820:function(Ot,Te,i){"use strict";i.d(Te,{S:function(){return r}});var w=i(72065);const r=(0,w.yh)("dialogService")},22980:function(Ot,Te,i){"use strict";i.d(Te,{Yb:function(){return J},Nq:function(){return Q},iX:function(){return C}});var w=i(50153),r=i(65321),O=i(76661),V=i(41519),D=i(93794),$=i(73046),M=i(4669),P=i(60812),A=i(63580);const L=A.NC("defaultLabel","input"),c=A.NC("label.preserveCaseToggle","Preserve Case");class p extends O.Z{constructor(K){super({icon:$.lA.preserveCase,title:c+K.appendTitle,isChecked:K.isChecked,inputActiveOptionBorder:K.inputActiveOptionBorder,inputActiveOptionForeground:K.inputActiveOptionForeground,inputActiveOptionBackground:K.inputActiveOptionBackground})}}class l extends D.${constructor(K,H,X,j){super(),this._showOptionButtons=X,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new M.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new M.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new M.Q5),this._onInput=this._register(new M.Q5),this._onKeyUp=this._register(new M.Q5),this._onPreserveCaseKeyDown=this._register(new M.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=H,this.placeholder=j.placeholder||"",this.validation=j.validation,this.label=j.label||L,this.inputActiveOptionBorder=j.inputActiveOptionBorder,this.inputActiveOptionForeground=j.inputActiveOptionForeground,this.inputActiveOptionBackground=j.inputActiveOptionBackground,this.inputBackground=j.inputBackground,this.inputForeground=j.inputForeground,this.inputBorder=j.inputBorder,this.inputValidationInfoBorder=j.inputValidationInfoBorder,this.inputValidationInfoBackground=j.inputValidationInfoBackground,this.inputValidationInfoForeground=j.inputValidationInfoForeground,this.inputValidationWarningBorder=j.inputValidationWarningBorder,this.inputValidationWarningBackground=j.inputValidationWarningBackground,this.inputValidationWarningForeground=j.inputValidationWarningForeground,this.inputValidationErrorBorder=j.inputValidationErrorBorder,this.inputValidationErrorBackground=j.inputValidationErrorBackground,this.inputValidationErrorForeground=j.inputValidationErrorForeground;const x=j.appendPreserveCaseLabel||"",Z=j.history||[],T=!!j.flexibleHeight,z=!!j.flexibleWidth,G=j.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new V.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:Z,showHistoryHint:j.showHistoryHint,flexibleHeight:T,flexibleWidth:z,flexibleMaxHeight:G})),this.preserveCase=this._register(new p({appendTitle:x,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(he=>{this._onDidOptionChange.fire(he),!he&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(he=>{this._onPreserveCaseKeyDown.fire(he)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const re=[this.preserveCase.domNode];this.onkeydown(this.domNode,he=>{if(he.equals(15)||he.equals(17)||he.equals(9)){const Ce=re.indexOf(document.activeElement);if(Ce>=0){let ge=-1;he.equals(17)?ge=(Ce+1)%re.length:he.equals(15)&&(Ce===0?ge=re.length-1:ge=Ce-1),he.equals(9)?(re[Ce].blur(),this.inputBox.focus()):ge>=0&&re[ge].focus(),r.zB.stop(he,!0)}}});const S=document.createElement("div");S.className="controls",S.style.display=this._showOptionButtons?"block":"none",S.appendChild(this.preserveCase.domNode),this.domNode.appendChild(S),K==null||K.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,he=>this._onKeyDown.fire(he)),this.onkeyup(this.inputBox.inputElement,he=>this._onKeyUp.fire(he)),this.oninput(this.inputBox.inputElement,he=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,he=>this._onMouseDown.fire(he))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(K){K?this.enable():this.disable()}style(K){this.inputActiveOptionBorder=K.inputActiveOptionBorder,this.inputActiveOptionForeground=K.inputActiveOptionForeground,this.inputActiveOptionBackground=K.inputActiveOptionBackground,this.inputBackground=K.inputBackground,this.inputForeground=K.inputForeground,this.inputBorder=K.inputBorder,this.inputValidationInfoBackground=K.inputValidationInfoBackground,this.inputValidationInfoForeground=K.inputValidationInfoForeground,this.inputValidationInfoBorder=K.inputValidationInfoBorder,this.inputValidationWarningBackground=K.inputValidationWarningBackground,this.inputValidationWarningForeground=K.inputValidationWarningForeground,this.inputValidationWarningBorder=K.inputValidationWarningBorder,this.inputValidationErrorBackground=K.inputValidationErrorBackground,this.inputValidationErrorForeground=K.inputValidationErrorForeground,this.inputValidationErrorBorder=K.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const K={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(K);const H={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(H)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(K){this.preserveCase.checked=K}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(K){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=K,this.domNode.style.width=K+"px"}dispose(){super.dispose()}}var n=i(16141),a=i(49989),g=i(9917),f=function(U,K,H,X){var j=arguments.length,x=j<3?K:X===null?X=Object.getOwnPropertyDescriptor(K,H):X,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(U,K,H,X);else for(var T=U.length-1;T>=0;T--)(Z=U[T])&&(x=(j<3?Z(x):j>3?Z(K,H,x):Z(K,H))||x);return j>3&&x&&Object.defineProperty(K,H,x),x},u=function(U,K){return function(H,X){K(H,X,U)}};const C=new n.uy("suggestWidgetVisible",!1,(0,A.NC)("suggestWidgetVisible","Whether suggestion are visible")),y="historyNavigationWidgetFocus",b="historyNavigationForwardsEnabled",_="historyNavigationBackwardsEnabled";let E;const I=[];function R(U,K){if(I.includes(K))throw new Error("Cannot register the same widget multiple times");I.push(K);const H=new g.SL,X=H.add(U.createScoped(K.element)),j=new n.uy(y,!1).bindTo(X),x=new n.uy(b,!0).bindTo(X),Z=new n.uy(_,!0).bindTo(X),T=()=>{j.set(!0),E=K},z=()=>{j.set(!1),E===K&&(E=void 0)};return K.element===document.activeElement&&T(),H.add(K.onDidFocus(()=>T())),H.add(K.onDidBlur(()=>z())),H.add((0,g.OF)(()=>{I.splice(I.indexOf(K),1),z()})),{scopedContextKeyService:X,historyNavigationForwardsEnablement:x,historyNavigationBackwardsEnablement:Z,dispose(){H.dispose()}}}let J=class extends w.V{constructor(K,H,X,j,x=!1){super(K,H,x,X),this._register(R(j,this.inputBox))}};J=f([u(3,n.i6)],J);let Q=class extends l{constructor(K,H,X,j,x=!1){super(K,H,x,X),this._register(R(j,this.inputBox))}};Q=f([u(3,n.i6)],Q),a.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:n.Ao.and(n.Ao.has(y),n.Ao.equals(_,!0),C.isEqualTo(!1)),primary:16,secondary:[528],handler:U=>{E&&E.showPreviousValue()}}),a.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:n.Ao.and(n.Ao.has(y),n.Ao.equals(b,!0),C.isEqualTo(!1)),primary:18,secondary:[530],handler:U=>{E&&E.showNextValue()}})},97108:function(Ot,Te,i){"use strict";i.d(Te,{M:function(){return w}});class w{constructor(O,V=[],D=!1){this.ctor=O,this.staticArguments=V,this.supportsDelayedInstantiation=D}}},65026:function(Ot,Te,i){"use strict";i.d(Te,{d:function(){return V},z:function(){return O}});var w=i(97108);const r=[];function O(D,$,M){$ instanceof w.M||($=new w.M($,[],M)),r.push([D,$])}function V(){return r}},72065:function(Ot,Te,i){"use strict";i.d(Te,{I8:function(){return w},TG:function(){return r},yh:function(){return V}});var w;(function(D){D.serviceIds=new Map,D.DI_TARGET="$di$target",D.DI_DEPENDENCIES="$di$dependencies";function $(M){return M[D.DI_DEPENDENCIES]||[]}D.getServiceDependencies=$})(w||(w={}));const r=V("instantiationService");function O(D,$,M){$[w.DI_TARGET]===$?$[w.DI_DEPENDENCIES].push({id:D,index:M}):($[w.DI_DEPENDENCIES]=[{id:D,index:M}],$[w.DI_TARGET]=$)}function V(D){if(w.serviceIds.has(D))return w.serviceIds.get(D);const $=function(M,P,A){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");O($,M,A)};return $.toString=()=>D,w.serviceIds.set(D,$),$}},60972:function(Ot,Te,i){"use strict";i.d(Te,{y:function(){return w}});class w{constructor(...O){this._entries=new Map;for(const[V,D]of O)this.set(V,D)}set(O,V){const D=this._entries.get(O);return this._entries.set(O,V),D}get(O){return this._entries.get(O)}}},81294:function(Ot,Te,i){"use strict";i.d(Te,{I:function(){return O}});var w=i(4669),r=i(89872);const O={JSONContribution:"base.contributions.json"};function V(M){return M.length>0&&M.charAt(M.length-1)==="#"?M.substring(0,M.length-1):M}class D{constructor(){this._onDidChangeSchema=new w.Q5,this.schemasById={}}registerSchema(P,A){this.schemasById[V(P)]=A,this._onDidChangeSchema.fire(P)}notifySchemaChanged(P){this._onDidChangeSchema.fire(P)}}const $=new D;r.B.add(O.JSONContribution,$)},91847:function(Ot,Te,i){"use strict";i.d(Te,{d:function(){return r}});var w=i(72065);const r=(0,w.yh)("keybindingService")},49989:function(Ot,Te,i){"use strict";i.d(Te,{W:function(){return $}});var w=i(8313),r=i(1432),O=i(94565),V=i(89872);class D{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(L){if(r.OS===1){if(L&&L.win)return L.win}else if(r.OS===2){if(L&&L.mac)return L.mac}else if(L&&L.linux)return L.linux;return L}registerKeybindingRule(L){const c=D.bindToCurrentPlatform(L);if(c&&c.primary){const p=(0,w.gm)(c.primary,r.OS);p&&this._registerDefaultKeybinding(p,L.id,L.args,L.weight,0,L.when)}if(c&&Array.isArray(c.secondary))for(let p=0,l=c.secondary.length;p<l;p++){const n=c.secondary[p],a=(0,w.gm)(n,r.OS);a&&this._registerDefaultKeybinding(a,L.id,L.args,L.weight,-p-1,L.when)}}registerCommandAndKeybindingRule(L){this.registerKeybindingRule(L),O.P0.registerCommand(L)}static _mightProduceChar(L){return L>=21&&L<=30||L>=31&&L<=56?!0:L===80||L===81||L===82||L===83||L===84||L===85||L===86||L===110||L===111||L===87||L===88||L===89||L===90||L===91||L===92}_assertNoCtrlAlt(L,c){L.ctrlKey&&L.altKey&&!L.metaKey&&D._mightProduceChar(L.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",L," for ",c)}_registerDefaultKeybinding(L,c,p,l,n,a){r.OS===1&&this._assertNoCtrlAlt(L.parts[0],c),this._coreKeybindings.push({keybinding:L.parts,command:c,commandArgs:p,when:a,weight1:l,weight2:n,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(P)),this._cachedMergedKeybindings.slice(0)}}const $=new D,M={EditorModes:"platform.keybindingsRegistry"};V.B.add(M.EditorModes,$);function P(A,L){return A.weight1!==L.weight1?A.weight1-L.weight1:A.command<L.command?-1:A.command>L.command?1:A.weight2-L.weight2}},44349:function(Ot,Te,i){"use strict";i.d(Te,{e:function(){return r}});var w=i(72065);const r=(0,w.yh)("labelService")},44448:function(Ot,Te,i){"use strict";i.d(Te,{Lw:function(){return Dn},XN:function(){return Tn},ls:function(){return Vi},ev:function(){return un},CQ:function(){return Sn},PS:function(){return ni},uJ:function(){return xt}});var w=i(65321),r=i(9488),O=i(71050),V=i(4669),D=i(9917),$=i(5520),M=i(43799);class P{constructor(d,k){this.renderer=d,this.modelProvider=k}get templateId(){return this.renderer.templateId}renderTemplate(d){return{data:this.renderer.renderTemplate(d),disposable:D.JT.None}}renderElement(d,k,te,_e){if(te.disposable&&te.disposable.dispose(),!te.data)return;const Ae=this.modelProvider();if(Ae.isResolved(d))return this.renderer.renderElement(Ae.get(d),d,te.data,_e);const Be=new O.A,rt=Ae.resolve(d,Be.token);te.disposable={dispose:()=>Be.cancel()},this.renderer.renderPlaceholder(d,te.data),rt.then(ct=>this.renderer.renderElement(ct,d,te.data,_e))}disposeTemplate(d){d.disposable&&(d.disposable.dispose(),d.disposable=void 0),d.data&&(this.renderer.disposeTemplate(d.data),d.data=void 0)}}class A{constructor(d,k){this.modelProvider=d,this.accessibilityProvider=k}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(d){const k=this.modelProvider();return k.isResolved(d)?this.accessibilityProvider.getAriaLabel(k.get(d)):null}}function L(F,d){return Object.assign(Object.assign({},d),{accessibilityProvider:d.accessibilityProvider&&new A(F,d.accessibilityProvider)})}class c{constructor(d,k,te,_e,Ae={}){const Be=()=>this.model,rt=_e.map(ct=>new P(ct,Be));this.list=new M.aV(d,k,te,rt,L(Be,Ae))}updateOptions(d){this.list.updateOptions(d)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return V.ju.map(this.list.onMouseDblClick,({element:d,index:k,browserEvent:te})=>({element:d===void 0?void 0:this._model.get(d),index:k,browserEvent:te}))}get onPointer(){return V.ju.map(this.list.onPointer,({element:d,index:k,browserEvent:te})=>({element:d===void 0?void 0:this._model.get(d),index:k,browserEvent:te}))}get onDidChangeSelection(){return V.ju.map(this.list.onDidChangeSelection,({elements:d,indexes:k,browserEvent:te})=>({elements:d.map(_e=>this._model.get(_e)),indexes:k,browserEvent:te}))}get model(){return this._model}set model(d){this._model=d,this.list.splice(0,this.list.length,(0,r.w6)(d.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(d=>this.model.get(d))}style(d){this.list.style(d)}dispose(){this.list.dispose()}}var p=i(13017);class l{constructor(d,k,te){this.columns=d,this.getColumnSize=te,this.templateId=l.TemplateId,this.renderedTemplates=new Set;const _e=new Map(k.map(Ae=>[Ae.templateId,Ae]));this.renderers=[];for(const Ae of d){const Be=_e.get(Ae.templateId);if(!Be)throw new Error(`Table cell renderer for template id ${Ae.templateId} not found.`);this.renderers.push(Be)}}renderTemplate(d){const k=(0,w.R3)(d,(0,w.$)(".monaco-table-tr")),te=[],_e=[];for(let Be=0;Be<this.columns.length;Be++){const rt=this.renderers[Be],ct=(0,w.R3)(k,(0,w.$)(".monaco-table-td",{"data-col-index":Be}));ct.style.width=`${this.getColumnSize(Be)}px`,te.push(ct),_e.push(rt.renderTemplate(ct))}const Ae={container:d,cellContainers:te,cellTemplateData:_e};return this.renderedTemplates.add(Ae),Ae}renderElement(d,k,te,_e){for(let Ae=0;Ae<this.columns.length;Ae++){const rt=this.columns[Ae].project(d);this.renderers[Ae].renderElement(rt,k,te.cellTemplateData[Ae],_e)}}disposeElement(d,k,te,_e){for(let Ae=0;Ae<this.columns.length;Ae++){const Be=this.renderers[Ae];if(Be.disposeElement){const ct=this.columns[Ae].project(d);Be.disposeElement(ct,k,te.cellTemplateData[Ae],_e)}}}disposeTemplate(d){for(let k=0;k<this.columns.length;k++)this.renderers[k].disposeTemplate(d.cellTemplateData[k]);(0,w.PO)(d.container),this.renderedTemplates.delete(d)}layoutColumn(d,k){for(const{cellContainers:te}of this.renderedTemplates)te[d].style.width=`${k}px`}}l.TemplateId="row";function n(F){return{getHeight(d){return F.getHeight(d)},getTemplateId(){return l.TemplateId}}}class a{constructor(d,k){this.column=d,this.index=k,this._onDidLayout=new V.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,w.$)(".monaco-table-th",{"data-col-index":k,title:d.tooltip},d.label)}get minimumSize(){var d;return(d=this.column.minimumWidth)!==null&&d!==void 0?d:120}get maximumSize(){var d;return(d=this.column.maximumWidth)!==null&&d!==void 0?d:Number.POSITIVE_INFINITY}get onDidChange(){var d;return(d=this.column.onDidChangeWidthConstraints)!==null&&d!==void 0?d:V.ju.None}layout(d){this._onDidLayout.fire([this.index,d])}}class g{constructor(d,k,te,_e,Ae,Be){this.virtualDelegate=te,this.domId=`table_id_${++g.InstanceCount}`,this.disposables=new D.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,w.R3)(k,(0,w.$)(`.monaco-table.${this.domId}`));const rt=_e.map((Et,Vt)=>new a(Et,Vt)),ct={size:rt.reduce((Et,Vt)=>Et+Vt.column.weight,0),views:rt.map(Et=>({size:Et.column.weight,view:Et}))};this.splitview=this.disposables.add(new p.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:ct})),this.splitview.el.style.height=`${te.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${te.headerRowHeight}px`;const Lt=new l(_e,Ae,Et=>this.splitview.getViewSize(Et));this.list=this.disposables.add(new M.aV(d,this.domNode,n(te),[Lt],Be)),V.ju.any(...rt.map(Et=>Et.onDidLayout))(([Et,Vt])=>Lt.layoutColumn(Et,Vt),null,this.disposables),this.splitview.onDidSashReset(Et=>{const Vt=_e.reduce((Jt,Qt)=>Jt+Qt.weight,0),Xt=_e[Et].weight/Vt*this.cachedWidth;this.splitview.resizeView(Et,Xt)},null,this.disposables),this.styleElement=(0,w.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(d){this.list.updateOptions(d)}splice(d,k,te=[]){this.list.splice(d,k,te)}getHTMLElement(){return this.domNode}style(d){const k=[];k.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=k.join(`
`),this.list.style(d)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}g.InstanceCount=0;var f=i(4850),u=i(59069),C=i(90317),y=i(50153),b=i(25707),_=i(76661),E;(function(F){F[F.Unknown=0]="Unknown",F[F.Twistie=1]="Twistie",F[F.Element=2]="Element",F[F.Filter=3]="Filter"})(E||(E={}));class I extends Error{constructor(d,k){super(`TreeError [${d}] ${k}`)}}class R{constructor(d){this.fn=d,this._map=new WeakMap}map(d){let k=this._map.get(d);return k||(k=this.fn(d),this._map.set(d,k)),k}}var J=i(15393),Q=i(2484),U=i(53725);function K(F){return typeof F=="object"&&"visibility"in F&&"data"in F}function H(F){switch(F){case!0:return 1;case!1:return 0;default:return F}}function X(F){return typeof F.collapsible=="boolean"}class j{constructor(d,k,te,_e={}){this.user=d,this.list=k,this.rootRef=[],this.eventBufferer=new V.E7,this._onDidChangeCollapseState=new V.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new V.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new V.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new J.vp(J.ne),this.collapseByDefault=typeof _e.collapseByDefault>"u"?!1:_e.collapseByDefault,this.filter=_e.filter,this.autoExpandSingleChildren=typeof _e.autoExpandSingleChildren>"u"?!1:_e.autoExpandSingleChildren,this.root={parent:void 0,element:te,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(d,k,te=U.$.empty(),_e={}){if(d.length===0)throw new I(this.user,"Invalid tree location");_e.diffIdentityProvider?this.spliceSmart(_e.diffIdentityProvider,d,k,te,_e):this.spliceSimple(d,k,te,_e)}spliceSmart(d,k,te,_e,Ae,Be){var rt;_e===void 0&&(_e=U.$.empty()),Be===void 0&&(Be=(rt=Ae.diffDepth)!==null&&rt!==void 0?rt:0);const{parentNode:ct}=this.getParentNodeWithListIndex(k);if(!ct.lastDiffIds)return this.spliceSimple(k,te,_e,Ae);const Lt=[..._e],Et=k[k.length-1],Vt=new Q.Hs({getElements:()=>ct.lastDiffIds},{getElements:()=>[...ct.children.slice(0,Et),...Lt,...ct.children.slice(Et+te)].map(fi=>d.getId(fi.element).toString())}).ComputeDiff(!1);if(Vt.quitEarly)return ct.lastDiffIds=void 0,this.spliceSimple(k,te,Lt,Ae);const Xt=k.slice(0,-1),Jt=(fi,Ti,ln)=>{if(Be>0)for(let An=0;An<ln;An++)fi--,Ti--,this.spliceSmart(d,[...Xt,fi,0],Number.MAX_SAFE_INTEGER,Lt[Ti].children,Ae,Be-1)};let Qt=Math.min(ct.children.length,Et+te),di=Lt.length;for(const fi of Vt.changes.sort((Ti,ln)=>ln.originalStart-Ti.originalStart))Jt(Qt,di,Qt-(fi.originalStart+fi.originalLength)),Qt=fi.originalStart,di=fi.modifiedStart-Et,this.spliceSimple([...Xt,Qt],fi.originalLength,U.$.slice(Lt,di,di+fi.modifiedLength),Ae);Jt(Qt,di,Qt)}spliceSimple(d,k,te=U.$.empty(),{onDidCreateNode:_e,onDidDeleteNode:Ae,diffIdentityProvider:Be}){const{parentNode:rt,listIndex:ct,revealed:Lt,visible:Et}=this.getParentNodeWithListIndex(d),Vt=[],Xt=U.$.map(te,Yi=>this.createTreeNode(Yi,rt,rt.visible?1:0,Lt,Vt,_e)),Jt=d[d.length-1],Qt=rt.children.length>0;let di=0;for(let Yi=Jt;Yi>=0&&Yi<rt.children.length;Yi--){const Qn=rt.children[Yi];if(Qn.visible){di=Qn.visibleChildIndex;break}}const fi=[];let Ti=0,ln=0;for(const Yi of Xt)fi.push(Yi),ln+=Yi.renderNodeCount,Yi.visible&&(Yi.visibleChildIndex=di+Ti++);const An=(0,r.db)(rt.children,Jt,k,fi);Be?rt.lastDiffIds?(0,r.db)(rt.lastDiffIds,Jt,k,fi.map(Yi=>Be.getId(Yi.element).toString())):rt.lastDiffIds=rt.children.map(Yi=>Be.getId(Yi.element).toString()):rt.lastDiffIds=void 0;let Rn=0;for(const Yi of An)Yi.visible&&Rn++;if(Rn!==0)for(let Yi=Jt+fi.length;Yi<rt.children.length;Yi++){const Qn=rt.children[Yi];Qn.visible&&(Qn.visibleChildIndex-=Rn)}if(rt.visibleChildrenCount+=Ti-Rn,Lt&&Et){const Yi=An.reduce((Qn,bs)=>Qn+(bs.visible?bs.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(rt,ln-Yi),this.list.splice(ct,Yi,Vt)}if(An.length>0&&Ae){const Yi=Qn=>{Ae(Qn),Qn.children.forEach(Yi)};An.forEach(Yi)}this._onDidSplice.fire({insertedNodes:fi,deletedNodes:An});const Un=rt.children.length>0;Qt!==Un&&this.setCollapsible(d.slice(0,-1),Un);let Cs=rt;for(;Cs;){if(Cs.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}Cs=Cs.parent}}rerender(d){if(d.length===0)throw new I(this.user,"Invalid tree location");const{node:k,listIndex:te,revealed:_e}=this.getTreeNodeWithListIndex(d);k.visible&&_e&&this.list.splice(te,1,[k])}has(d){return this.hasTreeNode(d)}getListIndex(d){const{listIndex:k,visible:te,revealed:_e}=this.getTreeNodeWithListIndex(d);return te&&_e?k:-1}getListRenderCount(d){return this.getTreeNode(d).renderNodeCount}isCollapsible(d){return this.getTreeNode(d).collapsible}setCollapsible(d,k){const te=this.getTreeNode(d);typeof k>"u"&&(k=!te.collapsible);const _e={collapsible:k};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(d,_e))}isCollapsed(d){return this.getTreeNode(d).collapsed}setCollapsed(d,k,te){const _e=this.getTreeNode(d);typeof k>"u"&&(k=!_e.collapsed);const Ae={collapsed:k,recursive:te||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(d,Ae))}_setCollapseState(d,k){const{node:te,listIndex:_e,revealed:Ae}=this.getTreeNodeWithListIndex(d),Be=this._setListNodeCollapseState(te,_e,Ae,k);if(te!==this.root&&this.autoExpandSingleChildren&&Be&&!X(k)&&te.collapsible&&!te.collapsed&&!k.recursive){let rt=-1;for(let ct=0;ct<te.children.length;ct++)if(te.children[ct].visible)if(rt>-1){rt=-1;break}else rt=ct;rt>-1&&this._setCollapseState([...d,rt],k)}return Be}_setListNodeCollapseState(d,k,te,_e){const Ae=this._setNodeCollapseState(d,_e,!1);if(!te||!d.visible||!Ae)return Ae;const Be=d.renderNodeCount,rt=this.updateNodeAfterCollapseChange(d),ct=Be-(k===-1?0:1);return this.list.splice(k+1,ct,rt.slice(1)),Ae}_setNodeCollapseState(d,k,te){let _e;if(d===this.root?_e=!1:(X(k)?(_e=d.collapsible!==k.collapsible,d.collapsible=k.collapsible):d.collapsible?(_e=d.collapsed!==k.collapsed,d.collapsed=k.collapsed):_e=!1,_e&&this._onDidChangeCollapseState.fire({node:d,deep:te})),!X(k)&&k.recursive)for(const Ae of d.children)_e=this._setNodeCollapseState(Ae,k,!0)||_e;return _e}expandTo(d){this.eventBufferer.bufferEvents(()=>{let k=this.getTreeNode(d);for(;k.parent;)k=k.parent,d=d.slice(0,d.length-1),k.collapsed&&this._setCollapseState(d,{collapsed:!1,recursive:!1})})}refilter(){const d=this.root.renderNodeCount,k=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,d,k),this.refilterDelayer.cancel()}createTreeNode(d,k,te,_e,Ae,Be){const rt={parent:k,element:d.element,children:[],depth:k.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof d.collapsible=="boolean"?d.collapsible:typeof d.collapsed<"u",collapsed:typeof d.collapsed>"u"?this.collapseByDefault:d.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},ct=this._filterNode(rt,te);rt.visibility=ct,_e&&Ae.push(rt);const Lt=d.children||U.$.empty(),Et=_e&&ct!==0&&!rt.collapsed,Vt=U.$.map(Lt,Qt=>this.createTreeNode(Qt,rt,ct,Et,Ae,Be));let Xt=0,Jt=1;for(const Qt of Vt)rt.children.push(Qt),Jt+=Qt.renderNodeCount,Qt.visible&&(Qt.visibleChildIndex=Xt++);return rt.collapsible=rt.collapsible||rt.children.length>0,rt.visibleChildrenCount=Xt,rt.visible=ct===2?Xt>0:ct===1,rt.visible?rt.collapsed||(rt.renderNodeCount=Jt):(rt.renderNodeCount=0,_e&&Ae.pop()),Be==null||Be(rt),rt}updateNodeAfterCollapseChange(d){const k=d.renderNodeCount,te=[];return this._updateNodeAfterCollapseChange(d,te),this._updateAncestorsRenderNodeCount(d.parent,te.length-k),te}_updateNodeAfterCollapseChange(d,k){if(d.visible===!1)return 0;if(k.push(d),d.renderNodeCount=1,!d.collapsed)for(const te of d.children)d.renderNodeCount+=this._updateNodeAfterCollapseChange(te,k);return this._onDidChangeRenderNodeCount.fire(d),d.renderNodeCount}updateNodeAfterFilterChange(d){const k=d.renderNodeCount,te=[];return this._updateNodeAfterFilterChange(d,d.visible?1:0,te),this._updateAncestorsRenderNodeCount(d.parent,te.length-k),te}_updateNodeAfterFilterChange(d,k,te,_e=!0){let Ae;if(d!==this.root){if(Ae=this._filterNode(d,k),Ae===0)return d.visible=!1,d.renderNodeCount=0,!1;_e&&te.push(d)}const Be=te.length;d.renderNodeCount=d===this.root?0:1;let rt=!1;if(!d.collapsed||Ae!==0){let ct=0;for(const Lt of d.children)rt=this._updateNodeAfterFilterChange(Lt,Ae,te,_e&&!d.collapsed)||rt,Lt.visible&&(Lt.visibleChildIndex=ct++);d.visibleChildrenCount=ct}else d.visibleChildrenCount=0;return d!==this.root&&(d.visible=Ae===2?rt:Ae===1,d.visibility=Ae),d.visible?d.collapsed||(d.renderNodeCount+=te.length-Be):(d.renderNodeCount=0,_e&&te.pop()),this._onDidChangeRenderNodeCount.fire(d),d.visible}_updateAncestorsRenderNodeCount(d,k){if(k!==0)for(;d;)d.renderNodeCount+=k,this._onDidChangeRenderNodeCount.fire(d),d=d.parent}_filterNode(d,k){const te=this.filter?this.filter.filter(d.element,k):1;return typeof te=="boolean"?(d.filterData=void 0,te?1:0):K(te)?(d.filterData=te.data,H(te.visibility)):(d.filterData=void 0,H(te))}hasTreeNode(d,k=this.root){if(!d||d.length===0)return!0;const[te,..._e]=d;return te<0||te>k.children.length?!1:this.hasTreeNode(_e,k.children[te])}getTreeNode(d,k=this.root){if(!d||d.length===0)return k;const[te,..._e]=d;if(te<0||te>k.children.length)throw new I(this.user,"Invalid tree location");return this.getTreeNode(_e,k.children[te])}getTreeNodeWithListIndex(d){if(d.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:k,listIndex:te,revealed:_e,visible:Ae}=this.getParentNodeWithListIndex(d),Be=d[d.length-1];if(Be<0||Be>k.children.length)throw new I(this.user,"Invalid tree location");const rt=k.children[Be];return{node:rt,listIndex:te,revealed:_e,visible:Ae&&rt.visible}}getParentNodeWithListIndex(d,k=this.root,te=0,_e=!0,Ae=!0){const[Be,...rt]=d;if(Be<0||Be>k.children.length)throw new I(this.user,"Invalid tree location");for(let ct=0;ct<Be;ct++)te+=k.children[ct].renderNodeCount;return _e=_e&&!k.collapsed,Ae=Ae&&k.visible,rt.length===0?{parentNode:k,listIndex:te,revealed:_e,visible:Ae}:this.getParentNodeWithListIndex(rt,k.children[Be],te+1,_e,Ae)}getNode(d=[]){return this.getTreeNode(d)}getNodeLocation(d){const k=[];let te=d;for(;te.parent;)k.push(te.parent.children.indexOf(te)),te=te.parent;return k.reverse()}getParentNodeLocation(d){if(d.length!==0)return d.length===1?[]:(0,r.JH)(d)[0]}getFirstElementChild(d){const k=this.getTreeNode(d);if(k.children.length!==0)return k.children[0].element}}var x=i(74741),Z=i(73046);class T{constructor(){this.map=new Map}add(d,k){let te=this.map.get(d);te||(te=new Set,this.map.set(d,te)),te.add(k)}delete(d,k){const te=this.map.get(d);!te||(te.delete(k),te.size===0&&this.map.delete(d))}forEach(d,k){const te=this.map.get(d);!te||te.forEach(k)}}var z=i(75392),G=i(59870),re=i(98401),S=i(63580),he=function(F,d,k,te){function _e(Ae){return Ae instanceof k?Ae:new k(function(Be){Be(Ae)})}return new(k||(k=Promise))(function(Ae,Be){function rt(Et){try{Lt(te.next(Et))}catch(Vt){Be(Vt)}}function ct(Et){try{Lt(te.throw(Et))}catch(Vt){Be(Vt)}}function Lt(Et){Et.done?Ae(Et.value):_e(Et.value).then(rt,ct)}Lt((te=te.apply(F,d||[])).next())})};class Ce extends b.kX{constructor(d){super(d.elements.map(k=>k.element)),this.data=d}}function ge(F){return F instanceof b.kX?new Ce(F):F}class pe{constructor(d,k){this.modelProvider=d,this.dnd=k,this.autoExpandDisposable=D.JT.None}getDragURI(d){return this.dnd.getDragURI(d.element)}getDragLabel(d,k){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(d.map(te=>te.element),k)}onDragStart(d,k){var te,_e;(_e=(te=this.dnd).onDragStart)===null||_e===void 0||_e.call(te,ge(d),k)}onDragOver(d,k,te,_e,Ae=!0){const Be=this.dnd.onDragOver(ge(d),k&&k.element,te,_e),rt=this.autoExpandNode!==k;if(rt&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=k),typeof k>"u")return Be;if(rt&&typeof Be!="boolean"&&Be.autoExpand&&(this.autoExpandDisposable=(0,J.Vg)(()=>{const Xt=this.modelProvider(),Jt=Xt.getNodeLocation(k);Xt.isCollapsed(Jt)&&Xt.setCollapsed(Jt,!1),this.autoExpandNode=void 0},500)),typeof Be=="boolean"||!Be.accept||typeof Be.bubble>"u"||Be.feedback){if(!Ae){const Xt=typeof Be=="boolean"?Be:Be.accept,Jt=typeof Be=="boolean"?void 0:Be.effect;return{accept:Xt,effect:Jt,feedback:[te]}}return Be}if(Be.bubble===1){const Xt=this.modelProvider(),Jt=Xt.getNodeLocation(k),Qt=Xt.getParentNodeLocation(Jt),di=Xt.getNode(Qt),fi=Qt&&Xt.getListIndex(Qt);return this.onDragOver(d,di,fi,_e,!1)}const ct=this.modelProvider(),Lt=ct.getNodeLocation(k),Et=ct.getListIndex(Lt),Vt=ct.getListRenderCount(Lt);return Object.assign(Object.assign({},Be),{feedback:(0,r.w6)(Et,Et+Vt)})}drop(d,k,te,_e){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(ge(d),k&&k.element,te,_e)}onDragEnd(d){var k,te;(te=(k=this.dnd).onDragEnd)===null||te===void 0||te.call(k,d)}}function ee(F,d){return d&&Object.assign(Object.assign({},d),{identityProvider:d.identityProvider&&{getId(k){return d.identityProvider.getId(k.element)}},dnd:d.dnd&&new pe(F,d.dnd),multipleSelectionController:d.multipleSelectionController&&{isSelectionSingleChangeEvent(k){return d.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},k),{element:k.element}))},isSelectionRangeChangeEvent(k){return d.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},k),{element:k.element}))}},accessibilityProvider:d.accessibilityProvider&&Object.assign(Object.assign({},d.accessibilityProvider),{getSetSize(k){const te=F(),_e=te.getNodeLocation(k),Ae=te.getParentNodeLocation(_e);return te.getNode(Ae).visibleChildrenCount},getPosInSet(k){return k.visibleChildIndex+1},isChecked:d.accessibilityProvider&&d.accessibilityProvider.isChecked?k=>d.accessibilityProvider.isChecked(k.element):void 0,getRole:d.accessibilityProvider&&d.accessibilityProvider.getRole?k=>d.accessibilityProvider.getRole(k.element):()=>"treeitem",getAriaLabel(k){return d.accessibilityProvider.getAriaLabel(k.element)},getWidgetAriaLabel(){return d.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:d.accessibilityProvider&&d.accessibilityProvider.getWidgetRole?()=>d.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:d.accessibilityProvider&&d.accessibilityProvider.getAriaLevel?k=>d.accessibilityProvider.getAriaLevel(k.element):k=>k.depth,getActiveDescendantId:d.accessibilityProvider.getActiveDescendantId&&(k=>d.accessibilityProvider.getActiveDescendantId(k.element))}),keyboardNavigationLabelProvider:d.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},d.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(k){return d.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(k.element)}})})}class se{constructor(d){this.delegate=d}getHeight(d){return this.delegate.getHeight(d.element)}getTemplateId(d){return this.delegate.getTemplateId(d.element)}hasDynamicHeight(d){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(d.element)}setDynamicHeight(d,k){var te,_e;(_e=(te=this.delegate).setDynamicHeight)===null||_e===void 0||_e.call(te,d.element,k)}}var ne;(function(F){F.None="none",F.OnHover="onHover",F.Always="always"})(ne||(ne={}));class oe{constructor(d,k=[]){this._elements=k,this.disposables=new D.SL,this.onDidChange=V.ju.forEach(d,te=>this._elements=te,this.disposables)}get elements(){return this._elements}dispose(){this.disposables.dispose()}}class Se{constructor(d,k,te,_e,Ae={}){var Be;this.renderer=d,this.modelProvider=k,this.activeNodes=_e,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=Se.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new T,this.activeIndentNodes=new Set,this.indentGuidesDisposable=D.JT.None,this.disposables=new D.SL,this.templateId=d.templateId,this.updateOptions(Ae),V.ju.map(te,rt=>rt.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(Be=d.onDidChangeTwistieState)===null||Be===void 0||Be.call(d,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(d={}){if(typeof d.indent<"u"&&(this.indent=(0,G.uZ)(d.indent,0,40)),typeof d.renderIndentGuides<"u"){const k=d.renderIndentGuides!==ne.None;if(k!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=k,this.indentGuidesDisposable.dispose(),k)){const te=new D.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,te),this.indentGuidesDisposable=te,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof d.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=d.hideTwistiesOfChildlessElements)}renderTemplate(d){const k=(0,w.R3)(d,(0,w.$)(".monaco-tl-row")),te=(0,w.R3)(k,(0,w.$)(".monaco-tl-indent")),_e=(0,w.R3)(k,(0,w.$)(".monaco-tl-twistie")),Ae=(0,w.R3)(k,(0,w.$)(".monaco-tl-contents")),Be=this.renderer.renderTemplate(Ae);return{container:d,indent:te,twistie:_e,indentGuidesDisposable:D.JT.None,templateData:Be}}renderElement(d,k,te,_e){typeof _e=="number"&&(this.renderedNodes.set(d,{templateData:te,height:_e}),this.renderedElements.set(d.element,d));const Ae=Se.DefaultIndent+(d.depth-1)*this.indent;te.twistie.style.paddingLeft=`${Ae}px`,te.indent.style.width=`${Ae+this.indent-16}px`,this.renderTwistie(d,te),typeof _e=="number"&&this.renderIndentGuides(d,te),this.renderer.renderElement(d,k,te.templateData,_e)}disposeElement(d,k,te,_e){var Ae,Be;te.indentGuidesDisposable.dispose(),(Be=(Ae=this.renderer).disposeElement)===null||Be===void 0||Be.call(Ae,d,k,te.templateData,_e),typeof _e=="number"&&(this.renderedNodes.delete(d),this.renderedElements.delete(d.element))}disposeTemplate(d){this.renderer.disposeTemplate(d.templateData)}onDidChangeTwistieState(d){const k=this.renderedElements.get(d);!k||this.onDidChangeNodeTwistieState(k)}onDidChangeNodeTwistieState(d){const k=this.renderedNodes.get(d);!k||(this.renderTwistie(d,k.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(d,k.templateData))}renderTwistie(d,k){k.twistie.classList.remove(...Z.lA.treeItemExpanded.classNamesArray);let te=!1;this.renderer.renderTwistie&&(te=this.renderer.renderTwistie(d.element,k.twistie)),d.collapsible&&(!this.hideTwistiesOfChildlessElements||d.visibleChildrenCount>0)?(te||k.twistie.classList.add(...Z.lA.treeItemExpanded.classNamesArray),k.twistie.classList.add("collapsible"),k.twistie.classList.toggle("collapsed",d.collapsed)):k.twistie.classList.remove("collapsible","collapsed"),d.collapsible?k.container.setAttribute("aria-expanded",String(!d.collapsed)):k.container.removeAttribute("aria-expanded")}renderIndentGuides(d,k){if((0,w.PO)(k.indent),k.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const te=new D.SL,_e=this.modelProvider();let Ae=d;for(;;){const Be=_e.getNodeLocation(Ae),rt=_e.getParentNodeLocation(Be);if(!rt)break;const ct=_e.getNode(rt),Lt=(0,w.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(ct)&&Lt.classList.add("active"),k.indent.childElementCount===0?k.indent.appendChild(Lt):k.indent.insertBefore(Lt,k.indent.firstElementChild),this.renderedIndentGuides.add(ct,Lt),te.add((0,D.OF)(()=>this.renderedIndentGuides.delete(ct,Lt))),Ae=ct}k.indentGuidesDisposable=te}_onDidChangeActiveNodes(d){if(!this.shouldRenderIndentGuides)return;const k=new Set,te=this.modelProvider();d.forEach(_e=>{const Ae=te.getNodeLocation(_e);try{const Be=te.getParentNodeLocation(Ae);_e.collapsible&&_e.children.length>0&&!_e.collapsed?k.add(_e):Be&&k.add(te.getNode(Be))}catch{}}),this.activeIndentNodes.forEach(_e=>{k.has(_e)||this.renderedIndentGuides.forEach(_e,Ae=>Ae.classList.remove("active"))}),k.forEach(_e=>{this.activeIndentNodes.has(_e)||this.renderedIndentGuides.forEach(_e,Ae=>Ae.classList.add("active"))}),this.activeIndentNodes=k}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,D.B9)(this.disposables)}}Se.DefaultIndent=8;class Ee{constructor(d,k,te){this.tree=d,this.keyboardNavigationLabelProvider=k,this._filter=te,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new D.SL,d.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}filter(d,k){let te=1;if(this._filter){const Be=this._filter.filter(d,k);if(typeof Be=="boolean"?te=Be?1:0:K(Be)?te=H(Be.visibility):te=Be,te===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:z.CL.Default,visibility:te};const _e=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(d),Ae=Array.isArray(_e)?_e:[_e];for(const Be of Ae){const rt=Be&&Be.toString();if(typeof rt>"u")return{data:z.CL.Default,visibility:te};const ct=(0,z.EW)(this._pattern,this._lowercasePattern,0,rt,rt.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(ct)return this._matchCount++,Ae.length===1?{data:ct,visibility:te}:{data:{label:rt,score:ct},visibility:te}}return this.tree.findMode===ye.Filter?2:{data:z.CL.Default,visibility:te}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,D.B9)(this.disposables)}}class Me extends null{constructor(d){var k;super({icon:Codicon.filter,title:localize("filter","Filter"),isChecked:(k=d==null?void 0:d.isChecked)!==null&&k!==void 0?k:!1,inputActiveOptionBorder:d==null?void 0:d.inputActiveOptionBorder,inputActiveOptionForeground:d==null?void 0:d.inputActiveOptionForeground,inputActiveOptionBackground:d==null?void 0:d.inputActiveOptionBackground})}}var ye;(function(F){F[F.Highlight=0]="Highlight",F[F.Filter=1]="Filter"})(ye||(ye={}));class le extends null{constructor(d,k,te,_e,Ae){super(),this.tree=k,this.elements=h(".monaco-tree-type-filter",[h(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),h(".monaco-tree-type-filter-input@findInput"),h(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this._onDidDisable=new Emitter,d.appendChild(this.elements.root),this._register(toDisposable(()=>d.removeChild(this.elements.root))),this.modeToggle=this._register(new Me(Object.assign(Object.assign({},Ae),{isChecked:_e===ye.Filter}))),this.onDidChangeMode=Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?ye.Filter:ye.Highlight,this._store),this.findInput=this._register(new FindInput(this.elements.findInput,te,!1,{label:localize("type to search","Type to search"),additionalToggles:[this.modeToggle]})),this.actionbar=this._register(new ActionBar(this.elements.actionbar)),this.mode=_e;const Be=this._register(new DomEmitter(this.findInput.inputBox.inputElement,"keydown")),rt=this._register(Event.chain(Be.event)).map(Vt=>new StandardKeyboardEvent(Vt)).event;this._register(rt(Vt=>{switch(Vt.keyCode){case 18:Vt.preventDefault(),Vt.stopPropagation(),this.tree.domFocus();return}}));const ct=this._register(new Action("close",localize("close","Close"),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(ct,{icon:!0,label:!1});const Lt=this._register(new DomEmitter(this.elements.grab,"mousedown"));this._register(Lt.event(Vt=>{const Xt=new DisposableStore,Jt=Xt.add(new DomEmitter(window,"mousemove")),Qt=Xt.add(new DomEmitter(window,"mouseup")),di=this.right,fi=Vt.pageX;this.elements.grab.classList.add("grabbing");const Ti=ln=>{const An=ln.pageX-fi;this.right=di-An,this.layout()};Xt.add(Jt.event(Ti)),Xt.add(Qt.event(ln=>{Ti(ln),this.elements.grab.classList.remove("grabbing"),Xt.dispose()}))}));const Et=this._register(Event.chain(this._register(new DomEmitter(this.elements.grab,"keydown")).event)).map(Vt=>new StandardKeyboardEvent(Vt)).event;this._register(Et(Vt=>{let Xt;Vt.keyCode===15?Xt=Number.POSITIVE_INFINITY:Vt.keyCode===17?Xt=0:Vt.keyCode===10&&(Xt=this.right===0?Number.POSITIVE_INFINITY:0),Xt!==void 0&&(Vt.preventDefault(),Vt.stopPropagation(),this.right=Xt,this.layout())})),this.onDidChangeValue=this.findInput.onDidChange,this.style(Ae??{})}set mode(d){this.modeToggle.checked=d===ye.Filter,this.findInput.inputBox.setPlaceHolder(d===ye.Filter?localize("type to filter","Type to filter"):localize("type to search","Type to search"))}style(d){this.findInput.style(d),d.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=d.listFilterWidgetBackground.toString()),d.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${d.listFilterWidgetShadow}`)}layout(d=this.width){this.width=d,this.right=clamp(this.right,0,Math.max(0,d-212)),this.elements.root.style.right=`${this.right}px`}showMessage(d){this.findInput.showMessage(d)}clearMessage(){this.findInput.clearMessage()}dispose(){const d=Object.create(null,{dispose:{get:()=>super.dispose}});return he(this,void 0,void 0,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield timeout(300),d.dispose.call(this)})}}class ie{constructor(d,k,te,_e,Ae){var Be;this.tree=d,this.view=te,this.filter=_e,this.contextViewProvider=Ae,this._pattern="",this.width=0,this._onDidChangeMode=new V.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangePattern=new V.Q5,this._onDidChangeOpenState=new V.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new D.SL,this.disposables=new D.SL,this._mode=(Be=d.options.defaultFindMode)!==null&&Be!==void 0?Be:ye.Highlight,k.onDidSplice(this.onDidSpliceModel,this,this.disposables)}get pattern(){return this._pattern}get mode(){return this._mode}set mode(d){d!==this._mode&&(this._mode=d,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(d))}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var d,k;const te=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&te?(d=this.widget)===null||d===void 0||d.showMessage({type:2,content:(0,S.NC)("not found","No elements found.")}):(k=this.widget)===null||k===void 0||k.clearMessage()}shouldAllowFocus(d){return!this.widget||!this.pattern||this._mode===ye.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!z.CL.isDefault(d.filterData)}style(d){var k;this.styles=d,(k=this.widget)===null||k===void 0||k.style(d)}layout(d){var k;this.width=d,(k=this.widget)===null||k===void 0||k.layout(d)}dispose(){this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function ve(F){let d=E.Unknown;return(0,w.uU)(F.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?d=E.Twistie:(0,w.uU)(F.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?d=E.Element:(0,w.uU)(F.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(d=E.Filter),{browserEvent:F.browserEvent,element:F.element?F.element.element:null,target:d}}function xe(F,d){d(F),F.children.forEach(k=>xe(k,d))}class Ye{constructor(d,k){this.getFirstViewElementWithTrait=d,this.identityProvider=k,this.nodes=[],this._onDidChange=new V.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(d,k){!(k!=null&&k.__forceEvent)&&(0,r.fS)(this.nodes,d)||this._set(d,!1,k)}_set(d,k,te){if(this.nodes=[...d],this.elements=void 0,this._nodeSet=void 0,!k){const _e=this;this._onDidChange.fire({get elements(){return _e.get()},browserEvent:te})}}get(){return this.elements||(this.elements=this.nodes.map(d=>d.element)),[...this.elements]}getNodes(){return this.nodes}has(d){return this.nodeSet.has(d)}onDidModelSplice({insertedNodes:d,deletedNodes:k}){if(!this.identityProvider){const ct=this.createNodeSet(),Lt=Et=>ct.delete(Et);k.forEach(Et=>xe(Et,Lt)),this.set([...ct.values()]);return}const te=new Set,_e=ct=>te.add(this.identityProvider.getId(ct.element).toString());k.forEach(ct=>xe(ct,_e));const Ae=new Map,Be=ct=>Ae.set(this.identityProvider.getId(ct.element).toString(),ct);d.forEach(ct=>xe(ct,Be));const rt=[];for(const ct of this.nodes){const Lt=this.identityProvider.getId(ct.element).toString();if(!te.has(Lt))rt.push(ct);else{const Vt=Ae.get(Lt);Vt&&rt.push(Vt)}}if(this.nodes.length>0&&rt.length===0){const ct=this.getFirstViewElementWithTrait();ct&&rt.push(ct)}this._set(rt,!0)}createNodeSet(){const d=new Set;for(const k of this.nodes)d.add(k);return d}}class at extends M.sx{constructor(d,k){super(d),this.tree=k}onViewPointer(d){if((0,M.iK)(d.browserEvent.target)||(0,M.cK)(d.browserEvent.target)||(0,M.hD)(d.browserEvent.target))return;const k=d.element;if(!k)return super.onViewPointer(d);if(this.isSelectionRangeChangeEvent(d)||this.isSelectionSingleChangeEvent(d))return super.onViewPointer(d);const te=d.browserEvent.target,_e=te.classList.contains("monaco-tl-twistie")||te.classList.contains("monaco-icon-label")&&te.classList.contains("folder-icon")&&d.browserEvent.offsetX<16;let Ae=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?Ae=this.tree.expandOnlyOnTwistieClick(k.element):Ae=!!this.tree.expandOnlyOnTwistieClick,Ae&&!_e&&d.browserEvent.detail!==2)return super.onViewPointer(d);if(!this.tree.expandOnDoubleClick&&d.browserEvent.detail===2)return super.onViewPointer(d);if(k.collapsible){const Be=this.tree.model,rt=Be.getNodeLocation(k),ct=d.browserEvent.altKey;if(this.tree.setFocus([rt]),Be.setCollapsed(rt,void 0,ct),Ae&&_e)return}super.onViewPointer(d)}onDoubleClick(d){d.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(d)}}class qe extends M.aV{constructor(d,k,te,_e,Ae,Be,rt,ct){super(d,k,te,_e,ct),this.focusTrait=Ae,this.selectionTrait=Be,this.anchorTrait=rt}createMouseController(d){return new at(this,d.tree)}splice(d,k,te=[]){if(super.splice(d,k,te),te.length===0)return;const _e=[],Ae=[];let Be;te.forEach((rt,ct)=>{this.focusTrait.has(rt)&&_e.push(d+ct),this.selectionTrait.has(rt)&&Ae.push(d+ct),this.anchorTrait.has(rt)&&(Be=d+ct)}),_e.length>0&&super.setFocus((0,r.EB)([...super.getFocus(),..._e])),Ae.length>0&&super.setSelection((0,r.EB)([...super.getSelection(),...Ae])),typeof Be=="number"&&super.setAnchor(Be)}setFocus(d,k,te=!1){super.setFocus(d,k),te||this.focusTrait.set(d.map(_e=>this.element(_e)),k)}setSelection(d,k,te=!1){super.setSelection(d,k),te||this.selectionTrait.set(d.map(_e=>this.element(_e)),k)}setAnchor(d,k=!1){super.setAnchor(d),k||(typeof d>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(d)]))}}class Re{constructor(d,k,te,_e,Ae={}){var Be;this._user=d,this._options=Ae,this.eventBufferer=new V.E7,this.onDidChangeFindOpenState=V.ju.None,this.disposables=new D.SL,this._onWillRefilter=new V.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new V.Q5;const rt=new se(te),ct=new V.ZD,Lt=new V.ZD,Et=this.disposables.add(new oe(Lt.event));this.renderers=_e.map(Jt=>new Se(Jt,()=>this.model,ct.event,Et,Ae));for(const Jt of this.renderers)this.disposables.add(Jt);let Vt;Ae.keyboardNavigationLabelProvider&&(Vt=new Ee(this,Ae.keyboardNavigationLabelProvider,Ae.filter),Ae=Object.assign(Object.assign({},Ae),{filter:Vt}),this.disposables.add(Vt)),this.focus=new Ye(()=>this.view.getFocusedElements()[0],Ae.identityProvider),this.selection=new Ye(()=>this.view.getSelectedElements()[0],Ae.identityProvider),this.anchor=new Ye(()=>this.view.getAnchorElement(),Ae.identityProvider),this.view=new qe(d,k,rt,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},ee(()=>this.model,Ae)),{tree:this})),this.model=this.createModel(d,this.view,Ae),ct.input=this.model.onDidChangeCollapseState;const Xt=V.ju.forEach(this.model.onDidSplice,Jt=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(Jt),this.selection.onDidModelSplice(Jt)})},this.disposables);if(Xt(()=>null,null,this.disposables),Lt.input=V.ju.chain(V.ju.any(Xt,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const Jt=new Set;for(const Qt of this.focus.getNodes())Jt.add(Qt);for(const Qt of this.selection.getNodes())Jt.add(Qt);return[...Jt.values()]}).event,Ae.keyboardSupport!==!1){const Jt=V.ju.chain(this.view.onKeyDown).filter(Qt=>!(0,M.cK)(Qt.target)).map(Qt=>new u.y(Qt));Jt.filter(Qt=>Qt.keyCode===15).on(this.onLeftArrow,this,this.disposables),Jt.filter(Qt=>Qt.keyCode===17).on(this.onRightArrow,this,this.disposables),Jt.filter(Qt=>Qt.keyCode===10).on(this.onSpace,this,this.disposables)}((Be=Ae.findWidgetEnabled)!==null&&Be!==void 0?Be:!0)&&Ae.keyboardNavigationLabelProvider&&Ae.contextViewProvider?(this.findController=new ie(this,this.model,this.view,Vt,Ae.contextViewProvider),this.focusNavigationFilter=Jt=>this.findController.shouldAllowFocus(Jt),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode):this.onDidChangeFindMode=V.ju.None,this.styleElement=(0,w.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===ne.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return V.ju.filter(V.ju.map(this.view.onMouseDblClick,ve),d=>d.target!==E.Filter)}get onPointer(){return V.ju.map(this.view.onPointer,ve)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return V.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var d,k;return(k=(d=this.findController)===null||d===void 0?void 0:d.mode)!==null&&k!==void 0?k:ye.Highlight}set findMode(d){this.findController&&(this.findController.mode=d)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(d={}){this._options=Object.assign(Object.assign({},this._options),d);for(const k of this.renderers)k.updateOptions(d);this.view.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===ne.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(d){this.view.scrollTop=d}domFocus(){this.view.domFocus()}layout(d,k){var te;this.view.layout(d,k),(0,re.hj)(k)&&((te=this.findController)===null||te===void 0||te.layout(k))}style(d){var k;const te=`.${this.view.domId}`,_e=[];d.treeIndentGuidesStroke&&(_e.push(`.monaco-list${te}:hover .monaco-tl-indent > .indent-guide, .monaco-list${te}.always .monaco-tl-indent > .indent-guide  { border-color: ${d.treeIndentGuidesStroke.transparent(.4)}; }`),_e.push(`.monaco-list${te} .monaco-tl-indent > .indent-guide.active { border-color: ${d.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=_e.join(`
`),(k=this.findController)===null||k===void 0||k.style(d),this.view.style(d)}getParentElement(d){const k=this.model.getParentNodeLocation(d);return this.model.getNode(k).element}getFirstElementChild(d){return this.model.getFirstElementChild(d)}getNode(d){return this.model.getNode(d)}collapse(d,k=!1){return this.model.setCollapsed(d,!0,k)}expand(d,k=!1){return this.model.setCollapsed(d,!1,k)}isCollapsible(d){return this.model.isCollapsible(d)}setCollapsible(d,k){return this.model.setCollapsible(d,k)}isCollapsed(d){return this.model.isCollapsed(d)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(d,k){const te=d.map(Ae=>this.model.getNode(Ae));this.selection.set(te,k);const _e=d.map(Ae=>this.model.getListIndex(Ae)).filter(Ae=>Ae>-1);this.view.setSelection(_e,k,!0)}getSelection(){return this.selection.get()}setFocus(d,k){const te=d.map(Ae=>this.model.getNode(Ae));this.focus.set(te,k);const _e=d.map(Ae=>this.model.getListIndex(Ae)).filter(Ae=>Ae>-1);this.view.setFocus(_e,k,!0)}getFocus(){return this.focus.get()}reveal(d,k){this.model.expandTo(d);const te=this.model.getListIndex(d);te!==-1&&this.view.reveal(te,k)}onLeftArrow(d){d.preventDefault(),d.stopPropagation();const k=this.view.getFocusedElements();if(k.length===0)return;const te=k[0],_e=this.model.getNodeLocation(te);if(!this.model.setCollapsed(_e,!0)){const Be=this.model.getParentNodeLocation(_e);if(!Be)return;const rt=this.model.getListIndex(Be);this.view.reveal(rt),this.view.setFocus([rt])}}onRightArrow(d){d.preventDefault(),d.stopPropagation();const k=this.view.getFocusedElements();if(k.length===0)return;const te=k[0],_e=this.model.getNodeLocation(te);if(!this.model.setCollapsed(_e,!1)){if(!te.children.some(ct=>ct.visible))return;const[Be]=this.view.getFocus(),rt=Be+1;this.view.reveal(rt),this.view.setFocus([rt])}}onSpace(d){d.preventDefault(),d.stopPropagation();const k=this.view.getFocusedElements();if(k.length===0)return;const te=k[0],_e=this.model.getNodeLocation(te),Ae=d.browserEvent.altKey;this.model.setCollapsed(_e,void 0,Ae)}dispose(){(0,D.B9)(this.disposables),this.view.dispose()}}class Je{constructor(d,k,te={}){this.user=d,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new j(d,k,null,te),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,te.sorter&&(this.sorter={compare(_e,Ae){return te.sorter.compare(_e.element,Ae.element)}}),this.identityProvider=te.identityProvider}setChildren(d,k=U.$.empty(),te={}){const _e=this.getElementLocation(d);this._setChildren(_e,this.preserveCollapseState(k),te)}_setChildren(d,k=U.$.empty(),te){const _e=new Set,Ae=new Set,Be=ct=>{var Lt;if(ct.element===null)return;const Et=ct;if(_e.add(Et.element),this.nodes.set(Et.element,Et),this.identityProvider){const Vt=this.identityProvider.getId(Et.element).toString();Ae.add(Vt),this.nodesByIdentity.set(Vt,Et)}(Lt=te.onDidCreateNode)===null||Lt===void 0||Lt.call(te,Et)},rt=ct=>{var Lt;if(ct.element===null)return;const Et=ct;if(_e.has(Et.element)||this.nodes.delete(Et.element),this.identityProvider){const Vt=this.identityProvider.getId(Et.element).toString();Ae.has(Vt)||this.nodesByIdentity.delete(Vt)}(Lt=te.onDidDeleteNode)===null||Lt===void 0||Lt.call(te,Et)};this.model.splice([...d,0],Number.MAX_VALUE,k,Object.assign(Object.assign({},te),{onDidCreateNode:Be,onDidDeleteNode:rt}))}preserveCollapseState(d=U.$.empty()){return this.sorter&&(d=[...d].sort(this.sorter.compare.bind(this.sorter))),U.$.map(d,k=>{let te=this.nodes.get(k.element);if(!te&&this.identityProvider){const Be=this.identityProvider.getId(k.element).toString();te=this.nodesByIdentity.get(Be)}if(!te)return Object.assign(Object.assign({},k),{children:this.preserveCollapseState(k.children)});const _e=typeof k.collapsible=="boolean"?k.collapsible:te.collapsible,Ae=typeof k.collapsed<"u"?k.collapsed:te.collapsed;return Object.assign(Object.assign({},k),{collapsible:_e,collapsed:Ae,children:this.preserveCollapseState(k.children)})})}rerender(d){const k=this.getElementLocation(d);this.model.rerender(k)}getFirstElementChild(d=null){const k=this.getElementLocation(d);return this.model.getFirstElementChild(k)}has(d){return this.nodes.has(d)}getListIndex(d){const k=this.getElementLocation(d);return this.model.getListIndex(k)}getListRenderCount(d){const k=this.getElementLocation(d);return this.model.getListRenderCount(k)}isCollapsible(d){const k=this.getElementLocation(d);return this.model.isCollapsible(k)}setCollapsible(d,k){const te=this.getElementLocation(d);return this.model.setCollapsible(te,k)}isCollapsed(d){const k=this.getElementLocation(d);return this.model.isCollapsed(k)}setCollapsed(d,k,te){const _e=this.getElementLocation(d);return this.model.setCollapsed(_e,k,te)}expandTo(d){const k=this.getElementLocation(d);this.model.expandTo(k)}refilter(){this.model.refilter()}getNode(d=null){if(d===null)return this.model.getNode(this.model.rootRef);const k=this.nodes.get(d);if(!k)throw new I(this.user,`Tree element not found: ${d}`);return k}getNodeLocation(d){return d.element}getParentNodeLocation(d){if(d===null)throw new I(this.user,"Invalid getParentNodeLocation call");const k=this.nodes.get(d);if(!k)throw new I(this.user,`Tree element not found: ${d}`);const te=this.model.getNodeLocation(k),_e=this.model.getParentNodeLocation(te);return this.model.getNode(_e).element}getElementLocation(d){if(d===null)return[];const k=this.nodes.get(d);if(!k)throw new I(this.user,`Tree element not found: ${d}`);return this.model.getNodeLocation(k)}}function st(F){const d=[F.element],k=F.incompressible||!1;return{element:{elements:d,incompressible:k},children:U.$.map(U.$.from(F.children),st),collapsible:F.collapsible,collapsed:F.collapsed}}function et(F){const d=[F.element],k=F.incompressible||!1;let te,_e;for(;[_e,te]=U.$.consume(U.$.from(F.children),2),!(_e.length!==1||_e[0].incompressible);)F=_e[0],d.push(F.element);return{element:{elements:d,incompressible:k},children:U.$.map(U.$.concat(_e,te),et),collapsible:F.collapsible,collapsed:F.collapsed}}function we(F,d=0){let k;return d<F.element.elements.length-1?k=[we(F,d+1)]:k=U.$.map(U.$.from(F.children),te=>we(te,0)),d===0&&F.element.incompressible?{element:F.element.elements[d],children:k,incompressible:!0,collapsible:F.collapsible,collapsed:F.collapsed}:{element:F.element.elements[d],children:k,collapsible:F.collapsible,collapsed:F.collapsed}}function Ne(F){return we(F,0)}function de(F,d,k){return F.element===d?Object.assign(Object.assign({},F),{children:k}):Object.assign(Object.assign({},F),{children:U.$.map(U.$.from(F.children),te=>de(te,d,k))})}const Pe=F=>({getId(d){return d.elements.map(k=>F.getId(k).toString()).join("\0")}});class He{constructor(d,k,te={}){this.user=d,this.rootRef=null,this.nodes=new Map,this.model=new Je(d,k,te),this.enabled=typeof te.compressionEnabled>"u"?!0:te.compressionEnabled,this.identityProvider=te.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(d,k=U.$.empty(),te){const _e=te.diffIdentityProvider&&Pe(te.diffIdentityProvider);if(d===null){const Jt=U.$.map(k,this.enabled?et:st);this._setChildren(null,Jt,{diffIdentityProvider:_e,diffDepth:1/0});return}const Ae=this.nodes.get(d);if(!Ae)throw new Error("Unknown compressed tree node");const Be=this.model.getNode(Ae),rt=this.model.getParentNodeLocation(Ae),ct=this.model.getNode(rt),Lt=Ne(Be),Et=de(Lt,d,k),Vt=(this.enabled?et:st)(Et),Xt=ct.children.map(Jt=>Jt===Be?Vt:Jt);this._setChildren(ct.element,Xt,{diffIdentityProvider:_e,diffDepth:Be.depth-ct.depth})}setCompressionEnabled(d){if(d===this.enabled)return;this.enabled=d;const te=this.model.getNode().children,_e=U.$.map(te,Ne),Ae=U.$.map(_e,d?et:st);this._setChildren(null,Ae,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(d,k,te){const _e=new Set,Ae=rt=>{for(const ct of rt.element.elements)_e.add(ct),this.nodes.set(ct,rt.element)},Be=rt=>{for(const ct of rt.element.elements)_e.has(ct)||this.nodes.delete(ct)};this.model.setChildren(d,k,Object.assign(Object.assign({},te),{onDidCreateNode:Ae,onDidDeleteNode:Be}))}has(d){return this.nodes.has(d)}getListIndex(d){const k=this.getCompressedNode(d);return this.model.getListIndex(k)}getListRenderCount(d){const k=this.getCompressedNode(d);return this.model.getListRenderCount(k)}getNode(d){if(typeof d>"u")return this.model.getNode();const k=this.getCompressedNode(d);return this.model.getNode(k)}getNodeLocation(d){const k=this.model.getNodeLocation(d);return k===null?null:k.elements[k.elements.length-1]}getParentNodeLocation(d){const k=this.getCompressedNode(d),te=this.model.getParentNodeLocation(k);return te===null?null:te.elements[te.elements.length-1]}getFirstElementChild(d){const k=this.getCompressedNode(d);return this.model.getFirstElementChild(k)}isCollapsible(d){const k=this.getCompressedNode(d);return this.model.isCollapsible(k)}setCollapsible(d,k){const te=this.getCompressedNode(d);return this.model.setCollapsible(te,k)}isCollapsed(d){const k=this.getCompressedNode(d);return this.model.isCollapsed(k)}setCollapsed(d,k,te){const _e=this.getCompressedNode(d);return this.model.setCollapsed(_e,k,te)}expandTo(d){const k=this.getCompressedNode(d);this.model.expandTo(k)}rerender(d){const k=this.getCompressedNode(d);this.model.rerender(k)}refilter(){this.model.refilter()}getCompressedNode(d){if(d===null)return null;const k=this.nodes.get(d);if(!k)throw new I(this.user,`Tree element not found: ${d}`);return k}}const $e=F=>F[F.length-1];class me{constructor(d,k){this.unwrapper=d,this.node=k}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(d=>new me(this.unwrapper,d))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function Ie(F,d){return{splice(k,te,_e){d.splice(k,te,_e.map(Ae=>F.map(Ae)))},updateElementHeight(k,te){d.updateElementHeight(k,te)}}}function Ge(F,d){return Object.assign(Object.assign({},d),{identityProvider:d.identityProvider&&{getId(k){return d.identityProvider.getId(F(k))}},sorter:d.sorter&&{compare(k,te){return d.sorter.compare(k.elements[0],te.elements[0])}},filter:d.filter&&{filter(k,te){return d.filter.filter(F(k),te)}}})}class ft{constructor(d,k,te={}){this.rootRef=null,this.elementMapper=te.elementMapper||$e;const _e=Ae=>this.elementMapper(Ae.elements);this.nodeMapper=new R(Ae=>new me(_e,Ae)),this.model=new He(d,Ie(this.nodeMapper,k),Ge(_e,te))}get onDidSplice(){return V.ju.map(this.model.onDidSplice,({insertedNodes:d,deletedNodes:k})=>({insertedNodes:d.map(te=>this.nodeMapper.map(te)),deletedNodes:k.map(te=>this.nodeMapper.map(te))}))}get onDidChangeCollapseState(){return V.ju.map(this.model.onDidChangeCollapseState,({node:d,deep:k})=>({node:this.nodeMapper.map(d),deep:k}))}get onDidChangeRenderNodeCount(){return V.ju.map(this.model.onDidChangeRenderNodeCount,d=>this.nodeMapper.map(d))}setChildren(d,k=U.$.empty(),te={}){this.model.setChildren(d,k,te)}setCompressionEnabled(d){this.model.setCompressionEnabled(d)}has(d){return this.model.has(d)}getListIndex(d){return this.model.getListIndex(d)}getListRenderCount(d){return this.model.getListRenderCount(d)}getNode(d){return this.nodeMapper.map(this.model.getNode(d))}getNodeLocation(d){return d.element}getParentNodeLocation(d){return this.model.getParentNodeLocation(d)}getFirstElementChild(d){const k=this.model.getFirstElementChild(d);return k===null||typeof k>"u"?k:this.elementMapper(k.elements)}isCollapsible(d){return this.model.isCollapsible(d)}setCollapsible(d,k){return this.model.setCollapsible(d,k)}isCollapsed(d){return this.model.isCollapsed(d)}setCollapsed(d,k,te){return this.model.setCollapsed(d,k,te)}expandTo(d){return this.model.expandTo(d)}rerender(d){return this.model.rerender(d)}refilter(){return this.model.refilter()}getCompressedTreeNode(d=null){return this.model.getNode(d)}}var ze=i(49898),mt=function(F,d,k,te){var _e=arguments.length,Ae=_e<3?d:te===null?te=Object.getOwnPropertyDescriptor(d,k):te,Be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(F,d,k,te);else for(var rt=F.length-1;rt>=0;rt--)(Be=F[rt])&&(Ae=(_e<3?Be(Ae):_e>3?Be(d,k,Ae):Be(d,k))||Ae);return _e>3&&Ae&&Object.defineProperty(d,k,Ae),Ae};class wt extends Re{constructor(d,k,te,_e,Ae={}){super(d,k,te,_e,Ae),this.user=d}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(d,k=U.$.empty(),te){this.model.setChildren(d,k,te)}rerender(d){if(d===void 0){this.view.rerender();return}this.model.rerender(d)}hasElement(d){return this.model.has(d)}createModel(d,k,te){return new Je(d,k,te)}}class Oe{constructor(d,k){this._compressedTreeNodeProvider=d,this.renderer=k,this.templateId=k.templateId,k.onDidChangeTwistieState&&(this.onDidChangeTwistieState=k.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(d){const k=this.renderer.renderTemplate(d);return{compressedTreeNode:void 0,data:k}}renderElement(d,k,te,_e){const Ae=this.compressedTreeNodeProvider.getCompressedTreeNode(d.element);Ae.element.elements.length===1?(te.compressedTreeNode=void 0,this.renderer.renderElement(d,k,te.data,_e)):(te.compressedTreeNode=Ae,this.renderer.renderCompressedElements(Ae,k,te.data,_e))}disposeElement(d,k,te,_e){var Ae,Be,rt,ct;te.compressedTreeNode?(Be=(Ae=this.renderer).disposeCompressedElements)===null||Be===void 0||Be.call(Ae,te.compressedTreeNode,k,te.data,_e):(ct=(rt=this.renderer).disposeElement)===null||ct===void 0||ct.call(rt,d,k,te.data,_e)}disposeTemplate(d){this.renderer.disposeTemplate(d.data)}renderTwistie(d,k){return this.renderer.renderTwistie?this.renderer.renderTwistie(d,k):!1}}mt([ze.H],Oe.prototype,"compressedTreeNodeProvider",null);function lt(F,d){return d&&Object.assign(Object.assign({},d),{keyboardNavigationLabelProvider:d.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(k){let te;try{te=F().getCompressedTreeNode(k)}catch{return d.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(k)}return te.element.elements.length===1?d.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(k):d.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(te.element.elements)}}})}class Bt extends wt{constructor(d,k,te,_e,Ae={}){const Be=()=>this,rt=_e.map(ct=>new Oe(Be,ct));super(d,k,te,rt,lt(Be,Ae))}setChildren(d,k=U.$.empty(),te){this.model.setChildren(d,k,te)}createModel(d,k,te){return new ft(d,k,te)}updateOptions(d={}){super.updateOptions(d),typeof d.compressionEnabled<"u"&&this.model.setCompressionEnabled(d.compressionEnabled)}getCompressedTreeNode(d=null){return this.model.getCompressedTreeNode(d)}}var Zt=i(17301),pi=function(F,d,k,te){function _e(Ae){return Ae instanceof k?Ae:new k(function(Be){Be(Ae)})}return new(k||(k=Promise))(function(Ae,Be){function rt(Et){try{Lt(te.next(Et))}catch(Vt){Be(Vt)}}function ct(Et){try{Lt(te.throw(Et))}catch(Vt){Be(Vt)}}function Lt(Et){Et.done?Ae(Et.value):_e(Et.value).then(rt,ct)}Lt((te=te.apply(F,d||[])).next())})};function Li(F){return Object.assign(Object.assign({},F),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function ot(F,d){return d.parent?d.parent===F?!0:ot(F,d.parent):!1}function Ft(F,d){return F===d||ot(F,d)||ot(d,F)}class Yt{constructor(d){this.node=d}get element(){return this.node.element.element}get children(){return this.node.children.map(d=>new Yt(d))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class _i{constructor(d,k,te){this.renderer=d,this.nodeMapper=k,this.onDidChangeTwistieState=te,this.renderedNodes=new Map,this.templateId=d.templateId}renderTemplate(d){return{templateData:this.renderer.renderTemplate(d)}}renderElement(d,k,te,_e){this.renderer.renderElement(this.nodeMapper.map(d),k,te.templateData,_e)}renderTwistie(d,k){return d.slow?(k.classList.add(...Z.lA.treeItemLoading.classNamesArray),!0):(k.classList.remove(...Z.lA.treeItemLoading.classNamesArray),!1)}disposeElement(d,k,te,_e){var Ae,Be;(Be=(Ae=this.renderer).disposeElement)===null||Be===void 0||Be.call(Ae,this.nodeMapper.map(d),k,te.templateData,_e)}disposeTemplate(d){this.renderer.disposeTemplate(d.templateData)}dispose(){this.renderedNodes.clear()}}function Ci(F){return{browserEvent:F.browserEvent,elements:F.elements.map(d=>d.element)}}function bi(F){return{browserEvent:F.browserEvent,element:F.element&&F.element.element,target:F.target}}class ai extends b.kX{constructor(d){super(d.elements.map(k=>k.element)),this.data=d}}function Mt(F){return F instanceof b.kX?new ai(F):F}class Ut{constructor(d){this.dnd=d}getDragURI(d){return this.dnd.getDragURI(d.element)}getDragLabel(d,k){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(d.map(te=>te.element),k)}onDragStart(d,k){var te,_e;(_e=(te=this.dnd).onDragStart)===null||_e===void 0||_e.call(te,Mt(d),k)}onDragOver(d,k,te,_e,Ae=!0){return this.dnd.onDragOver(Mt(d),k&&k.element,te,_e)}drop(d,k,te,_e){this.dnd.drop(Mt(d),k&&k.element,te,_e)}onDragEnd(d){var k,te;(te=(k=this.dnd).onDragEnd)===null||te===void 0||te.call(k,d)}}function vt(F){return F&&Object.assign(Object.assign({},F),{collapseByDefault:!0,identityProvider:F.identityProvider&&{getId(d){return F.identityProvider.getId(d.element)}},dnd:F.dnd&&new Ut(F.dnd),multipleSelectionController:F.multipleSelectionController&&{isSelectionSingleChangeEvent(d){return F.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},d),{element:d.element}))},isSelectionRangeChangeEvent(d){return F.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},d),{element:d.element}))}},accessibilityProvider:F.accessibilityProvider&&Object.assign(Object.assign({},F.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:F.accessibilityProvider.getRole?d=>F.accessibilityProvider.getRole(d.element):()=>"treeitem",isChecked:F.accessibilityProvider.isChecked?d=>{var k;return!!(!((k=F.accessibilityProvider)===null||k===void 0)&&k.isChecked(d.element))}:void 0,getAriaLabel(d){return F.accessibilityProvider.getAriaLabel(d.element)},getWidgetAriaLabel(){return F.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:F.accessibilityProvider.getWidgetRole?()=>F.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:F.accessibilityProvider.getAriaLevel&&(d=>F.accessibilityProvider.getAriaLevel(d.element)),getActiveDescendantId:F.accessibilityProvider.getActiveDescendantId&&(d=>F.accessibilityProvider.getActiveDescendantId(d.element))}),filter:F.filter&&{filter(d,k){return F.filter.filter(d.element,k)}},keyboardNavigationLabelProvider:F.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},F.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(d){return F.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(d.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof F.expandOnlyOnTwistieClick>"u"?void 0:typeof F.expandOnlyOnTwistieClick!="function"?F.expandOnlyOnTwistieClick:d=>F.expandOnlyOnTwistieClick(d.element),additionalScrollHeight:F.additionalScrollHeight})}function _t(F,d){d(F),F.children.forEach(k=>_t(k,d))}class nt{constructor(d,k,te,_e,Ae,Be={}){this.user=d,this.dataSource=Ae,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new V.Q5,this._onDidChangeNodeSlowState=new V.Q5,this.nodeMapper=new R(rt=>new Yt(rt)),this.disposables=new D.SL,this.identityProvider=Be.identityProvider,this.autoExpandSingleChildren=typeof Be.autoExpandSingleChildren>"u"?!1:Be.autoExpandSingleChildren,this.sorter=Be.sorter,this.collapseByDefault=Be.collapseByDefault,this.tree=this.createTree(d,k,te,_e,Be),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=Li({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return V.ju.map(this.tree.onDidChangeFocus,Ci)}get onDidChangeSelection(){return V.ju.map(this.tree.onDidChangeSelection,Ci)}get onMouseDblClick(){return V.ju.map(this.tree.onMouseDblClick,bi)}get onPointer(){return V.ju.map(this.tree.onPointer,bi)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}createTree(d,k,te,_e,Ae){const Be=new se(te),rt=_e.map(Lt=>new _i(Lt,this.nodeMapper,this._onDidChangeNodeSlowState.event)),ct=vt(Ae)||{};return new wt(d,k,Be,rt,ct)}updateOptions(d={}){this.tree.updateOptions(d)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(d){this.tree.scrollTop=d}domFocus(){this.tree.domFocus()}layout(d,k){this.tree.layout(d,k)}style(d){this.tree.style(d)}getInput(){return this.root.element}setInput(d,k){return pi(this,void 0,void 0,function*(){this.refreshPromises.forEach(_e=>_e.cancel()),this.refreshPromises.clear(),this.root.element=d;const te=k&&{viewState:k,focus:[],selection:[]};yield this._updateChildren(d,!0,!1,te),te&&(this.tree.setFocus(te.focus),this.tree.setSelection(te.selection)),k&&typeof k.scrollTop=="number"&&(this.scrollTop=k.scrollTop)})}_updateChildren(d=this.root.element,k=!0,te=!1,_e,Ae){return pi(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new I(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield V.ju.toPromise(this._onDidRender.event));const Be=this.getDataNode(d);if(yield this.refreshAndRenderNode(Be,k,_e,Ae),te)try{this.tree.rerender(Be)}catch{}})}rerender(d){if(d===void 0||d===this.root.element){this.tree.rerender();return}const k=this.getDataNode(d);this.tree.rerender(k)}getNode(d=this.root.element){const k=this.getDataNode(d),te=this.tree.getNode(k===this.root?null:k);return this.nodeMapper.map(te)}collapse(d,k=!1){const te=this.getDataNode(d);return this.tree.collapse(te===this.root?null:te,k)}expand(d,k=!1){return pi(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new I(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield V.ju.toPromise(this._onDidRender.event));const te=this.getDataNode(d);if(this.tree.hasElement(te)&&!this.tree.isCollapsible(te)||(te.refreshPromise&&(yield this.root.refreshPromise,yield V.ju.toPromise(this._onDidRender.event)),te!==this.root&&!te.refreshPromise&&!this.tree.isCollapsed(te)))return!1;const _e=this.tree.expand(te===this.root?null:te,k);return te.refreshPromise&&(yield this.root.refreshPromise,yield V.ju.toPromise(this._onDidRender.event)),_e})}setSelection(d,k){const te=d.map(_e=>this.getDataNode(_e));this.tree.setSelection(te,k)}getSelection(){return this.tree.getSelection().map(k=>k.element)}setFocus(d,k){const te=d.map(_e=>this.getDataNode(_e));this.tree.setFocus(te,k)}getFocus(){return this.tree.getFocus().map(k=>k.element)}reveal(d,k){this.tree.reveal(this.getDataNode(d),k)}getParentElement(d){const k=this.tree.getParentElement(this.getDataNode(d));return k&&k.element}getFirstElementChild(d=this.root.element){const k=this.getDataNode(d),te=this.tree.getFirstElementChild(k===this.root?null:k);return te&&te.element}getDataNode(d){const k=this.nodes.get(d===this.root.element?null:d);if(!k)throw new I(this.user,`Data tree node not found: ${d}`);return k}refreshAndRenderNode(d,k,te,_e){return pi(this,void 0,void 0,function*(){yield this.refreshNode(d,k,te),this.render(d,te,_e)})}refreshNode(d,k,te){return pi(this,void 0,void 0,function*(){let _e;if(this.subTreeRefreshPromises.forEach((Ae,Be)=>{!_e&&Ft(Be,d)&&(_e=Ae.then(()=>this.refreshNode(d,k,te)))}),_e)return _e;if(d!==this.root&&this.tree.getNode(d).collapsed){d.hasChildren=!!this.dataSource.hasChildren(d.element),d.stale=!0;return}return this.doRefreshSubTree(d,k,te)})}doRefreshSubTree(d,k,te){return pi(this,void 0,void 0,function*(){let _e;d.refreshPromise=new Promise(Ae=>_e=Ae),this.subTreeRefreshPromises.set(d,d.refreshPromise),d.refreshPromise.finally(()=>{d.refreshPromise=void 0,this.subTreeRefreshPromises.delete(d)});try{const Ae=yield this.doRefreshNode(d,k,te);d.stale=!1,yield J.jT.settled(Ae.map(Be=>this.doRefreshSubTree(Be,k,te)))}finally{_e()}})}doRefreshNode(d,k,te){return pi(this,void 0,void 0,function*(){d.hasChildren=!!this.dataSource.hasChildren(d.element);let _e;if(!d.hasChildren)_e=Promise.resolve(U.$.empty());else{const Ae=this.doGetChildren(d);if((0,re.TW)(Ae))_e=Promise.resolve(Ae);else{const Be=(0,J.Vs)(800);Be.then(()=>{d.slow=!0,this._onDidChangeNodeSlowState.fire(d)},rt=>null),_e=Ae.finally(()=>Be.cancel())}}try{const Ae=yield _e;return this.setChildren(d,Ae,k,te)}catch(Ae){if(d!==this.root&&this.tree.hasElement(d)&&this.tree.collapse(d),(0,Zt.n2)(Ae))return[];throw Ae}finally{d.slow&&(d.slow=!1,this._onDidChangeNodeSlowState.fire(d))}})}doGetChildren(d){let k=this.refreshPromises.get(d);if(k)return k;const te=this.dataSource.getChildren(d.element);return(0,re.TW)(te)?this.processChildren(te):(k=(0,J.PG)(()=>pi(this,void 0,void 0,function*(){return this.processChildren(yield te)})),this.refreshPromises.set(d,k),k.finally(()=>{this.refreshPromises.delete(d)}))}_onDidChangeCollapseState({node:d,deep:k}){d.element!==null&&!d.collapsed&&d.element.stale&&(k?this.collapse(d.element.element):this.refreshAndRenderNode(d.element,!1).catch(Zt.dL))}setChildren(d,k,te,_e){const Ae=[...k];if(d.children.length===0&&Ae.length===0)return[];const Be=new Map,rt=new Map;for(const Et of d.children)if(Be.set(Et.element,Et),this.identityProvider){const Vt=this.tree.isCollapsed(Et);rt.set(Et.id,{node:Et,collapsed:Vt})}const ct=[],Lt=Ae.map(Et=>{const Vt=!!this.dataSource.hasChildren(Et);if(!this.identityProvider){const di=Li({element:Et,parent:d,hasChildren:Vt});return Vt&&this.collapseByDefault&&!this.collapseByDefault(Et)&&(di.collapsedByDefault=!1,ct.push(di)),di}const Xt=this.identityProvider.getId(Et).toString(),Jt=rt.get(Xt);if(Jt){const di=Jt.node;return Be.delete(di.element),this.nodes.delete(di.element),this.nodes.set(Et,di),di.element=Et,di.hasChildren=Vt,te?Jt.collapsed?(di.children.forEach(fi=>_t(fi,Ti=>this.nodes.delete(Ti.element))),di.children.splice(0,di.children.length),di.stale=!0):ct.push(di):Vt&&this.collapseByDefault&&!this.collapseByDefault(Et)&&(di.collapsedByDefault=!1,ct.push(di)),di}const Qt=Li({element:Et,parent:d,id:Xt,hasChildren:Vt});return _e&&_e.viewState.focus&&_e.viewState.focus.indexOf(Xt)>-1&&_e.focus.push(Qt),_e&&_e.viewState.selection&&_e.viewState.selection.indexOf(Xt)>-1&&_e.selection.push(Qt),_e&&_e.viewState.expanded&&_e.viewState.expanded.indexOf(Xt)>-1?ct.push(Qt):Vt&&this.collapseByDefault&&!this.collapseByDefault(Et)&&(Qt.collapsedByDefault=!1,ct.push(Qt)),Qt});for(const Et of Be.values())_t(Et,Vt=>this.nodes.delete(Vt.element));for(const Et of Lt)this.nodes.set(Et.element,Et);return d.children.splice(0,d.children.length,...Lt),d!==this.root&&this.autoExpandSingleChildren&&Lt.length===1&&ct.length===0&&(Lt[0].collapsedByDefault=!1,ct.push(Lt[0])),ct}render(d,k,te){const _e=d.children.map(Be=>this.asTreeElement(Be,k)),Ae=te&&Object.assign(Object.assign({},te),{diffIdentityProvider:te.diffIdentityProvider&&{getId(Be){return te.diffIdentityProvider.getId(Be.element)}}});this.tree.setChildren(d===this.root?null:d,_e,Ae),d!==this.root&&this.tree.setCollapsible(d,d.hasChildren),this._onDidRender.fire()}asTreeElement(d,k){if(d.stale)return{element:d,collapsible:d.hasChildren,collapsed:!0};let te;return k&&k.viewState.expanded&&d.id&&k.viewState.expanded.indexOf(d.id)>-1?te=!1:te=d.collapsedByDefault,d.collapsedByDefault=void 0,{element:d,children:d.hasChildren?U.$.map(d.children,_e=>this.asTreeElement(_e,k)):[],collapsible:d.hasChildren,collapsed:te}}processChildren(d){return this.sorter&&(d=[...d].sort(this.sorter.compare.bind(this.sorter))),d}dispose(){this.disposables.dispose()}}class be{constructor(d){this.node=d}get element(){return{elements:this.node.element.elements.map(d=>d.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(d=>new be(d))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Le{constructor(d,k,te,_e){this.renderer=d,this.nodeMapper=k,this.compressibleNodeMapperProvider=te,this.onDidChangeTwistieState=_e,this.renderedNodes=new Map,this.disposables=[],this.templateId=d.templateId}renderTemplate(d){return{templateData:this.renderer.renderTemplate(d)}}renderElement(d,k,te,_e){this.renderer.renderElement(this.nodeMapper.map(d),k,te.templateData,_e)}renderCompressedElements(d,k,te,_e){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(d),k,te.templateData,_e)}renderTwistie(d,k){return d.slow?(k.classList.add(...Z.lA.treeItemLoading.classNamesArray),!0):(k.classList.remove(...Z.lA.treeItemLoading.classNamesArray),!1)}disposeElement(d,k,te,_e){var Ae,Be;(Be=(Ae=this.renderer).disposeElement)===null||Be===void 0||Be.call(Ae,this.nodeMapper.map(d),k,te.templateData,_e)}disposeCompressedElements(d,k,te,_e){var Ae,Be;(Be=(Ae=this.renderer).disposeCompressedElements)===null||Be===void 0||Be.call(Ae,this.compressibleNodeMapperProvider().map(d),k,te.templateData,_e)}disposeTemplate(d){this.renderer.disposeTemplate(d.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,D.B9)(this.disposables)}}function Qe(F){const d=F&&vt(F);return d&&Object.assign(Object.assign({},d),{keyboardNavigationLabelProvider:d.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},d.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(k){return F.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(k.map(te=>te.element))}})})}class je extends nt{constructor(d,k,te,_e,Ae,Be,rt={}){super(d,k,te,Ae,Be,rt),this.compressionDelegate=_e,this.compressibleNodeMapper=new R(ct=>new be(ct)),this.filter=rt.filter}createTree(d,k,te,_e,Ae){const Be=new se(te),rt=_e.map(Lt=>new Le(Lt,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),ct=Qe(Ae)||{};return new Bt(d,k,Be,rt,ct)}asTreeElement(d,k){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(d.element)},super.asTreeElement(d,k))}updateOptions(d={}){this.tree.updateOptions(d)}render(d,k){if(!this.identityProvider)return super.render(d,k);const te=Xt=>this.identityProvider.getId(Xt).toString(),_e=Xt=>{const Jt=new Set;for(const Qt of Xt){const di=this.tree.getCompressedTreeNode(Qt===this.root?null:Qt);if(!!di.element)for(const fi of di.element.elements)Jt.add(te(fi.element))}return Jt},Ae=_e(this.tree.getSelection()),Be=_e(this.tree.getFocus());super.render(d,k);const rt=this.getSelection();let ct=!1;const Lt=this.getFocus();let Et=!1;const Vt=Xt=>{const Jt=Xt.element;if(Jt)for(let Qt=0;Qt<Jt.elements.length;Qt++){const di=te(Jt.elements[Qt].element),fi=Jt.elements[Jt.elements.length-1].element;Ae.has(di)&&rt.indexOf(fi)===-1&&(rt.push(fi),ct=!0),Be.has(di)&&Lt.indexOf(fi)===-1&&(Lt.push(fi),Et=!0)}Xt.children.forEach(Vt)};Vt(this.tree.getCompressedTreeNode(d===this.root?null:d)),ct&&this.setSelection(rt),Et&&this.setFocus(Lt)}processChildren(d){return this.filter&&(d=U.$.filter(d,k=>{const te=this.filter.filter(k,1),_e=ht(te);if(_e===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return _e===1})),super.processChildren(d)}}function ht(F){return typeof F=="boolean"?F?1:0:K(F)?H(F.visibility):H(F)}class bt extends Re{constructor(d,k,te,_e,Ae,Be={}){super(d,k,te,_e,Be),this.user=d,this.dataSource=Ae,this.identityProvider=Be.identityProvider}createModel(d,k,te){return new Je(d,k,te)}}var Dt=i(33108),Ht=i(23193),ei=i(16141),ui=i(39282),xi=i(5606),Si=i(72065),mi=i(91847),mn=i(89872),Mi=i(88810),fn=i(97781),Fi=function(F,d,k,te){var _e=arguments.length,Ae=_e<3?d:te===null?te=Object.getOwnPropertyDescriptor(d,k):te,Be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ae=Reflect.decorate(F,d,k,te);else for(var rt=F.length-1;rt>=0;rt--)(Be=F[rt])&&(Ae=(_e<3?Be(Ae):_e>3?Be(d,k,Ae):Be(d,k))||Ae);return _e>3&&Ae&&Object.defineProperty(d,k,Ae),Ae},Ni=function(F,d){return function(k,te){d(k,te,F)}};const Dn=(0,Si.yh)("listService");let Tn=class{constructor(d){this._themeService=d,this.disposables=new D.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(d){var k,te;d!==this._lastFocusedWidget&&((k=this._lastFocusedWidget)===null||k===void 0||k.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=d,(te=this._lastFocusedWidget)===null||te===void 0||te.getHTMLElement().classList.add("last-focused"))}register(d,k){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const _e=new M.wD((0,w.dS)(),"");this.disposables.add((0,Mi.Jl)(_e,this._themeService))}if(this.lists.some(_e=>_e.widget===d))throw new Error("Cannot register the same widget multiple times");const te={widget:d,extraContextKeys:k};return this.lists.push(te),d.getHTMLElement()===document.activeElement&&this.setLastFocusedList(d),(0,D.F8)(d.onDidFocus(()=>this.setLastFocusedList(d)),(0,D.OF)(()=>this.lists.splice(this.lists.indexOf(te),1)),d.onDidDispose(()=>{this.lists=this.lists.filter(_e=>_e!==te),this._lastFocusedWidget===d&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};Tn=Fi([Ni(0,fn.XE)],Tn);const $i=new ei.uy("listFocus",!0),pn=new ei.uy("listSupportsMultiselect",!0),Sn=ei.Ao.and($i,ei.Ao.not(ui.d0)),wn=new ei.uy("listHasSelectionOrFocus",!1),li=new ei.uy("listDoubleSelection",!1),Ke=new ei.uy("listMultiSelection",!1),Rt=new ei.uy("listSelectionNavigation",!1),At=new ei.uy("listSupportsFind",!0),ni=new ei.uy("treeElementCanCollapse",!1),ii=new ei.uy("treeElementHasParent",!1),xt=new ei.uy("treeElementCanExpand",!1),Ve=new ei.uy("treeElementHasChild",!1),dt=new ei.uy("treeFindOpen",!1),Tt="listTypeNavigationMode",jt="listAutomaticKeyboardNavigation";function $t(F,d){const k=F.createScoped(d.getHTMLElement());return $i.bindTo(k),k}const Wt="workbench.list.multiSelectModifier",We="workbench.list.openMode",Xe="workbench.list.horizontalScrolling",ut="workbench.list.defaultFindMode",pt="workbench.list.keyboardNavigation",kt="workbench.tree.indent",Kt="workbench.tree.renderIndentGuides",Gt="workbench.list.smoothScrolling",Ei="workbench.list.mouseWheelScrollSensitivity",Oi="workbench.list.fastScrollSensitivity",wi="workbench.tree.expandMode";function Pt(F){return F.getValue(Wt)==="alt"}class Pi extends D.JT{constructor(d){super(),this.configurationService=d,this.useAltAsMultipleSelectionModifier=Pt(d),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(d=>{d.affectsConfiguration(Wt)&&(this.useAltAsMultipleSelectionModifier=Pt(this.configurationService))}))}isSelectionSingleChangeEvent(d){return this.useAltAsMultipleSelectionModifier?d.browserEvent.altKey:(0,M.Zo)(d)}isSelectionRangeChangeEvent(d){return(0,M.wn)(d)}}function en(F,d){var k;const te=F.get(Dt.Ui),_e=F.get(mi.d),Ae=new D.SL;return[Object.assign(Object.assign({},d),{keyboardNavigationDelegate:{mightProducePrintableCharacter(rt){return _e.mightProducePrintableCharacter(rt)}},smoothScrolling:Boolean(te.getValue(Gt)),mouseWheelScrollSensitivity:te.getValue(Ei),fastScrollSensitivity:te.getValue(Oi),multipleSelectionController:(k=d.multipleSelectionController)!==null&&k!==void 0?k:Ae.add(new Pi(te)),keyboardNavigationEventFilter:nn(_e)}),Ae]}let un=class extends M.aV{constructor(d,k,te,_e,Ae,Be,rt,ct,Lt,Et){const Vt=typeof Ae.horizontalScrolling<"u"?Ae.horizontalScrolling:Boolean(Lt.getValue(Xe)),[Xt,Jt]=Et.invokeFunction(en,Ae);super(d,k,te,_e,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Mi.o)(ct.getColorTheme(),Mi.O2)),Xt),{horizontalScrolling:Vt})),this.disposables.add(Jt),this.contextKeyService=$t(Be,this),this.themeService=ct,this.listSupportsMultiSelect=pn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ae.multipleSelectionSupport!==!1),Rt.bindTo(this.contextKeyService).set(Boolean(Ae.selectionNavigation)),this.listHasSelectionOrFocus=wn.bindTo(this.contextKeyService),this.listDoubleSelection=li.bindTo(this.contextKeyService),this.listMultiSelection=Ke.bindTo(this.contextKeyService),this.horizontalScrolling=Ae.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Pt(Lt),this.disposables.add(this.contextKeyService),this.disposables.add(rt.register(this)),Ae.overrideStyles&&this.updateStyles(Ae.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const di=this.getSelection(),fi=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(di.length>0||fi.length>0),this.listMultiSelection.set(di.length>1),this.listDoubleSelection.set(di.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const di=this.getSelection(),fi=this.getFocus();this.listHasSelectionOrFocus.set(di.length>0||fi.length>0)})),this.disposables.add(Lt.onDidChangeConfiguration(di=>{di.affectsConfiguration(Wt)&&(this._useAltAsMultipleSelectionModifier=Pt(Lt));let fi={};if(di.affectsConfiguration(Xe)&&this.horizontalScrolling===void 0){const Ti=Boolean(Lt.getValue(Xe));fi=Object.assign(Object.assign({},fi),{horizontalScrolling:Ti})}if(di.affectsConfiguration(Gt)){const Ti=Boolean(Lt.getValue(Gt));fi=Object.assign(Object.assign({},fi),{smoothScrolling:Ti})}if(di.affectsConfiguration(Ei)){const Ti=Lt.getValue(Ei);fi=Object.assign(Object.assign({},fi),{mouseWheelScrollSensitivity:Ti})}if(di.affectsConfiguration(Oi)){const Ti=Lt.getValue(Oi);fi=Object.assign(Object.assign({},fi),{fastScrollSensitivity:Ti})}Object.keys(fi).length>0&&this.updateOptions(fi)})),this.navigator=new an(this,Object.assign({configurationService:Lt},Ae)),this.disposables.add(this.navigator)}updateOptions(d){super.updateOptions(d),d.overrideStyles&&this.updateStyles(d.overrideStyles),d.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!d.multipleSelectionSupport)}updateStyles(d){var k;(k=this._styler)===null||k===void 0||k.dispose(),this._styler=(0,Mi.Jl)(this,this.themeService,d)}dispose(){var d;(d=this._styler)===null||d===void 0||d.dispose(),super.dispose()}};un=Fi([Ni(5,ei.i6),Ni(6,Dn),Ni(7,fn.XE),Ni(8,Dt.Ui),Ni(9,Si.TG)],un);let hn=class extends c{constructor(d,k,te,_e,Ae,Be,rt,ct,Lt,Et){const Vt=typeof Ae.horizontalScrolling<"u"?Ae.horizontalScrolling:Boolean(Lt.getValue(Xe)),[Xt,Jt]=Et.invokeFunction(en,Ae);super(d,k,te,_e,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Mi.o)(ct.getColorTheme(),Mi.O2)),Xt),{horizontalScrolling:Vt})),this.disposables=new D.SL,this.disposables.add(Jt),this.contextKeyService=$t(Be,this),this.themeService=ct,this.horizontalScrolling=Ae.horizontalScrolling,this.listSupportsMultiSelect=pn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ae.multipleSelectionSupport!==!1),Rt.bindTo(this.contextKeyService).set(Boolean(Ae.selectionNavigation)),this._useAltAsMultipleSelectionModifier=Pt(Lt),this.disposables.add(this.contextKeyService),this.disposables.add(rt.register(this)),Ae.overrideStyles&&this.updateStyles(Ae.overrideStyles),Ae.overrideStyles&&this.disposables.add((0,Mi.Jl)(this,ct,Ae.overrideStyles)),this.disposables.add(Lt.onDidChangeConfiguration(di=>{di.affectsConfiguration(Wt)&&(this._useAltAsMultipleSelectionModifier=Pt(Lt));let fi={};if(di.affectsConfiguration(Xe)&&this.horizontalScrolling===void 0){const Ti=Boolean(Lt.getValue(Xe));fi=Object.assign(Object.assign({},fi),{horizontalScrolling:Ti})}if(di.affectsConfiguration(Gt)){const Ti=Boolean(Lt.getValue(Gt));fi=Object.assign(Object.assign({},fi),{smoothScrolling:Ti})}if(di.affectsConfiguration(Ei)){const Ti=Lt.getValue(Ei);fi=Object.assign(Object.assign({},fi),{mouseWheelScrollSensitivity:Ti})}if(di.affectsConfiguration(Oi)){const Ti=Lt.getValue(Oi);fi=Object.assign(Object.assign({},fi),{fastScrollSensitivity:Ti})}Object.keys(fi).length>0&&this.updateOptions(fi)})),this.navigator=new an(this,Object.assign({configurationService:Lt},Ae)),this.disposables.add(this.navigator)}updateOptions(d){super.updateOptions(d),d.overrideStyles&&this.updateStyles(d.overrideStyles),d.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!d.multipleSelectionSupport)}updateStyles(d){var k;(k=this._styler)===null||k===void 0||k.dispose(),this._styler=(0,Mi.Jl)(this,this.themeService,d)}dispose(){var d;(d=this._styler)===null||d===void 0||d.dispose(),this.disposables.dispose(),super.dispose()}};hn=Fi([Ni(5,ei.i6),Ni(6,Dn),Ni(7,fn.XE),Ni(8,Dt.Ui),Ni(9,Si.TG)],hn);let Gi=class extends g{constructor(d,k,te,_e,Ae,Be,rt,ct,Lt,Et,Vt){const Xt=typeof Be.horizontalScrolling<"u"?Be.horizontalScrolling:Boolean(Et.getValue(Xe)),[Jt,Qt]=Vt.invokeFunction(en,Be);super(d,k,te,_e,Ae,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,Mi.o)(Lt.getColorTheme(),Mi.O2)),Jt),{horizontalScrolling:Xt})),this.disposables.add(Qt),this.contextKeyService=$t(rt,this),this.themeService=Lt,this.listSupportsMultiSelect=pn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Be.multipleSelectionSupport!==!1),Rt.bindTo(this.contextKeyService).set(Boolean(Be.selectionNavigation)),this.listHasSelectionOrFocus=wn.bindTo(this.contextKeyService),this.listDoubleSelection=li.bindTo(this.contextKeyService),this.listMultiSelection=Ke.bindTo(this.contextKeyService),this.horizontalScrolling=Be.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Pt(Et),this.disposables.add(this.contextKeyService),this.disposables.add(ct.register(this)),Be.overrideStyles&&this.updateStyles(Be.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const fi=this.getSelection(),Ti=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(fi.length>0||Ti.length>0),this.listMultiSelection.set(fi.length>1),this.listDoubleSelection.set(fi.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const fi=this.getSelection(),Ti=this.getFocus();this.listHasSelectionOrFocus.set(fi.length>0||Ti.length>0)})),this.disposables.add(Et.onDidChangeConfiguration(fi=>{fi.affectsConfiguration(Wt)&&(this._useAltAsMultipleSelectionModifier=Pt(Et));let Ti={};if(fi.affectsConfiguration(Xe)&&this.horizontalScrolling===void 0){const ln=Boolean(Et.getValue(Xe));Ti=Object.assign(Object.assign({},Ti),{horizontalScrolling:ln})}if(fi.affectsConfiguration(Gt)){const ln=Boolean(Et.getValue(Gt));Ti=Object.assign(Object.assign({},Ti),{smoothScrolling:ln})}if(fi.affectsConfiguration(Ei)){const ln=Et.getValue(Ei);Ti=Object.assign(Object.assign({},Ti),{mouseWheelScrollSensitivity:ln})}if(fi.affectsConfiguration(Oi)){const ln=Et.getValue(Oi);Ti=Object.assign(Object.assign({},Ti),{fastScrollSensitivity:ln})}Object.keys(Ti).length>0&&this.updateOptions(Ti)})),this.navigator=new tn(this,Object.assign({configurationService:Et},Be)),this.disposables.add(this.navigator)}updateOptions(d){super.updateOptions(d),d.overrideStyles&&this.updateStyles(d.overrideStyles),d.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!d.multipleSelectionSupport)}updateStyles(d){var k;(k=this._styler)===null||k===void 0||k.dispose(),this._styler=(0,Mi.Jl)(this,this.themeService,d)}dispose(){var d;(d=this._styler)===null||d===void 0||d.dispose(),this.disposables.dispose(),super.dispose()}};Gi=Fi([Ni(6,ei.i6),Ni(7,Dn),Ni(8,fn.XE),Ni(9,Dt.Ui),Ni(10,Si.TG)],Gi);class _n extends D.JT{constructor(d,k){var te;super(),this.widget=d,this._onDidOpen=this._register(new V.Q5),this.onDidOpen=this._onDidOpen.event,this._register(V.ju.filter(this.widget.onDidChangeSelection,_e=>_e.browserEvent instanceof KeyboardEvent)(_e=>this.onSelectionFromKeyboard(_e))),this._register(this.widget.onPointer(_e=>this.onPointer(_e.element,_e.browserEvent))),this._register(this.widget.onMouseDblClick(_e=>this.onMouseDblClick(_e.element,_e.browserEvent))),typeof(k==null?void 0:k.openOnSingleClick)!="boolean"&&(k==null?void 0:k.configurationService)?(this.openOnSingleClick=(k==null?void 0:k.configurationService.getValue(We))!=="doubleClick",this._register(k==null?void 0:k.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(k==null?void 0:k.configurationService.getValue(We))!=="doubleClick"}))):this.openOnSingleClick=(te=k==null?void 0:k.openOnSingleClick)!==null&&te!==void 0?te:!0}onSelectionFromKeyboard(d){if(d.elements.length!==1)return;const k=d.browserEvent,te=typeof k.preserveFocus=="boolean"?k.preserveFocus:!0,_e=typeof k.pinned=="boolean"?k.pinned:!te,Ae=!1;this._open(this.getSelectedElement(),te,_e,Ae,d.browserEvent)}onPointer(d,k){if(!this.openOnSingleClick||k.detail===2)return;const _e=k.button===1,Ae=!0,Be=_e,rt=k.ctrlKey||k.metaKey||k.altKey;this._open(d,Ae,Be,rt,k)}onMouseDblClick(d,k){if(!k)return;const te=k.target;if(te.classList.contains("monaco-tl-twistie")||te.classList.contains("monaco-icon-label")&&te.classList.contains("folder-icon")&&k.offsetX<16)return;const Ae=!1,Be=!0,rt=k.ctrlKey||k.metaKey||k.altKey;this._open(d,Ae,Be,rt,k)}_open(d,k,te,_e,Ae){!d||this._onDidOpen.fire({editorOptions:{preserveFocus:k,pinned:te,revealIfVisible:!0},sideBySide:_e,element:d,browserEvent:Ae})}}class an extends _n{constructor(d,k){super(d,k),this.widget=d}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class tn extends _n{constructor(d,k){super(d,k)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class En extends _n{constructor(d,k){super(d,k)}getSelectedElement(){var d;return(d=this.widget.getSelection()[0])!==null&&d!==void 0?d:void 0}}function nn(F){let d=!1;return k=>{if(k.toKeybinding().isModifierKey())return!1;if(d)return d=!1,!1;const te=F.softDispatch(k,k.target);return te!=null&&te.enterChord?(d=!0,!1):(d=!1,!te)}}let yi=class extends wt{constructor(d,k,te,_e,Ae,Be,rt,ct,Lt,Et){const{options:Vt,getTypeNavigationMode:Xt,disposable:Jt}=Be.invokeFunction(Bn,Ae);super(d,k,te,_e,Vt),this.disposables.add(Jt),this.internals=new St(this,Ae,Xt,Ae.overrideStyles,rt,ct,Lt,Et),this.disposables.add(this.internals)}updateOptions(d){super.updateOptions(d),this.internals.updateOptions(d)}};yi=Fi([Ni(5,Si.TG),Ni(6,ei.i6),Ni(7,Dn),Ni(8,fn.XE),Ni(9,Dt.Ui)],yi);let oi=class extends Bt{constructor(d,k,te,_e,Ae,Be,rt,ct,Lt,Et){const{options:Vt,getTypeNavigationMode:Xt,disposable:Jt}=Be.invokeFunction(Bn,Ae);super(d,k,te,_e,Vt),this.disposables.add(Jt),this.internals=new St(this,Ae,Xt,Ae.overrideStyles,rt,ct,Lt,Et),this.disposables.add(this.internals)}updateOptions(d={}){super.updateOptions(d),d.overrideStyles&&this.internals.updateStyleOverrides(d.overrideStyles),this.internals.updateOptions(d)}};oi=Fi([Ni(5,Si.TG),Ni(6,ei.i6),Ni(7,Dn),Ni(8,fn.XE),Ni(9,Dt.Ui)],oi);let Ii=class extends bt{constructor(d,k,te,_e,Ae,Be,rt,ct,Lt,Et,Vt){const{options:Xt,getTypeNavigationMode:Jt,disposable:Qt}=rt.invokeFunction(Bn,Be);super(d,k,te,_e,Ae,Xt),this.disposables.add(Qt),this.internals=new St(this,Be,Jt,Be.overrideStyles,ct,Lt,Et,Vt),this.disposables.add(this.internals)}updateOptions(d={}){super.updateOptions(d),d.overrideStyles&&this.internals.updateStyleOverrides(d.overrideStyles),this.internals.updateOptions(d)}};Ii=Fi([Ni(6,Si.TG),Ni(7,ei.i6),Ni(8,Dn),Ni(9,fn.XE),Ni(10,Dt.Ui)],Ii);let Vi=class extends nt{constructor(d,k,te,_e,Ae,Be,rt,ct,Lt,Et,Vt){const{options:Xt,getTypeNavigationMode:Jt,disposable:Qt}=rt.invokeFunction(Bn,Be);super(d,k,te,_e,Ae,Xt),this.disposables.add(Qt),this.internals=new St(this,Be,Jt,Be.overrideStyles,ct,Lt,Et,Vt),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(d={}){super.updateOptions(d),d.overrideStyles&&this.internals.updateStyleOverrides(d.overrideStyles),this.internals.updateOptions(d)}};Vi=Fi([Ni(6,Si.TG),Ni(7,ei.i6),Ni(8,Dn),Ni(9,fn.XE),Ni(10,Dt.Ui)],Vi);let yn=class extends je{constructor(d,k,te,_e,Ae,Be,rt,ct,Lt,Et,Vt,Xt){const{options:Jt,getTypeNavigationMode:Qt,disposable:di}=ct.invokeFunction(Bn,rt);super(d,k,te,_e,Ae,Be,Jt),this.disposables.add(di),this.internals=new St(this,rt,Qt,rt.overrideStyles,Lt,Et,Vt,Xt),this.disposables.add(this.internals)}updateOptions(d){super.updateOptions(d),this.internals.updateOptions(d)}};yn=Fi([Ni(7,Si.TG),Ni(8,ei.i6),Ni(9,Dn),Ni(10,fn.XE),Ni(11,Dt.Ui)],yn);function zn(F){const d=F.getValue(ut);if(d==="highlight")return ye.Highlight;if(d==="filter")return ye.Filter;const k=F.getValue(pt);if(k==="simple"||k==="highlight")return ye.Highlight;if(k==="filter")return ye.Filter}function Bn(F,d){var k;const te=F.get(Dt.Ui),_e=F.get(xi.u),Ae=F.get(ei.i6),Be=F.get(Si.TG),rt=()=>{const Xt=Ae.getContextKeyValue(Tt);if(Xt==="automatic")return M.AA.Automatic;if(Xt==="trigger"||Ae.getContextKeyValue(jt)===!1)return M.AA.Trigger},ct=d.horizontalScrolling!==void 0?d.horizontalScrolling:Boolean(te.getValue(Xe)),[Lt,Et]=Be.invokeFunction(en,d),Vt=d.additionalScrollHeight;return{getTypeNavigationMode:rt,disposable:Et,options:Object.assign(Object.assign({keyboardSupport:!1},Lt),{indent:typeof te.getValue(kt)=="number"?te.getValue(kt):void 0,renderIndentGuides:te.getValue(Kt),smoothScrolling:Boolean(te.getValue(Gt)),defaultFindMode:zn(te),horizontalScrolling:ct,additionalScrollHeight:Vt,hideTwistiesOfChildlessElements:d.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(k=d.expandOnlyOnTwistieClick)!==null&&k!==void 0?k:te.getValue(wi)==="doubleClick",contextViewProvider:_e})}}let St=class{constructor(d,k,te,_e,Ae,Be,rt,ct){var Lt;this.tree=d,this.themeService=rt,this.disposables=[],this.contextKeyService=$t(Ae,d),this.listSupportsMultiSelect=pn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(k.multipleSelectionSupport!==!1),Rt.bindTo(this.contextKeyService).set(Boolean(k.selectionNavigation)),this.listSupportFindWidget=At.bindTo(this.contextKeyService),this.listSupportFindWidget.set((Lt=k.findWidgetEnabled)!==null&&Lt!==void 0?Lt:!0),this.hasSelectionOrFocus=wn.bindTo(this.contextKeyService),this.hasDoubleSelection=li.bindTo(this.contextKeyService),this.hasMultiSelection=Ke.bindTo(this.contextKeyService),this.treeElementCanCollapse=ni.bindTo(this.contextKeyService),this.treeElementHasParent=ii.bindTo(this.contextKeyService),this.treeElementCanExpand=xt.bindTo(this.contextKeyService),this.treeElementHasChild=Ve.bindTo(this.contextKeyService),this.treeFindOpen=dt.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=Pt(ct),this.updateStyleOverrides(_e);const Vt=()=>{const Jt=d.getFocus()[0];if(!Jt)return;const Qt=d.getNode(Jt);this.treeElementCanCollapse.set(Qt.collapsible&&!Qt.collapsed),this.treeElementHasParent.set(!!d.getParentElement(Jt)),this.treeElementCanExpand.set(Qt.collapsible&&Qt.collapsed),this.treeElementHasChild.set(!!d.getFirstElementChild(Jt))},Xt=new Set;Xt.add(Tt),Xt.add(jt),this.disposables.push(this.contextKeyService,Be.register(d),d.onDidChangeSelection(()=>{const Jt=d.getSelection(),Qt=d.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Jt.length>0||Qt.length>0),this.hasMultiSelection.set(Jt.length>1),this.hasDoubleSelection.set(Jt.length===2)})}),d.onDidChangeFocus(()=>{const Jt=d.getSelection(),Qt=d.getFocus();this.hasSelectionOrFocus.set(Jt.length>0||Qt.length>0),Vt()}),d.onDidChangeCollapseState(Vt),d.onDidChangeModel(Vt),d.onDidChangeFindOpenState(Jt=>this.treeFindOpen.set(Jt)),ct.onDidChangeConfiguration(Jt=>{let Qt={};if(Jt.affectsConfiguration(Wt)&&(this._useAltAsMultipleSelectionModifier=Pt(ct)),Jt.affectsConfiguration(kt)){const di=ct.getValue(kt);Qt=Object.assign(Object.assign({},Qt),{indent:di})}if(Jt.affectsConfiguration(Kt)){const di=ct.getValue(Kt);Qt=Object.assign(Object.assign({},Qt),{renderIndentGuides:di})}if(Jt.affectsConfiguration(Gt)){const di=Boolean(ct.getValue(Gt));Qt=Object.assign(Object.assign({},Qt),{smoothScrolling:di})}if((Jt.affectsConfiguration(ut)||Jt.affectsConfiguration(pt))&&d.updateOptions({defaultFindMode:zn(ct)}),Jt.affectsConfiguration(Xe)&&k.horizontalScrolling===void 0){const di=Boolean(ct.getValue(Xe));Qt=Object.assign(Object.assign({},Qt),{horizontalScrolling:di})}if(Jt.affectsConfiguration(wi)&&k.expandOnlyOnTwistieClick===void 0&&(Qt=Object.assign(Object.assign({},Qt),{expandOnlyOnTwistieClick:ct.getValue(wi)==="doubleClick"})),Jt.affectsConfiguration(Ei)){const di=ct.getValue(Ei);Qt=Object.assign(Object.assign({},Qt),{mouseWheelScrollSensitivity:di})}if(Jt.affectsConfiguration(Oi)){const di=ct.getValue(Oi);Qt=Object.assign(Object.assign({},Qt),{fastScrollSensitivity:di})}Object.keys(Qt).length>0&&d.updateOptions(Qt)}),this.contextKeyService.onDidChangeContext(Jt=>{Jt.affectsSome(Xt)&&d.updateOptions({typeNavigationMode:te()})})),this.navigator=new En(d,Object.assign({configurationService:ct},k)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(d){d.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!d.multipleSelectionSupport)}updateStyleOverrides(d){(0,D.B9)(this.styler),this.styler=d?(0,Mi.Jl)(this.tree,this.themeService,d):D.JT.None}dispose(){this.disposables=(0,D.B9)(this.disposables),(0,D.B9)(this.styler),this.styler=void 0}};St=Fi([Ni(4,ei.i6),Ni(5,Dn),Ni(6,fn.XE),Ni(7,Dt.Ui)],St),mn.B.as(Ht.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,S.NC)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Wt]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,S.NC)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,S.NC)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,S.NC)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[We]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,S.NC)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Xe]:{type:"boolean",default:!1,description:(0,S.NC)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[kt]:{type:"number",default:8,minimum:4,maximum:40,description:(0,S.NC)("tree indent setting","Controls tree indentation in pixels.")},[Kt]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,S.NC)("render tree indent guides","Controls whether the tree should render indent guides.")},[Gt]:{type:"boolean",default:!1,description:(0,S.NC)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[Ei]:{type:"number",default:1,markdownDescription:(0,S.NC)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[Oi]:{type:"number",default:5,description:(0,S.NC)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[ut]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,S.NC)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,S.NC)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,S.NC)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[pt]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,S.NC)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,S.NC)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,S.NC)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,S.NC)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,S.NC)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' instead.")},[wi]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,S.NC)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},43557:function(Ot,Te,i){"use strict";i.d(Te,{$V:function(){return A},VZ:function(){return V},in:function(){return D},kw:function(){return P}});var w=i(4669),r=i(9917),O=i(72065);const V=(0,O.yh)("logService");var D;(function(L){L[L.Trace=0]="Trace",L[L.Debug=1]="Debug",L[L.Info=2]="Info",L[L.Warning=3]="Warning",L[L.Error=4]="Error",L[L.Critical=5]="Critical",L[L.Off=6]="Off"})(D||(D={}));const $=D.Info;class M extends r.JT{constructor(){super(...arguments),this.level=$,this._onDidChangeLogLevel=this._register(new w.Q5)}setLevel(c){this.level!==c&&(this.level=c,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class P extends M{constructor(c=$){super(),this.setLevel(c)}trace(c,...p){this.getLevel()<=D.Trace&&console.log("%cTRACE","color: #888",c,...p)}debug(c,...p){this.getLevel()<=D.Debug&&console.log("%cDEBUG","background: #eee; color: #888",c,...p)}info(c,...p){this.getLevel()<=D.Info&&console.log("%c INFO","color: #33f",c,...p)}error(c,...p){this.getLevel()<=D.Error&&console.log("%c  ERR","color: #f33",c,...p)}dispose(){}}class A extends r.JT{constructor(c){super(),this.logger=c,this._register(c)}getLevel(){return this.logger.getLevel()}trace(c,...p){this.logger.trace(c,...p)}debug(c,...p){this.logger.debug(c,...p)}info(c,...p){this.logger.info(c,...p)}error(c,...p){this.logger.error(c,...p)}}},98674:function(Ot,Te,i){"use strict";i.d(Te,{H0:function(){return D},ZL:function(){return V},lT:function(){return $}});var w=i(14603),r=i(63580),O=i(72065),V;(function(M){M[M.Hint=1]="Hint",M[M.Info=2]="Info",M[M.Warning=4]="Warning",M[M.Error=8]="Error"})(V||(V={})),function(M){function P(l,n){return n-l}M.compare=P;const A=Object.create(null);A[M.Error]=(0,r.NC)("sev.error","Error"),A[M.Warning]=(0,r.NC)("sev.warning","Warning"),A[M.Info]=(0,r.NC)("sev.info","Info");function L(l){return A[l]||""}M.toString=L;function c(l){switch(l){case w.Z.Error:return M.Error;case w.Z.Warning:return M.Warning;case w.Z.Info:return M.Info;case w.Z.Ignore:return M.Hint}}M.fromSeverity=c;function p(l){switch(l){case M.Error:return w.Z.Error;case M.Warning:return w.Z.Warning;case M.Info:return w.Z.Info;case M.Hint:return w.Z.Ignore}}M.toSeverity=p}(V||(V={}));var D;(function(M){const P="";function A(c){return L(c,!0)}M.makeKey=A;function L(c,p){const l=[P];return c.source?l.push(c.source.replace("\xA6","\\\xA6")):l.push(P),c.code?typeof c.code=="string"?l.push(c.code.replace("\xA6","\\\xA6")):l.push(c.code.value.replace("\xA6","\\\xA6")):l.push(P),c.severity!==void 0&&c.severity!==null?l.push(V.toString(c.severity)):l.push(P),c.message&&p?l.push(c.message.replace("\xA6","\\\xA6")):l.push(P),c.startLineNumber!==void 0&&c.startLineNumber!==null?l.push(c.startLineNumber.toString()):l.push(P),c.startColumn!==void 0&&c.startColumn!==null?l.push(c.startColumn.toString()):l.push(P),c.endLineNumber!==void 0&&c.endLineNumber!==null?l.push(c.endLineNumber.toString()):l.push(P),c.endColumn!==void 0&&c.endColumn!==null?l.push(c.endColumn.toString()):l.push(P),l.push(P),l.join("\xA6")}M.makeKeyOptionalMessage=L})(D||(D={}));const $=(0,O.yh)("markerService")},59422:function(Ot,Te,i){"use strict";i.d(Te,{EO:function(){return D},lT:function(){return V},zb:function(){return O}});var w=i(14603),r=i(72065),O=w.Z;const V=(0,r.yh)("notificationService");class D{}},50988:function(Ot,Te,i){"use strict";i.d(Te,{Gs:function(){return A},SW:function(){return M},v4:function(){return $},xI:function(){return L},xn:function(){return P}});var w=i(9917),r=i(97295),O=i(70666),V=i(72065),D=function(c,p,l,n){function a(g){return g instanceof l?g:new l(function(f){f(g)})}return new(l||(l=Promise))(function(g,f){function u(b){try{y(n.next(b))}catch(_){f(_)}}function C(b){try{y(n.throw(b))}catch(_){f(_)}}function y(b){b.done?g(b.value):a(b.value).then(u,C)}y((n=n.apply(c,p||[])).next())})};const $=(0,V.yh)("openerService"),M=Object.freeze({_serviceBrand:void 0,registerOpener(){return w.JT.None},registerValidator(){return w.JT.None},registerExternalUriResolver(){return w.JT.None},setDefaultExternalOpener(){},registerExternalOpener(){return w.JT.None},open(){return D(this,void 0,void 0,function*(){return!1})},resolveExternalUri(c){return D(this,void 0,void 0,function*(){return{resolved:c,dispose(){}}})}});function P(c,p){return O.o.isUri(c)?(0,r.qq)(c.scheme,p):(0,r.ok)(c,p+":")}function A(c,...p){return p.some(l=>P(c,l))}function L(c){let p;const l=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(c.fragment);return l&&(p={startLineNumber:parseInt(l[1]),startColumn:l[2]?parseInt(l[2]):1,endLineNumber:l[4]?parseInt(l[4]):void 0,endColumn:l[4]?l[5]?parseInt(l[5]):1:void 0},c=c.with({fragment:""})),{selection:p,uri:c}}},90535:function(Ot,Te,i){"use strict";i.d(Te,{Ex:function(){return V},R9:function(){return r},ek:function(){return D}});var w=i(72065);const r=(0,w.yh)("progressService"),O=Object.freeze({total(){},worked(){},done(){}});class V{constructor(M){this.callback=M}report(M){this._value=M,this.callback(this._value)}}V.None=Object.freeze({report(){}});const D=(0,w.yh)("editorProgressService")},90725:function(Ot,Te,i){"use strict";i.d(Te,{IP:function(){return D},Ry:function(){return V}});var w=i(9488),r=i(9917),O=i(89872),V;(function(M){M[M.PRESERVE=0]="PRESERVE",M[M.LAST=1]="LAST"})(V||(V={}));const D={Quickaccess:"workbench.contributions.quickaccess"};class ${constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(P){return P.prefix.length===0?this.defaultProvider=P:this.providers.push(P),this.providers.sort((A,L)=>L.prefix.length-A.prefix.length),(0,r.OF)(()=>{this.providers.splice(this.providers.indexOf(P),1),this.defaultProvider===P&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,w.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(P){return P&&this.providers.find(L=>P.startsWith(L.prefix))||void 0||this.defaultProvider}}O.B.add(D.Quickaccess,new $)},41157:function(Ot,Te,i){"use strict";i.d(Te,{eJ:function(){return O},jG:function(){return r.jG}});var w=i(72065),r=i(67746);const O=(0,w.yh)("quickInputService")},89872:function(Ot,Te,i){"use strict";i.d(Te,{B:function(){return V}});var w=i(35146),r=i(98401);class O{constructor(){this.data=new Map}add($,M){w.ok(r.HD($)),w.ok(r.Kn(M)),w.ok(!this.data.has($),"There is already an extension with this id"),this.data.set($,M)}as($){return this.data.get($)||null}}const V=new O},26904:function(Ot,Te,i){"use strict";i.d(Te,{Uy:function(){return c},vm:function(){return n},fk:function(){return p}});var w=i(4669),r=i(9917),O=i(98401),V=i(15393),D=function(a,g,f,u){function C(y){return y instanceof f?y:new f(function(b){b(y)})}return new(f||(f=Promise))(function(y,b){function _(R){try{I(u.next(R))}catch(J){b(J)}}function E(R){try{I(u.throw(R))}catch(J){b(J)}}function I(R){R.done?y(R.value):C(R.value).then(_,E)}I((u=u.apply(a,g||[])).next())})},$;(function(a){a[a.None=0]="None",a[a.Initialized=1]="Initialized",a[a.Closed=2]="Closed"})($||($={}));class M extends r.JT{constructor(g,f=Object.create(null)){super(),this.database=g,this.options=f,this._onDidChangeStorage=this._register(new w.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=$.None,this.cache=new Map,this.flushDelayer=new V.rH(M.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(g=>this.onDidChangeItemsExternal(g)))}onDidChangeItemsExternal(g){var f,u;(f=g.changed)===null||f===void 0||f.forEach((C,y)=>this.accept(y,C)),(u=g.deleted)===null||u===void 0||u.forEach(C=>this.accept(C,void 0))}accept(g,f){if(this.state===$.Closed)return;let u=!1;(0,O.Jp)(f)?u=this.cache.delete(g):this.cache.get(g)!==f&&(this.cache.set(g,f),u=!0),u&&this._onDidChangeStorage.fire(g)}get(g,f){const u=this.cache.get(g);return(0,O.Jp)(u)?f:u}getBoolean(g,f){const u=this.get(g);return(0,O.Jp)(u)?f:u==="true"}getNumber(g,f){const u=this.get(g);return(0,O.Jp)(u)?f:parseInt(u,10)}set(g,f){return D(this,void 0,void 0,function*(){if(this.state===$.Closed)return;if((0,O.Jp)(f))return this.delete(g);const u=String(f);if(this.cache.get(g)!==u)return this.cache.set(g,u),this.pendingInserts.set(g,u),this.pendingDeletes.delete(g),this._onDidChangeStorage.fire(g),this.doFlush()})}delete(g){return D(this,void 0,void 0,function*(){if(!(this.state===$.Closed||!this.cache.delete(g)))return this.pendingDeletes.has(g)||this.pendingDeletes.add(g),this.pendingInserts.delete(g),this._onDidChangeStorage.fire(g),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return D(this,void 0,void 0,function*(){if(!this.hasPending)return;const g={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(g).finally(()=>{var f;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(f=this.whenFlushedCallbacks.pop())===null||f===void 0||f()})})}doFlush(g){return D(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),g)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}M.DEFAULT_FLUSH_DELAY=100;class P{constructor(){this.onDidChangeItemsExternal=w.ju.None,this.items=new Map}updateItems(g){var f,u;return D(this,void 0,void 0,function*(){(f=g.insert)===null||f===void 0||f.forEach((C,y)=>this.items.set(y,C)),(u=g.delete)===null||u===void 0||u.forEach(C=>this.items.delete(C))})}}var A=i(72065);const L="__$__targetStorageMarker",c=(0,A.yh)("storageService");var p;(function(a){a[a.NONE=0]="NONE",a[a.SHUTDOWN=1]="SHUTDOWN"})(p||(p={}));class l extends r.JT{constructor(g={flushInterval:l.DEFAULT_FLUSH_INTERVAL}){super(),this.options=g,this._onDidChangeValue=this._register(new w.K3),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new w.K3),this._onWillSaveState=this._register(new w.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(g,f){if(f===L){switch(g){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:g})}else this._onDidChangeValue.fire({scope:g,key:f,target:this.getKeyTargets(g)[f]})}get(g,f,u){var C;return(C=this.getStorage(f))===null||C===void 0?void 0:C.get(g,u)}getBoolean(g,f,u){var C;return(C=this.getStorage(f))===null||C===void 0?void 0:C.getBoolean(g,u)}getNumber(g,f,u){var C;return(C=this.getStorage(f))===null||C===void 0?void 0:C.getNumber(g,u)}store(g,f,u,C){if((0,O.Jp)(f)){this.remove(g,u);return}this.withPausedEmitters(()=>{var y;this.updateKeyTarget(g,u,C),(y=this.getStorage(u))===null||y===void 0||y.set(g,f)})}remove(g,f){this.withPausedEmitters(()=>{var u;this.updateKeyTarget(g,f,void 0),(u=this.getStorage(f))===null||u===void 0||u.delete(g)})}withPausedEmitters(g){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{g()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(g,f,u){var C,y;const b=this.getKeyTargets(f);typeof u=="number"?b[g]!==u&&(b[g]=u,(C=this.getStorage(f))===null||C===void 0||C.set(L,JSON.stringify(b))):typeof b[g]=="number"&&(delete b[g],(y=this.getStorage(f))===null||y===void 0||y.set(L,JSON.stringify(b)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(g){switch(g){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(g){const f=this.get(L,g);if(f)try{return JSON.parse(f)}catch{}return Object.create(null)}}l.DEFAULT_FLUSH_INTERVAL=60*1e3;class n extends l{constructor(){super(),this.applicationStorage=this._register(new M(new P)),this.profileStorage=this._register(new M(new P)),this.workspaceStorage=this._register(new M(new P)),this._register(this.workspaceStorage.onDidChangeStorage(g=>this.emitDidChangeValue(1,g))),this._register(this.profileStorage.onDidChangeStorage(g=>this.emitDidChangeValue(0,g))),this._register(this.applicationStorage.onDidChangeStorage(g=>this.emitDidChangeValue(-1,g)))}getStorage(g){switch(g){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},10829:function(Ot,Te,i){"use strict";i.d(Te,{b:function(){return r}});var w=i(72065);const r=(0,w.yh)("telemetryService")},73910:function(Ot,Te,i){"use strict";i.d(Te,{$DX:function(){return Ti},$d5:function(){return oi},ABB:function(){return He},AS1:function(){return Ii},AWI:function(){return je},BOY:function(){return Ln},Bqu:function(){return en},C3g:function(){return ee},CA6:function(){return gr},CNo:function(){return pn},Cdg:function(){return Jt},CzK:function(){return dt},D0T:function(){return Ci},D1_:function(){return ai},DEr:function(){return Qt},Dut:function(){return Zt},E3h:function(){return ln},EPQ:function(){return Ce},EQn:function(){return rt},ES4:function(){return Ht},EiJ:function(){return Mi},F3d:function(){return nn},F9q:function(){return kt},Fm_:function(){return Ks},Fu1:function(){return xt},GO4:function(){return qe},Gj_:function(){return Ho},Gwp:function(){return Vi},HCL:function(){return ni},Hfx:function(){return bi},Hz8:function(){return di},IPX:function(){return A},IYc:function(){return Vo},Ido:function(){return g},Itd:function(){return uo},Ivo:function(){return Kn},JpG:function(){return Ur},K19:function(){return ht},LLc:function(){return Ei},L_H:function(){return Ie},L_t:function(){return Oi},LoV:function(){return Sn},M6C:function(){return hn},MUv:function(){return Si},NOs:function(){return Ft},NPS:function(){return Et},Ng6:function(){return Mt},OLZ:function(){return pr},OZR:function(){return oe},Oop:function(){return Pi},P4M:function(){return $t},P6G:function(){return l},P6Y:function(){return pt},PRb:function(){return Z},PX0:function(){return yn},PpC:function(){return Ke},Pvw:function(){return G},QO2:function(){return P},R80:function(){return C},RV_:function(){return ge},Rzx:function(){return ei},SPM:function(){return lo},SUG:function(){return pe},SUY:function(){return Ts},Saq:function(){return d},Sbf:function(){return $i},Snq:function(){return is},SwI:function(){return K},T83:function(){return Bt},Tnx:function(){return Gi},UnT:function(){return Ae},VVv:function(){return li},Vqd:function(){return Xt},XEs:function(){return z},XL$:function(){return Kt},XZx:function(){return u},Xy4:function(){return mr},YI3:function(){return he},ZGJ:function(){return An},ZnX:function(){return zi},_2n:function(){return Pt},_Yy:function(){return wn},_bK:function(){return wi},_lC:function(){return S},_t9:function(){return ne},_wn:function(){return de},b6y:function(){return ft},b7$:function(){return at},bKB:function(){return At},brw:function(){return xo},c63:function(){return lt},cbQ:function(){return Vt},cvW:function(){return ot},dCr:function(){return un},dRz:function(){return n},dt_:function(){return x},etL:function(){return Pe},fEB:function(){return pi},few:function(){return Oe},g8u:function(){return we},g_n:function(){return ui},gkn:function(){return fn},gpD:function(){return ze},hEj:function(){return bt},hX8:function(){return Rt},hzo:function(){return Wt},j51:function(){return Xe},j5u:function(){return xe},jUe:function(){return mi},jbW:function(){return fi},kJk:function(){return nt},kVY:function(){return js},keg:function(){return Tt},kvU:function(){return tn},kwl:function(){return ho},lRK:function(){return y},lUq:function(){return Rn},lWp:function(){return Qe},lXJ:function(){return Ge},loF:function(){return _t},mHy:function(){return Gt},mV1:function(){return yi},nyM:function(){return xi},oQ$:function(){return Le},oSI:function(){return F},opG:function(){return be},ov3:function(){return co},pW3:function(){return wt},paE:function(){return se},phM:function(){return ii},pnM:function(){return mn},ptc:function(){return Dn},qeD:function(){return Ne},rg2:function(){return _n},rh:function(){return H},s$:function(){return En},sEe:function(){return X},sKV:function(){return Ve},sgC:function(){return R},tZ6:function(){return vt},uoC:function(){return mt},url:function(){return I},uxu:function(){return Be},vGG:function(){return N},xL1:function(){return b},xi6:function(){return We},y65:function(){return k},yJx:function(){return Tn},yb5:function(){return Dt},ynu:function(){return $e},ypS:function(){return jt},ytC:function(){return an},zJb:function(){return j},zKr:function(){return Ut},zOm:function(){return ut},zRJ:function(){return me}});var w=i(15393),r=i(41264),O=i(4669),V=i(98401),D=i(63580),$=i(81294),M=i(89872);function P(sn){return`--vscode-${sn.replace(/\./g,"-")}`}const A={ColorContribution:"base.contributions.colors"};class L{constructor(){this._onDidChangeSchema=new O.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(Mn,Zn,gn,rs=!1,ns){const ps={id:Mn,description:gn,defaults:Zn,needsTransparency:rs,deprecationMessage:ns};this.colorsById[Mn]=ps;const br={type:"string",description:gn,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return ns&&(br.deprecationMessage=ns),this.colorSchema.properties[Mn]=br,this.colorReferenceSchema.enum.push(Mn),this.colorReferenceSchema.enumDescriptions.push(gn),this._onDidChangeSchema.fire(),Mn}getColors(){return Object.keys(this.colorsById).map(Mn=>this.colorsById[Mn])}resolveDefaultColor(Mn,Zn){const gn=this.colorsById[Mn];if(gn&&gn.defaults){const rs=gn.defaults[Zn.type];return is(rs,Zn)}}getColorSchema(){return this.colorSchema}toString(){const Mn=(Zn,gn)=>{const rs=Zn.indexOf(".")===-1?0:1,ns=gn.indexOf(".")===-1?0:1;return rs!==ns?rs-ns:Zn.localeCompare(gn)};return Object.keys(this.colorsById).sort(Mn).map(Zn=>`- \`${Zn}\`: ${this.colorsById[Zn].description}`).join(`
`)}}const c=new L;M.B.add(A.ColorContribution,c);function p(sn){return sn===null||typeof sn.hcLight>"u"&&(sn.hcDark===null||typeof sn.hcDark=="string"?sn.hcLight=sn.hcDark:sn.hcLight=sn.light),sn}function l(sn,Mn,Zn,gn,rs){return c.registerColor(sn,p(Mn),Zn,gn,rs)}const n=l("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},D.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),a=l("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},D.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),g=l("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},D.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),f=l("descriptionForeground",{light:"#717171",dark:zi(n,.7),hcDark:zi(n,.7),hcLight:zi(n,.7)},D.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),u=l("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},D.NC("iconForeground","The default color for icons in the workbench.")),C=l("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},D.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),y=l("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},D.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),b=l("contrastActiveBorder",{light:null,dark:null,hcDark:C,hcLight:C},D.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),_=l("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},D.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),E=l("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:r.Il.black,hcLight:"#292929"},D.NC("textSeparatorForeground","Color for text separators.")),I=l("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},D.NC("textLinkForeground","Foreground color for links in text.")),R=l("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},D.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),J=l("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},D.NC("textPreformatForeground","Foreground color for preformatted text segments.")),Q=l("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},D.NC("textBlockQuoteBackground","Background color for block quotes in text.")),U=l("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:r.Il.white,hcLight:"#292929"},D.NC("textBlockQuoteBorder","Border color for block quotes in text.")),K=l("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:r.Il.black,hcLight:"#F2F2F2"},D.NC("textCodeBlockBackground","Background color for code blocks in text.")),H=l("widget.shadow",{dark:zi(r.Il.black,.36),light:zi(r.Il.black,.16),hcDark:null,hcLight:null},D.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),X=l("input.background",{dark:"#3C3C3C",light:r.Il.white,hcDark:r.Il.black,hcLight:r.Il.white},D.NC("inputBoxBackground","Input box background.")),j=l("input.foreground",{dark:n,light:n,hcDark:n,hcLight:n},D.NC("inputBoxForeground","Input box foreground.")),x=l("input.border",{dark:null,light:null,hcDark:y,hcLight:y},D.NC("inputBoxBorder","Input box border.")),Z=l("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:y,hcLight:y},D.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),T=l("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},D.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),z=l("inputOption.activeBackground",{dark:zi(C,.4),light:zi(C,.2),hcDark:r.Il.transparent,hcLight:r.Il.transparent},D.NC("inputOption.activeBackground","Background hover color of options in input fields.")),G=l("inputOption.activeForeground",{dark:r.Il.white,light:r.Il.black,hcDark:null,hcLight:n},D.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),re=l("input.placeholderForeground",{light:zi(n,.5),dark:zi(n,.5),hcDark:zi(n,.7),hcLight:zi(n,.7)},D.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),S=l("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:r.Il.black,hcLight:r.Il.white},D.NC("inputValidationInfoBackground","Input validation background color for information severity.")),he=l("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:n},D.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),Ce=l("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:y,hcLight:y},D.NC("inputValidationInfoBorder","Input validation border color for information severity.")),ge=l("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:r.Il.black,hcLight:r.Il.white},D.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),pe=l("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:n},D.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),ee=l("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:y,hcLight:y},D.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),se=l("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:r.Il.black,hcLight:r.Il.white},D.NC("inputValidationErrorBackground","Input validation background color for error severity.")),ne=l("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:n},D.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),oe=l("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:y,hcLight:y},D.NC("inputValidationErrorBorder","Input validation border color for error severity.")),Se=l("dropdown.background",{dark:"#3C3C3C",light:r.Il.white,hcDark:r.Il.black,hcLight:r.Il.white},D.NC("dropdownBackground","Dropdown background.")),Ee=l("dropdown.listBackground",{dark:null,light:null,hcDark:r.Il.black,hcLight:r.Il.white},D.NC("dropdownListBackground","Dropdown list background.")),Me=l("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:r.Il.white,hcLight:n},D.NC("dropdownForeground","Dropdown foreground.")),ye=l("dropdown.border",{dark:Se,light:"#CECECE",hcDark:y,hcLight:y},D.NC("dropdownBorder","Dropdown border.")),le=l("checkbox.background",{dark:Se,light:Se,hcDark:Se,hcLight:Se},D.NC("checkbox.background","Background color of checkbox widget.")),ie=l("checkbox.foreground",{dark:Me,light:Me,hcDark:Me,hcLight:Me},D.NC("checkbox.foreground","Foreground color of checkbox widget.")),ve=l("checkbox.border",{dark:ye,light:ye,hcDark:ye,hcLight:ye},D.NC("checkbox.border","Border color of checkbox widget.")),xe=l("button.foreground",{dark:r.Il.white,light:r.Il.white,hcDark:r.Il.white,hcLight:r.Il.white},D.NC("buttonForeground","Button foreground color.")),Ye=l("button.separator",{dark:zi(xe,.4),light:zi(xe,.4),hcDark:zi(xe,.4),hcLight:zi(xe,.4)},D.NC("buttonSeparator","Button separator color.")),at=l("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},D.NC("buttonBackground","Button background color.")),qe=l("button.hoverBackground",{dark:Xn(at,.2),light:Os(at,.2),hcDark:null,hcLight:null},D.NC("buttonHoverBackground","Button background color when hovering.")),Re=l("button.border",{dark:y,light:y,hcDark:y,hcLight:y},D.NC("buttonBorder","Button border color.")),Je=l("button.secondaryForeground",{dark:r.Il.white,light:r.Il.white,hcDark:r.Il.white,hcLight:n},D.NC("buttonSecondaryForeground","Secondary button foreground color.")),st=l("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:r.Il.white},D.NC("buttonSecondaryBackground","Secondary button background color.")),et=l("button.secondaryHoverBackground",{dark:Xn(st,.2),light:Os(st,.2),hcDark:null,hcLight:null},D.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),we=l("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:r.Il.black,hcLight:"#0F4A85"},D.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Ne=l("badge.foreground",{dark:r.Il.white,light:"#333",hcDark:r.Il.white,hcLight:r.Il.white},D.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),de=l("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},D.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Pe=l("scrollbarSlider.background",{dark:r.Il.fromHex("#797979").transparent(.4),light:r.Il.fromHex("#646464").transparent(.4),hcDark:zi(y,.6),hcLight:zi(y,.4)},D.NC("scrollbarSliderBackground","Scrollbar slider background color.")),He=l("scrollbarSlider.hoverBackground",{dark:r.Il.fromHex("#646464").transparent(.7),light:r.Il.fromHex("#646464").transparent(.7),hcDark:zi(y,.8),hcLight:zi(y,.8)},D.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),$e=l("scrollbarSlider.activeBackground",{dark:r.Il.fromHex("#BFBFBF").transparent(.4),light:r.Il.fromHex("#000000").transparent(.6),hcDark:y,hcLight:y},D.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),me=l("progressBar.background",{dark:r.Il.fromHex("#0E70C0"),light:r.Il.fromHex("#0E70C0"),hcDark:y,hcLight:y},D.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Ie=l("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ge=l("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},D.NC("editorError.foreground","Foreground color of error squigglies in the editor.")),ft=l("editorError.border",{dark:null,light:null,hcDark:r.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},D.NC("errorBorder","Border color of error boxes in the editor.")),ze=l("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),mt=l("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},D.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),wt=l("editorWarning.border",{dark:null,light:null,hcDark:r.Il.fromHex("#FFCC00").transparent(.8),hcLight:"#"},D.NC("warningBorder","Border color of warning boxes in the editor.")),Oe=l("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),lt=l("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},D.NC("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Bt=l("editorInfo.border",{dark:null,light:null,hcDark:r.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},D.NC("infoBorder","Border color of info boxes in the editor.")),Zt=l("editorHint.foreground",{dark:r.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},D.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),pi=l("editorHint.border",{dark:null,light:null,hcDark:r.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},D.NC("hintBorder","Border color of hint boxes in the editor.")),Li=l("sash.hoverBorder",{dark:C,light:C,hcDark:C,hcLight:C},D.NC("sashActiveBorder","Border color of active sashes.")),ot=l("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:r.Il.black,hcLight:r.Il.white},D.NC("editorBackground","Editor background color.")),Ft=l("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:r.Il.white,hcLight:n},D.NC("editorForeground","Editor default foreground color.")),Yt=l("editorStickyScroll.background",{light:ot,dark:ot,hcDark:ot,hcLight:ot},D.NC("editorStickyScrollBackground","Sticky scroll background color for the editor")),_i=l("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:r.Il.fromHex("#0F4A85").transparent(.1)},D.NC("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),Ci=l("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:r.Il.white},D.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),bi=l("editorWidget.foreground",{dark:n,light:n,hcDark:n,hcLight:n},D.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),ai=l("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:y,hcLight:y},D.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Mt=l("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},D.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Ut=l("quickInput.background",{dark:Ci,light:Ci,hcDark:Ci,hcLight:Ci},D.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),vt=l("quickInput.foreground",{dark:bi,light:bi,hcDark:bi,hcLight:bi},D.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),_t=l("quickInputTitle.background",{dark:new r.Il(new r.VS(255,255,255,.105)),light:new r.Il(new r.VS(0,0,0,.06)),hcDark:"#000000",hcLight:r.Il.white},D.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),nt=l("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:r.Il.white,hcLight:"#0F4A85"},D.NC("pickerGroupForeground","Quick picker color for grouping labels.")),be=l("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:r.Il.white,hcLight:"#0F4A85"},D.NC("pickerGroupBorder","Quick picker color for grouping borders.")),Le=l("keybindingLabel.background",{dark:new r.Il(new r.VS(128,128,128,.17)),light:new r.Il(new r.VS(221,221,221,.4)),hcDark:r.Il.transparent,hcLight:r.Il.transparent},D.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Qe=l("keybindingLabel.foreground",{dark:r.Il.fromHex("#CCCCCC"),light:r.Il.fromHex("#555555"),hcDark:r.Il.white,hcLight:n},D.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),je=l("keybindingLabel.border",{dark:new r.Il(new r.VS(51,51,51,.6)),light:new r.Il(new r.VS(204,204,204,.4)),hcDark:new r.Il(new r.VS(111,195,223)),hcLight:y},D.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),ht=l("keybindingLabel.bottomBorder",{dark:new r.Il(new r.VS(68,68,68,.6)),light:new r.Il(new r.VS(187,187,187,.4)),hcDark:new r.Il(new r.VS(111,195,223)),hcLight:n},D.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),bt=l("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},D.NC("editorSelectionBackground","Color of the editor selection.")),Dt=l("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:r.Il.white},D.NC("editorSelectionForeground","Color of the selected text for high contrast.")),Ht=l("editor.inactiveSelectionBackground",{light:zi(bt,.5),dark:zi(bt,.5),hcDark:zi(bt,.7),hcLight:zi(bt,.5)},D.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),ei=l("editor.selectionHighlightBackground",{light:ms(bt,ot,.3,.6),dark:ms(bt,ot,.3,.6),hcDark:null,hcLight:null},D.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),ui=l("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:b,hcLight:b},D.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),xi=l("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},D.NC("editorFindMatch","Color of the current search match.")),Si=l("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},D.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),mi=l("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},D.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),mn=l("editor.findMatchBorder",{light:null,dark:null,hcDark:b,hcLight:b},D.NC("editorFindMatchBorder","Border color of the current search match.")),Mi=l("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:b,hcLight:b},D.NC("findMatchHighlightBorder","Border color of the other search matches.")),fn=l("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:zi(b,.4),hcLight:zi(b,.4)},D.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Fi=l("searchEditor.findMatchBackground",{light:zi(Si,.66),dark:zi(Si,.66),hcDark:Si,hcLight:Si},D.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),Ni=l("searchEditor.findMatchBorder",{light:zi(Mi,.66),dark:zi(Mi,.66),hcDark:Mi,hcLight:Mi},D.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),Dn=l("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},D.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Tn=l("editorHoverWidget.background",{light:Ci,dark:Ci,hcDark:Ci,hcLight:Ci},D.NC("hoverBackground","Background color of the editor hover.")),$i=l("editorHoverWidget.foreground",{light:bi,dark:bi,hcDark:bi,hcLight:bi},D.NC("hoverForeground","Foreground color of the editor hover.")),pn=l("editorHoverWidget.border",{light:ai,dark:ai,hcDark:ai,hcLight:ai},D.NC("hoverBorder","Border color of the editor hover.")),Sn=l("editorHoverWidget.statusBarBackground",{dark:Xn(Tn,.2),light:Os(Tn,.05),hcDark:Ci,hcLight:Ci},D.NC("statusBarBackground","Background color of the editor hover status bar.")),wn=l("editorLink.activeForeground",{dark:"#4E94CE",light:r.Il.blue,hcDark:r.Il.cyan,hcLight:"#292929"},D.NC("activeLinkForeground","Color of active links.")),li=l("editorInlayHint.foreground",{dark:zi(Ne,.8),light:zi(Ne,.8),hcDark:Ne,hcLight:Ne},D.NC("editorInlayHintForeground","Foreground color of inline hints")),Ke=l("editorInlayHint.background",{dark:zi(we,.6),light:zi(we,.3),hcDark:we,hcLight:we},D.NC("editorInlayHintBackground","Background color of inline hints")),Rt=l("editorInlayHint.typeForeground",{dark:li,light:li,hcDark:li,hcLight:li},D.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),At=l("editorInlayHint.typeBackground",{dark:Ke,light:Ke,hcDark:Ke,hcLight:Ke},D.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),ni=l("editorInlayHint.parameterForeground",{dark:li,light:li,hcDark:li,hcLight:li},D.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),ii=l("editorInlayHint.parameterBackground",{dark:Ke,light:Ke,hcDark:Ke,hcLight:Ke},D.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),xt=l("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},D.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),Ve=l("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},D.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),dt=new r.Il(new r.VS(155,185,85,.2)),Tt=new r.Il(new r.VS(255,0,0,.2)),jt=l("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c66",hcDark:null,hcLight:null},D.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),$t=l("diffEditor.removedTextBackground",{dark:"#ff000066",light:"#ff00004d",hcDark:null,hcLight:null},D.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Wt=l("diffEditor.insertedLineBackground",{dark:dt,light:dt,hcDark:null,hcLight:null},D.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),We=l("diffEditor.removedLineBackground",{dark:Tt,light:Tt,hcDark:null,hcLight:null},D.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Xe=l("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),ut=l("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),pt=l("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),kt=l("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),Kt=l("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},D.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),Gt=l("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},D.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),Ei=l("diffEditor.border",{dark:null,light:null,hcDark:y,hcLight:y},D.NC("diffEditorBorder","Border color between the two text editors.")),Oi=l("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},D.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),wi=l("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Pt=l("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Pi=l("list.focusOutline",{dark:C,light:C,hcDark:b,hcLight:b},D.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),en=l("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),un=l("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:r.Il.fromHex("#0F4A85").transparent(.1)},D.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),hn=l("list.activeSelectionForeground",{dark:r.Il.white,light:r.Il.white,hcDark:null,hcLight:null},D.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Gi=l("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),_n=l("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:r.Il.fromHex("#0F4A85").transparent(.1)},D.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),an=l("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),tn=l("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),En=l("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),nn=l("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),yi=l("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:r.Il.fromHex("#0F4A85").transparent(.1)},D.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),oi=l("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),Ii=l("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},D.NC("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Vi=l("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:C,hcLight:C},D.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),yn=l("list.focusHighlightForeground",{dark:Vi,light:fo(un,Vi,"#BBE7FF"),hcDark:Vi,hcLight:Vi},D.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),zn=l("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},D.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),Bn=l("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},D.NC("listErrorForeground","Foreground color of list items containing errors.")),St=l("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},D.NC("listWarningForeground","Foreground color of list items containing warnings.")),N=l("listFilterWidget.background",{light:Os(Ci,0),dark:Xn(Ci,0),hcDark:Ci,hcLight:Ci},D.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),F=l("listFilterWidget.outline",{dark:r.Il.transparent,light:r.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},D.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),d=l("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:y,hcLight:y},D.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),k=l("listFilterWidget.shadow",{dark:H,light:H,hcDark:H,hcLight:H},D.NC("listFilterWidgetShadow","Shadown color of the type filter widget in lists and trees.")),te=l("list.filterMatchBackground",{dark:Si,light:Si,hcDark:null,hcLight:null},D.NC("listFilterMatchHighlight","Background color of the filtered match.")),_e=l("list.filterMatchBorder",{dark:Mi,light:Mi,hcDark:y,hcLight:b},D.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),Ae=l("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},D.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Be=l("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},D.NC("tableColumnsBorder","Table border color between columns.")),rt=l("tree.tableOddRowsBackground",{dark:zi(n,.04),light:zi(n,.04),hcDark:null,hcLight:null},D.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),ct=l("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},D.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),Lt=l("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,D.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),Et=l("quickInputList.focusForeground",{dark:hn,light:hn,hcDark:hn,hcLight:hn},D.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Vt=l("quickInputList.focusIconForeground",{dark:Gi,light:Gi,hcDark:Gi,hcLight:Gi},D.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Xt=l("quickInputList.focusBackground",{dark:ho(Lt,un),light:ho(Lt,un),hcDark:null,hcLight:null},D.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),Jt=l("menu.border",{dark:null,light:null,hcDark:y,hcLight:y},D.NC("menuBorder","Border color of menus.")),Qt=l("menu.foreground",{dark:Me,light:n,hcDark:Me,hcLight:Me},D.NC("menuForeground","Foreground color of menu items.")),di=l("menu.background",{dark:Se,light:Se,hcDark:Se,hcLight:Se},D.NC("menuBackground","Background color of menu items.")),fi=l("menu.selectionForeground",{dark:hn,light:hn,hcDark:hn,hcLight:hn},D.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Ti=l("menu.selectionBackground",{dark:un,light:un,hcDark:un,hcLight:un},D.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),ln=l("menu.selectionBorder",{dark:null,light:null,hcDark:b,hcLight:b},D.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),An=l("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:y,hcLight:y},D.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),Rn=l("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},D.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),Un=l("toolbar.hoverOutline",{dark:null,light:null,hcDark:b,hcLight:b},D.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),Cs=l("toolbar.activeBackground",{dark:Xn(Rn,.1),light:Os(Rn,.1),hcDark:null,hcLight:null},D.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),Yi=l("editor.snippetTabstopHighlightBackground",{dark:new r.Il(new r.VS(124,124,124,.3)),light:new r.Il(new r.VS(10,50,100,.2)),hcDark:new r.Il(new r.VS(124,124,124,.3)),hcLight:new r.Il(new r.VS(10,50,100,.2))},D.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),Qn=l("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),bs=l("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),cs=l("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new r.Il(new r.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},D.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),ds=l("breadcrumb.foreground",{light:zi(n,.8),dark:zi(n,.8),hcDark:zi(n,.8),hcLight:zi(n,.8)},D.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Zs=l("breadcrumb.background",{light:ot,dark:ot,hcDark:ot,hcLight:ot},D.NC("breadcrumbsBackground","Background color of breadcrumb items.")),Qs=l("breadcrumb.focusForeground",{light:Os(n,.2),dark:Xn(n,.1),hcDark:Xn(n,.1),hcLight:Xn(n,.1)},D.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),ao=l("breadcrumb.activeSelectionForeground",{light:Os(n,.2),dark:Xn(n,.1),hcDark:Xn(n,.1),hcLight:Xn(n,.1)},D.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),to=l("breadcrumbPicker.background",{light:Ci,dark:Ci,hcDark:Ci,hcLight:Ci},D.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),Do=.5,Is=r.Il.fromHex("#40C8AE").transparent(Do),Eo=r.Il.fromHex("#40A6FF").transparent(Do),Io=r.Il.fromHex("#606060").transparent(.4),es=.4,xn=1,Wn=l("merge.currentHeaderBackground",{dark:Is,light:Is,hcDark:null,hcLight:null},D.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Ns=l("merge.currentContentBackground",{dark:zi(Wn,es),light:zi(Wn,es),hcDark:zi(Wn,es),hcLight:zi(Wn,es)},D.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),zs=l("merge.incomingHeaderBackground",{dark:Eo,light:Eo,hcDark:null,hcLight:null},D.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ur=l("merge.incomingContentBackground",{dark:zi(zs,es),light:zi(zs,es),hcDark:zi(zs,es),hcLight:zi(zs,es)},D.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),gs=l("merge.commonHeaderBackground",{dark:Io,light:Io,hcDark:null,hcLight:null},D.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),xs=l("merge.commonContentBackground",{dark:zi(gs,es),light:zi(gs,es),hcDark:zi(gs,es),hcLight:zi(gs,es)},D.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Ms=l("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},D.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),No=l("editorOverviewRuler.currentContentForeground",{dark:zi(Wn,xn),light:zi(Wn,xn),hcDark:Ms,hcLight:Ms},D.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),hr=l("editorOverviewRuler.incomingContentForeground",{dark:zi(zs,xn),light:zi(zs,xn),hcDark:Ms,hcLight:Ms},D.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),fr=l("editorOverviewRuler.commonContentForeground",{dark:zi(gs,xn),light:zi(gs,xn),hcDark:Ms,hcLight:Ms},D.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),Ks=l("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},D.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),lo=l("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},D.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Ts=l("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},D.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Vo=l("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},D.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),co=l("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},D.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Ho=l("minimap.errorHighlight",{dark:new r.Il(new r.VS(255,18,18,.7)),light:new r.Il(new r.VS(255,18,18,.7)),hcDark:new r.Il(new r.VS(255,50,50,1)),hcLight:"#B5200D"},D.NC("minimapError","Minimap marker color for errors.")),Kn=l("minimap.warningHighlight",{dark:mt,light:mt,hcDark:wt,hcLight:wt},D.NC("overviewRuleWarning","Minimap marker color for warnings.")),js=l("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},D.NC("minimapBackground","Minimap background color.")),uo=l("minimap.foregroundOpacity",{dark:r.Il.fromHex("#000f"),light:r.Il.fromHex("#000f"),hcDark:r.Il.fromHex("#000f"),hcLight:r.Il.fromHex("#000f")},D.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),gr=l("minimapSlider.background",{light:zi(Pe,.5),dark:zi(Pe,.5),hcDark:zi(Pe,.5),hcLight:zi(Pe,.5)},D.NC("minimapSliderBackground","Minimap slider background color.")),mr=l("minimapSlider.hoverBackground",{light:zi(He,.5),dark:zi(He,.5),hcDark:zi(He,.5),hcLight:zi(He,.5)},D.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),xo=l("minimapSlider.activeBackground",{light:zi($e,.5),dark:zi($e,.5),hcDark:zi($e,.5),hcLight:zi($e,.5)},D.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Ur=l("problemsErrorIcon.foreground",{dark:Ge,light:Ge,hcDark:Ge,hcLight:Ge},D.NC("problemsErrorIconForeground","The color used for the problems error icon.")),Ln=l("problemsWarningIcon.foreground",{dark:mt,light:mt,hcDark:mt,hcLight:mt},D.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),pr=l("problemsInfoIcon.foreground",{dark:lt,light:lt,hcDark:lt,hcLight:lt},D.NC("problemsInfoIconForeground","The color used for the problems info icon.")),_r=l("charts.foreground",{dark:n,light:n,hcDark:n,hcLight:n},D.NC("chartsForeground","The foreground color used in charts.")),Uo=l("charts.lines",{dark:zi(n,.5),light:zi(n,.5),hcDark:zi(n,.5),hcLight:zi(n,.5)},D.NC("chartsLines","The color used for horizontal lines in charts.")),io=l("charts.red",{dark:Ge,light:Ge,hcDark:Ge,hcLight:Ge},D.NC("chartsRed","The red color used in chart visualizations.")),$s=l("charts.blue",{dark:lt,light:lt,hcDark:lt,hcLight:lt},D.NC("chartsBlue","The blue color used in chart visualizations.")),vr=l("charts.yellow",{dark:mt,light:mt,hcDark:mt,hcLight:mt},D.NC("chartsYellow","The yellow color used in chart visualizations.")),Cr=l("charts.orange",{dark:Ts,light:Ts,hcDark:Ts,hcLight:Ts},D.NC("chartsOrange","The orange color used in chart visualizations.")),Ys=l("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},D.NC("chartsGreen","The green color used in chart visualizations.")),zo=l("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},D.NC("chartsPurple","The purple color used in chart visualizations."));function ss(sn,Mn){var Zn,gn,rs;switch(sn.op){case 0:return(Zn=is(sn.value,Mn))===null||Zn===void 0?void 0:Zn.darken(sn.factor);case 1:return(gn=is(sn.value,Mn))===null||gn===void 0?void 0:gn.lighten(sn.factor);case 2:return(rs=is(sn.value,Mn))===null||rs===void 0?void 0:rs.transparent(sn.factor);case 3:for(const ns of sn.values){const ps=is(ns,Mn);if(ps)return ps}return;case 5:return is(Mn.defines(sn.if)?sn.then:sn.else,Mn);case 4:{const ns=is(sn.value,Mn);if(!ns)return;const ps=is(sn.background,Mn);return ps?ns.isDarkerThan(ps)?r.Il.getLighterColor(ns,ps,sn.factor).transparent(sn.transparency):r.Il.getDarkerColor(ns,ps,sn.factor).transparent(sn.transparency):ns.transparent(sn.factor*sn.transparency)}default:throw(0,V.vE)(sn)}}function Os(sn,Mn){return{op:0,value:sn,factor:Mn}}function Xn(sn,Mn){return{op:1,value:sn,factor:Mn}}function zi(sn,Mn){return{op:2,value:sn,factor:Mn}}function ho(...sn){return{op:3,values:sn}}function fo(sn,Mn,Zn){return{op:5,if:sn,then:Mn,else:Zn}}function ms(sn,Mn,Zn,gn){return{op:4,value:sn,background:Mn,factor:Zn,transparency:gn}}function is(sn,Mn){if(sn!==null){if(typeof sn=="string")return sn[0]==="#"?r.Il.fromHex(sn):Mn.getColor(sn);if(sn instanceof r.Il)return sn;if(typeof sn=="object")return ss(sn,Mn)}}const go="vscode://schemas/workbench-colors",no=M.B.as($.I.JSONContribution);no.registerSchema(go,c.getColorSchema());const Mo=new w.pY(()=>no.notifySchemaChanged(go),200);c.onDidChangeSchema(()=>{Mo.isScheduled()||Mo.schedule()})},59554:function(Ot,Te,i){"use strict";i.d(Te,{Ks:function(){return g},q5:function(){return a},s_:function(){return b}});var w=i(15393),r=i(73046),O=i(4669),V=i(98401),D=i(70666),$=i(63580),M=i(81294),P=i(89872),A=i(97781);const L={IconContribution:"base.contributions.icons"};var c;(function(J){function Q(U,K){let H=U.defaults;for(;A.kS.isThemeIcon(H);){const X=n.getIcon(H.id);if(!X)return;H=X.defaults}return H}J.getDefinition=Q})(c||(c={}));var p;(function(J){function Q(K){return{weight:K.weight,style:K.style,src:K.src.map(H=>({format:H.format,location:H.location.toString()}))}}J.toJSONObject=Q;function U(K){const H=X=>(0,V.HD)(X)?X:void 0;if(K&&Array.isArray(K.src)&&K.src.every(X=>(0,V.HD)(X.format)&&(0,V.HD)(X.location)))return{weight:H(K.weight),style:H(K.style),src:K.src.map(X=>({format:X.format,location:D.o.parse(X.location)}))}}J.fromJSONObject=U})(p||(p={}));class l{constructor(){this._onDidChange=new O.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,$.NC)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,$.NC)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${r.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(Q,U,K,H){const X=this.iconsById[Q];if(X){if(K&&!X.description){X.description=K,this.iconSchema.properties[Q].markdownDescription=`${K} $(${Q})`;const Z=this.iconReferenceSchema.enum.indexOf(Q);Z!==-1&&(this.iconReferenceSchema.enumDescriptions[Z]=K),this._onDidChange.fire()}return X}const j={id:Q,description:K,defaults:U,deprecationMessage:H};this.iconsById[Q]=j;const x={$ref:"#/definitions/icons"};return H&&(x.deprecationMessage=H),K&&(x.markdownDescription=`${K}: $(${Q})`),this.iconSchema.properties[Q]=x,this.iconReferenceSchema.enum.push(Q),this.iconReferenceSchema.enumDescriptions.push(K||""),this._onDidChange.fire(),{id:Q}}getIcons(){return Object.keys(this.iconsById).map(Q=>this.iconsById[Q])}getIcon(Q){return this.iconsById[Q]}getIconSchema(){return this.iconSchema}toString(){const Q=(X,j)=>X.id.localeCompare(j.id),U=X=>{for(;A.kS.isThemeIcon(X.defaults);)X=this.iconsById[X.defaults.id];return`codicon codicon-${X?X.id:""}`},K=[];K.push("| preview     | identifier                        | default codicon ID                | description"),K.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const H=Object.keys(this.iconsById).map(X=>this.iconsById[X]);for(const X of H.filter(j=>!!j.description).sort(Q))K.push(`|<i class="${U(X)}"></i>|${X.id}|${A.kS.isThemeIcon(X.defaults)?X.defaults.id:X.id}|${X.description||""}|`);K.push("| preview     | identifier                        "),K.push("| ----------- | --------------------------------- |");for(const X of H.filter(j=>!A.kS.isThemeIcon(j.defaults)).sort(Q))K.push(`|<i class="${U(X)}"></i>|${X.id}|`);return K.join(`
`)}}const n=new l;P.B.add(L.IconContribution,n);function a(J,Q,U,K){return n.registerIcon(J,Q,U,K)}function g(){return n}function f(){for(const J of r.lA.getAll())n.registerIcon(J.id,J.definition,J.description)}f();const u="vscode://schemas/icons",C=P.B.as(M.I.JSONContribution);C.registerSchema(u,n.getIconSchema());const y=new w.pY(()=>C.notifySchemaChanged(u),200);n.onDidChange(()=>{y.isScheduled()||y.schedule()});const b=a("widget-close",r.lA.close,(0,$.NC)("widgetClose","Icon for the close action in widgets.")),_=a("goto-previous-location",r.lA.arrowUp,(0,$.NC)("previousChangeIcon","Icon for goto previous editor location.")),E=a("goto-next-location",r.lA.arrowDown,(0,$.NC)("nextChangeIcon","Icon for goto next editor location.")),I=A.kS.modify(r.lA.sync,"spin"),R=A.kS.modify(r.lA.loading,"spin")},88810:function(Ot,Te,i){"use strict";i.d(Te,{Jl:function(){return D},O2:function(){return $},WZ:function(){return V},o:function(){return r},tj:function(){return P}});var w=i(73910);function r(A,L){const c=Object.create(null);for(const p in L){const l=L[p];l&&(c[p]=(0,w.Snq)(l,A))}return c}function O(A,L,c){function p(){const l=r(A.getColorTheme(),L);typeof c=="function"?c(l):c.style(l)}return p(),A.onDidColorThemeChange(p)}function V(A,L,c){return O(L,{badgeBackground:(c==null?void 0:c.badgeBackground)||w.g8u,badgeForeground:(c==null?void 0:c.badgeForeground)||w.qeD,badgeBorder:w.lRK},A)}function D(A,L,c){return O(L,Object.assign(Object.assign({},$),c||{}),A)}const $={listFocusBackground:w._bK,listFocusForeground:w._2n,listFocusOutline:w.Oop,listActiveSelectionBackground:w.dCr,listActiveSelectionForeground:w.M6C,listActiveSelectionIconForeground:w.Tnx,listFocusAndSelectionOutline:w.Bqu,listFocusAndSelectionBackground:w.dCr,listFocusAndSelectionForeground:w.M6C,listInactiveSelectionBackground:w.rg2,listInactiveSelectionIconForeground:w.kvU,listInactiveSelectionForeground:w.ytC,listInactiveFocusBackground:w.s$,listInactiveFocusOutline:w.F3d,listHoverBackground:w.mV1,listHoverForeground:w.$d5,listDropBackground:w.AS1,listSelectionOutline:w.xL1,listHoverOutline:w.xL1,listFilterWidgetBackground:w.vGG,listFilterWidgetOutline:w.oSI,listFilterWidgetNoMatchesOutline:w.Saq,listFilterWidgetShadow:w.y65,treeIndentGuidesStroke:w.UnT,tableColumnsBorder:w.uxu,tableOddRowsBackgroundColor:w.EQn,inputActiveOptionBorder:w.PRb,inputActiveOptionForeground:w.Pvw,inputActiveOptionBackground:w.XEs,inputBackground:w.sEe,inputForeground:w.zJb,inputBorder:w.dt_,inputValidationInfoBackground:w._lC,inputValidationInfoForeground:w.YI3,inputValidationInfoBorder:w.EPQ,inputValidationWarningBackground:w.RV_,inputValidationWarningForeground:w.SUG,inputValidationWarningBorder:w.C3g,inputValidationErrorBackground:w.paE,inputValidationErrorForeground:w._t9,inputValidationErrorBorder:w.OZR},M={shadowColor:w.rh,borderColor:w.Cdg,foregroundColor:w.DEr,backgroundColor:w.Hz8,selectionForegroundColor:w.jbW,selectionBackgroundColor:w.$DX,selectionBorderColor:w.E3h,separatorColor:w.ZGJ,scrollbarShadow:w._wn,scrollbarSliderBackground:w.etL,scrollbarSliderHoverBackground:w.ABB,scrollbarSliderActiveBackground:w.ynu};function P(A,L,c){return O(L,Object.assign(Object.assign({},M),c),A)}},92321:function(Ot,Te,i){"use strict";i.d(Te,{_T:function(){return O},c3:function(){return r},eL:function(){return w}});var w;(function(V){V.DARK="dark",V.LIGHT="light",V.HIGH_CONTRAST_DARK="hcDark",V.HIGH_CONTRAST_LIGHT="hcLight"})(w||(w={}));function r(V){return V===w.HIGH_CONTRAST_DARK||V===w.HIGH_CONTRAST_LIGHT}function O(V){return V===w.DARK||V===w.HIGH_CONTRAST_DARK}},97781:function(Ot,Te,i){"use strict";i.d(Te,{EN:function(){return A},IP:function(){return p},Ic:function(){return a},XE:function(){return M},bB:function(){return g},kS:function(){return L},m6:function(){return c}});var w=i(73046),r=i(4669),O=i(9917),V=i(72065),D=i(89872),$=i(92321);const M=(0,V.yh)("themeService");var P;(function(f){function u(C){return C&&typeof C=="object"&&typeof C.id=="string"}f.isThemeColor=u})(P||(P={}));function A(f){return{id:f}}var L;(function(f){function u(J){return J&&typeof J=="object"&&typeof J.id=="string"&&(typeof J.color>"u"||P.isThemeColor(J.color))}f.isThemeIcon=u;const C=new RegExp(`^\\$\\((${w.dT.iconNameExpression}(?:${w.dT.iconModifierExpression})?)\\)$`);function y(J){const Q=C.exec(J);if(!Q)return;const[,U]=Q;return{id:U}}f.fromString=y;function b(J){return{id:J}}f.fromId=b;function _(J,Q){let U=J.id;const K=U.lastIndexOf("~");return K!==-1&&(U=U.substring(0,K)),Q&&(U=`${U}~${Q}`),{id:U}}f.modify=_;function E(J){const Q=J.id.lastIndexOf("~");if(Q!==-1)return J.id.substring(Q+1)}f.getModifier=E;function I(J,Q){var U,K;return J.id===Q.id&&((U=J.color)===null||U===void 0?void 0:U.id)===((K=Q.color)===null||K===void 0?void 0:K.id)}f.isEqual=I;function R(J,Q){return{id:J.id,color:Q?A(Q):void 0}}f.asThemeIcon=R,f.asClassNameArray=w.dT.asClassNameArray,f.asClassName=w.dT.asClassName,f.asCSSSelector=w.dT.asCSSSelector})(L||(L={}));function c(f){switch(f){case $.eL.DARK:return"vs-dark";case $.eL.HIGH_CONTRAST_DARK:return"hc-black";case $.eL.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const p={ThemingContribution:"base.contributions.theming"};class l{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new r.Q5}onColorThemeChange(u){return this.themingParticipants.push(u),this.onThemingParticipantAddedEmitter.fire(u),(0,O.OF)(()=>{const C=this.themingParticipants.indexOf(u);this.themingParticipants.splice(C,1)})}getThemingParticipants(){return this.themingParticipants}}const n=new l;D.B.add(p.ThemingContribution,n);function a(f){return n.onColorThemeChange(f)}class g extends O.JT{constructor(u){super(),this.themeService=u,this.theme=u.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(C=>this.onThemeChange(C)))}onThemeChange(u){this.theme=u,this.updateStyles()}updateStyles(){}}},64862:function(Ot,Te,i){"use strict";i.d(Te,{Xt:function(){return V},YO:function(){return O},gJ:function(){return D},tJ:function(){return r}});var w=i(72065);const r=(0,w.yh)("undoRedoService");class O{constructor(M,P){this.resource=M,this.elements=P}}class V{constructor(){this.id=V._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}V._ID=0,V.None=new V;class D{constructor(){this.id=D._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}D._ID=0,D.None=new D},40382:function(Ot,Te,i){"use strict";i.d(Te,{A6:function(){return L},eb:function(){return $},ec:function(){return D},md:function(){return A},uT:function(){return M}});var w=i(63580),r=i(43702),O=i(70666),V=i(72065);const D=(0,V.yh)("contextService");function $(p){const l=p;return typeof(l==null?void 0:l.id)=="string"&&O.o.isUri(l.uri)}function M(p){if(p.configuration)return{id:p.id,configPath:p.configuration};if(p.folders.length===1)return{id:p.id,uri:p.folders[0].uri}}class P{constructor(l,n,a,g,f){this._id=l,this._transient=a,this._configuration=g,this._ignorePathCasing=f,this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=n}get folders(){return this._folders}set folders(l){this._folders=l,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(l){this._configuration=l}getFolder(l){return l&&this._foldersMap.findSubstr(l)||null}updateFoldersMap(){this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const l of this.folders)this._foldersMap.set(l.uri,l)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class A{constructor(l,n){this.raw=n,this.uri=l.uri,this.index=l.index,this.name=l.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const L="code-workspace",c=[{name:(0,w.NC)("codeWorkspace","Code Workspace"),extensions:[L]}]},33425:function(Ot,Te,i){"use strict";i.d(Te,{Y:function(){return r}});var w=i(72065);const r=(0,w.yh)("workspaceTrustManagementService")},81493:function(Ot,Te,i){"use strict";i.d(Te,{ZP:function(){return n}});var w=i(26565),r=i(45697),O=i(62435);function V(a){return/^\d+$/.test(a)?"".concat(a,"px"):a}function D(){}var $=function(){var a=function(g,f){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,C){u.__proto__=C}||function(u,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(u[y]=C[y])},a(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");a(g,f);function u(){this.constructor=g}g.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}(),M=function(){return M=Object.assign||function(a){for(var g,f=1,u=arguments.length;f<u;f++){g=arguments[f];for(var C in g)Object.prototype.hasOwnProperty.call(g,C)&&(a[C]=g[C])}return a},M.apply(this,arguments)},P=function(a){$(g,a);function g(f){var u=a.call(this,f)||this;return u.assignRef=function(C){u.containerElement=C},u.containerElement=void 0,u}return g.prototype.componentDidMount=function(){this.initMonaco()},g.prototype.componentDidUpdate=function(f){var u=this.props,C=u.language,y=u.theme,b=u.height,_=u.options,E=u.width,I=u.className,R=this.editor.getModel(),J=R.original,Q=R.modified;this.props.original!==J.getValue()&&J.setValue(this.props.original),this.props.value!=null&&this.props.value!==Q.getValue()&&(this.__prevent_trigger_change_event=!0,this.editor.getModifiedEditor().pushUndoStop(),Q.pushEditOperations([],[{range:Q.getFullModelRange(),text:this.props.value}]),this.editor.getModifiedEditor().pushUndoStop(),this.__prevent_trigger_change_event=!1),f.language!==C&&(w.editor.setModelLanguage(J,C),w.editor.setModelLanguage(Q,C)),f.theme!==y&&w.editor.setTheme(y),this.editor&&(E!==f.width||b!==f.height)&&this.editor.layout(),f.options!==_&&this.editor.updateOptions(M(M({},I?{extraEditorClassName:I}:{}),_))},g.prototype.componentWillUnmount=function(){this.destroyMonaco()},g.prototype.editorWillMount=function(){var f=this.props.editorWillMount,u=f(w);return u||{}},g.prototype.editorDidMount=function(f){var u=this;this.props.editorDidMount(f,w);var C=f.getModel().modified;this._subscription=C.onDidChangeContent(function(y){u.__prevent_trigger_change_event||u.props.onChange(C.getValue(),y)})},g.prototype.editorWillUnmount=function(f){var u=this.props.editorWillUnmount;u(f,w)},g.prototype.initModels=function(f,u){var C=this.props.language,y=w.editor.createModel(u,C),b=w.editor.createModel(f,C);this.editor.setModel({original:y,modified:b})},g.prototype.initMonaco=function(){var f=this.props.value!=null?this.props.value:this.props.defaultValue,u=this.props,C=u.original,y=u.theme,b=u.options,_=u.overrideServices,E=u.className;this.containerElement&&(this.editorWillMount(),this.editor=w.editor.createDiffEditor(this.containerElement,M(M(M({},E?{extraEditorClassName:E}:{}),b),y?{theme:y}:{}),_),this.initModels(f,C),this.editorDidMount(this.editor))},g.prototype.destroyMonaco=function(){if(this.editor){this.editorWillUnmount(this.editor),this.editor.dispose();var f=this.editor.getModel(),u=f.original,C=f.modified;u&&u.dispose(),C&&C.dispose()}this._subscription&&this._subscription.dispose()},g.prototype.render=function(){var f=this.props,u=f.width,C=f.height,y=V(u),b=V(C),_={width:y,height:b};return O.createElement("div",{ref:this.assignRef,style:_,className:"react-monaco-editor-container"})},g.propTypes={width:r.oneOfType([r.string,r.number]),height:r.oneOfType([r.string,r.number]),original:r.string,value:r.string,defaultValue:r.string,language:r.string,theme:r.string,options:r.object,overrideServices:r.object,editorWillMount:r.func,editorDidMount:r.func,editorWillUnmount:r.func,onChange:r.func,className:r.string},g.defaultProps={width:"100%",height:"100%",original:null,value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorWillMount:D,editorDidMount:D,editorWillUnmount:D,onChange:D,className:null},g}(O.Component),A=null,L=function(){var a=function(g,f){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,C){u.__proto__=C}||function(u,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(u[y]=C[y])},a(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");a(g,f);function u(){this.constructor=g}g.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}(),c=function(){return c=Object.assign||function(a){for(var g,f=1,u=arguments.length;f<u;f++){g=arguments[f];for(var C in g)Object.prototype.hasOwnProperty.call(g,C)&&(a[C]=g[C])}return a},c.apply(this,arguments)},p=function(a,g){var f={};for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&g.indexOf(u)<0&&(f[u]=a[u]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,u=Object.getOwnPropertySymbols(a);C<u.length;C++)g.indexOf(u[C])<0&&Object.prototype.propertyIsEnumerable.call(a,u[C])&&(f[u[C]]=a[u[C]]);return f},l=function(a){L(g,a);function g(f){var u=a.call(this,f)||this;return u.assignRef=function(C){u.containerElement=C},u.containerElement=void 0,u}return g.prototype.componentDidMount=function(){this.initMonaco()},g.prototype.componentDidUpdate=function(f){var u=this.props,C=u.value,y=u.language,b=u.theme,_=u.height,E=u.options,I=u.width,R=u.className,J=this.editor,Q=J.getModel();if(this.props.value!=null&&this.props.value!==Q.getValue()&&(this.__prevent_trigger_change_event=!0,this.editor.pushUndoStop(),Q.pushEditOperations([],[{range:Q.getFullModelRange(),text:C}]),this.editor.pushUndoStop(),this.__prevent_trigger_change_event=!1),f.language!==y&&w.editor.setModelLanguage(Q,y),f.theme!==b&&w.editor.setTheme(b),J&&(I!==f.width||_!==f.height)&&J.layout(),f.options!==E){var U=E.model,K=p(E,["model"]);J.updateOptions(c(c({},R?{extraEditorClassName:R}:{}),K))}},g.prototype.componentWillUnmount=function(){this.destroyMonaco()},g.prototype.destroyMonaco=function(){if(this.editor){this.editorWillUnmount(this.editor),this.editor.dispose();var f=this.editor.getModel();f&&f.dispose()}this._subscription&&this._subscription.dispose()},g.prototype.initMonaco=function(){var f=this.props.value!=null?this.props.value:this.props.defaultValue,u=this.props,C=u.language,y=u.theme,b=u.overrideServices,_=u.className;if(this.containerElement){var E=c(c({},this.props.options),this.editorWillMount());this.editor=w.editor.create(this.containerElement,c(c(c({value:f,language:C},_?{extraEditorClassName:_}:{}),E),y?{theme:y}:{}),b),this.editorDidMount(this.editor)}},g.prototype.editorWillMount=function(){var f=this.props.editorWillMount,u=f(w);return u||{}},g.prototype.editorDidMount=function(f){var u=this;this.props.editorDidMount(f,w),this._subscription=f.onDidChangeModelContent(function(C){u.__prevent_trigger_change_event||u.props.onChange(f.getValue(),C)})},g.prototype.editorWillUnmount=function(f){var u=this.props.editorWillUnmount;u(f,w)},g.prototype.render=function(){var f=this.props,u=f.width,C=f.height,y=V(u),b=V(C),_={width:y,height:b};return O.createElement("div",{ref:this.assignRef,style:_,className:"react-monaco-editor-container"})},g.propTypes={width:r.oneOfType([r.string,r.number]),height:r.oneOfType([r.string,r.number]),value:r.string,defaultValue:r.string,language:r.string,theme:r.string,options:r.object,overrideServices:r.object,editorWillMount:r.func,editorDidMount:r.func,editorWillUnmount:r.func,onChange:r.func,className:r.string},g.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},overrideServices:{},editorWillMount:D,editorDidMount:D,editorWillUnmount:D,onChange:D,className:null},g}(O.Component),n=l}}]);
