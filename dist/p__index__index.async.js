(self.webpackChunk=self.webpackChunk||[]).push([[610],{55375:function(_e,me,a){"use strict";a.d(me,{Jy:function(){return se},Wk:function(){return H},fk:function(){return E},lu:function(){return ce},ri:function(){return i},rl:function(){return d},wn:function(){return _}});var se=["tinyint","smallint","mediumint","int","bigint","float","double","decimal","date","time","year","datetime","timestamp","char","varchar","tinytext","text","mediumtext","longtext","tinyblob","blob","mediumblob","longblob","binary","varbinary"],d=["CURRENT_TIMESTAMP"],ce={fieldName:"username",comment:"user name",defaultValue:void 0,fieldType:"varchar(256)",mockType:"Random",mockParams:"Person name",notNull:!0,primaryKey:!1,autoIncrement:!1},i=[{fieldName:"id",comment:"primary key",defaultValue:void 0,fieldType:"bigint",mockType:"None",notNull:!0,primaryKey:!0,autoIncrement:!0},{fieldName:"create_time",comment:"create time",defaultValue:"CURRENT_TIMESTAMP",fieldType:"datetime",mockType:"None",notNull:!0,primaryKey:!1,autoIncrement:!1},{fieldName:"update_time",comment:"update time",defaultValue:"CURRENT_TIMESTAMP",fieldType:"datetime",mockType:"None",notNull:!0,primaryKey:!1,autoIncrement:!1,onUpdate:"CURRENT_TIMESTAMP"},{fieldName:"is_deleted",comment:"Whether is deleted (0-not deleted, 1-deleted)",defaultValue:"0",fieldType:"tinyint",mockType:"None",notNull:!0,primaryKey:!1,autoIncrement:!1}],E=["Fixed","Random","Increase","Rule","None"],_=["String","Integer","Decimal","Date","Timestamp","URL","IP","Email","Phone number","Person name","City","University"],H={0:{text:"\u5F85\u5BA1\u6838"},1:{text:"\u901A\u8FC7"},2:{text:"\u62D2\u7EDD"}}},15900:function(_e,me,a){"use strict";a.r(me),a.d(me,{default:function(){return nn}});var se=a(42122),d=a.n(se),ce=a(17061),i=a.n(ce),E=a(17156),_=a.n(E),H=a(27424),T=a.n(H),le="id\uFF0Cuser name\uFF0Ccreate time\uFF0Cupdate time\uFF0Cis_deleted",Ve={dbName:"leslie",tableName:"user",tableComment:"user name",fieldList:[{fieldName:"username",comment:"username",fieldType:"varchar(256)",mockType:"random",mockParams:"\u4EBA\u540D",notNull:!0,primaryKey:!1,autoIncrement:!1},{fieldName:"id",comment:"primary key",fieldType:"bigint",mockType:"fixed",notNull:!0,primaryKey:!0,autoIncrement:!0},{fieldName:"create_time",comment:"create time",defaultValue:"CURRENT_TIMESTAMP",fieldType:"datetime",mockType:"fixed",notNull:!0,primaryKey:!1,autoIncrement:!1},{fieldName:"update_time",comment:"update time",defaultValue:"CURRENT_TIMESTAMP",fieldType:"datetime",mockType:"fixed",notNull:!0,primaryKey:!1,autoIncrement:!1,extra:"on update CURRENT_TIMESTAMP"},{fieldName:"is_deleted",comment:"Whether is deleted (0-not deleted, 1-deleted)",defaultValue:"0",fieldType:"tinyint",mockType:"fixed",notNull:!0,primaryKey:!1,autoIncrement:!1}]},ie=`-- user table
create table if not exists user
(
id bigint not null auto_increment comment 'primary key' primary key,
username varchar(256) not null comment 'username',
create_time datetime default CURRENT_TIMESTAMP not null comment 'create time',
update_time datetime default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment 'update time',
is_deleted tinyint default 0 not null comment 'whether is deleted (0-not deleted, 1-deleted)'
) comment 'user table';`,R=a(18036);function oe(P){return ye.apply(this,arguments)}function ye(){return ye=_()(i()().mark(function P(n){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,R.request)("/sql/generate/schema",{method:"POST",headers:{"Content-Type":"application/json"},data:n}));case 1:case"end":return o.stop()}},P)})),ye.apply(this,arguments)}function ue(P){return O.apply(this,arguments)}function O(){return O=_()(i()().mark(function P(n){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,R.request)("/sql/get/schema/auto",{method:"POST",headers:{"Content-Type":"application/json"},data:n}));case 1:case"end":return o.stop()}},P)})),O.apply(this,arguments)}function B(P){return pe.apply(this,arguments)}function pe(){return pe=_()(i()().mark(function P(n){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,R.request)("/sql/get/schema/sql",{method:"POST",headers:{"Content-Type":"application/json"},data:n}));case 1:case"end":return o.stop()}},P)})),pe.apply(this,arguments)}function w(P){return Te.apply(this,arguments)}function Te(){return Te=_()(i()().mark(function P(n){var r;return i()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return r=new FormData,r.append("file",n),y.abrupt("return",(0,R.request)("/sql/get/schema/excel",{method:"POST",headers:{"Content-Type":"multipart/form-data"},data:r}));case 3:case"end":return y.stop()}},P)})),Te.apply(this,arguments)}function ge(P){return Ze.apply(this,arguments)}function Ze(){return Ze=_()(i()().mark(function P(n){return i()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,R.request)("/sql/download/data/excel",{method:"POST",headers:{"Content-Type":"application/json"},responseType:"blob",data:n}));case 1:case"end":return o.stop()}},P)})),Ze.apply(this,arguments)}var v=a(49409),h=a(48086),ee=a(50146),s=a(71577),C=a(19650),j=a(94418),t=a(62435),e=a(86074),p=function(n){var r=n.visible,o=n.onSubmit,y=n.onClose,l=v.Z.useForm(),S=T()(l,1),b=S[0],Z=function(){var x=_()(i()().mark(function g(c){var m;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(c.content){u.next=2;break}return u.abrupt("return");case 2:return u.prev=2,u.next=5,ue(c);case 5:m=u.sent,o==null||o(m.data),u.next=12;break;case 9:u.prev=9,u.t0=u.catch(2),h.ZP.error("\u5BFC\u5165\u9519\u8BEF\uFF0C"+u.t0.message);case 12:case"end":return u.stop()}},g,null,[[2,9]])}));return function(c){return x.apply(this,arguments)}}();return(0,e.jsx)(ee.Z,{title:"\u667A\u80FD\u5BFC\u5165",open:r,footer:null,onCancel:y,children:(0,e.jsxs)(v.Z,{form:b,layout:"vertical",onFinish:Z,children:[(0,e.jsx)(v.Z.Item,{name:"content",label:(0,e.jsxs)(e.Fragment,{children:["\u8BF7\u8F93\u5165\u8868\u7684\u5217\u540D\uFF0C\u591A\u4E2A\u5217\u4EE5\u3010\u82F1\u6587\u6216\u4E2D\u6587\u9017\u53F7\u3011\u5206\u9694\uFF1A",(0,e.jsx)(s.Z,{onClick:function(){return b.setFieldValue("content",le)},children:"\u5BFC\u5165\u793A\u4F8B"})]}),rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u914D\u7F6E"}],children:(0,e.jsx)(j.Z,{placeholder:"\u8BF7\u8F93\u5165\u8868\u7684\u5217\u540D\uFF0C\u591A\u4E2A\u5217\u4EE5\u3010\u82F1\u6587\u6216\u4E2D\u6587\u9017\u53F7\u3011\u5206\u9694\uFF1A",autoSize:{minRows:16}})}),(0,e.jsx)(v.Z.Item,{children:(0,e.jsxs)(C.Z,{size:"large",children:[(0,e.jsx)(s.Z,{type:"primary",htmlType:"submit",style:{width:120},children:"Import"}),(0,e.jsx)(s.Z,{htmlType:"reset",children:"Reset"})]})})]})})},mt=p,pt=a(861),Be=a.n(pt),De=a(91154),Ae=a(21234),ze=a(20294),ft=function(){var P=_()(i()().mark(function n(r){var o;return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o=h.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),l.prev=1,l.next=4,(0,De.ap)(d()({},r));case 4:return o(),h.ZP.success("\u6DFB\u52A0\u6210\u529F"),l.abrupt("return",!0);case 9:return l.prev=9,l.t0=l.catch(1),o(),h.ZP.error("\u6DFB\u52A0\u5931\u8D25\uFF0C"+l.t0.message),l.abrupt("return",!1);case 14:case"end":return l.stop()}},n,null,[[1,9]])}));return function(r){return P.apply(this,arguments)}}(),ht=function(n){var r=n.modalVisible,o=n.initialValues,y=n.onSubmit,l=n.onCancel,S=[{title:"\u540D\u79F0",dataIndex:"name",formItemProps:{rules:[{required:!0}]},fieldProps:{autoFocus:!0,placeholder:"\u8BF7\u8F93\u5165\u4E2D\u6587\u540D\u79F0"}},{title:"\u5185\u5BB9\uFF08\u4E0D\u5EFA\u8BAE\u5728\u6B64\u5904\u4FEE\u6539\uFF09",dataIndex:"content",valueType:"textarea"}];return(0,e.jsxs)(ee.Z,{destroyOnClose:!0,title:"\u4FDD\u5B58\u5B57\u6BB5\u4FE1\u606F\uFF08\u540E\u7EED\u53EF\u76F4\u63A5\u5BFC\u5165\uFF09",open:r,onCancel:function(){return l()},footer:null,children:[(0,e.jsx)(ze.Z.Text,{type:"secondary"}),(0,e.jsx)("div",{style:{marginBottom:16}}),(0,e.jsx)(Ae.QVr,{form:{initialValues:o,submitter:{render:function(Z,x){return Be()(x.reverse())}}},onSubmit:function(){var b=_()(i()().mark(function Z(x){var g;return i()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,ft(x);case 2:g=m.sent,g&&(y==null||y());case 4:case"end":return m.stop()}},Z)}));return function(Z){return b.apply(this,arguments)}}(),rowKey:"id",type:"form",columns:S})]})},vt=ht,jt=a(32966),yt=function(n){var r=n.visible,o=n.reportedId,y=n.onClose,l=v.Z.useForm(),S=T()(l,1),b=S[0],Z=function(){var x=_()(i()().mark(function g(c){var m;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return m=h.ZP.loading("\u6B63\u5728\u63D0\u4EA4"),u.prev=1,u.next=4,(0,jt.cq)({type:0,content:c.content,reportedId:o});case 4:h.ZP.success("\u63D0\u4EA4\u6210\u529F"),b.resetFields(),y==null||y(),u.next=12;break;case 9:u.prev=9,u.t0=u.catch(1),h.ZP.error("\u63D0\u4EA4\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01",u.t0.message);case 12:return u.prev=12,m(),u.finish(12);case 15:case"end":return u.stop()}},g,null,[[1,9,12,15]])}));return function(c){return x.apply(this,arguments)}}();return(0,e.jsx)(ee.Z,{title:"\u6211\u8981\u4E3E\u62A5",open:r,footer:null,onCancel:y,children:(0,e.jsxs)(v.Z,{form:b,onFinish:Z,children:[(0,e.jsx)(v.Z.Item,{name:"content",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4F60\u7684\u4E3E\u62A5\u539F\u56E0"}],children:(0,e.jsx)(j.Z,{autoFocus:!0,maxLength:1024})}),(0,e.jsx)(v.Z.Item,{children:(0,e.jsx)(s.Z,{type:"primary",htmlType:"submit",style:{float:"right",width:150},children:"Submit"})})]})})},He=yt,Ue=a(38272),de=a(4914),et=a(60331),tt=a(27049),nt=a(24565),gt=a(20640),fe=a.n(gt),bt=function(n){var r=n.dataList,o=n.pagination,y=n.loading,l=n.showTag,S=l===void 0?!0:l,b=n.onImport,Z=(0,t.useState)(!1),x=T()(Z,2),g=x[0],c=x[1],m=(0,t.useState)(0),k=T()(m,2),u=k[0],L=k[1],G=(0,R.useModel)("@@initialState"),I=G.initialState,M=I==null?void 0:I.loginUser,te=function(){var J=_()(i()().mark(function F(D){var N;return i()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(N=h.ZP.loading("\u6B63\u5728\u5220\u9664"),D){f.next=3;break}return f.abrupt("return",!0);case 3:return f.prev=3,f.next=6,(0,De.G9)({id:D});case 6:h.ZP.success("\u64CD\u4F5C\u6210\u529F"),f.next=12;break;case 9:f.prev=9,f.t0=f.catch(3),h.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+f.t0.message);case 12:return f.prev=12,N(),f.finish(12);case 15:case"end":return f.stop()}},F,null,[[3,9,12,15]])}));return function(D){return J.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:"field-info-list",children:[(0,e.jsx)(Ue.ZP,{itemLayout:"vertical",size:"large",loading:y,pagination:o,dataSource:r,renderItem:function(F,D){var N,U,f,W,q=JSON.parse(F.content);return(0,e.jsxs)(Ue.ZP.Item,{extra:b&&(0,e.jsx)(s.Z,{onClick:function(){b(F)},children:"Import"}),children:[(0,e.jsxs)(de.Z,{title:(0,e.jsxs)(C.Z,{align:"center",children:[(0,e.jsx)("div",{children:F.name}),(0,e.jsxs)("div",{children:[S&&F.reviewStatus===1&&(0,e.jsx)(et.Z,{color:"success",children:"\u516C\u5F00"}),F.userId===1&&(0,e.jsx)(et.Z,{color:"gold",children:"\u5B98\u65B9"})]})]}),column:3,children:[(0,e.jsx)(de.Z.Item,{label:"Field Name",children:q.fieldName}),(0,e.jsx)(de.Z.Item,{label:"Type",children:(N=q.fieldType)!==null&&N!==void 0?N:"none"}),(0,e.jsx)(de.Z.Item,{label:"Comment",children:(U=q.comment)!==null&&U!==void 0?U:"none"}),(0,e.jsx)(de.Z.Item,{label:"Default",children:(f=q.defaultValue)!==null&&f!==void 0?f:"none"}),(0,e.jsx)(de.Z.Item,{label:"Self-increment",children:q.autoIncrement?"yes":"no"}),(0,e.jsx)(de.Z.Item,{label:"Primary key",children:q.primaryKey?"yes":"no"}),(0,e.jsx)(de.Z.Item,{label:"Non Empty",children:q.notNull?"yes":"no"}),(0,e.jsx)(de.Z.Item,{label:"onUpdate",children:(W=q.onUpdate)!==null&&W!==void 0?W:"none"})]}),(0,e.jsxs)(C.Z,{split:(0,e.jsx)(tt.Z,{type:"vertical"}),style:{fontSize:14},children:[(0,e.jsx)(ze.Z.Text,{type:"secondary",children:F.createTime.toString().split("T")[0]}),(0,e.jsx)(s.Z,{type:"text",onClick:function(){(0,De.Lj)(F.id).then(function(ne){fe()(ne.data),h.ZP.success("COPY CREATE FIELD SQL SUCCESSFUL")}).catch(function(ne){h.ZP.error("COPY FAIL\uFF0C"+ne.message)})}}),M&&M.id===F.userId&&(0,e.jsx)(nt.Z,{title:"Are you sure you want to delete?",onConfirm:function(){te(F.id)},children:(0,e.jsx)(s.Z,{type:"text",danger:!0,children:"Delete"})})]})]},D)}}),(0,e.jsx)(He,{visible:g,reportedId:u,onClose:function(){c(!1)}})]})},Ct=bt,$e=a(91894),he=a(4107),Ge=a(14277),rt=10,St=function(n){var r=n.title,o=r===void 0?"\u5B57\u6BB5\u4FE1\u606F\u5217\u8868":r,y=n.needLogin,l=y===void 0?!1:y,S=n.showTag,b=S===void 0?!0:S,Z=n.onLoad,x=n.onImport,g=(0,t.useState)([]),c=T()(g,2),m=c[0],k=c[1],u=(0,t.useState)(0),L=T()(u,2),G=L[0],I=L[1],M=(0,t.useState)(!0),te=T()(M,2),J=te[0],F=te[1],D={current:1,pageSize:rt,sortField:"createTime",sortOrder:"descend"},N=(0,t.useState)(D),U=T()(N,2),f=U[0],W=U[1],q=(0,R.useModel)("@@initialState"),K=q.initialState,ne=K==null?void 0:K.loginUser,Fe=function(){(0,De.ti)(d()(d()({},f),{},{reviewStatus:1})).then(function(V){k(V.data.records),I(V.data.total)}).catch(function(V){h.ZP.error("Load error\uFF0C"+V.message)})};return(0,t.useEffect)(function(){l&&!ne||(F(!0),Z?Z(f,k,I):Fe(),F(!1))},[f]),(0,e.jsx)("div",{className:"field-info-card",children:(0,e.jsx)($e.Z,{title:o,extra:(0,e.jsx)(R.Link,{to:"/",children:(0,e.jsx)(s.Z,{type:"primary",children:"\u53BB\u521B\u5EFA"})}),children:!l||ne?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(C.Z,{children:(0,e.jsx)(he.Z.Search,{placeholder:"Please enter the table name",enterButton:"Search",onSearch:function(V){W(d()(d()({},D),{},{searchName:V}))}})}),(0,e.jsx)(Ct,{pagination:{total:G,onChange:function(V){W(d()(d()({},f),{},{current:V})),window.scrollTo({top:0})},pageSize:rt},dataList:m,loading:J,showTag:b,onImport:x})]}):(0,e.jsx)(Ge.Z,{description:(0,e.jsx)(R.Link,{to:"/user/login",children:(0,e.jsx)(s.Z,{type:"primary",ghost:!0,style:{marginTop:8},children:"\u8BF7\u5148\u767B\u5F55"})})})})})},It=St,at=a(273),Tt=function(n){var r=n.visible,o=n.onImport,y=n.onClose,l=(0,R.useModel)("@@initialState"),S=l.initialState,b=S==null?void 0:S.loginUser,Z=b?function(x,g,c){(0,De.lU)(x).then(function(m){g(m.data.records),c(m.data.total)}).catch(function(m){h.ZP.error("Load error\uFF0C"+m.message)})}:void 0;return(0,e.jsx)(at.Z,{children:(0,e.jsx)(It,{onLoad:Z,onImport:o})})},Zt=Tt,xe=a(93351),xt=function(){var P=_()(i()().mark(function n(r){var o;return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o=h.ZP.loading("Adding now"),l.prev=1,l.next=4,(0,xe.ee)(d()({},r));case 4:return o(),h.ZP.success("Added successfully!"),l.abrupt("return",!0);case 9:return l.prev=9,l.t0=l.catch(1),o(),h.ZP.error("Add failed\uFF0C"+l.t0.message),l.abrupt("return",!1);case 14:case"end":return l.stop()}},n,null,[[1,9]])}));return function(r){return P.apply(this,arguments)}}(),Pt=function(n){var r=n.modalVisible,o=n.initialValues,y=n.onSubmit,l=n.onCancel,S=[{title:"Table Name",dataIndex:"name",formItemProps:{rules:[{required:!0}]},fieldProps:{autoFocus:!0,placeholder:"Please enter the table name"}},{title:"Table configuration",dataIndex:"content",valueType:"textarea"}];return(0,e.jsx)(ee.Z,{destroyOnClose:!0,title:"Save table configuration (can be directly imported later)",open:r,onCancel:function(){return l()},footer:null,children:(0,e.jsx)(Ae.QVr,{form:{initialValues:o,submitter:{searchConfig:{submitText:"Submit",resetText:"Reset"},render:function(Z,x){return Be()(x.reverse())}}},onSubmit:function(){var b=_()(i()().mark(function Z(x){var g;return i()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,xt(x);case 2:g=m.sent,g&&(y==null||y());case 4:case"end":return m.stop()}},Z)}));return function(Z){return b.apply(this,arguments)}}(),rowKey:"id",type:"form",columns:S})})},Ft=Pt,wt=function(n){var r=n.modalVisible,o=n.initialValues,y=n.onSubmit,l=n.onCancel,S=(0,t.useState)(""),b=T()(S,2),Z=b[0],x=b[1],g=function(){var m=_()(i()().mark(function k(u){var L,G;return i()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return L=h.ZP.loading("Validating now"),M.prev=1,M.next=4,(0,xe.DU)(u);case 4:return G=M.sent,L(),x(G.data),h.ZP.success("Validation successful!"),M.abrupt("return",!0);case 11:return M.prev=11,M.t0=M.catch(1),L(),h.ZP.error("Validation failed: "+M.t0.message),M.abrupt("return",!1);case 16:case"end":return M.stop()}},k,null,[[1,11]])}));return function(u){return m.apply(this,arguments)}}(),c=[{title:"api key",dataIndex:"apikey",formItemProps:{rules:[{required:!0,message:"Please enter the openAI key"}]},fieldProps:{autoFocus:!0,placeholder:"Please enter the openAI key"}},{title:"sql content",dataIndex:"sql",formItemProps:{rules:[{required:!0,message:"Please enter the sql"}]},fieldProps:{autoFocus:!0,placeholder:"Please enter the sql you want to validate"},valueType:"textarea"}];return(0,e.jsxs)(ee.Z,{destroyOnClose:!0,title:"Validate SQL Correctness",visible:r,onCancel:function(){return l()},footer:null,children:[(0,e.jsx)(Ae.QVr,{form:{initialValues:o,submitter:{searchConfig:{submitText:"Submit",resetText:"Reset"},render:function(k,u){return Be()(u.reverse())}}},onSubmit:function(){var m=_()(i()().mark(function k(u){var L;return i()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,g(u);case 2:L=I.sent;case 4:case"end":return I.stop()}},k)}));return function(k){return m.apply(this,arguments)}}(),rowKey:"id",type:"form",columns:c}),(0,e.jsx)("textarea",{style:{width:"100%",height:200,marginTop:16},value:Z,readOnly:!0})]})},Et=wt,Me=a(55375),kt=a(58491),_t=a(57254),st=a(49101),qe=a(34041),lt=a(85986),ve=a(27279),it=a(49288),Ke=a(9676),ot=qe.Z.Option,Mt=(0,t.forwardRef)(function(P,n){var r=P.onSubmit,o=v.Z.useForm(),y=T()(o,1),l=y[0],S=(0,t.useState)([]),b=T()(S,2),Z=b[0],x=b[1],g=(0,t.useState)(!1),c=T()(g,2),m=c[0],k=c[1],u=(0,t.useState)(!1),L=T()(u,2),G=L[0],I=L[1],M=(0,t.useState)(!1),te=T()(M,2),J=te[0],F=te[1],D=(0,t.useState)(),N=T()(D,2),U=N[0],f=N[1],W=(0,t.useState)(),q=T()(W,2),K=q[0],ne=q[1],Fe=(0,t.useState)(!1),je=T()(Fe,2),V=je[0],Re=je[1],Je=(0,t.useState)(0),Se=T()(Je,2),We=Se[0],rn=Se[1],Qe=(0,t.useState)([]),$=T()(Qe,2),re=$[0],we=$[1],Ee=function(Q){if(!Q.fieldList||Q.fieldList.length<1){h.ZP.error("Add at least 1 new field");return}console.log("Received values of form:",Q),r==null||r(Q)};(0,t.useImperativeHandle)(n,function(){return{setFormValues:function(Q){l.setFieldsValue(Q)}}});var Ne=Me.Jy.map(function(z){return{label:z,value:z}}),ae=Me.rl.map(function(z){return{label:z,value:z}}),Y=function(Q,Ie){return Ie.value.toUpperCase().indexOf(Q.toUpperCase())!==-1};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(v.Z,{className:"form-input",form:l,scrollToFirstError:!0,onFinish:Ee,onReset:function(){l.resetFields(["fieldList"])},children:[(0,e.jsx)(v.Z.Item,{name:"dbName",label:"Database Name",children:(0,e.jsx)(he.Z,{placeholder:"Enter database name"})}),(0,e.jsx)(v.Z.Item,{name:"tableName",label:"Table Name",initialValue:"test_table",rules:[{required:!0,message:"Please enter the table name"}],children:(0,e.jsx)(he.Z,{placeholder:"Enter table name"})}),(0,e.jsx)(v.Z.Item,{name:"tableComment",label:"Table Comment",children:(0,e.jsx)(he.Z,{placeholder:"Enter table comment"})}),(0,e.jsx)(v.Z.Item,{label:"Generate Number",name:"mockNum",initialValue:20,rules:[{required:!0,message:"Please enter the generate number"}],children:(0,e.jsx)(lt.Z,{min:10,max:100})}),(0,e.jsx)(v.Z.List,{name:"fieldList",children:function(Q,Ie){var Ye=Ie.add,an=Ie.remove,ct=Ie.move;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ve.Z,{activeKey:re,onChange:function(X){we(X)},children:Q.map(function(A,X){return(0,e.jsx)(ve.Z.Panel,{header:(0,e.jsx)(v.Z.Item,{style:{maxWidth:320,marginBottom:0},label:"Field Name",requiredMark:"optional",name:[A.name,"fieldName"],rules:[{required:!0,message:"Please enter the field name"}],children:(0,e.jsx)(he.Z,{placeholder:"Enter field name"})}),extra:(0,e.jsxs)(C.Z,{className:"field-toolbar",children:[X>0&&(0,e.jsx)(s.Z,{type:"text",onClick:function(Ce){ct(X,X-1),Ce.stopPropagation()},children:(0,e.jsx)(kt.Z,{})}),X<Q.length-1&&(0,e.jsx)(s.Z,{type:"text",onClick:function(Ce){ct(X,X+1),Ce.stopPropagation()},children:(0,e.jsx)(_t.Z,{})}),(0,e.jsx)(s.Z,{type:"text",danger:!0,onClick:function(Ce){an(A.name),Ce.stopPropagation()},children:"Remove"})]}),children:(0,e.jsxs)(C.Z,{align:"baseline",wrap:!0,size:[24,0],children:[(0,e.jsx)(v.Z.Item,{label:"Field Type",name:[A.name,"fieldType"],rules:[{required:!0,message:"Please enter the field type"}],children:(0,e.jsx)(it.Z,{style:{width:120},placeholder:"Enter field type",options:Ne,filterOption:Y})}),(0,e.jsx)(v.Z.Item,{label:"Default Value",name:[A.name,"defaultValue"],children:(0,e.jsx)(he.Z,{placeholder:"Enter default value"})}),(0,e.jsx)(v.Z.Item,{label:"Comment",name:[A.name,"comment"],children:(0,e.jsx)(he.Z,{placeholder:"Enter comment"})}),(0,e.jsx)(v.Z.Item,{label:"onUpdate",name:[A.name,"onUpdate"],children:(0,e.jsx)(it.Z,{style:{width:180},placeholder:"Whether is onUpdate",options:ae,filterOption:Y})}),(0,e.jsx)(v.Z.Item,{label:"Not Null",name:[A.name,"notNull"],valuePropName:"checked",children:(0,e.jsx)(Ke.Z,{})}),(0,e.jsx)(v.Z.Item,{label:"IsPrimaryKey",name:[A.name,"primaryKey"],valuePropName:"checked",children:(0,e.jsx)(Ke.Z,{})}),(0,e.jsx)(v.Z.Item,{label:"AutoIncrement",name:[A.name,"autoIncrement"],valuePropName:"checked",children:(0,e.jsx)(Ke.Z,{})}),(0,e.jsx)(v.Z.Item,{label:"Mock Type",name:[A.name,"mockType"],initialValue:"Fixed",children:(0,e.jsx)(qe.Z,{style:{width:120},onChange:function(){l.setFieldValue(["fieldList",X,"mockParams"],"")},children:Me.fk.map(function(be){return(0,e.jsx)(ot,{value:be,children:be},be)})})}),(0,e.jsx)(v.Z.Item,{noStyle:!0,shouldUpdate:function(Ce,Oe){var ke,Xe;return((ke=Ce.fieldList[X])===null||ke===void 0?void 0:ke.mockType)!==((Xe=Oe.fieldList[X])===null||Xe===void 0?void 0:Xe.mockType)},children:function(Ce){var Oe=Ce.getFieldsValue().fieldList[X].mockType;return Oe==="Fixed"?(0,e.jsx)(v.Z.Item,{label:"Fixed Value",name:[A.name,"mockParams"],children:(0,e.jsx)(he.Z,{placeholder:"Please input fixed value"})}):Oe==="Random"?(0,e.jsx)(v.Z.Item,{label:"Random Rule",name:[A.name,"mockParams"],children:(0,e.jsx)(qe.Z,{style:{width:120},children:Me.wn.map(function(ke){return(0,e.jsx)(ot,{value:ke,children:ke},ke)})})}):Oe==="Rule"?(0,e.jsx)(v.Z.Item,{label:"Rule",name:[A.name,"mockParams"],rules:[{required:!0,message:"Please enter a regular expression"}],children:(0,e.jsx)(he.Z,{placeholder:"Enter regular expression"})}):Oe==="Increase"?(0,e.jsx)(v.Z.Item,{label:"Starting Value",name:[A.name,"mockParams"],rules:[{required:!0,message:"Please enter the starting value"}],children:(0,e.jsx)(lt.Z,{})}):(0,e.jsx)(e.Fragment,{})}})]},A.key)},A.key)})}),(0,e.jsx)(v.Z.Item,{children:(0,e.jsxs)(C.Z,{direction:"vertical",style:{width:"100%",marginTop:16},children:[(0,e.jsx)(s.Z,{type:"dashed",onClick:function(){return Ye(Me.lu)},block:!0,icon:(0,e.jsx)(st.Z,{}),children:"New Field"}),(0,e.jsx)(s.Z,{type:"dashed",onClick:function(){Me.ri.forEach(function(X){Ye(X)})},block:!0,icon:(0,e.jsx)(st.Z,{}),children:"New General Field"})]})}),(0,e.jsx)(Zt,{onImport:function(X){Ye(JSON.parse(X.content),We),Re(!1),h.ZP.success("Import successfully!")},visible:V,onClose:function(){return Re(!1)}})]})}}),(0,e.jsx)(v.Z.Item,{children:(0,e.jsxs)(C.Z,{size:"large",wrap:!0,children:[(0,e.jsx)(s.Z,{type:"primary",htmlType:"submit",children:"One-Click Generation"}),(0,e.jsx)(s.Z,{onClick:function(){var Q=l.getFieldsValue().fieldList;if(!Q||Q.length<1){h.ZP.error("Add at least 1 field");return}var Ie=l.getFieldsValue();ne({name:Ie.tableComment,content:JSON.stringify(Ie)}),I(!0)},children:"Save Table"}),(0,e.jsx)(s.Z,{onClick:function(){fe()(JSON.stringify(l.getFieldsValue())),h.ZP.success("Copied to clipboard")},children:"Copy Configuration"}),(0,e.jsx)(s.Z,{htmlType:"reset",children:"Reset"}),(0,e.jsx)(s.Z,{onClick:function(){var Q=l.getFieldsValue();ne({name:Q.tableComment,content:JSON.stringify(Q)}),F(!0)},children:"Validate SQL"})]})})]}),(0,e.jsx)(Ft,{modalVisible:G,initialValues:K,onSubmit:function(){return I(!1)},onCancel:function(){return I(!1)}}),(0,e.jsx)(Et,{modalVisible:J,initialValues:K,onSubmit:function(){return F(!1)},onCancel:function(){return F(!1)}}),(0,e.jsx)(vt,{modalVisible:m,initialValues:U,onSubmit:function(){return k(!1)},onCancel:function(){return k(!1)}})]})}),Lt=Mt,Rt=a(81493),Ot=function(n){var r=n.value,o=n.height,y=o===void 0?480:o,l=n.language,S=l===void 0?"sql":l,b=n.onChange,Z={selectOnLineNumbers:!0,fontSize:14,formatOnPaste:!0,automaticLayout:!0,minimap:{enabled:!1}};return(0,e.jsx)(Rt.ZP,{height:y,language:S,theme:"vs-dark",value:r,options:Z,onChange:b})},Le=Ot,Pe=a(99165),Dt=a(90631),Nt=a(60561),Vt=a(40225),At=function(n){var r=n.result,o=n.loading,y=o===void 0?!1:o,l=n.showCard,S=l===void 0?!0:l,b=function(){var g=_()(i()().mark(function c(){var m,k,u,L;return i()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(r){I.next=2;break}return I.abrupt("return");case 2:return I.prev=2,I.next=5,ge(r);case 5:m=I.sent,k=new Blob([m]),u=URL.createObjectURL(k),L=document.createElement("a"),L.download="".concat(r.tableSchema.tableName,"_table_data.xlsx"),L.href=u,L.click(),URL.revokeObjectURL(u),I.next=18;break;case 15:I.prev=15,I.t0=I.catch(2),h.ZP.error("Operation failed\uFF0C"+I.t0.message);case 18:case"end":return I.stop()}},c,null,[[2,15]])}));return function(){return g.apply(this,arguments)}}(),Z=function(c){return c!=null&&c.fieldList?c.fieldList.map(function(m){return{title:m.fieldName,dataIndex:m.fieldName,key:m.fieldName}}):[]},x=r?(0,e.jsx)(Nt.Z,{items:[{label:"SQL",key:"createSql",children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(C.Z,{children:(0,e.jsx)(s.Z,{icon:(0,e.jsx)(Pe.Z,{}),type:"primary",onClick:function(c){!r||(fe()("".concat(r.createSql,`

`).concat(r.insertSql)),c.stopPropagation(),h.ZP.success("Copied to clipboard"))},children:"Copy all"})}),(0,e.jsx)("div",{style:{marginTop:16}}),(0,e.jsxs)(ve.Z,{defaultActiveKey:["1","2"],children:[(0,e.jsx)(ve.Z.Panel,{header:"Create table statement",className:"code-collapse-panel",extra:(0,e.jsx)(s.Z,{size:"small",icon:(0,e.jsx)(Pe.Z,{}),onClick:function(c){fe()(r==null?void 0:r.createSql),c.stopPropagation(),h.ZP.success("Copied to clipboard")},children:"Copy"}),children:(0,e.jsx)(Le,{value:r.createSql,language:"sql"})},"1"),(0,e.jsx)(ve.Z.Panel,{header:"Insert statement",className:"code-collapse-panel",extra:(0,e.jsx)(s.Z,{size:"small",icon:(0,e.jsx)(Pe.Z,{}),onClick:function(c){fe()(r==null?void 0:r.insertSql),c.stopPropagation(),h.ZP.success("Copied to clipboard")},children:"Copy"}),children:(0,e.jsx)(Le,{value:r.insertSql,language:"sql"})},"2")]})]})},{label:"Mock Data",key:"mockData",children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(C.Z,{children:(0,e.jsx)(s.Z,{icon:(0,e.jsx)(Dt.Z,{}),type:"primary",onClick:function(){return b()},children:"Download Data Excel"})}),(0,e.jsx)("div",{style:{marginTop:16}}),(0,e.jsx)(Vt.Z,{bordered:!0,dataSource:r.dataList,columns:Z(r.tableSchema)})]})},{label:"JSON Data",key:"dataJson",children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(C.Z,{children:(0,e.jsx)(s.Z,{icon:(0,e.jsx)(Pe.Z,{}),type:"primary",onClick:function(c){fe()(r==null?void 0:r.dataJson),c.stopPropagation(),h.ZP.success("Copied to clipboard")},children:"Copy code"})}),(0,e.jsx)("div",{style:{marginTop:16}}),(0,e.jsx)(Le,{value:r.dataJson,language:"json"})]})},{label:"Java Code",key:"javaCode",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(ve.Z,{defaultActiveKey:["1","2"],children:[(0,e.jsx)(ve.Z.Panel,{header:"Entity code",className:"code-collapse-panel",extra:(0,e.jsx)(s.Z,{size:"small",icon:(0,e.jsx)(Pe.Z,{}),onClick:function(c){fe()(r==null?void 0:r.javaEntityCode),c.stopPropagation(),h.ZP.success("Copied to clipboard")},children:"Copy"}),children:(0,e.jsx)(Le,{value:r.javaEntityCode,language:"java"})},"1"),(0,e.jsx)(ve.Z.Panel,{header:"Java new entity object code",className:"code-collapse-panel",extra:(0,e.jsx)(s.Z,{size:"small",icon:(0,e.jsx)(Pe.Z,{}),onClick:function(c){fe()(r==null?void 0:r.javaObjectCode),c.stopPropagation(),h.ZP.success("Copied to clipboard")},children:"Copy"}),children:(0,e.jsx)(Le,{value:r.javaObjectCode,language:"java"})},"2")]})})},{label:"Frontend code",key:"frontendCode",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ve.Z,{defaultActiveKey:["1"],children:(0,e.jsx)(ve.Z.Panel,{header:"Typescript code",className:"code-collapse-panel",extra:(0,e.jsx)(s.Z,{size:"small",icon:(0,e.jsx)(Pe.Z,{}),onClick:function(c){fe()(r==null?void 0:r.typescriptTypeCode),c.stopPropagation(),h.ZP.success("Copied to clipboard")},children:"Copy"}),children:(0,e.jsx)(Le,{value:r.typescriptTypeCode,language:"typescript"})},"1")})})}]}):(0,e.jsx)(Ge.Z,{description:"Please enter the configuration first and click [One-Click Generation]"});return S?(0,e.jsx)($e.Z,{title:"Generate Result",loading:y,children:x}):x},Ut=At,$t=function(n){var r=n.dataList,o=n.pagination,y=n.loading,l=n.showTag,S=l===void 0?!0:l,b=n.onImport,Z=(0,t.useState)(!1),x=T()(Z,2),g=x[0],c=x[1],m=(0,t.useState)(0),k=T()(m,2),u=k[0],L=k[1],G=(0,R.useModel)("@@initialState"),I=G.initialState,M=I==null?void 0:I.loginUser,te=function(){var J=_()(i()().mark(function F(D){var N;return i()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(N=h.ZP.loading("\u6B63\u5728\u5220\u9664"),D){f.next=3;break}return f.abrupt("return",!0);case 3:return f.prev=3,f.next=6,(0,xe.U3)({id:D});case 6:h.ZP.success("\u64CD\u4F5C\u6210\u529F"),f.next=12;break;case 9:f.prev=9,f.t0=f.catch(3),h.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+f.t0.message);case 12:return f.prev=12,N(),f.finish(12);case 15:case"end":return f.stop()}},F,null,[[3,9,12,15]])}));return function(D){return J.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:"table-info-list",children:[(0,e.jsx)(Ue.ZP,{itemLayout:"vertical",size:"large",loading:y,pagination:o,dataSource:r,renderItem:function(F,D){var N,U=JSON.parse(F.content);return(0,e.jsxs)(Ue.ZP.Item,{extra:b&&(0,e.jsx)(s.Z,{onClick:function(){b(F)},children:"Import"}),children:[(0,e.jsxs)(de.Z,{title:(0,e.jsxs)(C.Z,{align:"center",children:[(0,e.jsx)("div",{children:F.name}),(0,e.jsxs)("div",{children:[S&&F.reviewStatus===1,F.userId===1]})]}),column:2,children:[(0,e.jsx)(de.Z.Item,{label:"Table name",children:U.tableName}),(0,e.jsx)(de.Z.Item,{label:"Table comment",children:(N=U.tableComment)!==null&&N!==void 0?N:"none"}),(0,e.jsx)(de.Z.Item,{label:"Field list",children:U.fieldList.map(function(f){return f.fieldName}).join(", ")})]}),(0,e.jsxs)(C.Z,{split:(0,e.jsx)(tt.Z,{type:"vertical"}),style:{fontSize:14},children:[(0,e.jsx)(ze.Z.Text,{type:"secondary",children:F.createTime.toString().split("T")[0]}),(0,e.jsx)(s.Z,{type:"text",onClick:function(){(0,xe.RY)(F.id).then(function(W){fe()(W.data),h.ZP.success("Copy create table SQL successfully!")}).catch(function(W){h.ZP.error("Copy failed\uFF0C"+W.message)})},children:"copy statement"}),(0,e.jsx)(nt.Z,{title:"Are you sure you want to delete\uFF1F",onConfirm:function(){te(F.id)},okText:"Yes",cancelText:"No",children:(0,e.jsx)(s.Z,{type:"text",danger:!0,children:"delete"})})]})]},D)}}),(0,e.jsx)(He,{visible:g,reportedId:u,onClose:function(){c(!1)}})]})},Bt=$t,ut=10,zt=function(n){var r=n.title,o=r===void 0?"Table info list":r,y=n.needLogin,l=y===void 0?!1:y,S=n.showTag,b=S===void 0?!0:S,Z=n.onLoad,x=n.onImport,g=(0,t.useState)([]),c=T()(g,2),m=c[0],k=c[1],u=(0,t.useState)(0),L=T()(u,2),G=L[0],I=L[1],M=(0,t.useState)(!0),te=T()(M,2),J=te[0],F=te[1],D={current:1,pageSize:ut,sortField:"createTime",sortOrder:"descend"},N=(0,t.useState)(D),U=T()(N,2),f=U[0],W=U[1],q=(0,R.useModel)("@@initialState"),K=q.initialState,ne=K==null?void 0:K.loginUser,Fe=function(){(0,xe.zr)(d()(d()({},f),{},{reviewStatus:1})).then(function(V){k(V.data.records),I(V.data.total)}).catch(function(V){h.ZP.error("Load error\uFF0C"+V.message)})};return(0,t.useEffect)(function(){l&&!ne||(F(!0),Z?Z(f,k,I):Fe(),F(!1))},[f]),(0,e.jsx)("div",{className:"table-info-card",children:(0,e.jsx)($e.Z,{title:o,extra:(0,e.jsx)(R.Link,{to:"/"}),children:!l||ne?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(C.Z,{children:(0,e.jsx)(he.Z.Search,{placeholder:"Enter table name",enterButton:"Search",onSearch:function(V){W(d()(d()({},D),{},{name:V}))}})}),(0,e.jsx)(Bt,{pagination:{total:G,onChange:function(V){W(d()(d()({},f),{},{current:V})),window.scrollTo({top:0})},pageSize:ut},showTag:b,dataList:m,loading:J,onImport:x})]}):(0,e.jsx)(Ge.Z,{description:(0,e.jsx)(R.Link,{to:"/user/login",children:(0,e.jsx)(s.Z,{type:"primary",ghost:!0,style:{marginTop:8},children:"\u8BF7\u5148\u767B\u5F55"})})})})})},Gt=zt,qt=function(n){var r=n.visible,o=n.onImport,y=n.onClose,l=(0,R.useModel)("@@initialState"),S=l.initialState,b=S==null?void 0:S.loginUser,Z=b?function(x,g,c){(0,xe.v4)(x).then(function(m){g(m.data.records),c(m.data.total)}).catch(function(m){h.ZP.error("Load error\uFF0C"+m.message)})}:void 0;return(0,e.jsx)(at.Z,{title:"Import Table",contentWrapperStyle:{width:"60%",minWidth:320},open:r,onClose:y,children:(0,e.jsx)(Gt,{onLoad:Z,onImport:o})})},Kt=qt,Jt=function(n){var r=n.visible,o=n.onSubmit,y=n.onClose,l=v.Z.useForm(),S=T()(l,1),b=S[0],Z=function(g){var c=JSON.parse(g.content);o==null||o(c)};return(0,e.jsx)(ee.Z,{title:"Import Configuration",open:r,footer:null,onCancel:y,children:(0,e.jsxs)(v.Z,{form:b,layout:"vertical",onFinish:Z,children:[(0,e.jsx)(v.Z.Item,{name:"content",label:(0,e.jsxs)(e.Fragment,{children:["Please enter table structure JSON\uFF1A",(0,e.jsx)(s.Z,{onClick:function(){return b.setFieldValue("content",JSON.stringify(Ve))},children:"Import example"})]}),rules:[{required:!0,message:"Please enter configuration"}],children:(0,e.jsx)(j.Z,{placeholder:"Please enter the configuration JSON",autoSize:{minRows:16}})}),(0,e.jsx)(v.Z.Item,{children:(0,e.jsxs)(C.Z,{size:"large",children:[(0,e.jsx)(s.Z,{type:"primary",htmlType:"submit",style:{width:120},children:"Import"}),(0,e.jsx)(s.Z,{htmlType:"reset",children:"Reset"})]})})]})})},Wt=Jt,Qt=function(n){var r=n.onSubmit,o=n.visible,y=n.onClose,l=v.Z.useForm(),S=T()(l,1),b=S[0],Z=function(){var x=_()(i()().mark(function g(c){var m;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(c.sql){u.next=2;break}return u.abrupt("return");case 2:return u.prev=2,u.next=5,B(c);case 5:m=u.sent,r==null||r(m.data),u.next=12;break;case 9:u.prev=9,u.t0=u.catch(2),h.ZP.error("Import error\uFF0C"+u.t0.message);case 12:case"end":return u.stop()}},g,null,[[2,9]])}));return function(c){return x.apply(this,arguments)}}();return(0,e.jsx)(ee.Z,{title:"Import Create Table SQL",open:o,footer:null,onCancel:y,children:(0,e.jsxs)(v.Z,{form:b,layout:"vertical",onFinish:Z,children:[(0,e.jsx)(v.Z.Item,{name:"sql",label:(0,e.jsxs)(e.Fragment,{children:["Please enter the create table SQL\uFF1A",(0,e.jsx)(s.Z,{onClick:function(){return b.setFieldValue("sql",ie)},children:"Import example"})]}),rules:[{required:!0,message:" Please enter the create table SQL"}],children:(0,e.jsx)(j.Z,{placeholder:"Please enter the create table SQL",autoSize:{minRows:16}})}),(0,e.jsx)(v.Z.Item,{children:(0,e.jsxs)(C.Z,{size:"large",children:[(0,e.jsx)(s.Z,{type:"primary",htmlType:"submit",style:{width:120},children:"Import"}),(0,e.jsx)(s.Z,{htmlType:"reset",children:"Reset"})]})})]})})},Yt=Qt,Xt=a(11324),Ht=a(71230),dt=a(15746),en=a(44057),tn=function(){var n=(0,t.useState)(),r=T()(n,2),o=r[0],y=r[1],l=(0,t.useState)(!1),S=T()(l,2),b=S[0],Z=S[1],x=(0,t.useState)(!1),g=T()(x,2),c=g[0],m=g[1],k=(0,t.useState)(!1),u=T()(k,2),L=u[0],G=u[1],I=(0,t.useState)(!1),M=T()(I,2),te=M[0],J=M[1],F=(0,t.useState)(!1),D=T()(F,2),N=D[0],U=D[1],f=(0,t.useRef)(),W=(0,t.useState)("half"),q=T()(W,2),K=q[0],ne=q[1],Fe=(0,R.useSearchParams)(),je=T()(Fe,1),V=je[0],Re=V.get("table_id"),Je=function(){var $=_()(i()().mark(function re(we){var Ee;return i()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return U(!0),ae.prev=1,ae.next=4,oe(we);case 4:Ee=ae.sent,y(Ee.data),h.ZP.success("Generated"),ae.next=12;break;case 9:ae.prev=9,ae.t0=ae.catch(1),h.ZP.error("Generate error\uFF0C"+ae.t0.message);case 12:U(!1);case 13:case"end":return ae.stop()}},re,null,[[1,9]])}));return function(we){return $.apply(this,arguments)}}(),Se=function(re){f.current.setFormValues(re),Z(!1),m(!1),G(!1),h.ZP.success("Import successfully!")};(0,t.useEffect)(function(){!Re||(0,xe.kP)(Number(Re)).then(function($){var re=JSON.parse($.data.content);Se(re)}).catch(function($){h.ZP.error("\u5BFC\u5165\u8868\u5931\u8D25\uFF0C"+$.message)})},[Re]);var We={name:"file",showUploadList:!1,customRequest:function(){var $=_()(i()().mark(function we(Ee){var Ne;return i()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(Ee){Y.next=2;break}return Y.abrupt("return");case 2:return Y.prev=2,Y.next=5,w(Ee.file);case 5:Ne=Y.sent,Se(Ne.data),Y.next=12;break;case 9:Y.prev=9,Y.t0=Y.catch(2),h.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+Y.t0.message);case 12:case"end":return Y.stop()}},we,null,[[2,9]])}));function re(we){return $.apply(this,arguments)}return re}()},rn=function(re){ne(re.target.value)},Qe=(0,e.jsxs)($e.Z,{title:"Input Configuration",children:[(0,e.jsxs)(C.Z,{size:"large",wrap:!0,children:[(0,e.jsx)(s.Z,{onClick:function(){return J(!0)},children:"Import Table"}),(0,e.jsx)(s.Z,{onClick:function(){return m(!0)},children:"Import Configuration"}),(0,e.jsx)(s.Z,{onClick:function(){return G(!0)},children:"Import Create Table SQL"}),(0,e.jsx)(Xt.Z,d()(d()({},We),{},{children:(0,e.jsx)(s.Z,{children:"Import Excel"})}))]}),(0,e.jsx)("div",{style:{marginTop:16}}),(0,e.jsx)(Lt,{ref:f,onSubmit:Je})]});return(0,e.jsxs)("div",{id:"indexPage",children:[(0,e.jsxs)(Ae._zJ,{children:[(0,e.jsxs)(Ht.Z,{gutter:[12,12],children:[(0,e.jsx)(dt.Z,{xs:24,xl:K==="half"?12:24,order:K==="output"?2:1,children:Qe}),(0,e.jsx)(dt.Z,{xs:24,xl:K==="half"?12:24,order:K==="output"?1:2,children:(0,e.jsx)(Ut,{result:o,loading:N})})]}),(0,e.jsx)(en.Z,{})]}),(0,e.jsx)(mt,{onSubmit:Se,visible:b,onClose:function(){return Z(!1)}}),(0,e.jsx)(Wt,{onSubmit:Se,visible:c,onClose:function(){return m(!1)}}),(0,e.jsx)(Yt,{onSubmit:Se,visible:L,onClose:function(){return G(!1)}}),(0,e.jsx)(Kt,{onImport:function(re){f.current.setFormValues(JSON.parse(re.content)),J(!1),h.ZP.success("Import successfully!")},visible:te,onClose:function(){return J(!1)}})]})},nn=tn},91154:function(_e,me,a){"use strict";a.d(me,{G9:function(){return Ze},Jn:function(){return Te},Lj:function(){return h},ap:function(){return O},lU:function(){return R},ti:function(){return ye}});var se=a(17061),d=a.n(se),ce=a(17156),i=a.n(ce),E=a(18036);function _(s){return H.apply(this,arguments)}function H(){return H=_asyncToGenerator(_regeneratorRuntime().mark(function s(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/field_info/list",{method:"GET",params:C}));case 1:case"end":return t.stop()}},s)})),H.apply(this,arguments)}function T(s){return le.apply(this,arguments)}function le(){return le=_asyncToGenerator(_regeneratorRuntime().mark(function s(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/field_info/my/list",{method:"GET",params:C}));case 1:case"end":return t.stop()}},s)})),le.apply(this,arguments)}function Ve(s){return ie.apply(this,arguments)}function ie(){return ie=_asyncToGenerator(_regeneratorRuntime().mark(function s(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/field_info/my/add/list/page",{method:"GET",params:C}));case 1:case"end":return t.stop()}},s)})),ie.apply(this,arguments)}function R(s){return oe.apply(this,arguments)}function oe(){return oe=i()(d()().mark(function s(C){return d()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,E.request)("/field_info/my/list/page",{method:"GET",params:C}));case 1:case"end":return t.stop()}},s)})),oe.apply(this,arguments)}function ye(s){return ue.apply(this,arguments)}function ue(){return ue=i()(d()().mark(function s(C){return d()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,E.request)("/field_info/list/page",{method:"GET",params:C}));case 1:case"end":return t.stop()}},s)})),ue.apply(this,arguments)}function O(s){return B.apply(this,arguments)}function B(){return B=i()(d()().mark(function s(C){return d()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,E.request)("/field_info/add",{method:"POST",headers:{"Content-Type":"application/json"},data:C}));case 1:case"end":return t.stop()}},s)})),B.apply(this,arguments)}function pe(s){return w.apply(this,arguments)}function w(){return w=_asyncToGenerator(_regeneratorRuntime().mark(function s(C){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/field_info/get",{method:"GET",params:{id:C}}));case 1:case"end":return t.stop()}},s)})),w.apply(this,arguments)}function Te(s){return ge.apply(this,arguments)}function ge(){return ge=i()(d()().mark(function s(C){return d()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,E.request)("/field_info/update",{method:"POST",headers:{"Content-Type":"application/json"},data:C}));case 1:case"end":return t.stop()}},s)})),ge.apply(this,arguments)}function Ze(s){return v.apply(this,arguments)}function v(){return v=i()(d()().mark(function s(C){return d()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,E.request)("/field_info/delete",{method:"POST",headers:{"Content-Type":"application/json"},data:C}));case 1:case"end":return t.stop()}},s)})),v.apply(this,arguments)}function h(s){return ee.apply(this,arguments)}function ee(){return ee=i()(d()().mark(function s(C){return d()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,E.request)("/field_info/generate/sql",{method:"POST",headers:{"Content-Type":"application/json"},data:C}));case 1:case"end":return t.stop()}},s)})),ee.apply(this,arguments)}},32966:function(_e,me,a){"use strict";a.d(me,{GR:function(){return ye},I3:function(){return _},Pt:function(){return R},cq:function(){return T}});var se=a(17061),d=a.n(se),ce=a(17156),i=a.n(ce),E=a(18036);function _(O){return H.apply(this,arguments)}function H(){return H=i()(d()().mark(function O(B){return d()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",(0,E.request)("/report/list/page",{method:"GET",params:B}));case 1:case"end":return w.stop()}},O)})),H.apply(this,arguments)}function T(O){return le.apply(this,arguments)}function le(){return le=i()(d()().mark(function O(B){return d()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",(0,E.request)("/report/add",{method:"POST",headers:{"Content-Type":"application/json"},data:B}));case 1:case"end":return w.stop()}},O)})),le.apply(this,arguments)}function Ve(O){return ie.apply(this,arguments)}function ie(){return ie=_asyncToGenerator(_regeneratorRuntime().mark(function O(B){return _regeneratorRuntime().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",request("/report/get",{method:"GET",params:{id:B}}));case 1:case"end":return w.stop()}},O)})),ie.apply(this,arguments)}function R(O){return oe.apply(this,arguments)}function oe(){return oe=i()(d()().mark(function O(B){return d()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",(0,E.request)("/report/update",{method:"POST",headers:{"Content-Type":"application/json"},data:B}));case 1:case"end":return w.stop()}},O)})),oe.apply(this,arguments)}function ye(O){return ue.apply(this,arguments)}function ue(){return ue=i()(d()().mark(function O(B){return d()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",(0,E.request)("/report/delete",{method:"POST",headers:{"Content-Type":"application/json"},data:B}));case 1:case"end":return w.stop()}},O)})),ue.apply(this,arguments)}},93351:function(_e,me,a){"use strict";a.d(me,{DU:function(){return pe},RY:function(){return s},U3:function(){return h},ee:function(){return O},fZ:function(){return Ze},kP:function(){return Te},v4:function(){return R},zr:function(){return ye}});var se=a(17061),d=a.n(se),ce=a(17156),i=a.n(ce),E=a(18036);function _(j){return H.apply(this,arguments)}function H(){return H=_asyncToGenerator(_regeneratorRuntime().mark(function j(t){return _regeneratorRuntime().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",request("/table_info/list",{method:"GET",params:t}));case 1:case"end":return p.stop()}},j)})),H.apply(this,arguments)}function T(j){return le.apply(this,arguments)}function le(){return le=_asyncToGenerator(_regeneratorRuntime().mark(function j(t){return _regeneratorRuntime().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",request("/table_info/my/list",{method:"GET",params:t}));case 1:case"end":return p.stop()}},j)})),le.apply(this,arguments)}function Ve(j){return ie.apply(this,arguments)}function ie(){return ie=_asyncToGenerator(_regeneratorRuntime().mark(function j(t){return _regeneratorRuntime().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",request("/table_info/my/add/list/page",{method:"GET",params:t}));case 1:case"end":return p.stop()}},j)})),ie.apply(this,arguments)}function R(j){return oe.apply(this,arguments)}function oe(){return oe=i()(d()().mark(function j(t){return d()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,E.request)("/table_info/my/list/page",{method:"GET",params:t}));case 1:case"end":return p.stop()}},j)})),oe.apply(this,arguments)}function ye(j){return ue.apply(this,arguments)}function ue(){return ue=i()(d()().mark(function j(t){return d()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,E.request)("/table_info/list/page",{method:"GET",params:t}));case 1:case"end":return p.stop()}},j)})),ue.apply(this,arguments)}function O(j){return B.apply(this,arguments)}function B(){return B=i()(d()().mark(function j(t){return d()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,E.request)("/table_info/add",{method:"POST",headers:{"Content-Type":"application/json"},data:t}));case 1:case"end":return p.stop()}},j)})),B.apply(this,arguments)}function pe(j){return w.apply(this,arguments)}function w(){return w=i()(d()().mark(function j(t){return d()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,E.request)("/table_info/validate",{method:"POST",headers:{"Content-Type":"application/json"},data:t}));case 1:case"end":return p.stop()}},j)})),w.apply(this,arguments)}function Te(j){return ge.apply(this,arguments)}function ge(){return ge=i()(d()().mark(function j(t){return d()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,E.request)("/table_info/get",{method:"GET",params:{id:t}}));case 1:case"end":return p.stop()}},j)})),ge.apply(this,arguments)}function Ze(j){return v.apply(this,arguments)}function v(){return v=i()(d()().mark(function j(t){return d()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,E.request)("/table_info/update",{method:"POST",headers:{"Content-Type":"application/json"},data:t}));case 1:case"end":return p.stop()}},j)})),v.apply(this,arguments)}function h(j){return ee.apply(this,arguments)}function ee(){return ee=i()(d()().mark(function j(t){return d()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,E.request)("/table_info/delete",{method:"POST",headers:{"Content-Type":"application/json"},data:t}));case 1:case"end":return p.stop()}},j)})),ee.apply(this,arguments)}function s(j){return C.apply(this,arguments)}function C(){return C=i()(d()().mark(function j(t){return d()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,E.request)("/table_info/generate/sql",{method:"POST",headers:{"Content-Type":"application/json"},data:t}));case 1:case"end":return p.stop()}},j)})),C.apply(this,arguments)}},46700:function(_e,me,a){var se={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":37930,"./se.js":37930,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function d(i){var E=ce(i);return a(E)}function ce(i){if(!a.o(se,i)){var E=new Error("Cannot find module '"+i+"'");throw E.code="MODULE_NOT_FOUND",E}return se[i]}d.keys=function(){return Object.keys(se)},d.resolve=ce,_e.exports=d,d.id=46700}}]);
